(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function lc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jg={exports:{}},oh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function rI(){if(QE)return oh;QE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:o}}return oh.Fragment=e,oh.jsx=t,oh.jsxs=t,oh}var YE;function sI(){return YE||(YE=1,Jg.exports=rI()),Jg.exports}var x=sI(),e_={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function aI(){if(WE)return Lt;WE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,O={};function D(M,K,Y){this.props=M,this.context=K,this.refs=O,this.updater=Y||C}D.prototype.isReactComponent={},D.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},D.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function j(){}j.prototype=D.prototype;function te(M,K,Y){this.props=M,this.context=K,this.refs=O,this.updater=Y||C}var W=te.prototype=new j;W.constructor=te,R(W,D.prototype),W.isPureReactComponent=!0;var ee=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function Z(M,K,Y,B,re,se){return Y=se.ref,{$$typeof:n,type:M,key:K,ref:Y!==void 0?Y:null,props:se}}function A(M,K){return Z(M.type,K,void 0,void 0,void 0,M.props)}function S(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function P(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Y){return K[Y]})}var V=/\/+/g;function H(M,K){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):K.toString(36)}function U(){}function ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(U,U):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ce(M,K,Y,B,re){var se=typeof M;(se==="undefined"||se==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(se){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case n:case e:pe=!0;break;case g:return pe=M._init,ce(pe(M._payload),K,Y,B,re)}}if(pe)return re=re(M),pe=B===""?"."+H(M,0):B,ee(re)?(Y="",pe!=null&&(Y=pe.replace(V,"$&/")+"/"),ce(re,K,Y,"",function(Ne){return Ne})):re!=null&&(S(re)&&(re=A(re,Y+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(V,"$&/")+"/")+pe)),K.push(re)),1;pe=0;var Me=B===""?".":B+":";if(ee(M))for(var Ae=0;Ae<M.length;Ae++)B=M[Ae],se=Me+H(B,Ae),pe+=ce(B,K,Y,se,re);else if(Ae=w(M),typeof Ae=="function")for(M=Ae.call(M),Ae=0;!(B=M.next()).done;)B=B.value,se=Me+H(B,Ae++),pe+=ce(B,K,Y,se,re);else if(se==="object"){if(typeof M.then=="function")return ce(ie(M),K,Y,B,re);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pe}function z(M,K,Y){if(M==null)return M;var B=[],re=0;return ce(M,B,"","",function(se){return K.call(Y,se,re++)}),B}function G(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(Y){(M._status===0||M._status===-1)&&(M._status=1,M._result=Y)},function(Y){(M._status===0||M._status===-1)&&(M._status=2,M._result=Y)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var ae=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Q(){}return Lt.Children={map:z,forEach:function(M,K,Y){z(M,function(){K.apply(this,arguments)},Y)},count:function(M){var K=0;return z(M,function(){K++}),K},toArray:function(M){return z(M,function(K){return K})||[]},only:function(M){if(!S(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Lt.Component=D,Lt.Fragment=t,Lt.Profiler=s,Lt.PureComponent=te,Lt.StrictMode=i,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ne.H.useMemoCache(M)}},Lt.cache=function(M){return function(){return M.apply(null,arguments)}},Lt.cloneElement=function(M,K,Y){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var B=R({},M.props),re=M.key,se=void 0;if(K!=null)for(pe in K.ref!==void 0&&(se=void 0),K.key!==void 0&&(re=""+K.key),K)!q.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(B[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)B.children=Y;else if(1<pe){for(var Me=Array(pe),Ae=0;Ae<pe;Ae++)Me[Ae]=arguments[Ae+2];B.children=Me}return Z(M.type,re,void 0,void 0,se,B)},Lt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Lt.createElement=function(M,K,Y){var B,re={},se=null;if(K!=null)for(B in K.key!==void 0&&(se=""+K.key),K)q.call(K,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(re[B]=K[B]);var pe=arguments.length-2;if(pe===1)re.children=Y;else if(1<pe){for(var Me=Array(pe),Ae=0;Ae<pe;Ae++)Me[Ae]=arguments[Ae+2];re.children=Me}if(M&&M.defaultProps)for(B in pe=M.defaultProps,pe)re[B]===void 0&&(re[B]=pe[B]);return Z(M,se,void 0,void 0,null,re)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(M){return{$$typeof:f,render:M}},Lt.isValidElement=S,Lt.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:G}},Lt.memo=function(M,K){return{$$typeof:m,type:M,compare:K===void 0?null:K}},Lt.startTransition=function(M){var K=ne.T,Y={};ne.T=Y;try{var B=M(),re=ne.S;re!==null&&re(Y,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Q,ae)}catch(se){ae(se)}finally{ne.T=K}},Lt.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Lt.use=function(M){return ne.H.use(M)},Lt.useActionState=function(M,K,Y){return ne.H.useActionState(M,K,Y)},Lt.useCallback=function(M,K){return ne.H.useCallback(M,K)},Lt.useContext=function(M){return ne.H.useContext(M)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(M,K){return ne.H.useDeferredValue(M,K)},Lt.useEffect=function(M,K,Y){var B=ne.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(M,K)},Lt.useId=function(){return ne.H.useId()},Lt.useImperativeHandle=function(M,K,Y){return ne.H.useImperativeHandle(M,K,Y)},Lt.useInsertionEffect=function(M,K){return ne.H.useInsertionEffect(M,K)},Lt.useLayoutEffect=function(M,K){return ne.H.useLayoutEffect(M,K)},Lt.useMemo=function(M,K){return ne.H.useMemo(M,K)},Lt.useOptimistic=function(M,K){return ne.H.useOptimistic(M,K)},Lt.useReducer=function(M,K,Y){return ne.H.useReducer(M,K,Y)},Lt.useRef=function(M){return ne.H.useRef(M)},Lt.useState=function(M){return ne.H.useState(M)},Lt.useSyncExternalStore=function(M,K,Y){return ne.H.useSyncExternalStore(M,K,Y)},Lt.useTransition=function(){return ne.H.useTransition()},Lt.version="19.1.0",Lt}var XE;function uc(){return XE||(XE=1,e_.exports=aI()),e_.exports}var he=uc();const mn=lc(he);var t_={exports:{}},lh={},n_={exports:{}},i_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function oI(){return JE||(JE=1,function(n){function e(z,G){var ae=z.length;z.push(G);e:for(;0<ae;){var Q=ae-1>>>1,M=z[Q];if(0<s(M,G))z[Q]=G,z[ae]=M,ae=Q;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var G=z[0],ae=z.pop();if(ae!==G){z[0]=ae;e:for(var Q=0,M=z.length,K=M>>>1;Q<K;){var Y=2*(Q+1)-1,B=z[Y],re=Y+1,se=z[re];if(0>s(B,ae))re<M&&0>s(se,B)?(z[Q]=se,z[re]=ae,Q=re):(z[Q]=B,z[Y]=ae,Q=Y);else if(re<M&&0>s(se,ae))z[Q]=se,z[re]=ae,Q=re;else break e}}return G}function s(z,G){var ae=z.sortIndex-G.sortIndex;return ae!==0?ae:z.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],g=1,E=null,w=3,C=!1,R=!1,O=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ee(z){for(var G=t(m);G!==null;){if(G.callback===null)i(m);else if(G.startTime<=z)i(m),G.sortIndex=G.expirationTime,e(p,G);else break;G=t(m)}}function ne(z){if(O=!1,ee(z),!R)if(t(p)!==null)R=!0,q||(q=!0,H());else{var G=t(m);G!==null&&ce(ne,G.startTime-z)}}var q=!1,Z=-1,A=5,S=-1;function P(){return D?!0:!(n.unstable_now()-S<A)}function V(){if(D=!1,q){var z=n.unstable_now();S=z;var G=!0;try{e:{R=!1,O&&(O=!1,te(Z),Z=-1),C=!0;var ae=w;try{t:{for(ee(z),E=t(p);E!==null&&!(E.expirationTime>z&&P());){var Q=E.callback;if(typeof Q=="function"){E.callback=null,w=E.priorityLevel;var M=Q(E.expirationTime<=z);if(z=n.unstable_now(),typeof M=="function"){E.callback=M,ee(z),G=!0;break t}E===t(p)&&i(p),ee(z)}else i(p);E=t(p)}if(E!==null)G=!0;else{var K=t(m);K!==null&&ce(ne,K.startTime-z),G=!1}}break e}finally{E=null,w=ae,C=!1}G=void 0}}finally{G?H():q=!1}}}var H;if(typeof W=="function")H=function(){W(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ie=U.port2;U.port1.onmessage=V,H=function(){ie.postMessage(null)}}else H=function(){j(V,0)};function ce(z,G){Z=j(function(){z(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(z){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var ae=w;w=G;try{return z()}finally{w=ae}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ae=w;w=z;try{return G()}finally{w=ae}},n.unstable_scheduleCallback=function(z,G,ae){var Q=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Q+ae:Q):ae=Q,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ae+M,z={id:g++,callback:G,priorityLevel:z,startTime:ae,expirationTime:M,sortIndex:-1},ae>Q?(z.sortIndex=ae,e(m,z),t(p)===null&&z===t(m)&&(O?(te(Z),Z=-1):O=!0,ce(ne,ae-Q))):(z.sortIndex=M,e(p,z),R||C||(R=!0,q||(q=!0,H()))),z},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(z){var G=w;return function(){var ae=w;w=G;try{return z.apply(this,arguments)}finally{w=ae}}}}(i_)),i_}var ew;function lI(){return ew||(ew=1,n_.exports=oI()),n_.exports}var r_={exports:{}},Qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function uI(){if(tw)return Qi;tw=1;var n=uc();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(p,m,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:p,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qi.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(p,m,null,g)},Qi.flushSync=function(p){var m=c.T,g=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=g,i.d.f()}},Qi.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Qi.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Qi.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,E=f(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:C}):g==="script"&&i.d.X(p,{crossOrigin:E,integrity:w,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qi.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Qi.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,E=f(g,m.crossOrigin);i.d.L(p,g,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qi.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=f(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Qi.requestFormReset=function(p){i.d.r(p)},Qi.unstable_batchedUpdates=function(p,m){return p(m)},Qi.useFormState=function(p,m,g){return c.H.useFormState(p,m,g)},Qi.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qi.version="19.1.0",Qi}var nw;function Dv(){if(nw)return r_.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),r_.exports=uI(),r_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function cI(){if(iw)return lh;iw=1;var n=lI(),e=uc(),t=Dv();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,d=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),r;if(b===d)return f(y),a;b=b.sibling}throw Error(i(188))}if(u.return!==d.return)u=y,d=b;else{for(var F=!1,X=y.child;X;){if(X===u){F=!0,u=y,d=b;break}if(X===d){F=!0,d=y,u=b;break}X=X.sibling}if(!F){for(X=b.child;X;){if(X===u){F=!0,u=b,d=y;break}if(X===d){F=!0,d=b,u=y;break}X=X.sibling}if(!F)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var g=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var U=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===U?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case ne:return"Suspense";case q:return"SuspenseList";case S:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case W:return(r.displayName||"Context")+".Provider";case te:return(r._context.displayName||"Context")+".Consumer";case ee:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Z:return a=r.displayName||null,a!==null?a:ie(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return ie(r(a))}catch{}}return null}var ce=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Q=[],M=-1;function K(r){return{current:r}}function Y(r){0>M||(r.current=Q[M],Q[M]=null,M--)}function B(r,a){M++,Q[M]=r.current,r.current=a}var re=K(null),se=K(null),pe=K(null),Me=K(null);function Ae(r,a){switch(B(pe,a),B(se,r),B(re,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?TE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=TE(a),r=AE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Y(re),B(re,r)}function Ne(){Y(re),Y(se),Y(pe)}function je(r){r.memoizedState!==null&&B(Me,r);var a=re.current,u=AE(a,r.type);a!==u&&(B(se,r),B(re,u))}function Ue(r){se.current===r&&(Y(re),Y(se)),Me.current===r&&(Y(Me),nh._currentValue=ae)}var Ke=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,de=n.unstable_cancelCallback,Ie=n.unstable_shouldYield,xe=n.unstable_requestPaint,ze=n.unstable_now,He=n.unstable_getCurrentPriorityLevel,Qe=n.unstable_ImmediatePriority,at=n.unstable_UserBlockingPriority,At=n.unstable_NormalPriority,pt=n.unstable_LowPriority,Et=n.unstable_IdlePriority,lt=n.log,en=n.unstable_setDisableYieldValue,rt=null,st=null;function xt(r){if(typeof lt=="function"&&en(r),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(rt,r)}catch{}}var sn=Math.clz32?Math.clz32:Qt,wn=Math.log,an=Math.LN2;function Qt(r){return r>>>=0,r===0?32:31-(wn(r)/an|0)|0}var _n=256,bn=4194304;function Ln(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function rr(r,a,u){var d=r.pendingLanes;if(d===0)return 0;var y=0,b=r.suspendedLanes,F=r.pingedLanes;r=r.warmLanes;var X=d&134217727;return X!==0?(d=X&~b,d!==0?y=Ln(d):(F&=X,F!==0?y=Ln(F):u||(u=X&~r,u!==0&&(y=Ln(u))))):(X=d&~b,X!==0?y=Ln(X):F!==0?y=Ln(F):u||(u=d&~r,u!==0&&(y=Ln(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function si(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function gr(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(){var r=_n;return _n<<=1,(_n&4194048)===0&&(_n=256),r}function Hi(){var r=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),r}function Pi(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function jn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function di(r,a,u,d,y,b){var F=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var X=r.entanglements,le=r.expirationTimes,we=r.hiddenUpdates;for(u=F&~u;0<u;){var Oe=31-sn(u),Ve=1<<Oe;X[Oe]=0,le[Oe]=-1;var be=we[Oe];if(be!==null)for(we[Oe]=null,Oe=0;Oe<be.length;Oe++){var Te=be[Oe];Te!==null&&(Te.lane&=-536870913)}u&=~Ve}d!==0&&Vn(r,d,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(F&~a))}function Vn(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-sn(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194090}function Ei(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var d=31-sn(u),y=1<<d;y&a|r[d]&a&&(r[d]|=a),u&=~y}}function sr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ue(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:HE(r.type))}function ge(r,a){var u=G.p;try{return G.p=r,a()}finally{G.p=u}}var Ee=Math.random().toString(36).slice(2),Le="__reactFiber$"+Ee,Ge="__reactProps$"+Ee,We="__reactContainer$"+Ee,nt="__reactEvents$"+Ee,ke="__reactListeners$"+Ee,et="__reactHandles$"+Ee,Je="__reactResources$"+Ee,mt="__reactMarker$"+Ee;function ht(r){delete r[Le],delete r[Ge],delete r[nt],delete r[ke],delete r[et]}function _t(r){var a=r[Le];if(a)return a;for(var u=r.parentNode;u;){if(a=u[We]||u[Le]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=xE(r);r!==null;){if(u=r[Le])return u;r=xE(r)}return a}r=u,u=r.parentNode}return null}function Vt(r){if(r=r[Le]||r[We]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ht(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function tn(r){var a=r[Je];return a||(a=r[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qt(r){r[mt]=!0}var Ut=new Set,vr={};function Wn(r,a){bi(r,a),bi(r+"Capture",a)}function bi(r,a){for(vr[r]=a,r=0;r<a.length;r++)Ut.add(a[r])}var pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ar={},or={};function Vs(r){return Ke.call(or,r)?!0:Ke.call(ar,r)?!1:pi.test(r)?or[r]=!0:(ar[r]=!0,!1)}function Ti(r,a,u){if(Vs(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function Mi(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function St(r,a,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+d)}}var Un,mi;function Di(r){if(Un===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Un=a&&a[1]||"",mi=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+r+mi}var Pr=!1;function cn(r,a){if(!r||Pr)return"";Pr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Te){var be=Te}Reflect.construct(r,[],Ve)}else{try{Ve.call()}catch(Te){be=Te}r.call(Ve.prototype)}}else{try{throw Error()}catch(Te){be=Te}(Ve=r())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Te){if(Te&&be&&typeof Te.stack=="string")return[Te.stack,be.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),F=b[0],X=b[1];if(F&&X){var le=F.split(`
`),we=X.split(`
`);for(y=d=0;d<le.length&&!le[d].includes("DetermineComponentFrameRoot");)d++;for(;y<we.length&&!we[y].includes("DetermineComponentFrameRoot");)y++;if(d===le.length||y===we.length)for(d=le.length-1,y=we.length-1;1<=d&&0<=y&&le[d]!==we[y];)y--;for(;1<=d&&0<=y;d--,y--)if(le[d]!==we[y]){if(d!==1||y!==1)do if(d--,y--,0>y||le[d]!==we[y]){var Oe=`
`+le[d].replace(" at new "," at ");return r.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",r.displayName)),Oe}while(1<=d&&0<=y);break}}}finally{Pr=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Di(u):""}function Ot(r){switch(r.tag){case 26:case 27:case 5:return Di(r.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return cn(r.type,!1);case 11:return cn(r.type.render,!1);case 1:return cn(r.type,!0);case 31:return Di("Activity");default:return""}}function hn(r){try{var a="";do a+=Ot(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Gn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ts(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Us(r){var a=ts(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(F){d=""+F,b.call(this,F)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(F){d=""+F},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Bs(r){r._valueTracker||(r._valueTracker=Us(r))}function It(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return r&&(d=ts(r)?r.checked?"true":"false":r.value),r=d,r!==u?(a.setValue(r),!0):!1}function vn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ul=/[\n"\\]/g;function Nn(r){return r.replace(ul,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function kn(r,a,u,d,y,b,F,X){r.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?r.type=F:r.removeAttribute("type"),a!=null?F==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Gn(a)):r.value!==""+Gn(a)&&(r.value=""+Gn(a)):F!=="submit"&&F!=="reset"||r.removeAttribute("value"),a!=null?Mr(r,F,Gn(a)):u!=null?Mr(r,F,Gn(u)):d!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?r.name=""+Gn(X):r.removeAttribute("name")}function fa(r,a,u,d,y,b,F,X){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+Gn(u):"",a=a!=null?""+Gn(a):u,X||a===r.value||(r.value=a),r.defaultValue=a}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=X?r.checked:!!d,r.defaultChecked=!!d,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(r.name=F)}function Mr(r,a,u){a==="number"&&vn(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Ni(r,a,u,d){if(r=r.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=a.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&d&&(r[u].defaultSelected=!0)}else{for(u=""+Gn(u),a=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function wt(r,a,u){if(a!=null&&(a=""+Gn(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+Gn(u):""}function lr(r,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(i(92));if(ce(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=Gn(a),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function Ai(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ga(r,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,u):typeof u!="number"||u===0||Dr.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function vs(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var y in a)d=a[y],a.hasOwnProperty(y)&&u[y]!==d&&Ga(r,y,d)}else for(var b in a)a.hasOwnProperty(b)&&Ga(r,b,a[b])}function da(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Za=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(r){return Za.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Nr=null;function Li(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ns=null,Lr=null;function hl(r){var a=Vt(r);if(a&&(r=a.stateNode)){var u=r[Ge]||null;e:switch(r=a.stateNode,a.type){case"input":if(kn(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==r&&d.form===r.form){var y=d[Ge]||null;if(!y)throw Error(i(90));kn(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===r.form&&It(d)}break e;case"textarea":wt(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ni(r,!!u.multiple,a,!1)}}}var gt=!1;function ur(r,a,u){if(gt)return r(a,u);gt=!0;try{var d=r(a);return d}finally{if(gt=!1,(ns!==null||Lr!==null)&&(Xf(),ns&&(a=ns,r=Lr,Lr=ns=null,hl(a),r)))for(a=0;a<r.length;a++)hl(r[a])}}function on(r,a){var u=r.stateNode;if(u===null)return null;var d=u[Ge]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qi=!1;if(yr)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){qi=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{qi=!1}var Er=null,Gi=null,Vr=null;function Es(){if(Vr)return Vr;var r,a=Gi,u=a.length,d,y="value"in Er?Er.value:Er.textContent,b=y.length;for(r=0;r<u&&a[r]===y[r];r++);var F=u-r;for(d=1;d<=F&&a[u-d]===y[b-d];d++);return Vr=y.slice(r,1<d?1-d:void 0)}function Tn(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Si(){return!0}function Ka(){return!1}function Xn(r){function a(u,d,y,b,F){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=F,this.currentTarget=null;for(var X in r)r.hasOwnProperty(X)&&(u=r[X],this[X]=u?u(b):b[X]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Si:Ka,this.isPropagationStopped=Ka,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),a}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Xn(fn),ws=g({},fn,{view:0,detail:0}),ru=Xn(ws),ma,Nt,is,gi=g({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==is&&(is&&r.type==="mousemove"?(ma=r.screenX-is.screenX,Nt=r.screenY-is.screenY):Nt=ma=0,is=r),ma)},movementY:function(r){return"movementY"in r?r.movementY:Nt}}),Ci=Xn(gi),fl=g({},gi,{dataTransfer:0}),yc=Xn(fl),bs=g({},ws,{relatedTarget:0}),$a=Xn(bs),Qa=g({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Xn(Qa),su=g({},fn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),js=Xn(su),Ec=g({},fn,{data:0}),Zi=Xn(Ec),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wa(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ur[r])?!!a[r]:!1}function zs(){return Wa}var Xa=g({},ws,{key:function(r){if(r.key){var a=ga[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Tn(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?dl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(r){return r.type==="keypress"?Tn(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Tn(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ja=Xn(Xa),pl=g({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=Xn(pl),Ts=g({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),au=Xn(Ts),to=g({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=Xn(to),ml=g({},gi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=Xn(ml),ai=g({},fn,{newState:0,oldState:0}),rs=Xn(ai),lu=[9,13,27,32],Ki=yr&&"CompositionEvent"in window,_=null;yr&&"documentMode"in document&&(_=document.documentMode);var I=yr&&"TextEvent"in window&&!_,N=yr&&(!Ki||_&&8<_&&11>=_),J=" ",_e=!1;function Ce(r,a){switch(r){case"keyup":return lu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ze(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yt=!1;function Zn(r,a){switch(r){case"compositionend":return Ze(a);case"keypress":return a.which!==32?null:(_e=!0,J);case"textInput":return r=a.data,r===J&&_e?null:r;default:return null}}function Wt(r,a){if(Yt)return r==="compositionend"||!Ki&&Ce(r,a)?(r=Es(),Vr=Gi=Er=null,Yt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return N&&a.locale!=="ko"?null:a.data;default:return null}}var pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!pn[r.type]:a==="textarea"}function As(r,a,u,d){ns?Lr?Lr.push(d):Lr=[d]:ns=d,a=rd(a,"onChange"),0<a.length&&(u=new pa("onChange","change",null,u,d),r.push({event:u,listeners:a}))}var xn=null,ss=null;function as(r){vE(r,0)}function uu(r){var a=Ht(r);if(It(a))return r}function no(r,a){if(r==="change")return a}var wc=!1;if(yr){var io;if(yr){var bc="oninput"in document;if(!bc){var Ss=document.createElement("div");Ss.setAttribute("oninput","return;"),bc=typeof Ss.oninput=="function"}io=bc}else io=!1;wc=io&&(!document.documentMode||9<document.documentMode)}function gl(){xn&&(xn.detachEvent("onpropertychange",_f),ss=xn=null)}function _f(r){if(r.propertyName==="value"&&uu(ss)){var a=[];As(a,ss,r,Li(r)),ur(as,a)}}function Tc(r,a,u){r==="focusin"?(gl(),xn=a,ss=u,xn.attachEvent("onpropertychange",_f)):r==="focusout"&&gl()}function Tm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uu(ss)}function Cs(r,a){if(r==="click")return uu(a)}function Am(r,a){if(r==="input"||r==="change")return uu(a)}function ro(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var cr=typeof Object.is=="function"?Object.is:ro;function hr(r,a){if(cr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Ke.call(a,y)||!cr(r[y],a[y]))return!1}return!0}function _l(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ac(r,a){var u=_l(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=a&&d>=a)return{node:u,offset:a-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_l(u)}}function cu(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?cu(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function vl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=vn(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=vn(r.document)}return a}function yl(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var hu=yr&&"documentMode"in document&&11>=document.documentMode,Br=null,so=null,va=null,fu=!1;function vf(r,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fu||Br==null||Br!==vn(d)||(d=Br,"selectionStart"in d&&yl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),va&&hr(va,d)||(va=d,d=rd(so,"onSelect"),0<d.length&&(a=new pa("onSelect","select",null,a,u),r.push({event:a,listeners:d}),a.target=Br)))}function os(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var ao={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},du={},yf={};yr&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Hs(r){if(du[r])return du[r];if(!ao[r])return r;var a=ao[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in yf)return du[r]=a[u];return r}var Ef=Hs("animationend"),Fr=Hs("animationiteration"),El=Hs("animationstart"),Sm=Hs("transitionrun"),pu=Hs("transitionstart"),Cm=Hs("transitioncancel"),Sc=Hs("transitionend"),wf=new Map,ya="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ya.push("scrollEnd");function jr(r,a){wf.set(r,a),Wn(a,[r])}var Ea=new WeakMap;function fr(r,a){if(typeof r=="object"&&r!==null){var u=Ea.get(r);return u!==void 0?u:(a={value:r,source:a,stack:hn(a)},Ea.set(r,a),a)}return{value:r,source:a,stack:hn(a)}}var dr=[],oo=0,zr=0;function wl(){for(var r=oo,a=zr=oo=0;a<r;){var u=dr[a];dr[a++]=null;var d=dr[a];dr[a++]=null;var y=dr[a];dr[a++]=null;var b=dr[a];if(dr[a++]=null,d!==null&&y!==null){var F=d.pending;F===null?y.next=y:(y.next=F.next,F.next=y),d.pending=y}b!==0&&Tl(u,y,b)}}function bl(r,a,u,d){dr[oo++]=r,dr[oo++]=a,dr[oo++]=u,dr[oo++]=d,zr|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function wa(r,a,u,d){return bl(r,a,u,d),qs(r)}function lo(r,a){return bl(r,null,null,a),qs(r)}function Tl(r,a,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=r.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&a!==null&&(y=31-sn(u),r=b.hiddenUpdates,d=r[y],d===null?r[y]=[a]:d.push(a),a.lane=u|536870912),b):null}function qs(r){if(50<$c)throw $c=0,Tg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var ba={};function bf(r,a,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,a,u,d){return new bf(r,a,u,d)}function mu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ls(r,a){var u=r.alternate;return u===null?(u=pr(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Cc(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Al(r,a,u,d,y,b){var F=0;if(d=r,typeof r=="function")mu(r)&&(F=1);else if(typeof r=="string")F=Gx(r,u,re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case S:return r=pr(31,u,a,y),r.elementType=S,r.lanes=b,r;case R:return Gs(u.children,y,b,a);case O:F=8,y|=24;break;case D:return r=pr(12,u,a,y|2),r.elementType=D,r.lanes=b,r;case ne:return r=pr(13,u,a,y),r.elementType=ne,r.lanes=b,r;case q:return r=pr(19,u,a,y),r.elementType=q,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case W:F=10;break e;case te:F=9;break e;case ee:F=11;break e;case Z:F=14;break e;case A:F=16,d=null;break e}F=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=pr(F,u,a,y),a.elementType=r,a.type=d,a.lanes=b,a}function Gs(r,a,u,d){return r=pr(7,r,d,a),r.lanes=u,r}function Rc(r,a,u){return r=pr(6,r,null,a),r.lanes=u,r}function gu(r,a,u){return a=pr(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Ta=[],uo=0,l=null,h=0,v=[],T=0,k=null,$=1,oe="";function ve(r,a){Ta[uo++]=h,Ta[uo++]=l,l=r,h=a}function Se(r,a,u){v[T++]=$,v[T++]=oe,v[T++]=k,k=r;var d=$;r=oe;var y=32-sn(d)-1;d&=~(1<<y),u+=1;var b=32-sn(a)+y;if(30<b){var F=y-y%5;b=(d&(1<<F)-1).toString(32),d>>=F,y-=F,$=1<<32-sn(a)+y|u<<y|d,oe=b+r}else $=1<<b|u<<y|d,oe=r}function Fe(r){r.return!==null&&(ve(r,1),Se(r,1,0))}function Ye(r){for(;r===l;)l=Ta[--uo],Ta[uo]=null,h=Ta[--uo],Ta[uo]=null;for(;r===k;)k=v[--T],v[T]=null,oe=v[--T],v[T]=null,$=v[--T],v[T]=null}var tt=null,ot=null,Rt=!1,Pn=null,zn=!1,Ri=Error(i(519));function wr(r){var a=Error(i(418,""));throw ho(fr(a,r)),Ri}function Tf(r){var a=r.stateNode,u=r.type,d=r.memoizedProps;switch(a[Le]=r,a[Ge]=d,u){case"dialog":Zt("cancel",a),Zt("close",a);break;case"iframe":case"object":case"embed":Zt("load",a);break;case"video":case"audio":for(u=0;u<Yc.length;u++)Zt(Yc[u],a);break;case"source":Zt("error",a);break;case"img":case"image":case"link":Zt("error",a),Zt("load",a);break;case"details":Zt("toggle",a);break;case"input":Zt("invalid",a),fa(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Bs(a);break;case"select":Zt("invalid",a);break;case"textarea":Zt("invalid",a),lr(a,d.value,d.defaultValue,d.children),Bs(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||bE(a.textContent,u)?(d.popover!=null&&(Zt("beforetoggle",a),Zt("toggle",a)),d.onScroll!=null&&Zt("scroll",a),d.onScrollEnd!=null&&Zt("scrollend",a),d.onClick!=null&&(a.onclick=sd),a=!0):a=!1,a||wr(r)}function Af(r){for(tt=r.return;tt;)switch(tt.tag){case 5:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:tt=tt.return}}function Sl(r){if(r!==tt)return!1;if(!Rt)return Af(r),Rt=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Bg(r.type,r.memoizedProps)),u=!u),u&&ot&&wr(r),Af(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){ot=ks(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}ot=null}}else a===27?(a=ot,Ro(r.type)?(r=Hg,Hg=null,ot=r):ot=a):ot=tt?ks(r.stateNode.nextSibling):null;return!0}function co(){ot=tt=null,Rt=!1}function Sf(){var r=Pn;return r!==null&&(Ar===null?Ar=r:Ar.push.apply(Ar,r),Pn=null),r}function ho(r){Pn===null?Pn=[r]:Pn.push(r)}var Bn=K(null),us=null,Rs=null;function Zs(r,a,u){B(Bn,a._currentValue),a._currentValue=u}function xs(r){r._currentValue=Bn.current,Y(Bn)}function Cl(r,a,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===u)break;r=r.return}}function _u(r,a,u,d){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var F=y.child;b=b.firstContext;e:for(;b!==null;){var X=b;b=y;for(var le=0;le<a.length;le++)if(X.context===a[le]){b.lanes|=u,X=b.alternate,X!==null&&(X.lanes|=u),Cl(b.return,u,r),d||(F=null);break e}b=X.next}}else if(y.tag===18){if(F=y.return,F===null)throw Error(i(341));F.lanes|=u,b=F.alternate,b!==null&&(b.lanes|=u),Cl(F,u,r),F=null}else F=y.child;if(F!==null)F.return=y;else for(F=y;F!==null;){if(F===r){F=null;break}if(y=F.sibling,y!==null){y.return=F.return,F=y;break}F=F.return}y=F}}function Rl(r,a,u,d){r=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var F=y.alternate;if(F===null)throw Error(i(387));if(F=F.memoizedProps,F!==null){var X=y.type;cr(y.pendingProps.value,F.value)||(r!==null?r.push(X):r=[X])}}else if(y===Me.current){if(F=y.alternate,F===null)throw Error(i(387));F.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(nh):r=[nh])}y=y.return}r!==null&&_u(a,r,u,d),a.flags|=262144}function Cf(r){for(r=r.firstContext;r!==null;){if(!cr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xl(r){us=r,Rs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function $i(r){return l0(us,r)}function Rf(r,a){return us===null&&xl(r),l0(r,a)}function l0(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Rs===null){if(r===null)throw Error(i(308));Rs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Rs=Rs.next=a;return u}var qR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},GR=n.unstable_scheduleCallback,ZR=n.unstable_NormalPriority,_i={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new qR,data:new Map,refCount:0}}function xc(r){r.refCount--,r.refCount===0&&GR(ZR,function(){r.controller.abort()})}var Ic=null,xm=0,vu=0,yu=null;function KR(r,a){if(Ic===null){var u=Ic=[];xm=0,vu=kg(),yu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return xm++,a.then(u0,u0),a}function u0(){if(--xm===0&&Ic!==null){yu!==null&&(yu.status="fulfilled");var r=Ic;Ic=null,vu=0,yu=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function $R(r,a){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var c0=z.S;z.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&KR(r,a),c0!==null&&c0(r,a)};var Il=K(null);function Im(){var r=Il.current;return r!==null?r:Mn.pooledCache}function xf(r,a){a===null?B(Il,Il.current):B(Il,a.pool)}function h0(){var r=Im();return r===null?null:{parent:_i._currentValue,pool:r}}var kc=Error(i(460)),f0=Error(i(474)),If=Error(i(542)),km={then:function(){}};function d0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function kf(){}function p0(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(kf,kf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,g0(r),r;default:if(typeof a.status=="string")a.then(kf,kf);else{if(r=Mn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=d}},function(d){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,g0(r),r}throw Oc=a,kc}}var Oc=null;function m0(){if(Oc===null)throw Error(i(459));var r=Oc;return Oc=null,r}function g0(r){if(r===kc||r===If)throw Error(i(483))}var fo=!1;function Om(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function po(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function mo(r,a,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(yn&2)!==0){var y=d.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),d.pending=a,a=qs(r),Tl(r,null,u),a}return bl(r,d,a,u),qs(r)}function Pc(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,Ei(r,u)}}function Mm(r,a){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var F={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=F:b=b.next=F,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var Dm=!1;function Mc(){if(Dm){var r=yu;if(r!==null)throw r}}function Dc(r,a,u,d){Dm=!1;var y=r.updateQueue;fo=!1;var b=y.firstBaseUpdate,F=y.lastBaseUpdate,X=y.shared.pending;if(X!==null){y.shared.pending=null;var le=X,we=le.next;le.next=null,F===null?b=we:F.next=we,F=le;var Oe=r.alternate;Oe!==null&&(Oe=Oe.updateQueue,X=Oe.lastBaseUpdate,X!==F&&(X===null?Oe.firstBaseUpdate=we:X.next=we,Oe.lastBaseUpdate=le))}if(b!==null){var Ve=y.baseState;F=0,Oe=we=le=null,X=b;do{var be=X.lane&-536870913,Te=be!==X.lane;if(Te?(ln&be)===be:(d&be)===be){be!==0&&be===vu&&(Dm=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Ct=r,vt=X;be=a;var Cn=u;switch(vt.tag){case 1:if(Ct=vt.payload,typeof Ct=="function"){Ve=Ct.call(Cn,Ve,be);break e}Ve=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=vt.payload,be=typeof Ct=="function"?Ct.call(Cn,Ve,be):Ct,be==null)break e;Ve=g({},Ve,be);break e;case 2:fo=!0}}be=X.callback,be!==null&&(r.flags|=64,Te&&(r.flags|=8192),Te=y.callbacks,Te===null?y.callbacks=[be]:Te.push(be))}else Te={lane:be,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Oe===null?(we=Oe=Te,le=Ve):Oe=Oe.next=Te,F|=be;if(X=X.next,X===null){if(X=y.shared.pending,X===null)break;Te=X,X=Te.next,Te.next=null,y.lastBaseUpdate=Te,y.shared.pending=null}}while(!0);Oe===null&&(le=Ve),y.baseState=le,y.firstBaseUpdate=we,y.lastBaseUpdate=Oe,b===null&&(y.shared.lanes=0),To|=F,r.lanes=F,r.memoizedState=Ve}}function _0(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function v0(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)_0(u[r],a)}var Eu=K(null),Of=K(0);function y0(r,a){r=ka,B(Of,r),B(Eu,a),ka=r|a.baseLanes}function Nm(){B(Of,ka),B(Eu,Eu.current)}function Lm(){ka=Of.current,Y(Eu),Y(Of)}var go=0,Ft=null,An=null,oi=null,Pf=!1,wu=!1,kl=!1,Mf=0,Nc=0,bu=null,QR=0;function Jn(){throw Error(i(321))}function Vm(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!cr(r[u],a[u]))return!1;return!0}function Um(r,a,u,d,y,b){return go=b,Ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=r===null||r.memoizedState===null?n1:i1,kl=!1,b=u(d,y),kl=!1,wu&&(b=w0(a,u,d,y)),E0(r),b}function E0(r){z.H=Bf;var a=An!==null&&An.next!==null;if(go=0,oi=An=Ft=null,Pf=!1,Nc=0,bu=null,a)throw Error(i(300));r===null||xi||(r=r.dependencies,r!==null&&Cf(r)&&(xi=!0))}function w0(r,a,u,d){Ft=r;var y=0;do{if(wu&&(bu=null),Nc=0,wu=!1,25<=y)throw Error(i(301));if(y+=1,oi=An=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}z.H=nx,b=a(u,d)}while(wu);return b}function YR(){var r=z.H,a=r.useState()[0];return a=typeof a.then=="function"?Lc(a):a,r=r.useState()[0],(An!==null?An.memoizedState:null)!==r&&(Ft.flags|=1024),a}function Bm(){var r=Mf!==0;return Mf=0,r}function Fm(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function jm(r){if(Pf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Pf=!1}go=0,oi=An=Ft=null,wu=!1,Nc=Mf=0,bu=null}function br(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Ft.memoizedState=oi=r:oi=oi.next=r,oi}function li(){if(An===null){var r=Ft.alternate;r=r!==null?r.memoizedState:null}else r=An.next;var a=oi===null?Ft.memoizedState:oi.next;if(a!==null)oi=a,An=r;else{if(r===null)throw Ft.alternate===null?Error(i(467)):Error(i(310));An=r,r={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},oi===null?Ft.memoizedState=oi=r:oi=oi.next=r}return oi}function zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lc(r){var a=Nc;return Nc+=1,bu===null&&(bu=[]),r=p0(bu,r,a),a=Ft,(oi===null?a.memoizedState:oi.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?n1:i1),r}function Df(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Lc(r);if(r.$$typeof===W)return $i(r)}throw Error(i(438,String(r)))}function Hm(r){var a=null,u=Ft.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Ft.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=zm(),Ft.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),d=0;d<r;d++)u[d]=P;return a.index++,u}function Aa(r,a){return typeof a=="function"?a(r):a}function Nf(r){var a=li();return qm(a,An,r)}function qm(r,a,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var y=r.baseQueue,b=d.pending;if(b!==null){if(y!==null){var F=y.next;y.next=b.next,b.next=F}a.baseQueue=y=b,d.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{a=y.next;var X=F=null,le=null,we=a,Oe=!1;do{var Ve=we.lane&-536870913;if(Ve!==we.lane?(ln&Ve)===Ve:(go&Ve)===Ve){var be=we.revertLane;if(be===0)le!==null&&(le=le.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Ve===vu&&(Oe=!0);else if((go&be)===be){we=we.next,be===vu&&(Oe=!0);continue}else Ve={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},le===null?(X=le=Ve,F=b):le=le.next=Ve,Ft.lanes|=be,To|=be;Ve=we.action,kl&&u(b,Ve),b=we.hasEagerState?we.eagerState:u(b,Ve)}else be={lane:Ve,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},le===null?(X=le=be,F=b):le=le.next=be,Ft.lanes|=Ve,To|=Ve;we=we.next}while(we!==null&&we!==a);if(le===null?F=b:le.next=X,!cr(b,r.memoizedState)&&(xi=!0,Oe&&(u=yu,u!==null)))throw u;r.memoizedState=b,r.baseState=F,r.baseQueue=le,d.lastRenderedState=b}return y===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Gm(r){var a=li(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var F=y=y.next;do b=r(b,F.action),F=F.next;while(F!==y);cr(b,a.memoizedState)||(xi=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,d]}function b0(r,a,u){var d=Ft,y=li(),b=Rt;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=a();var F=!cr((An||y).memoizedState,u);F&&(y.memoizedState=u,xi=!0),y=y.queue;var X=S0.bind(null,d,y,r);if(Vc(2048,8,X,[r]),y.getSnapshot!==a||F||oi!==null&&oi.memoizedState.tag&1){if(d.flags|=2048,Tu(9,Lf(),A0.bind(null,d,y,u,a),null),Mn===null)throw Error(i(349));b||(go&124)!==0||T0(d,a,u)}return u}function T0(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Ft.updateQueue,a===null?(a=zm(),Ft.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function A0(r,a,u,d){a.value=u,a.getSnapshot=d,C0(a)&&R0(r)}function S0(r,a,u){return u(function(){C0(a)&&R0(r)})}function C0(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!cr(r,u)}catch{return!0}}function R0(r){var a=lo(r,2);a!==null&&Kr(a,r,2)}function Zm(r){var a=br();if(typeof r=="function"){var u=r;if(r=u(),kl){xt(!0);try{u()}finally{xt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:r},a}function x0(r,a,u,d){return r.baseState=u,qm(r,An,typeof d=="function"?d:Aa)}function WR(r,a,u,d,y){if(Uf(r))throw Error(i(485));if(r=a.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){b.listeners.push(F)}};z.T!==null?u(!0):b.isTransition=!1,d(b),u=a.pending,u===null?(b.next=a.pending=b,I0(a,b)):(b.next=u.next,a.pending=u.next=b)}}function I0(r,a){var u=a.action,d=a.payload,y=r.state;if(a.isTransition){var b=z.T,F={};z.T=F;try{var X=u(y,d),le=z.S;le!==null&&le(F,X),k0(r,a,X)}catch(we){Km(r,a,we)}finally{z.T=b}}else try{b=u(y,d),k0(r,a,b)}catch(we){Km(r,a,we)}}function k0(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){O0(r,a,d)},function(d){return Km(r,a,d)}):O0(r,a,u)}function O0(r,a,u){a.status="fulfilled",a.value=u,P0(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,I0(r,u)))}function Km(r,a,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,P0(a),a=a.next;while(a!==d)}r.action=null}function P0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function M0(r,a){return a}function D0(r,a){if(Rt){var u=Mn.formState;if(u!==null){e:{var d=Ft;if(Rt){if(ot){t:{for(var y=ot,b=zn;y.nodeType!==8;){if(!b){y=null;break t}if(y=ks(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){ot=ks(y.nextSibling),d=y.data==="F!";break e}}wr(d)}d=!1}d&&(a=u[0])}}return u=br(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:a},u.queue=d,u=J0.bind(null,Ft,d),d.dispatch=u,d=Zm(!1),b=Xm.bind(null,Ft,!1,d.queue),d=br(),y={state:a,dispatch:null,action:r,pending:null},d.queue=y,u=WR.bind(null,Ft,y,b,u),y.dispatch=u,d.memoizedState=r,[a,u,!1]}function N0(r){var a=li();return L0(a,An,r)}function L0(r,a,u){if(a=qm(r,a,M0)[0],r=Nf(Aa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Lc(a)}catch(F){throw F===kc?If:F}else d=a;a=li();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&(Ft.flags|=2048,Tu(9,Lf(),XR.bind(null,y,u),null)),[d,b,r]}function XR(r,a){r.action=a}function V0(r){var a=li(),u=An;if(u!==null)return L0(a,u,r);li(),a=a.memoizedState,u=li();var d=u.queue.dispatch;return u.memoizedState=r,[a,d,!1]}function Tu(r,a,u,d){return r={tag:r,create:u,deps:d,inst:a,next:null},a=Ft.updateQueue,a===null&&(a=zm(),Ft.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,a.lastEffect=r),r}function Lf(){return{destroy:void 0,resource:void 0}}function U0(){return li().memoizedState}function Vf(r,a,u,d){var y=br();d=d===void 0?null:d,Ft.flags|=r,y.memoizedState=Tu(1|a,Lf(),u,d)}function Vc(r,a,u,d){var y=li();d=d===void 0?null:d;var b=y.memoizedState.inst;An!==null&&d!==null&&Vm(d,An.memoizedState.deps)?y.memoizedState=Tu(a,b,u,d):(Ft.flags|=r,y.memoizedState=Tu(1|a,b,u,d))}function B0(r,a){Vf(8390656,8,r,a)}function F0(r,a){Vc(2048,8,r,a)}function j0(r,a){return Vc(4,2,r,a)}function z0(r,a){return Vc(4,4,r,a)}function H0(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function q0(r,a,u){u=u!=null?u.concat([r]):null,Vc(4,4,H0.bind(null,a,r),u)}function $m(){}function G0(r,a){var u=li();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&Vm(a,d[1])?d[0]:(u.memoizedState=[r,a],r)}function Z0(r,a){var u=li();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&Vm(a,d[1]))return d[0];if(d=r(),kl){xt(!0);try{r()}finally{xt(!1)}}return u.memoizedState=[d,a],d}function Qm(r,a,u){return u===void 0||(go&1073741824)!==0?r.memoizedState=a:(r.memoizedState=u,r=Q1(),Ft.lanes|=r,To|=r,u)}function K0(r,a,u,d){return cr(u,a)?u:Eu.current!==null?(r=Qm(r,u,d),cr(r,a)||(xi=!0),r):(go&42)===0?(xi=!0,r.memoizedState=u):(r=Q1(),Ft.lanes|=r,To|=r,a)}function $0(r,a,u,d,y){var b=G.p;G.p=b!==0&&8>b?b:8;var F=z.T,X={};z.T=X,Xm(r,!1,a,u);try{var le=y(),we=z.S;if(we!==null&&we(X,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Oe=$R(le,d);Uc(r,a,Oe,Zr(r))}else Uc(r,a,d,Zr(r))}catch(Ve){Uc(r,a,{then:function(){},status:"rejected",reason:Ve},Zr())}finally{G.p=b,z.T=F}}function JR(){}function Ym(r,a,u,d){if(r.tag!==5)throw Error(i(476));var y=Q0(r).queue;$0(r,y,a,ae,u===null?JR:function(){return Y0(r),u(d)})}function Q0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ae},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Y0(r){var a=Q0(r).next.queue;Uc(r,a,{},Zr())}function Wm(){return $i(nh)}function W0(){return li().memoizedState}function X0(){return li().memoizedState}function ex(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=Zr();r=po(u);var d=mo(a,r,u);d!==null&&(Kr(d,a,u),Pc(d,a,u)),a={cache:Rm()},r.payload=a;return}a=a.return}}function tx(r,a,u){var d=Zr();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Uf(r)?e1(a,u):(u=wa(r,a,u,d),u!==null&&(Kr(u,r,d),t1(u,a,d)))}function J0(r,a,u){var d=Zr();Uc(r,a,u,d)}function Uc(r,a,u,d){var y={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Uf(r))e1(a,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var F=a.lastRenderedState,X=b(F,u);if(y.hasEagerState=!0,y.eagerState=X,cr(X,F))return bl(r,a,y,0),Mn===null&&wl(),!1}catch{}finally{}if(u=wa(r,a,y,d),u!==null)return Kr(u,r,d),t1(u,a,d),!0}return!1}function Xm(r,a,u,d){if(d={lane:2,revertLane:kg(),action:d,hasEagerState:!1,eagerState:null,next:null},Uf(r)){if(a)throw Error(i(479))}else a=wa(r,u,d,2),a!==null&&Kr(a,r,2)}function Uf(r){var a=r.alternate;return r===Ft||a!==null&&a===Ft}function e1(r,a){wu=Pf=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function t1(r,a,u){if((u&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,Ei(r,u)}}var Bf={readContext:$i,use:Df,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn},n1={readContext:$i,use:Df,useCallback:function(r,a){return br().memoizedState=[r,a===void 0?null:a],r},useContext:$i,useEffect:B0,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,Vf(4194308,4,H0.bind(null,a,r),u)},useLayoutEffect:function(r,a){return Vf(4194308,4,r,a)},useInsertionEffect:function(r,a){Vf(4,2,r,a)},useMemo:function(r,a){var u=br();a=a===void 0?null:a;var d=r();if(kl){xt(!0);try{r()}finally{xt(!1)}}return u.memoizedState=[d,a],d},useReducer:function(r,a,u){var d=br();if(u!==void 0){var y=u(a);if(kl){xt(!0);try{u(a)}finally{xt(!1)}}}else y=a;return d.memoizedState=d.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},d.queue=r,r=r.dispatch=tx.bind(null,Ft,r),[d.memoizedState,r]},useRef:function(r){var a=br();return r={current:r},a.memoizedState=r},useState:function(r){r=Zm(r);var a=r.queue,u=J0.bind(null,Ft,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:$m,useDeferredValue:function(r,a){var u=br();return Qm(u,r,a)},useTransition:function(){var r=Zm(!1);return r=$0.bind(null,Ft,r.queue,!0,!1),br().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var d=Ft,y=br();if(Rt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),Mn===null)throw Error(i(349));(ln&124)!==0||T0(d,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,B0(S0.bind(null,d,b,r),[r]),d.flags|=2048,Tu(9,Lf(),A0.bind(null,d,b,u,a),null),u},useId:function(){var r=br(),a=Mn.identifierPrefix;if(Rt){var u=oe,d=$;u=(d&~(1<<32-sn(d)-1)).toString(32)+u,a="«"+a+"R"+u,u=Mf++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=QR++,a="«"+a+"r"+u.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:Wm,useFormState:D0,useActionState:D0,useOptimistic:function(r){var a=br();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Xm.bind(null,Ft,!0,u),u.dispatch=a,[r,a]},useMemoCache:Hm,useCacheRefresh:function(){return br().memoizedState=ex.bind(null,Ft)}},i1={readContext:$i,use:Df,useCallback:G0,useContext:$i,useEffect:F0,useImperativeHandle:q0,useInsertionEffect:j0,useLayoutEffect:z0,useMemo:Z0,useReducer:Nf,useRef:U0,useState:function(){return Nf(Aa)},useDebugValue:$m,useDeferredValue:function(r,a){var u=li();return K0(u,An.memoizedState,r,a)},useTransition:function(){var r=Nf(Aa)[0],a=li().memoizedState;return[typeof r=="boolean"?r:Lc(r),a]},useSyncExternalStore:b0,useId:W0,useHostTransitionStatus:Wm,useFormState:N0,useActionState:N0,useOptimistic:function(r,a){var u=li();return x0(u,An,r,a)},useMemoCache:Hm,useCacheRefresh:X0},nx={readContext:$i,use:Df,useCallback:G0,useContext:$i,useEffect:F0,useImperativeHandle:q0,useInsertionEffect:j0,useLayoutEffect:z0,useMemo:Z0,useReducer:Gm,useRef:U0,useState:function(){return Gm(Aa)},useDebugValue:$m,useDeferredValue:function(r,a){var u=li();return An===null?Qm(u,r,a):K0(u,An.memoizedState,r,a)},useTransition:function(){var r=Gm(Aa)[0],a=li().memoizedState;return[typeof r=="boolean"?r:Lc(r),a]},useSyncExternalStore:b0,useId:W0,useHostTransitionStatus:Wm,useFormState:V0,useActionState:V0,useOptimistic:function(r,a){var u=li();return An!==null?x0(u,An,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:X0},Au=null,Bc=0;function Ff(r){var a=Bc;return Bc+=1,Au===null&&(Au=[]),p0(Au,r,a)}function Fc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function jf(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function r1(r){var a=r._init;return a(r._payload)}function s1(r){function a(me,fe){if(r){var ye=me.deletions;ye===null?(me.deletions=[fe],me.flags|=16):ye.push(fe)}}function u(me,fe){if(!r)return null;for(;fe!==null;)a(me,fe),fe=fe.sibling;return null}function d(me){for(var fe=new Map;me!==null;)me.key!==null?fe.set(me.key,me):fe.set(me.index,me),me=me.sibling;return fe}function y(me,fe){return me=ls(me,fe),me.index=0,me.sibling=null,me}function b(me,fe,ye){return me.index=ye,r?(ye=me.alternate,ye!==null?(ye=ye.index,ye<fe?(me.flags|=67108866,fe):ye):(me.flags|=67108866,fe)):(me.flags|=1048576,fe)}function F(me){return r&&me.alternate===null&&(me.flags|=67108866),me}function X(me,fe,ye,De){return fe===null||fe.tag!==6?(fe=Rc(ye,me.mode,De),fe.return=me,fe):(fe=y(fe,ye),fe.return=me,fe)}function le(me,fe,ye,De){var it=ye.type;return it===R?Oe(me,fe,ye.props.children,De,ye.key):fe!==null&&(fe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&r1(it)===fe.type)?(fe=y(fe,ye.props),Fc(fe,ye),fe.return=me,fe):(fe=Al(ye.type,ye.key,ye.props,null,me.mode,De),Fc(fe,ye),fe.return=me,fe)}function we(me,fe,ye,De){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=gu(ye,me.mode,De),fe.return=me,fe):(fe=y(fe,ye.children||[]),fe.return=me,fe)}function Oe(me,fe,ye,De,it){return fe===null||fe.tag!==7?(fe=Gs(ye,me.mode,De,it),fe.return=me,fe):(fe=y(fe,ye),fe.return=me,fe)}function Ve(me,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Rc(""+fe,me.mode,ye),fe.return=me,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return ye=Al(fe.type,fe.key,fe.props,null,me.mode,ye),Fc(ye,fe),ye.return=me,ye;case C:return fe=gu(fe,me.mode,ye),fe.return=me,fe;case A:var De=fe._init;return fe=De(fe._payload),Ve(me,fe,ye)}if(ce(fe)||H(fe))return fe=Gs(fe,me.mode,ye,null),fe.return=me,fe;if(typeof fe.then=="function")return Ve(me,Ff(fe),ye);if(fe.$$typeof===W)return Ve(me,Rf(me,fe),ye);jf(me,fe)}return null}function be(me,fe,ye,De){var it=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return it!==null?null:X(me,fe,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case w:return ye.key===it?le(me,fe,ye,De):null;case C:return ye.key===it?we(me,fe,ye,De):null;case A:return it=ye._init,ye=it(ye._payload),be(me,fe,ye,De)}if(ce(ye)||H(ye))return it!==null?null:Oe(me,fe,ye,De,null);if(typeof ye.then=="function")return be(me,fe,Ff(ye),De);if(ye.$$typeof===W)return be(me,fe,Rf(me,ye),De);jf(me,ye)}return null}function Te(me,fe,ye,De,it){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return me=me.get(ye)||null,X(fe,me,""+De,it);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case w:return me=me.get(De.key===null?ye:De.key)||null,le(fe,me,De,it);case C:return me=me.get(De.key===null?ye:De.key)||null,we(fe,me,De,it);case A:var zt=De._init;return De=zt(De._payload),Te(me,fe,ye,De,it)}if(ce(De)||H(De))return me=me.get(ye)||null,Oe(fe,me,De,it,null);if(typeof De.then=="function")return Te(me,fe,ye,Ff(De),it);if(De.$$typeof===W)return Te(me,fe,ye,Rf(fe,De),it);jf(fe,De)}return null}function Ct(me,fe,ye,De){for(var it=null,zt=null,ct=fe,yt=fe=0,ki=null;ct!==null&&yt<ye.length;yt++){ct.index>yt?(ki=ct,ct=null):ki=ct.sibling;var dn=be(me,ct,ye[yt],De);if(dn===null){ct===null&&(ct=ki);break}r&&ct&&dn.alternate===null&&a(me,ct),fe=b(dn,fe,yt),zt===null?it=dn:zt.sibling=dn,zt=dn,ct=ki}if(yt===ye.length)return u(me,ct),Rt&&ve(me,yt),it;if(ct===null){for(;yt<ye.length;yt++)ct=Ve(me,ye[yt],De),ct!==null&&(fe=b(ct,fe,yt),zt===null?it=ct:zt.sibling=ct,zt=ct);return Rt&&ve(me,yt),it}for(ct=d(ct);yt<ye.length;yt++)ki=Te(ct,me,yt,ye[yt],De),ki!==null&&(r&&ki.alternate!==null&&ct.delete(ki.key===null?yt:ki.key),fe=b(ki,fe,yt),zt===null?it=ki:zt.sibling=ki,zt=ki);return r&&ct.forEach(function(Po){return a(me,Po)}),Rt&&ve(me,yt),it}function vt(me,fe,ye,De){if(ye==null)throw Error(i(151));for(var it=null,zt=null,ct=fe,yt=fe=0,ki=null,dn=ye.next();ct!==null&&!dn.done;yt++,dn=ye.next()){ct.index>yt?(ki=ct,ct=null):ki=ct.sibling;var Po=be(me,ct,dn.value,De);if(Po===null){ct===null&&(ct=ki);break}r&&ct&&Po.alternate===null&&a(me,ct),fe=b(Po,fe,yt),zt===null?it=Po:zt.sibling=Po,zt=Po,ct=ki}if(dn.done)return u(me,ct),Rt&&ve(me,yt),it;if(ct===null){for(;!dn.done;yt++,dn=ye.next())dn=Ve(me,dn.value,De),dn!==null&&(fe=b(dn,fe,yt),zt===null?it=dn:zt.sibling=dn,zt=dn);return Rt&&ve(me,yt),it}for(ct=d(ct);!dn.done;yt++,dn=ye.next())dn=Te(ct,me,yt,dn.value,De),dn!==null&&(r&&dn.alternate!==null&&ct.delete(dn.key===null?yt:dn.key),fe=b(dn,fe,yt),zt===null?it=dn:zt.sibling=dn,zt=dn);return r&&ct.forEach(function(iI){return a(me,iI)}),Rt&&ve(me,yt),it}function Cn(me,fe,ye,De){if(typeof ye=="object"&&ye!==null&&ye.type===R&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case w:e:{for(var it=ye.key;fe!==null;){if(fe.key===it){if(it=ye.type,it===R){if(fe.tag===7){u(me,fe.sibling),De=y(fe,ye.props.children),De.return=me,me=De;break e}}else if(fe.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&r1(it)===fe.type){u(me,fe.sibling),De=y(fe,ye.props),Fc(De,ye),De.return=me,me=De;break e}u(me,fe);break}else a(me,fe);fe=fe.sibling}ye.type===R?(De=Gs(ye.props.children,me.mode,De,ye.key),De.return=me,me=De):(De=Al(ye.type,ye.key,ye.props,null,me.mode,De),Fc(De,ye),De.return=me,me=De)}return F(me);case C:e:{for(it=ye.key;fe!==null;){if(fe.key===it)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){u(me,fe.sibling),De=y(fe,ye.children||[]),De.return=me,me=De;break e}else{u(me,fe);break}else a(me,fe);fe=fe.sibling}De=gu(ye,me.mode,De),De.return=me,me=De}return F(me);case A:return it=ye._init,ye=it(ye._payload),Cn(me,fe,ye,De)}if(ce(ye))return Ct(me,fe,ye,De);if(H(ye)){if(it=H(ye),typeof it!="function")throw Error(i(150));return ye=it.call(ye),vt(me,fe,ye,De)}if(typeof ye.then=="function")return Cn(me,fe,Ff(ye),De);if(ye.$$typeof===W)return Cn(me,fe,Rf(me,ye),De);jf(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(u(me,fe.sibling),De=y(fe,ye),De.return=me,me=De):(u(me,fe),De=Rc(ye,me.mode,De),De.return=me,me=De),F(me)):u(me,fe)}return function(me,fe,ye,De){try{Bc=0;var it=Cn(me,fe,ye,De);return Au=null,it}catch(ct){if(ct===kc||ct===If)throw ct;var zt=pr(29,ct,null,me.mode);return zt.lanes=De,zt.return=me,zt}finally{}}}var Su=s1(!0),a1=s1(!1),cs=K(null),Ks=null;function _o(r){var a=r.alternate;B(vi,vi.current&1),B(cs,r),Ks===null&&(a===null||Eu.current!==null||a.memoizedState!==null)&&(Ks=r)}function o1(r){if(r.tag===22){if(B(vi,vi.current),B(cs,r),Ks===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Ks=r)}}else vo()}function vo(){B(vi,vi.current),B(cs,cs.current)}function Sa(r){Y(cs),Ks===r&&(Ks=null),Y(vi)}var vi=K(0);function zf(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||zg(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Jm(r,a,u,d){a=r.memoizedState,u=u(d,a),u=u==null?a:g({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var eg={enqueueSetState:function(r,a,u){r=r._reactInternals;var d=Zr(),y=po(d);y.payload=a,u!=null&&(y.callback=u),a=mo(r,y,d),a!==null&&(Kr(a,r,d),Pc(a,r,d))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var d=Zr(),y=po(d);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=mo(r,y,d),a!==null&&(Kr(a,r,d),Pc(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=Zr(),d=po(u);d.tag=2,a!=null&&(d.callback=a),a=mo(r,d,u),a!==null&&(Kr(a,r,u),Pc(a,r,u))}};function l1(r,a,u,d,y,b,F){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,F):a.prototype&&a.prototype.isPureReactComponent?!hr(u,d)||!hr(y,b):!0}function u1(r,a,u,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==r&&eg.enqueueReplaceState(a,a.state,null)}function Ol(r,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(r=r.defaultProps){u===a&&(u=g({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}var Hf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function c1(r){Hf(r)}function h1(r){console.error(r)}function f1(r){Hf(r)}function qf(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function d1(r,a,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function tg(r,a,u){return u=po(u),u.tag=3,u.payload={element:null},u.callback=function(){qf(r,a)},u}function p1(r){return r=po(r),r.tag=3,r}function m1(r,a,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;r.payload=function(){return y(b)},r.callback=function(){d1(a,u,d)}}var F=u.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(r.callback=function(){d1(a,u,d),typeof y!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var X=d.stack;this.componentDidCatch(d.value,{componentStack:X!==null?X:""})})}function ix(r,a,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&Rl(a,u,y,!0),u=cs.current,u!==null){switch(u.tag){case 13:return Ks===null?Sg():u.alternate===null&&Kn===0&&(Kn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===km?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),Rg(r,d,y)),!1;case 22:return u.flags|=65536,d===km?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),Rg(r,d,y)),!1}throw Error(i(435,u.tag))}return Rg(r,d,y),Sg(),!1}if(Rt)return a=cs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,d!==Ri&&(r=Error(i(422),{cause:d}),ho(fr(r,u)))):(d!==Ri&&(a=Error(i(423),{cause:d}),ho(fr(a,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,d=fr(d,u),y=tg(r.stateNode,d,y),Mm(r,y),Kn!==4&&(Kn=2)),!1;var b=Error(i(520),{cause:d});if(b=fr(b,u),Kc===null?Kc=[b]:Kc.push(b),Kn!==4&&(Kn=2),a===null)return!0;d=fr(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=tg(u.stateNode,d,r),Mm(u,r),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ao===null||!Ao.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=p1(y),m1(y,r,u,d),Mm(u,y),!1}u=u.return}while(u!==null);return!1}var g1=Error(i(461)),xi=!1;function Vi(r,a,u,d){a.child=r===null?a1(a,null,u,d):Su(a,r.child,u,d)}function _1(r,a,u,d,y){u=u.render;var b=a.ref;if("ref"in d){var F={};for(var X in d)X!=="ref"&&(F[X]=d[X])}else F=d;return xl(a),d=Um(r,a,u,F,b,y),X=Bm(),r!==null&&!xi?(Fm(r,a,y),Ca(r,a,y)):(Rt&&X&&Fe(a),a.flags|=1,Vi(r,a,d,y),a.child)}function v1(r,a,u,d,y){if(r===null){var b=u.type;return typeof b=="function"&&!mu(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,y1(r,a,b,d,y)):(r=Al(u.type,null,d,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,!ug(r,y)){var F=b.memoizedProps;if(u=u.compare,u=u!==null?u:hr,u(F,d)&&r.ref===a.ref)return Ca(r,a,y)}return a.flags|=1,r=ls(b,d),r.ref=a.ref,r.return=a,a.child=r}function y1(r,a,u,d,y){if(r!==null){var b=r.memoizedProps;if(hr(b,d)&&r.ref===a.ref)if(xi=!1,a.pendingProps=d=b,ug(r,y))(r.flags&131072)!==0&&(xi=!0);else return a.lanes=r.lanes,Ca(r,a,y)}return ng(r,a,u,d,y)}function E1(r,a,u){var d=a.pendingProps,y=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=b!==null?b.baseLanes|u:u,r!==null){for(y=a.child=r.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;a.childLanes=b&~d}else a.childLanes=0,a.child=null;return w1(r,a,d,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&xf(a,b!==null?b.cachePool:null),b!==null?y0(a,b):Nm(),o1(a);else return a.lanes=a.childLanes=536870912,w1(r,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(xf(a,b.cachePool),y0(a,b),vo(),a.memoizedState=null):(r!==null&&xf(a,null),Nm(),vo());return Vi(r,a,y,u),a.child}function w1(r,a,u,d){var y=Im();return y=y===null?null:{parent:_i._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},r!==null&&xf(a,null),Nm(),o1(a),r!==null&&Rl(r,a,d,!0),null}function Gf(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function ng(r,a,u,d,y){return xl(a),u=Um(r,a,u,d,void 0,y),d=Bm(),r!==null&&!xi?(Fm(r,a,y),Ca(r,a,y)):(Rt&&d&&Fe(a),a.flags|=1,Vi(r,a,u,y),a.child)}function b1(r,a,u,d,y,b){return xl(a),a.updateQueue=null,u=w0(a,d,u,y),E0(r),d=Bm(),r!==null&&!xi?(Fm(r,a,b),Ca(r,a,b)):(Rt&&d&&Fe(a),a.flags|=1,Vi(r,a,u,b),a.child)}function T1(r,a,u,d,y){if(xl(a),a.stateNode===null){var b=ba,F=u.contextType;typeof F=="object"&&F!==null&&(b=$i(F)),b=new u(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=eg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},Om(a),F=u.contextType,b.context=typeof F=="object"&&F!==null?$i(F):ba,b.state=a.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(Jm(a,u,F,d),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(F=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),F!==b.state&&eg.enqueueReplaceState(b,b.state,null),Dc(a,d,b,y),Mc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){b=a.stateNode;var X=a.memoizedProps,le=Ol(u,X);b.props=le;var we=b.context,Oe=u.contextType;F=ba,typeof Oe=="object"&&Oe!==null&&(F=$i(Oe));var Ve=u.getDerivedStateFromProps;Oe=typeof Ve=="function"||typeof b.getSnapshotBeforeUpdate=="function",X=a.pendingProps!==X,Oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(X||we!==F)&&u1(a,b,d,F),fo=!1;var be=a.memoizedState;b.state=be,Dc(a,d,b,y),Mc(),we=a.memoizedState,X||be!==we||fo?(typeof Ve=="function"&&(Jm(a,u,Ve,d),we=a.memoizedState),(le=fo||l1(a,u,le,d,be,we,F))?(Oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=we),b.props=d,b.state=we,b.context=F,d=le):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,Pm(r,a),F=a.memoizedProps,Oe=Ol(u,F),b.props=Oe,Ve=a.pendingProps,be=b.context,we=u.contextType,le=ba,typeof we=="object"&&we!==null&&(le=$i(we)),X=u.getDerivedStateFromProps,(we=typeof X=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(F!==Ve||be!==le)&&u1(a,b,d,le),fo=!1,be=a.memoizedState,b.state=be,Dc(a,d,b,y),Mc();var Te=a.memoizedState;F!==Ve||be!==Te||fo||r!==null&&r.dependencies!==null&&Cf(r.dependencies)?(typeof X=="function"&&(Jm(a,u,X,d),Te=a.memoizedState),(Oe=fo||l1(a,u,Oe,d,be,Te,le)||r!==null&&r.dependencies!==null&&Cf(r.dependencies))?(we||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Te,le),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Te,le)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||F===r.memoizedProps&&be===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&be===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=Te),b.props=d,b.state=Te,b.context=le,d=Oe):(typeof b.componentDidUpdate!="function"||F===r.memoizedProps&&be===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&be===r.memoizedState||(a.flags|=1024),d=!1)}return b=d,Gf(r,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,r!==null&&d?(a.child=Su(a,r.child,null,y),a.child=Su(a,null,u,y)):Vi(r,a,u,y),a.memoizedState=b.state,r=a.child):r=Ca(r,a,y),r}function A1(r,a,u,d){return co(),a.flags|=256,Vi(r,a,u,d),a.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rg(r){return{baseLanes:r,cachePool:h0()}}function sg(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=hs),r}function S1(r,a,u){var d=a.pendingProps,y=!1,b=(a.flags&128)!==0,F;if((F=b)||(F=r!==null&&r.memoizedState===null?!1:(vi.current&2)!==0),F&&(y=!0,a.flags&=-129),F=(a.flags&32)!==0,a.flags&=-33,r===null){if(Rt){if(y?_o(a):vo(),Rt){var X=ot,le;if(le=X){e:{for(le=X,X=zn;le.nodeType!==8;){if(!X){X=null;break e}if(le=ks(le.nextSibling),le===null){X=null;break e}}X=le}X!==null?(a.memoizedState={dehydrated:X,treeContext:k!==null?{id:$,overflow:oe}:null,retryLane:536870912,hydrationErrors:null},le=pr(18,null,null,0),le.stateNode=X,le.return=a,a.child=le,tt=a,ot=null,le=!0):le=!1}le||wr(a)}if(X=a.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return zg(X)?a.lanes=32:a.lanes=536870912,null;Sa(a)}return X=d.children,d=d.fallback,y?(vo(),y=a.mode,X=Zf({mode:"hidden",children:X},y),d=Gs(d,y,u,null),X.return=a,d.return=a,X.sibling=d,a.child=X,y=a.child,y.memoizedState=rg(u),y.childLanes=sg(r,F,u),a.memoizedState=ig,d):(_o(a),ag(a,X))}if(le=r.memoizedState,le!==null&&(X=le.dehydrated,X!==null)){if(b)a.flags&256?(_o(a),a.flags&=-257,a=og(r,a,u)):a.memoizedState!==null?(vo(),a.child=r.child,a.flags|=128,a=null):(vo(),y=d.fallback,X=a.mode,d=Zf({mode:"visible",children:d.children},X),y=Gs(y,X,u,null),y.flags|=2,d.return=a,y.return=a,d.sibling=y,a.child=d,Su(a,r.child,null,u),d=a.child,d.memoizedState=rg(u),d.childLanes=sg(r,F,u),a.memoizedState=ig,a=y);else if(_o(a),zg(X)){if(F=X.nextSibling&&X.nextSibling.dataset,F)var we=F.dgst;F=we,d=Error(i(419)),d.stack="",d.digest=F,ho({value:d,source:null,stack:null}),a=og(r,a,u)}else if(xi||Rl(r,a,u,!1),F=(u&r.childLanes)!==0,xi||F){if(F=Mn,F!==null&&(d=u&-u,d=(d&42)!==0?1:sr(d),d=(d&(F.suspendedLanes|u))!==0?0:d,d!==0&&d!==le.retryLane))throw le.retryLane=d,lo(r,d),Kr(F,r,d),g1;X.data==="$?"||Sg(),a=og(r,a,u)}else X.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=le.treeContext,ot=ks(X.nextSibling),tt=a,Rt=!0,Pn=null,zn=!1,r!==null&&(v[T++]=$,v[T++]=oe,v[T++]=k,$=r.id,oe=r.overflow,k=a),a=ag(a,d.children),a.flags|=4096);return a}return y?(vo(),y=d.fallback,X=a.mode,le=r.child,we=le.sibling,d=ls(le,{mode:"hidden",children:d.children}),d.subtreeFlags=le.subtreeFlags&65011712,we!==null?y=ls(we,y):(y=Gs(y,X,u,null),y.flags|=2),y.return=a,d.return=a,d.sibling=y,a.child=d,d=y,y=a.child,X=r.child.memoizedState,X===null?X=rg(u):(le=X.cachePool,le!==null?(we=_i._currentValue,le=le.parent!==we?{parent:we,pool:we}:le):le=h0(),X={baseLanes:X.baseLanes|u,cachePool:le}),y.memoizedState=X,y.childLanes=sg(r,F,u),a.memoizedState=ig,d):(_o(a),u=r.child,r=u.sibling,u=ls(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,r!==null&&(F=a.deletions,F===null?(a.deletions=[r],a.flags|=16):F.push(r)),a.child=u,a.memoizedState=null,u)}function ag(r,a){return a=Zf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Zf(r,a){return r=pr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function og(r,a,u){return Su(a,r.child,null,u),r=ag(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function C1(r,a,u){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Cl(r.return,a,u)}function lg(r,a,u,d,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=y)}function R1(r,a,u){var d=a.pendingProps,y=d.revealOrder,b=d.tail;if(Vi(r,a,d.children,u),d=vi.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&C1(r,u,a);else if(r.tag===19)C1(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(B(vi,d),y){case"forwards":for(u=a.child,y=null;u!==null;)r=u.alternate,r!==null&&zf(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),lg(a,!1,y,u,b);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&zf(r)===null){a.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}lg(a,!0,u,null,b);break;case"together":lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ca(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),To|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(Rl(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=ls(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=ls(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function ug(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Cf(r)))}function rx(r,a,u){switch(a.tag){case 3:Ae(a,a.stateNode.containerInfo),Zs(a,_i,r.memoizedState.cache),co();break;case 27:case 5:je(a);break;case 4:Ae(a,a.stateNode.containerInfo);break;case 10:Zs(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(_o(a),a.flags|=128,null):(u&a.child.childLanes)!==0?S1(r,a,u):(_o(a),r=Ca(r,a,u),r!==null?r.sibling:null);_o(a);break;case 19:var y=(r.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(Rl(r,a,u,!1),d=(u&a.childLanes)!==0),y){if(d)return R1(r,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),B(vi,vi.current),d)break;return null;case 22:case 23:return a.lanes=0,E1(r,a,u);case 24:Zs(a,_i,r.memoizedState.cache)}return Ca(r,a,u)}function x1(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)xi=!0;else{if(!ug(r,u)&&(a.flags&128)===0)return xi=!1,rx(r,a,u);xi=(r.flags&131072)!==0}else xi=!1,Rt&&(a.flags&1048576)!==0&&Se(a,h,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,y=d._init;if(d=y(d._payload),a.type=d,typeof d=="function")mu(d)?(r=Ol(d,r),a.tag=1,a=T1(null,a,d,r,u)):(a.tag=0,a=ng(null,a,d,r,u));else{if(d!=null){if(y=d.$$typeof,y===ee){a.tag=11,a=_1(null,a,d,r,u);break e}else if(y===Z){a.tag=14,a=v1(null,a,d,r,u);break e}}throw a=ie(d)||d,Error(i(306,a,""))}}return a;case 0:return ng(r,a,a.type,a.pendingProps,u);case 1:return d=a.type,y=Ol(d,a.pendingProps),T1(r,a,d,y,u);case 3:e:{if(Ae(a,a.stateNode.containerInfo),r===null)throw Error(i(387));d=a.pendingProps;var b=a.memoizedState;y=b.element,Pm(r,a),Dc(a,d,null,u);var F=a.memoizedState;if(d=F.cache,Zs(a,_i,d),d!==b.cache&&_u(a,[_i],u,!0),Mc(),d=F.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:F.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=A1(r,a,d,u);break e}else if(d!==y){y=fr(Error(i(424)),a),ho(y),a=A1(r,a,d,u);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ot=ks(r.firstChild),tt=a,Rt=!0,Pn=null,zn=!0,u=a1(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(co(),d===y){a=Ca(r,a,u);break e}Vi(r,a,d,u)}a=a.child}return a;case 26:return Gf(r,a),r===null?(u=PE(a.type,null,a.pendingProps,null))?a.memoizedState=u:Rt||(u=a.type,r=a.pendingProps,d=ad(pe.current).createElement(u),d[Le]=a,d[Ge]=r,Bi(d,u,r),qt(d),a.stateNode=d):a.memoizedState=PE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return je(a),r===null&&Rt&&(d=a.stateNode=IE(a.type,a.pendingProps,pe.current),tt=a,zn=!0,y=ot,Ro(a.type)?(Hg=y,ot=ks(d.firstChild)):ot=y),Vi(r,a,a.pendingProps.children,u),Gf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Rt&&((y=d=ot)&&(d=Px(d,a.type,a.pendingProps,zn),d!==null?(a.stateNode=d,tt=a,ot=ks(d.firstChild),zn=!1,y=!0):y=!1),y||wr(a)),je(a),y=a.type,b=a.pendingProps,F=r!==null?r.memoizedProps:null,d=b.children,Bg(y,b)?d=null:F!==null&&Bg(y,F)&&(a.flags|=32),a.memoizedState!==null&&(y=Um(r,a,YR,null,null,u),nh._currentValue=y),Gf(r,a),Vi(r,a,d,u),a.child;case 6:return r===null&&Rt&&((r=u=ot)&&(u=Mx(u,a.pendingProps,zn),u!==null?(a.stateNode=u,tt=a,ot=null,r=!0):r=!1),r||wr(a)),null;case 13:return S1(r,a,u);case 4:return Ae(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Su(a,null,d,u):Vi(r,a,d,u),a.child;case 11:return _1(r,a,a.type,a.pendingProps,u);case 7:return Vi(r,a,a.pendingProps,u),a.child;case 8:return Vi(r,a,a.pendingProps.children,u),a.child;case 12:return Vi(r,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,Zs(a,a.type,d.value),Vi(r,a,d.children,u),a.child;case 9:return y=a.type._context,d=a.pendingProps.children,xl(a),y=$i(y),d=d(y),a.flags|=1,Vi(r,a,d,u),a.child;case 14:return v1(r,a,a.type,a.pendingProps,u);case 15:return y1(r,a,a.type,a.pendingProps,u);case 19:return R1(r,a,u);case 31:return d=a.pendingProps,u=a.mode,d={mode:d.mode,children:d.children},r===null?(u=Zf(d,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=ls(r.child,d),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return E1(r,a,u);case 24:return xl(a),d=$i(_i),r===null?(y=Im(),y===null&&(y=Mn,b=Rm(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:d,cache:y},Om(a),Zs(a,_i,y)):((r.lanes&u)!==0&&(Pm(r,a),Dc(a,null,null,u),Mc()),y=r.memoizedState,b=a.memoizedState,y.parent!==d?(y={parent:d,cache:d},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Zs(a,_i,d)):(d=b.cache,Zs(a,_i,d),d!==y.cache&&_u(a,[_i],u,!0))),Vi(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ra(r){r.flags|=4}function I1(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!VE(a)){if(a=cs.current,a!==null&&((ln&4194048)===ln?Ks!==null:(ln&62914560)!==ln&&(ln&536870912)===0||a!==Ks))throw Oc=km,f0;r.flags|=8192}}function Kf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Hi():536870912,r.lanes|=a,Iu|=a)}function jc(r,a){if(!Rt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Hn(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(a)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=u,a}function sx(r,a,u){var d=a.pendingProps;switch(Ye(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(a),null;case 1:return Hn(a),null;case 3:return u=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),xs(_i),Ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Sl(a)?Ra(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Sf())),Hn(a),null;case 26:return u=a.memoizedState,r===null?(Ra(a),u!==null?(Hn(a),I1(a,u)):(Hn(a),a.flags&=-16777217)):u?u!==r.memoizedState?(Ra(a),Hn(a),I1(a,u)):(Hn(a),a.flags&=-16777217):(r.memoizedProps!==d&&Ra(a),Hn(a),a.flags&=-16777217),null;case 27:Ue(a),u=pe.current;var y=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Ra(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Hn(a),null}r=re.current,Sl(a)?Tf(a):(r=IE(y,d,u),a.stateNode=r,Ra(a))}return Hn(a),null;case 5:if(Ue(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Ra(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Hn(a),null}if(r=re.current,Sl(a))Tf(a);else{switch(y=ad(pe.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?y.createElement(u,{is:d.is}):y.createElement(u)}}r[Le]=a,r[Ge]=d;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=r;e:switch(Bi(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ra(a)}}return Hn(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Ra(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=pe.current,Sl(a)){if(r=a.stateNode,u=a.memoizedProps,d=null,y=tt,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}r[Le]=a,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||bE(r.nodeValue,u)),r||wr(a)}else r=ad(r).createTextNode(d),r[Le]=a,a.stateNode=r}return Hn(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Sl(a),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Le]=a}else co(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Hn(a),y=!1}else y=Sf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Sa(a),a):(Sa(a),null)}if(Sa(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=a.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),Kf(a,a.updateQueue),Hn(a),null;case 4:return Ne(),r===null&&Dg(a.stateNode.containerInfo),Hn(a),null;case 10:return xs(a.type),Hn(a),null;case 19:if(Y(vi),y=a.memoizedState,y===null)return Hn(a),null;if(d=(a.flags&128)!==0,b=y.rendering,b===null)if(d)jc(y,!1);else{if(Kn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(b=zf(r),b!==null){for(a.flags|=128,jc(y,!1),r=b.updateQueue,a.updateQueue=r,Kf(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)Cc(u,r),u=u.sibling;return B(vi,vi.current&1|2),a.child}r=r.sibling}y.tail!==null&&ze()>Yf&&(a.flags|=128,d=!0,jc(y,!1),a.lanes=4194304)}else{if(!d)if(r=zf(b),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,Kf(a,r),jc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Rt)return Hn(a),null}else 2*ze()-y.renderingStartTime>Yf&&u!==536870912&&(a.flags|=128,d=!0,jc(y,!1),a.lanes=4194304);y.isBackwards?(b.sibling=a.child,a.child=b):(r=y.last,r!==null?r.sibling=b:a.child=b,y.last=b)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=ze(),a.sibling=null,r=vi.current,B(vi,d?r&1|2:r&1),a):(Hn(a),null);case 22:case 23:return Sa(a),Lm(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(Hn(a),a.subtreeFlags&6&&(a.flags|=8192)):Hn(a),u=a.updateQueue,u!==null&&Kf(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),r!==null&&Y(Il),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),xs(_i),Hn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ax(r,a){switch(Ye(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return xs(_i),Ne(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 13:if(Sa(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));co()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Y(vi),null;case 4:return Ne(),null;case 10:return xs(a.type),null;case 22:case 23:return Sa(a),Lm(),r!==null&&Y(Il),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return xs(_i),null;case 25:return null;default:return null}}function k1(r,a){switch(Ye(a),a.tag){case 3:xs(_i),Ne();break;case 26:case 27:case 5:Ue(a);break;case 4:Ne();break;case 13:Sa(a);break;case 19:Y(vi);break;case 10:xs(a.type);break;case 22:case 23:Sa(a),Lm(),r!==null&&Y(Il);break;case 24:xs(_i)}}function zc(r,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&r)===r){d=void 0;var b=u.create,F=u.inst;d=b(),F.destroy=d}u=u.next}while(u!==y)}}catch(X){In(a,a.return,X)}}function yo(r,a,u){try{var d=a.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&r)===r){var F=d.inst,X=F.destroy;if(X!==void 0){F.destroy=void 0,y=a;var le=u,we=X;try{we()}catch(Oe){In(y,le,Oe)}}}d=d.next}while(d!==b)}}catch(Oe){In(a,a.return,Oe)}}function O1(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{v0(a,u)}catch(d){In(r,r.return,d)}}}function P1(r,a,u){u.props=Ol(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){In(r,a,d)}}function Hc(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(y){In(r,a,y)}}function $s(r,a){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){In(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){In(r,a,y)}else u.current=null}function M1(r){var a=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){In(r,r.return,y)}}function cg(r,a,u){try{var d=r.stateNode;Rx(d,r.type,u,a),d[Ge]=a}catch(y){In(r,r.return,y)}}function D1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ro(r.type)||r.tag===4}function hg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||D1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ro(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function fg(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=sd));else if(d!==4&&(d===27&&Ro(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(fg(r,a,u),r=r.sibling;r!==null;)fg(r,a,u),r=r.sibling}function $f(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(d!==4&&(d===27&&Ro(r.type)&&(u=r.stateNode),r=r.child,r!==null))for($f(r,a,u),r=r.sibling;r!==null;)$f(r,a,u),r=r.sibling}function N1(r){var a=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Bi(a,d,u),a[Le]=r,a[Ge]=u}catch(b){In(r,r.return,b)}}var xa=!1,ei=!1,dg=!1,L1=typeof WeakSet=="function"?WeakSet:Set,Ii=null;function ox(r,a){if(r=r.containerInfo,Vg=fd,r=vl(r),yl(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var F=0,X=-1,le=-1,we=0,Oe=0,Ve=r,be=null;t:for(;;){for(var Te;Ve!==u||y!==0&&Ve.nodeType!==3||(X=F+y),Ve!==b||d!==0&&Ve.nodeType!==3||(le=F+d),Ve.nodeType===3&&(F+=Ve.nodeValue.length),(Te=Ve.firstChild)!==null;)be=Ve,Ve=Te;for(;;){if(Ve===r)break t;if(be===u&&++we===y&&(X=F),be===b&&++Oe===d&&(le=F),(Te=Ve.nextSibling)!==null)break;Ve=be,be=Ve.parentNode}Ve=Te}u=X===-1||le===-1?null:{start:X,end:le}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ug={focusedElem:r,selectionRange:u},fd=!1,Ii=a;Ii!==null;)if(a=Ii,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Ii=r;else for(;Ii!==null;){switch(a=Ii,b=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Ct=Ol(u.type,y,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Ct,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(vt){In(u,u.return,vt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)jg(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Ii=r;break}Ii=a.return}}function V1(r,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Eo(r,u),d&4&&zc(5,u);break;case 1:if(Eo(r,u),d&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(F){In(u,u.return,F)}else{var y=Ol(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(F){In(u,u.return,F)}}d&64&&O1(u),d&512&&Hc(u,u.return);break;case 3:if(Eo(r,u),d&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{v0(r,a)}catch(F){In(u,u.return,F)}}break;case 27:a===null&&d&4&&N1(u);case 26:case 5:Eo(r,u),a===null&&d&4&&M1(u),d&512&&Hc(u,u.return);break;case 12:Eo(r,u);break;case 13:Eo(r,u),d&4&&F1(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=gx.bind(null,u),Dx(r,u))));break;case 22:if(d=u.memoizedState!==null||xa,!d){a=a!==null&&a.memoizedState!==null||ei,y=xa;var b=ei;xa=d,(ei=a)&&!b?wo(r,u,(u.subtreeFlags&8772)!==0):Eo(r,u),xa=y,ei=b}break;case 30:break;default:Eo(r,u)}}function U1(r){var a=r.alternate;a!==null&&(r.alternate=null,U1(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ht(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Fn=null,Tr=!1;function Ia(r,a,u){for(u=u.child;u!==null;)B1(r,a,u),u=u.sibling}function B1(r,a,u){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(rt,u)}catch{}switch(u.tag){case 26:ei||$s(u,a),Ia(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ei||$s(u,a);var d=Fn,y=Tr;Ro(u.type)&&(Fn=u.stateNode,Tr=!1),Ia(r,a,u),Xc(u.stateNode),Fn=d,Tr=y;break;case 5:ei||$s(u,a);case 6:if(d=Fn,y=Tr,Fn=null,Ia(r,a,u),Fn=d,Tr=y,Fn!==null)if(Tr)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(u.stateNode)}catch(b){In(u,a,b)}else try{Fn.removeChild(u.stateNode)}catch(b){In(u,a,b)}break;case 18:Fn!==null&&(Tr?(r=Fn,RE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),ah(r)):RE(Fn,u.stateNode));break;case 4:d=Fn,y=Tr,Fn=u.stateNode.containerInfo,Tr=!0,Ia(r,a,u),Fn=d,Tr=y;break;case 0:case 11:case 14:case 15:ei||yo(2,u,a),ei||yo(4,u,a),Ia(r,a,u);break;case 1:ei||($s(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&P1(u,a,d)),Ia(r,a,u);break;case 21:Ia(r,a,u);break;case 22:ei=(d=ei)||u.memoizedState!==null,Ia(r,a,u),ei=d;break;default:Ia(r,a,u)}}function F1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ah(r)}catch(u){In(a,a.return,u)}}function lx(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new L1),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new L1),a;default:throw Error(i(435,r.tag))}}function pg(r,a){var u=lx(r);a.forEach(function(d){var y=_x.bind(null,r,d);u.has(d)||(u.add(d),d.then(y,y))})}function Hr(r,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=r,F=a,X=F;e:for(;X!==null;){switch(X.tag){case 27:if(Ro(X.type)){Fn=X.stateNode,Tr=!1;break e}break;case 5:Fn=X.stateNode,Tr=!1;break e;case 3:case 4:Fn=X.stateNode.containerInfo,Tr=!0;break e}X=X.return}if(Fn===null)throw Error(i(160));B1(b,F,y),Fn=null,Tr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)j1(a,r),a=a.sibling}var Is=null;function j1(r,a){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hr(a,r),qr(r),d&4&&(yo(3,r,r.return),zc(3,r),yo(5,r,r.return));break;case 1:Hr(a,r),qr(r),d&512&&(ei||u===null||$s(u,u.return)),d&64&&xa&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Is;if(Hr(a,r),qr(r),d&512&&(ei||u===null||$s(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[mt]||b[Le]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),Bi(b,d,u),b[Le]=r,qt(b),d=b;break e;case"link":var F=NE("link","href",y).get(d+(u.href||""));if(F){for(var X=0;X<F.length;X++)if(b=F[X],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){F.splice(X,1);break t}}b=y.createElement(d),Bi(b,d,u),y.head.appendChild(b);break;case"meta":if(F=NE("meta","content",y).get(d+(u.content||""))){for(X=0;X<F.length;X++)if(b=F[X],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){F.splice(X,1);break t}}b=y.createElement(d),Bi(b,d,u),y.head.appendChild(b);break;default:throw Error(i(468,d))}b[Le]=r,qt(b),d=b}r.stateNode=d}else LE(y,r.type,r.stateNode);else r.stateNode=DE(y,d,r.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?LE(y,r.type,r.stateNode):DE(y,d,r.memoizedProps)):d===null&&r.stateNode!==null&&cg(r,r.memoizedProps,u.memoizedProps)}break;case 27:Hr(a,r),qr(r),d&512&&(ei||u===null||$s(u,u.return)),u!==null&&d&4&&cg(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Hr(a,r),qr(r),d&512&&(ei||u===null||$s(u,u.return)),r.flags&32){y=r.stateNode;try{Ai(y,"")}catch(Te){In(r,r.return,Te)}}d&4&&r.stateNode!=null&&(y=r.memoizedProps,cg(r,y,u!==null?u.memoizedProps:y)),d&1024&&(dg=!0);break;case 6:if(Hr(a,r),qr(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(Te){In(r,r.return,Te)}}break;case 3:if(ud=null,y=Is,Is=od(a.containerInfo),Hr(a,r),Is=y,qr(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ah(a.containerInfo)}catch(Te){In(r,r.return,Te)}dg&&(dg=!1,z1(r));break;case 4:d=Is,Is=od(r.stateNode.containerInfo),Hr(a,r),qr(r),Is=d;break;case 12:Hr(a,r),qr(r);break;case 13:Hr(a,r),qr(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Eg=ze()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,pg(r,d)));break;case 22:y=r.memoizedState!==null;var le=u!==null&&u.memoizedState!==null,we=xa,Oe=ei;if(xa=we||y,ei=Oe||le,Hr(a,r),ei=Oe,xa=we,qr(r),d&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||le||xa||ei||Pl(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){le=u=a;try{if(b=le.stateNode,y)F=b.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{X=le.stateNode;var Ve=le.memoizedProps.style,be=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;X.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Te){In(le,le.return,Te)}}}else if(a.tag===6){if(u===null){le=a;try{le.stateNode.nodeValue=y?"":le.memoizedProps}catch(Te){In(le,le.return,Te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,pg(r,u))));break;case 19:Hr(a,r),qr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,pg(r,d)));break;case 30:break;case 21:break;default:Hr(a,r),qr(r)}}function qr(r){var a=r.flags;if(a&2){try{for(var u,d=r.return;d!==null;){if(D1(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=hg(r);$f(r,b,y);break;case 5:var F=u.stateNode;u.flags&32&&(Ai(F,""),u.flags&=-33);var X=hg(r);$f(r,X,F);break;case 3:case 4:var le=u.stateNode.containerInfo,we=hg(r);fg(r,we,le);break;default:throw Error(i(161))}}catch(Oe){In(r,r.return,Oe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function z1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;z1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Eo(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)V1(r,a.alternate,a),a=a.sibling}function Pl(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:yo(4,a,a.return),Pl(a);break;case 1:$s(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&P1(a,a.return,u),Pl(a);break;case 27:Xc(a.stateNode);case 26:case 5:$s(a,a.return),Pl(a);break;case 22:a.memoizedState===null&&Pl(a);break;case 30:Pl(a);break;default:Pl(a)}r=r.sibling}}function wo(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,y=r,b=a,F=b.flags;switch(b.tag){case 0:case 11:case 15:wo(y,b,u),zc(4,b);break;case 1:if(wo(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(we){In(d,d.return,we)}if(d=b,y=d.updateQueue,y!==null){var X=d.stateNode;try{var le=y.shared.hiddenCallbacks;if(le!==null)for(y.shared.hiddenCallbacks=null,y=0;y<le.length;y++)_0(le[y],X)}catch(we){In(d,d.return,we)}}u&&F&64&&O1(b),Hc(b,b.return);break;case 27:N1(b);case 26:case 5:wo(y,b,u),u&&d===null&&F&4&&M1(b),Hc(b,b.return);break;case 12:wo(y,b,u);break;case 13:wo(y,b,u),u&&F&4&&F1(y,b);break;case 22:b.memoizedState===null&&wo(y,b,u),Hc(b,b.return);break;case 30:break;default:wo(y,b,u)}a=a.sibling}}function mg(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&xc(u))}function gg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&xc(r))}function Qs(r,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)H1(r,a,u,d),a=a.sibling}function H1(r,a,u,d){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Qs(r,a,u,d),y&2048&&zc(9,a);break;case 1:Qs(r,a,u,d);break;case 3:Qs(r,a,u,d),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&xc(r)));break;case 12:if(y&2048){Qs(r,a,u,d),r=a.stateNode;try{var b=a.memoizedProps,F=b.id,X=b.onPostCommit;typeof X=="function"&&X(F,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(le){In(a,a.return,le)}}else Qs(r,a,u,d);break;case 13:Qs(r,a,u,d);break;case 23:break;case 22:b=a.stateNode,F=a.alternate,a.memoizedState!==null?b._visibility&2?Qs(r,a,u,d):qc(r,a):b._visibility&2?Qs(r,a,u,d):(b._visibility|=2,Cu(r,a,u,d,(a.subtreeFlags&10256)!==0)),y&2048&&mg(F,a);break;case 24:Qs(r,a,u,d),y&2048&&gg(a.alternate,a);break;default:Qs(r,a,u,d)}}function Cu(r,a,u,d,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=r,F=a,X=u,le=d,we=F.flags;switch(F.tag){case 0:case 11:case 15:Cu(b,F,X,le,y),zc(8,F);break;case 23:break;case 22:var Oe=F.stateNode;F.memoizedState!==null?Oe._visibility&2?Cu(b,F,X,le,y):qc(b,F):(Oe._visibility|=2,Cu(b,F,X,le,y)),y&&we&2048&&mg(F.alternate,F);break;case 24:Cu(b,F,X,le,y),y&&we&2048&&gg(F.alternate,F);break;default:Cu(b,F,X,le,y)}a=a.sibling}}function qc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,d=a,y=d.flags;switch(d.tag){case 22:qc(u,d),y&2048&&mg(d.alternate,d);break;case 24:qc(u,d),y&2048&&gg(d.alternate,d);break;default:qc(u,d)}a=a.sibling}}var Gc=8192;function Ru(r){if(r.subtreeFlags&Gc)for(r=r.child;r!==null;)q1(r),r=r.sibling}function q1(r){switch(r.tag){case 26:Ru(r),r.flags&Gc&&r.memoizedState!==null&&Kx(Is,r.memoizedState,r.memoizedProps);break;case 5:Ru(r);break;case 3:case 4:var a=Is;Is=od(r.stateNode.containerInfo),Ru(r),Is=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Gc,Gc=16777216,Ru(r),Gc=a):Ru(r));break;default:Ru(r)}}function G1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Zc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];Ii=d,K1(d,r)}G1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z1(r),r=r.sibling}function Z1(r){switch(r.tag){case 0:case 11:case 15:Zc(r),r.flags&2048&&yo(9,r,r.return);break;case 3:Zc(r);break;case 12:Zc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Qf(r)):Zc(r);break;default:Zc(r)}}function Qf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];Ii=d,K1(d,r)}G1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:yo(8,a,a.return),Qf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Qf(a));break;default:Qf(a)}r=r.sibling}}function K1(r,a){for(;Ii!==null;){var u=Ii;switch(u.tag){case 0:case 11:case 15:yo(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:xc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Ii=d;else e:for(u=r;Ii!==null;){d=Ii;var y=d.sibling,b=d.return;if(U1(d),d===u){Ii=null;break e}if(y!==null){y.return=b,Ii=y;break e}Ii=b}}}var ux={getCacheForType:function(r){var a=$i(_i),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},cx=typeof WeakMap=="function"?WeakMap:Map,yn=0,Mn=null,Gt=null,ln=0,En=0,Gr=null,bo=!1,xu=!1,_g=!1,ka=0,Kn=0,To=0,Ml=0,vg=0,hs=0,Iu=0,Kc=null,Ar=null,yg=!1,Eg=0,Yf=1/0,Wf=null,Ao=null,Ui=0,So=null,ku=null,Ou=0,wg=0,bg=null,$1=null,$c=0,Tg=null;function Zr(){if((yn&2)!==0&&ln!==0)return ln&-ln;if(z.T!==null){var r=vu;return r!==0?r:kg()}return ue()}function Q1(){hs===0&&(hs=(ln&536870912)===0||Rt?_r():536870912);var r=cs.current;return r!==null&&(r.flags|=32),hs}function Kr(r,a,u){(r===Mn&&(En===2||En===9)||r.cancelPendingCommit!==null)&&(Pu(r,0),Co(r,ln,hs,!1)),jn(r,u),((yn&2)===0||r!==Mn)&&(r===Mn&&((yn&2)===0&&(Ml|=u),Kn===4&&Co(r,ln,hs,!1)),Ys(r))}function Y1(r,a,u){if((yn&6)!==0)throw Error(i(327));var d=!u&&(a&124)===0&&(a&r.expiredLanes)===0||si(r,a),y=d?dx(r,a):Cg(r,a,!0),b=d;do{if(y===0){xu&&!d&&Co(r,a,0,!1);break}else{if(u=r.current.alternate,b&&!hx(u)){y=Cg(r,a,!1),b=!1;continue}if(y===2){if(b=a,r.errorRecoveryDisabledLanes&b)var F=0;else F=r.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){a=F;e:{var X=r;y=Kc;var le=X.current.memoizedState.isDehydrated;if(le&&(Pu(X,F).flags|=256),F=Cg(X,F,!1),F!==2){if(_g&&!le){X.errorRecoveryDisabledLanes|=b,Ml|=b,y=4;break e}b=Ar,Ar=y,b!==null&&(Ar===null?Ar=b:Ar.push.apply(Ar,b))}y=F}if(b=!1,y!==2)continue}}if(y===1){Pu(r,0),Co(r,a,0,!0);break}e:{switch(d=r,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Co(d,a,hs,!bo);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=Eg+300-ze(),10<y)){if(Co(d,a,hs,!bo),rr(d,0,!0)!==0)break e;d.timeoutHandle=SE(W1.bind(null,d,u,Ar,Wf,yg,a,hs,Ml,Iu,bo,b,2,-0,0),y);break e}W1(d,u,Ar,Wf,yg,a,hs,Ml,Iu,bo,b,0,-0,0)}}break}while(!0);Ys(r)}function W1(r,a,u,d,y,b,F,X,le,we,Oe,Ve,be,Te){if(r.timeoutHandle=-1,Ve=a.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(th={stylesheets:null,count:0,unsuspend:Zx},q1(a),Ve=$x(),Ve!==null)){r.cancelPendingCommit=Ve(rE.bind(null,r,a,b,u,d,y,F,X,le,Oe,1,be,Te)),Co(r,b,F,!we);return}rE(r,a,b,u,d,y,F,X,le)}function hx(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!cr(b(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Co(r,a,u,d){a&=~vg,a&=~Ml,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var y=a;0<y;){var b=31-sn(y),F=1<<b;d[b]=-1,y&=~F}u!==0&&Vn(r,u,a)}function Xf(){return(yn&6)===0?(Qc(0),!1):!0}function Ag(){if(Gt!==null){if(En===0)var r=Gt.return;else r=Gt,Rs=us=null,jm(r),Au=null,Bc=0,r=Gt;for(;r!==null;)k1(r.alternate,r),r=r.return;Gt=null}}function Pu(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Ix(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Ag(),Mn=r,Gt=u=ls(r.current,null),ln=a,En=0,Gr=null,bo=!1,xu=si(r,a),_g=!1,Iu=hs=vg=Ml=To=Kn=0,Ar=Kc=null,yg=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var y=31-sn(d),b=1<<y;a|=r[y],d&=~b}return ka=a,wl(),u}function X1(r,a){Ft=null,z.H=Bf,a===kc||a===If?(a=m0(),En=3):a===f0?(a=m0(),En=4):En=a===g1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Gr=a,Gt===null&&(Kn=1,qf(r,fr(a,r.current)))}function J1(){var r=z.H;return z.H=Bf,r===null?Bf:r}function eE(){var r=z.A;return z.A=ux,r}function Sg(){Kn=4,bo||(ln&4194048)!==ln&&cs.current!==null||(xu=!0),(To&134217727)===0&&(Ml&134217727)===0||Mn===null||Co(Mn,ln,hs,!1)}function Cg(r,a,u){var d=yn;yn|=2;var y=J1(),b=eE();(Mn!==r||ln!==a)&&(Wf=null,Pu(r,a)),a=!1;var F=Kn;e:do try{if(En!==0&&Gt!==null){var X=Gt,le=Gr;switch(En){case 8:Ag(),F=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(a=!0);var we=En;if(En=0,Gr=null,Mu(r,X,le,we),u&&xu){F=0;break e}break;default:we=En,En=0,Gr=null,Mu(r,X,le,we)}}fx(),F=Kn;break}catch(Oe){X1(r,Oe)}while(!0);return a&&r.shellSuspendCounter++,Rs=us=null,yn=d,z.H=y,z.A=b,Gt===null&&(Mn=null,ln=0,wl()),F}function fx(){for(;Gt!==null;)tE(Gt)}function dx(r,a){var u=yn;yn|=2;var d=J1(),y=eE();Mn!==r||ln!==a?(Wf=null,Yf=ze()+500,Pu(r,a)):xu=si(r,a);e:do try{if(En!==0&&Gt!==null){a=Gt;var b=Gr;t:switch(En){case 1:En=0,Gr=null,Mu(r,a,b,1);break;case 2:case 9:if(d0(b)){En=0,Gr=null,nE(a);break}a=function(){En!==2&&En!==9||Mn!==r||(En=7),Ys(r)},b.then(a,a);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:d0(b)?(En=0,Gr=null,nE(a)):(En=0,Gr=null,Mu(r,a,b,7));break;case 5:var F=null;switch(Gt.tag){case 26:F=Gt.memoizedState;case 5:case 27:var X=Gt;if(!F||VE(F)){En=0,Gr=null;var le=X.sibling;if(le!==null)Gt=le;else{var we=X.return;we!==null?(Gt=we,Jf(we)):Gt=null}break t}}En=0,Gr=null,Mu(r,a,b,5);break;case 6:En=0,Gr=null,Mu(r,a,b,6);break;case 8:Ag(),Kn=6;break e;default:throw Error(i(462))}}px();break}catch(Oe){X1(r,Oe)}while(!0);return Rs=us=null,z.H=d,z.A=y,yn=u,Gt!==null?0:(Mn=null,ln=0,wl(),Kn)}function px(){for(;Gt!==null&&!Ie();)tE(Gt)}function tE(r){var a=x1(r.alternate,r,ka);r.memoizedProps=r.pendingProps,a===null?Jf(r):Gt=a}function nE(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=b1(u,a,a.pendingProps,a.type,void 0,ln);break;case 11:a=b1(u,a,a.pendingProps,a.type.render,a.ref,ln);break;case 5:jm(a);default:k1(u,a),a=Gt=Cc(a,ka),a=x1(u,a,ka)}r.memoizedProps=r.pendingProps,a===null?Jf(r):Gt=a}function Mu(r,a,u,d){Rs=us=null,jm(a),Au=null,Bc=0;var y=a.return;try{if(ix(r,y,a,u,ln)){Kn=1,qf(r,fr(u,r.current)),Gt=null;return}}catch(b){if(y!==null)throw Gt=y,b;Kn=1,qf(r,fr(u,r.current)),Gt=null;return}a.flags&32768?(Rt||d===1?r=!0:xu||(ln&536870912)!==0?r=!1:(bo=r=!0,(d===2||d===9||d===3||d===6)&&(d=cs.current,d!==null&&d.tag===13&&(d.flags|=16384))),iE(a,r)):Jf(a)}function Jf(r){var a=r;do{if((a.flags&32768)!==0){iE(a,bo);return}r=a.return;var u=sx(a.alternate,a,ka);if(u!==null){Gt=u;return}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=r}while(a!==null);Kn===0&&(Kn=5)}function iE(r,a){do{var u=ax(r.alternate,r);if(u!==null){u.flags&=32767,Gt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){Gt=r;return}Gt=r=u}while(r!==null);Kn=6,Gt=null}function rE(r,a,u,d,y,b,F,X,le){r.cancelPendingCommit=null;do ed();while(Ui!==0);if((yn&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=zr,di(r,u,b,F,X,le),r===Mn&&(Gt=Mn=null,ln=0),ku=a,So=r,Ou=u,wg=b,bg=y,$1=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vx(At,function(){return uE(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=z.T,z.T=null,y=G.p,G.p=2,F=yn,yn|=4;try{ox(r,a,u)}finally{yn=F,G.p=y,z.T=d}}Ui=1,sE(),aE(),oE()}}function sE(){if(Ui===1){Ui=0;var r=So,a=ku,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null;var d=G.p;G.p=2;var y=yn;yn|=4;try{j1(a,r);var b=Ug,F=vl(r.containerInfo),X=b.focusedElem,le=b.selectionRange;if(F!==X&&X&&X.ownerDocument&&cu(X.ownerDocument.documentElement,X)){if(le!==null&&yl(X)){var we=le.start,Oe=le.end;if(Oe===void 0&&(Oe=we),"selectionStart"in X)X.selectionStart=we,X.selectionEnd=Math.min(Oe,X.value.length);else{var Ve=X.ownerDocument||document,be=Ve&&Ve.defaultView||window;if(be.getSelection){var Te=be.getSelection(),Ct=X.textContent.length,vt=Math.min(le.start,Ct),Cn=le.end===void 0?vt:Math.min(le.end,Ct);!Te.extend&&vt>Cn&&(F=Cn,Cn=vt,vt=F);var me=Ac(X,vt),fe=Ac(X,Cn);if(me&&fe&&(Te.rangeCount!==1||Te.anchorNode!==me.node||Te.anchorOffset!==me.offset||Te.focusNode!==fe.node||Te.focusOffset!==fe.offset)){var ye=Ve.createRange();ye.setStart(me.node,me.offset),Te.removeAllRanges(),vt>Cn?(Te.addRange(ye),Te.extend(fe.node,fe.offset)):(ye.setEnd(fe.node,fe.offset),Te.addRange(ye))}}}}for(Ve=[],Te=X;Te=Te.parentNode;)Te.nodeType===1&&Ve.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Ve.length;X++){var De=Ve[X];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}fd=!!Vg,Ug=Vg=null}finally{yn=y,G.p=d,z.T=u}}r.current=a,Ui=2}}function aE(){if(Ui===2){Ui=0;var r=So,a=ku,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=z.T,z.T=null;var d=G.p;G.p=2;var y=yn;yn|=4;try{V1(r,a.alternate,a)}finally{yn=y,G.p=d,z.T=u}}Ui=3}}function oE(){if(Ui===4||Ui===3){Ui=0,xe();var r=So,a=ku,u=Ou,d=$1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ui=5:(Ui=0,ku=So=null,lE(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Ao=null),wi(u),a=a.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(rt,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=z.T,y=G.p,G.p=2,z.T=null;try{for(var b=r.onRecoverableError,F=0;F<d.length;F++){var X=d[F];b(X.value,{componentStack:X.stack})}}finally{z.T=a,G.p=y}}(Ou&3)!==0&&ed(),Ys(r),y=r.pendingLanes,(u&4194090)!==0&&(y&42)!==0?r===Tg?$c++:($c=0,Tg=r):$c=0,Qc(0)}}function lE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,xc(a)))}function ed(r){return sE(),aE(),oE(),uE()}function uE(){if(Ui!==5)return!1;var r=So,a=wg;wg=0;var u=wi(Ou),d=z.T,y=G.p;try{G.p=32>u?32:u,z.T=null,u=bg,bg=null;var b=So,F=Ou;if(Ui=0,ku=So=null,Ou=0,(yn&6)!==0)throw Error(i(331));var X=yn;if(yn|=4,Z1(b.current),H1(b,b.current,F,u),yn=X,Qc(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(rt,b)}catch{}return!0}finally{G.p=y,z.T=d,lE(r,a)}}function cE(r,a,u){a=fr(u,a),a=tg(r.stateNode,a,2),r=mo(r,a,2),r!==null&&(jn(r,2),Ys(r))}function In(r,a,u){if(r.tag===3)cE(r,r,u);else for(;a!==null;){if(a.tag===3){cE(a,r,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ao===null||!Ao.has(d))){r=fr(u,r),u=p1(2),d=mo(a,u,2),d!==null&&(m1(u,d,a,r),jn(d,2),Ys(d));break}}a=a.return}}function Rg(r,a,u){var d=r.pingCache;if(d===null){d=r.pingCache=new cx;var y=new Set;d.set(a,y)}else y=d.get(a),y===void 0&&(y=new Set,d.set(a,y));y.has(u)||(_g=!0,y.add(u),r=mx.bind(null,r,a,u),a.then(r,r))}function mx(r,a,u){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Mn===r&&(ln&u)===u&&(Kn===4||Kn===3&&(ln&62914560)===ln&&300>ze()-Eg?(yn&2)===0&&Pu(r,0):vg|=u,Iu===ln&&(Iu=0)),Ys(r)}function hE(r,a){a===0&&(a=Hi()),r=lo(r,a),r!==null&&(jn(r,a),Ys(r))}function gx(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),hE(r,u)}function _x(r,a){var u=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),hE(r,u)}function vx(r,a){return qe(r,a)}var td=null,Du=null,xg=!1,nd=!1,Ig=!1,Dl=0;function Ys(r){r!==Du&&r.next===null&&(Du===null?td=Du=r:Du=Du.next=r),nd=!0,xg||(xg=!0,Ex())}function Qc(r,a){if(!Ig&&nd){Ig=!0;do for(var u=!1,d=td;d!==null;){if(r!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var F=d.suspendedLanes,X=d.pingedLanes;b=(1<<31-sn(42|r)+1)-1,b&=y&~(F&~X),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,mE(d,b))}else b=ln,b=rr(d,d===Mn?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||si(d,b)||(u=!0,mE(d,b));d=d.next}while(u);Ig=!1}}function yx(){fE()}function fE(){nd=xg=!1;var r=0;Dl!==0&&(xx()&&(r=Dl),Dl=0);for(var a=ze(),u=null,d=td;d!==null;){var y=d.next,b=dE(d,a);b===0?(d.next=null,u===null?td=y:u.next=y,y===null&&(Du=u)):(u=d,(r!==0||(b&3)!==0)&&(nd=!0)),d=y}Qc(r)}function dE(r,a){for(var u=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var F=31-sn(b),X=1<<F,le=y[F];le===-1?((X&u)===0||(X&d)!==0)&&(y[F]=gr(X,a)):le<=a&&(r.expiredLanes|=X),b&=~X}if(a=Mn,u=ln,u=rr(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===a&&(En===2||En===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&de(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||si(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(d!==null&&de(d),wi(u)){case 2:case 8:u=at;break;case 32:u=At;break;case 268435456:u=Et;break;default:u=At}return d=pE.bind(null,r),u=qe(u,d),r.callbackPriority=a,r.callbackNode=u,a}return d!==null&&d!==null&&de(d),r.callbackPriority=2,r.callbackNode=null,2}function pE(r,a){if(Ui!==0&&Ui!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(ed()&&r.callbackNode!==u)return null;var d=ln;return d=rr(r,r===Mn?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Y1(r,d,a),dE(r,ze()),r.callbackNode!=null&&r.callbackNode===u?pE.bind(null,r):null)}function mE(r,a){if(ed())return null;Y1(r,a,!0)}function Ex(){kx(function(){(yn&6)!==0?qe(Qe,yx):fE()})}function kg(){return Dl===0&&(Dl=_r()),Dl}function gE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fs(""+r)}function _E(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function wx(r,a,u,d,y){if(a==="submit"&&u&&u.stateNode===y){var b=gE((y[Ge]||null).action),F=d.submitter;F&&(a=(a=F[Ge]||null)?gE(a.formAction):F.getAttribute("formAction"),a!==null&&(b=a,F=null));var X=new pa("action","action",null,d,y);r.push({event:X,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Dl!==0){var le=F?_E(y,F):new FormData(y);Ym(u,{pending:!0,data:le,method:y.method,action:b},null,le)}}else typeof b=="function"&&(X.preventDefault(),le=F?_E(y,F):new FormData(y),Ym(u,{pending:!0,data:le,method:y.method,action:b},b,le))},currentTarget:y}]})}}for(var Og=0;Og<ya.length;Og++){var Pg=ya[Og],bx=Pg.toLowerCase(),Tx=Pg[0].toUpperCase()+Pg.slice(1);jr(bx,"on"+Tx)}jr(Ef,"onAnimationEnd"),jr(Fr,"onAnimationIteration"),jr(El,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Sm,"onTransitionRun"),jr(pu,"onTransitionStart"),jr(Cm,"onTransitionCancel"),jr(Sc,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function vE(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],y=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var F=d.length-1;0<=F;F--){var X=d[F],le=X.instance,we=X.currentTarget;if(X=X.listener,le!==b&&y.isPropagationStopped())break e;b=X,y.currentTarget=we;try{b(y)}catch(Oe){Hf(Oe)}y.currentTarget=null,b=le}else for(F=0;F<d.length;F++){if(X=d[F],le=X.instance,we=X.currentTarget,X=X.listener,le!==b&&y.isPropagationStopped())break e;b=X,y.currentTarget=we;try{b(y)}catch(Oe){Hf(Oe)}y.currentTarget=null,b=le}}}}function Zt(r,a){var u=a[nt];u===void 0&&(u=a[nt]=new Set);var d=r+"__bubble";u.has(d)||(yE(a,r,2,!1),u.add(d))}function Mg(r,a,u){var d=0;a&&(d|=4),yE(u,r,d,a)}var id="_reactListening"+Math.random().toString(36).slice(2);function Dg(r){if(!r[id]){r[id]=!0,Ut.forEach(function(u){u!=="selectionchange"&&(Ax.has(u)||Mg(u,!1,r),Mg(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[id]||(a[id]=!0,Mg("selectionchange",!1,a))}}function yE(r,a,u,d){switch(HE(a)){case 2:var y=Wx;break;case 8:y=Xx;break;default:y=$g}u=y.bind(null,a,u,r),y=void 0,!qi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(a,u,{capture:!0,passive:y}):r.addEventListener(a,u,!0):y!==void 0?r.addEventListener(a,u,{passive:y}):r.addEventListener(a,u,!1)}function Ng(r,a,u,d,y){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var F=d.tag;if(F===3||F===4){var X=d.stateNode.containerInfo;if(X===y)break;if(F===4)for(F=d.return;F!==null;){var le=F.tag;if((le===3||le===4)&&F.stateNode.containerInfo===y)return;F=F.return}for(;X!==null;){if(F=_t(X),F===null)return;if(le=F.tag,le===5||le===6||le===26||le===27){d=b=F;continue e}X=X.parentNode}}d=d.return}ur(function(){var we=b,Oe=Li(u),Ve=[];e:{var be=wf.get(r);if(be!==void 0){var Te=pa,Ct=r;switch(r){case"keypress":if(Tn(u)===0)break e;case"keydown":case"keyup":Te=Ja;break;case"focusin":Ct="focus",Te=$a;break;case"focusout":Ct="blur",Te=$a;break;case"beforeblur":case"afterblur":Te=$a;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=au;break;case Ef:case Fr:case El:Te=Ya;break;case Sc:Te=ou;break;case"scroll":case"scrollend":Te=ru;break;case"wheel":Te=_a;break;case"copy":case"cut":case"paste":Te=js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=eo;break;case"toggle":case"beforetoggle":Te=rs}var vt=(a&4)!==0,Cn=!vt&&(r==="scroll"||r==="scrollend"),me=vt?be!==null?be+"Capture":null:be;vt=[];for(var fe=we,ye;fe!==null;){var De=fe;if(ye=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||ye===null||me===null||(De=on(fe,me),De!=null&&vt.push(Wc(fe,De,ye))),Cn)break;fe=fe.return}0<vt.length&&(be=new Te(be,Ct,null,u,Oe),Ve.push({event:be,listeners:vt}))}}if((a&7)===0){e:{if(be=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",be&&u!==Nr&&(Ct=u.relatedTarget||u.fromElement)&&(_t(Ct)||Ct[We]))break e;if((Te||be)&&(be=Oe.window===Oe?Oe:(be=Oe.ownerDocument)?be.defaultView||be.parentWindow:window,Te?(Ct=u.relatedTarget||u.toElement,Te=we,Ct=Ct?_t(Ct):null,Ct!==null&&(Cn=o(Ct),vt=Ct.tag,Ct!==Cn||vt!==5&&vt!==27&&vt!==6)&&(Ct=null)):(Te=null,Ct=we),Te!==Ct)){if(vt=Ci,De="onMouseLeave",me="onMouseEnter",fe="mouse",(r==="pointerout"||r==="pointerover")&&(vt=eo,De="onPointerLeave",me="onPointerEnter",fe="pointer"),Cn=Te==null?be:Ht(Te),ye=Ct==null?be:Ht(Ct),be=new vt(De,fe+"leave",Te,u,Oe),be.target=Cn,be.relatedTarget=ye,De=null,_t(Oe)===we&&(vt=new vt(me,fe+"enter",Ct,u,Oe),vt.target=ye,vt.relatedTarget=Cn,De=vt),Cn=De,Te&&Ct)t:{for(vt=Te,me=Ct,fe=0,ye=vt;ye;ye=Nu(ye))fe++;for(ye=0,De=me;De;De=Nu(De))ye++;for(;0<fe-ye;)vt=Nu(vt),fe--;for(;0<ye-fe;)me=Nu(me),ye--;for(;fe--;){if(vt===me||me!==null&&vt===me.alternate)break t;vt=Nu(vt),me=Nu(me)}vt=null}else vt=null;Te!==null&&EE(Ve,be,Te,vt,!1),Ct!==null&&Cn!==null&&EE(Ve,Cn,Ct,vt,!0)}}e:{if(be=we?Ht(we):window,Te=be.nodeName&&be.nodeName.toLowerCase(),Te==="select"||Te==="input"&&be.type==="file")var it=no;else if(On(be))if(wc)it=Am;else{it=Tm;var zt=Tc}else Te=be.nodeName,!Te||Te.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?we&&da(we.elementType)&&(it=no):it=Cs;if(it&&(it=it(r,we))){As(Ve,it,u,Oe);break e}zt&&zt(r,be,we),r==="focusout"&&we&&be.type==="number"&&we.memoizedProps.value!=null&&Mr(be,"number",be.value)}switch(zt=we?Ht(we):window,r){case"focusin":(On(zt)||zt.contentEditable==="true")&&(Br=zt,so=we,va=null);break;case"focusout":va=so=Br=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,vf(Ve,u,Oe);break;case"selectionchange":if(hu)break;case"keydown":case"keyup":vf(Ve,u,Oe)}var ct;if(Ki)e:{switch(r){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Yt?Ce(r,u)&&(yt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(yt="onCompositionStart");yt&&(N&&u.locale!=="ko"&&(Yt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Yt&&(ct=Es()):(Er=Oe,Gi="value"in Er?Er.value:Er.textContent,Yt=!0)),zt=rd(we,yt),0<zt.length&&(yt=new Zi(yt,r,null,u,Oe),Ve.push({event:yt,listeners:zt}),ct?yt.data=ct:(ct=Ze(u),ct!==null&&(yt.data=ct)))),(ct=I?Zn(r,u):Wt(r,u))&&(yt=rd(we,"onBeforeInput"),0<yt.length&&(zt=new Zi("onBeforeInput","beforeinput",null,u,Oe),Ve.push({event:zt,listeners:yt}),zt.data=ct)),wx(Ve,r,we,u,Oe)}vE(Ve,a)})}function Wc(r,a,u){return{instance:r,listener:a,currentTarget:u}}function rd(r,a){for(var u=a+"Capture",d=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=on(r,u),y!=null&&d.unshift(Wc(r,y,b)),y=on(r,a),y!=null&&d.push(Wc(r,y,b))),r.tag===3)return d;r=r.return}return[]}function Nu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function EE(r,a,u,d,y){for(var b=a._reactName,F=[];u!==null&&u!==d;){var X=u,le=X.alternate,we=X.stateNode;if(X=X.tag,le!==null&&le===d)break;X!==5&&X!==26&&X!==27||we===null||(le=we,y?(we=on(u,b),we!=null&&F.unshift(Wc(u,we,le))):y||(we=on(u,b),we!=null&&F.push(Wc(u,we,le)))),u=u.return}F.length!==0&&r.push({event:a,listeners:F})}var Sx=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function wE(r){return(typeof r=="string"?r:""+r).replace(Sx,`
`).replace(Cx,"")}function bE(r,a){return a=wE(a),wE(r)===a}function sd(){}function Sn(r,a,u,d,y,b){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Ai(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Ai(r,""+d);break;case"className":Mi(r,"class",d);break;case"tabIndex":Mi(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(r,u,d);break;case"style":vs(r,d,b);break;case"data":if(a!=="object"){Mi(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Fs(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Sn(r,a,"name",y.name,y,null),Sn(r,a,"formEncType",y.formEncType,y,null),Sn(r,a,"formMethod",y.formMethod,y,null),Sn(r,a,"formTarget",y.formTarget,y,null)):(Sn(r,a,"encType",y.encType,y,null),Sn(r,a,"method",y.method,y,null),Sn(r,a,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Fs(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=sd);break;case"onScroll":d!=null&&Zt("scroll",r);break;case"onScrollEnd":d!=null&&Zt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=Fs(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":Zt("beforetoggle",r),Zt("toggle",r),Ti(r,"popover",d);break;case"xlinkActuate":St(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":St(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":St(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":St(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":St(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":St(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":St(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":St(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":St(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ti(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=cl.get(u)||u,Ti(r,u,d))}}function Lg(r,a,u,d,y,b){switch(u){case"style":vs(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?Ai(r,d):(typeof d=="number"||typeof d=="bigint")&&Ai(r,""+d);break;case"onScroll":d!=null&&Zt("scroll",r);break;case"onScrollEnd":d!=null&&Zt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=r[Ge]||null,b=b!=null?b[u]:null,typeof b=="function"&&r.removeEventListener(a,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,d,y);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):Ti(r,u,d)}}}function Bi(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",r),Zt("load",r);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var F=u[b];if(F!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Sn(r,a,b,F,u,null)}}y&&Sn(r,a,"srcSet",u.srcSet,u,null),d&&Sn(r,a,"src",u.src,u,null);return;case"input":Zt("invalid",r);var X=b=F=y=null,le=null,we=null;for(d in u)if(u.hasOwnProperty(d)){var Oe=u[d];if(Oe!=null)switch(d){case"name":y=Oe;break;case"type":F=Oe;break;case"checked":le=Oe;break;case"defaultChecked":we=Oe;break;case"value":b=Oe;break;case"defaultValue":X=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,a));break;default:Sn(r,a,d,Oe,u,null)}}fa(r,b,X,le,we,F,y,!1),Bs(r);return;case"select":Zt("invalid",r),d=F=b=null;for(y in u)if(u.hasOwnProperty(y)&&(X=u[y],X!=null))switch(y){case"value":b=X;break;case"defaultValue":F=X;break;case"multiple":d=X;default:Sn(r,a,y,X,u,null)}a=b,u=F,r.multiple=!!d,a!=null?Ni(r,!!d,a,!1):u!=null&&Ni(r,!!d,u,!0);return;case"textarea":Zt("invalid",r),b=y=d=null;for(F in u)if(u.hasOwnProperty(F)&&(X=u[F],X!=null))switch(F){case"value":d=X;break;case"defaultValue":y=X;break;case"children":b=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:Sn(r,a,F,X,u,null)}lr(r,d,y,b),Bs(r);return;case"option":for(le in u)if(u.hasOwnProperty(le)&&(d=u[le],d!=null))switch(le){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Sn(r,a,le,d,u,null)}return;case"dialog":Zt("beforetoggle",r),Zt("toggle",r),Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":Zt("load",r);break;case"video":case"audio":for(d=0;d<Yc.length;d++)Zt(Yc[d],r);break;case"image":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"embed":case"source":case"link":Zt("error",r),Zt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in u)if(u.hasOwnProperty(we)&&(d=u[we],d!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Sn(r,a,we,d,u,null)}return;default:if(da(a)){for(Oe in u)u.hasOwnProperty(Oe)&&(d=u[Oe],d!==void 0&&Lg(r,a,Oe,d,u,void 0));return}}for(X in u)u.hasOwnProperty(X)&&(d=u[X],d!=null&&Sn(r,a,X,d,u,null))}function Rx(r,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,F=null,X=null,le=null,we=null,Oe=null;for(Te in u){var Ve=u[Te];if(u.hasOwnProperty(Te)&&Ve!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":le=Ve;default:d.hasOwnProperty(Te)||Sn(r,a,Te,null,d,Ve)}}for(var be in d){var Te=d[be];if(Ve=u[be],d.hasOwnProperty(be)&&(Te!=null||Ve!=null))switch(be){case"type":b=Te;break;case"name":y=Te;break;case"checked":we=Te;break;case"defaultChecked":Oe=Te;break;case"value":F=Te;break;case"defaultValue":X=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,a));break;default:Te!==Ve&&Sn(r,a,be,Te,d,Ve)}}kn(r,F,X,le,we,Oe,b,y);return;case"select":Te=F=X=be=null;for(b in u)if(le=u[b],u.hasOwnProperty(b)&&le!=null)switch(b){case"value":break;case"multiple":Te=le;default:d.hasOwnProperty(b)||Sn(r,a,b,null,d,le)}for(y in d)if(b=d[y],le=u[y],d.hasOwnProperty(y)&&(b!=null||le!=null))switch(y){case"value":be=b;break;case"defaultValue":X=b;break;case"multiple":F=b;default:b!==le&&Sn(r,a,y,b,d,le)}a=X,u=F,d=Te,be!=null?Ni(r,!!u,be,!1):!!d!=!!u&&(a!=null?Ni(r,!!u,a,!0):Ni(r,!!u,u?[]:"",!1));return;case"textarea":Te=be=null;for(X in u)if(y=u[X],u.hasOwnProperty(X)&&y!=null&&!d.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Sn(r,a,X,null,d,y)}for(F in d)if(y=d[F],b=u[F],d.hasOwnProperty(F)&&(y!=null||b!=null))switch(F){case"value":be=y;break;case"defaultValue":Te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Sn(r,a,F,y,d,b)}wt(r,be,Te);return;case"option":for(var Ct in u)if(be=u[Ct],u.hasOwnProperty(Ct)&&be!=null&&!d.hasOwnProperty(Ct))switch(Ct){case"selected":r.selected=!1;break;default:Sn(r,a,Ct,null,d,be)}for(le in d)if(be=d[le],Te=u[le],d.hasOwnProperty(le)&&be!==Te&&(be!=null||Te!=null))switch(le){case"selected":r.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Sn(r,a,le,be,d,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in u)be=u[vt],u.hasOwnProperty(vt)&&be!=null&&!d.hasOwnProperty(vt)&&Sn(r,a,vt,null,d,be);for(we in d)if(be=d[we],Te=u[we],d.hasOwnProperty(we)&&be!==Te&&(be!=null||Te!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,a));break;default:Sn(r,a,we,be,d,Te)}return;default:if(da(a)){for(var Cn in u)be=u[Cn],u.hasOwnProperty(Cn)&&be!==void 0&&!d.hasOwnProperty(Cn)&&Lg(r,a,Cn,void 0,d,be);for(Oe in d)be=d[Oe],Te=u[Oe],!d.hasOwnProperty(Oe)||be===Te||be===void 0&&Te===void 0||Lg(r,a,Oe,be,d,Te);return}}for(var me in u)be=u[me],u.hasOwnProperty(me)&&be!=null&&!d.hasOwnProperty(me)&&Sn(r,a,me,null,d,be);for(Ve in d)be=d[Ve],Te=u[Ve],!d.hasOwnProperty(Ve)||be===Te||be==null&&Te==null||Sn(r,a,Ve,be,d,Te)}var Vg=null,Ug=null;function ad(r){return r.nodeType===9?r:r.ownerDocument}function TE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Bg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fg=null;function xx(){var r=window.event;return r&&r.type==="popstate"?r===Fg?!1:(Fg=r,!0):(Fg=null,!1)}var SE=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,CE=typeof Promise=="function"?Promise:void 0,kx=typeof queueMicrotask=="function"?queueMicrotask:typeof CE<"u"?function(r){return CE.resolve(null).then(r).catch(Ox)}:SE;function Ox(r){setTimeout(function(){throw r})}function Ro(r){return r==="head"}function RE(r,a){var u=a,d=0,y=0;do{var b=u.nextSibling;if(r.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<d&&8>d){u=d;var F=r.ownerDocument;if(u&1&&Xc(F.documentElement),u&2&&Xc(F.body),u&4)for(u=F.head,Xc(u),F=u.firstChild;F;){var X=F.nextSibling,le=F.nodeName;F[mt]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&F.rel.toLowerCase()==="stylesheet"||u.removeChild(F),F=X}}if(y===0){r.removeChild(b),ah(a);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:d=u.charCodeAt(0)-48;else d=0;u=b}while(u);ah(a)}function jg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jg(u),ht(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function Px(r,a,u,d){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[mt])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=ks(r.nextSibling),r===null)break}return null}function Mx(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ks(r.nextSibling),r===null))return null;return r}function zg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Dx(r,a){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function ks(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Hg=null;function xE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function IE(r,a,u){switch(a=ad(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Xc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ht(r)}var fs=new Map,kE=new Set;function od(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oa=G.d;G.d={f:Nx,r:Lx,D:Vx,C:Ux,L:Bx,m:Fx,X:zx,S:jx,M:Hx};function Nx(){var r=Oa.f(),a=Xf();return r||a}function Lx(r){var a=Vt(r);a!==null&&a.tag===5&&a.type==="form"?Y0(a):Oa.r(r)}var Lu=typeof document>"u"?null:document;function OE(r,a,u){var d=Lu;if(d&&typeof a=="string"&&a){var y=Nn(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),kE.has(y)||(kE.add(y),r={rel:r,crossOrigin:u,href:a},d.querySelector(y)===null&&(a=d.createElement("link"),Bi(a,"link",r),qt(a),d.head.appendChild(a)))}}function Vx(r){Oa.D(r),OE("dns-prefetch",r,null)}function Ux(r,a){Oa.C(r,a),OE("preconnect",r,a)}function Bx(r,a,u){Oa.L(r,a,u);var d=Lu;if(d&&r&&a){var y='link[rel="preload"][as="'+Nn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Nn(u.imageSizes)+'"]')):y+='[href="'+Nn(r)+'"]';var b=y;switch(a){case"style":b=Vu(r);break;case"script":b=Uu(r)}fs.has(b)||(r=g({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),fs.set(b,r),d.querySelector(y)!==null||a==="style"&&d.querySelector(Jc(b))||a==="script"&&d.querySelector(eh(b))||(a=d.createElement("link"),Bi(a,"link",r),qt(a),d.head.appendChild(a)))}}function Fx(r,a){Oa.m(r,a);var u=Lu;if(u&&r){var d=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Nn(d)+'"][href="'+Nn(r)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Uu(r)}if(!fs.has(b)&&(r=g({rel:"modulepreload",href:r},a),fs.set(b,r),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(eh(b)))return}d=u.createElement("link"),Bi(d,"link",r),qt(d),u.head.appendChild(d)}}}function jx(r,a,u){Oa.S(r,a,u);var d=Lu;if(d&&r){var y=tn(d).hoistableStyles,b=Vu(r);a=a||"default";var F=y.get(b);if(!F){var X={loading:0,preload:null};if(F=d.querySelector(Jc(b)))X.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":a},u),(u=fs.get(b))&&qg(r,u);var le=F=d.createElement("link");qt(le),Bi(le,"link",r),le._p=new Promise(function(we,Oe){le.onload=we,le.onerror=Oe}),le.addEventListener("load",function(){X.loading|=1}),le.addEventListener("error",function(){X.loading|=2}),X.loading|=4,ld(F,a,d)}F={type:"stylesheet",instance:F,count:1,state:X},y.set(b,F)}}}function zx(r,a){Oa.X(r,a);var u=Lu;if(u&&r){var d=tn(u).hoistableScripts,y=Uu(r),b=d.get(y);b||(b=u.querySelector(eh(y)),b||(r=g({src:r,async:!0},a),(a=fs.get(y))&&Gg(r,a),b=u.createElement("script"),qt(b),Bi(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Hx(r,a){Oa.M(r,a);var u=Lu;if(u&&r){var d=tn(u).hoistableScripts,y=Uu(r),b=d.get(y);b||(b=u.querySelector(eh(y)),b||(r=g({src:r,async:!0,type:"module"},a),(a=fs.get(y))&&Gg(r,a),b=u.createElement("script"),qt(b),Bi(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function PE(r,a,u,d){var y=(y=pe.current)?od(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Vu(u.href),u=tn(y).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Vu(u.href);var b=tn(y).hoistableStyles,F=b.get(r);if(F||(y=y.ownerDocument||y,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,F),(b=y.querySelector(Jc(r)))&&!b._p&&(F.instance=b,F.state.loading=5),fs.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},fs.set(r,u),b||qx(y,r,u,F.state))),a&&d===null)throw Error(i(528,""));return F}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Uu(u),u=tn(y).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Vu(r){return'href="'+Nn(r)+'"'}function Jc(r){return'link[rel="stylesheet"]['+r+"]"}function ME(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function qx(r,a,u,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Bi(a,"link",u),qt(a),r.head.appendChild(a))}function Uu(r){return'[src="'+Nn(r)+'"]'}function eh(r){return"script[async]"+r}function DE(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+Nn(u.href)+'"]');if(d)return a.instance=d,qt(d),d;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),qt(d),Bi(d,"style",y),ld(d,u.precedence,r),a.instance=d;case"stylesheet":y=Vu(u.href);var b=r.querySelector(Jc(y));if(b)return a.state.loading|=4,a.instance=b,qt(b),b;d=ME(u),(y=fs.get(y))&&qg(d,y),b=(r.ownerDocument||r).createElement("link"),qt(b);var F=b;return F._p=new Promise(function(X,le){F.onload=X,F.onerror=le}),Bi(b,"link",d),a.state.loading|=4,ld(b,u.precedence,r),a.instance=b;case"script":return b=Uu(u.src),(y=r.querySelector(eh(b)))?(a.instance=y,qt(y),y):(d=u,(y=fs.get(b))&&(d=g({},u),Gg(d,y)),r=r.ownerDocument||r,y=r.createElement("script"),qt(y),Bi(y,"link",d),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,ld(d,u.precedence,r));return a.instance}function ld(r,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,F=0;F<d.length;F++){var X=d[F];if(X.dataset.precedence===a)b=X;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function qg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Gg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var ud=null;function NE(r,a,u){if(ud===null){var d=new Map,y=ud=new Map;y.set(u,d)}else y=ud,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var b=u[y];if(!(b[mt]||b[Le]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var F=b.getAttribute(a)||"";F=r+F;var X=d.get(F);X?X.push(b):d.set(F,[b])}}return d}function LE(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function Gx(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function VE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var th=null;function Zx(){}function Kx(r,a,u){if(th===null)throw Error(i(475));var d=th;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Vu(u.href),b=r.querySelector(Jc(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=cd.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=b,qt(b);return}b=r.ownerDocument||r,u=ME(u),(y=fs.get(y))&&qg(u,y),b=b.createElement("link"),qt(b);var F=b;F._p=new Promise(function(X,le){F.onload=X,F.onerror=le}),Bi(b,"link",u),a.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=cd.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function $x(){if(th===null)throw Error(i(475));var r=th;return r.stylesheets&&r.count===0&&Zg(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&Zg(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)Zg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var hd=null;function Zg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,hd=new Map,a.forEach(Qx,r),hd=null,cd.call(r))}function Qx(r,a){if(!(a.state.loading&4)){var u=hd.get(r);if(u)var d=u.get(null);else{u=new Map,hd.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var F=y[b];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(u.set(F.dataset.precedence,F),d=F)}d&&u.set(null,d)}y=a.instance,F=y.getAttribute("data-precedence"),b=u.get(F)||d,b===d&&u.set(null,y),u.set(F,y),this.count++,d=cd.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var nh={$$typeof:W,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Yx(r,a,u,d,y,b,F,X){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function UE(r,a,u,d,y,b,F,X,le,we,Oe,Ve){return r=new Yx(r,a,u,F,X,le,we,Ve),a=1,b===!0&&(a|=24),b=pr(3,null,null,a),r.current=b,b.stateNode=r,a=Rm(),a.refCount++,r.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:a},Om(b),r}function BE(r){return r?(r=ba,r):ba}function FE(r,a,u,d,y,b){y=BE(y),d.context===null?d.context=y:d.pendingContext=y,d=po(a),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=mo(r,d,a),u!==null&&(Kr(u,r,a),Pc(u,r,a))}function jE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Kg(r,a){jE(r,a),(r=r.alternate)&&jE(r,a)}function zE(r){if(r.tag===13){var a=lo(r,67108864);a!==null&&Kr(a,r,67108864),Kg(r,67108864)}}var fd=!0;function Wx(r,a,u,d){var y=z.T;z.T=null;var b=G.p;try{G.p=2,$g(r,a,u,d)}finally{G.p=b,z.T=y}}function Xx(r,a,u,d){var y=z.T;z.T=null;var b=G.p;try{G.p=8,$g(r,a,u,d)}finally{G.p=b,z.T=y}}function $g(r,a,u,d){if(fd){var y=Qg(d);if(y===null)Ng(r,a,d,dd,u),qE(r,d);else if(eI(y,r,a,u,d))d.stopPropagation();else if(qE(r,d),a&4&&-1<Jx.indexOf(r)){for(;y!==null;){var b=Vt(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var F=Ln(b.pendingLanes);if(F!==0){var X=b;for(X.pendingLanes|=2,X.entangledLanes|=2;F;){var le=1<<31-sn(F);X.entanglements[1]|=le,F&=~le}Ys(b),(yn&6)===0&&(Yf=ze()+500,Qc(0))}}break;case 13:X=lo(b,2),X!==null&&Kr(X,b,2),Xf(),Kg(b,2)}if(b=Qg(d),b===null&&Ng(r,a,d,dd,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else Ng(r,a,d,null,u)}}function Qg(r){return r=Li(r),Yg(r)}var dd=null;function Yg(r){if(dd=null,r=_t(r),r!==null){var a=o(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=c(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return dd=r,null}function HE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case Qe:return 2;case at:return 8;case At:case pt:return 32;case Et:return 268435456;default:return 32}default:return 32}}var Wg=!1,xo=null,Io=null,ko=null,ih=new Map,rh=new Map,Oo=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qE(r,a){switch(r){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":ih.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(a.pointerId)}}function sh(r,a,u,d,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},a!==null&&(a=Vt(a),a!==null&&zE(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function eI(r,a,u,d,y){switch(a){case"focusin":return xo=sh(xo,r,a,u,d,y),!0;case"dragenter":return Io=sh(Io,r,a,u,d,y),!0;case"mouseover":return ko=sh(ko,r,a,u,d,y),!0;case"pointerover":var b=y.pointerId;return ih.set(b,sh(ih.get(b)||null,r,a,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,rh.set(b,sh(rh.get(b)||null,r,a,u,d,y)),!0}return!1}function GE(r){var a=_t(r.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){r.blockedOn=a,ge(r.priority,function(){if(u.tag===13){var d=Zr();d=sr(d);var y=lo(u,d);y!==null&&Kr(y,u,d),Kg(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Qg(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);Nr=d,u.target.dispatchEvent(d),Nr=null}else return a=Vt(u),a!==null&&zE(a),r.blockedOn=u,!1;a.shift()}return!0}function ZE(r,a,u){pd(r)&&u.delete(a)}function tI(){Wg=!1,xo!==null&&pd(xo)&&(xo=null),Io!==null&&pd(Io)&&(Io=null),ko!==null&&pd(ko)&&(ko=null),ih.forEach(ZE),rh.forEach(ZE)}function md(r,a){r.blockedOn===a&&(r.blockedOn=null,Wg||(Wg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tI)))}var gd=null;function KE(r){gd!==r&&(gd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gd===r&&(gd=null);for(var a=0;a<r.length;a+=3){var u=r[a],d=r[a+1],y=r[a+2];if(typeof d!="function"){if(Yg(d||u)===null)continue;break}var b=Vt(u);b!==null&&(r.splice(a,3),a-=3,Ym(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function ah(r){function a(le){return md(le,r)}xo!==null&&md(xo,r),Io!==null&&md(Io,r),ko!==null&&md(ko,r),ih.forEach(a),rh.forEach(a);for(var u=0;u<Oo.length;u++){var d=Oo[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Oo.length&&(u=Oo[0],u.blockedOn===null);)GE(u),u.blockedOn===null&&Oo.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],F=y[Ge]||null;if(typeof b=="function")F||KE(u);else if(F){var X=null;if(b&&b.hasAttribute("formAction")){if(y=b,F=b[Ge]||null)X=F.formAction;else if(Yg(y)!==null)continue}else X=F.action;typeof X=="function"?u[d+1]=X:(u.splice(d,3),d-=3),KE(u)}}}function Xg(r){this._internalRoot=r}_d.prototype.render=Xg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,d=Zr();FE(u,d,r,a,null,null)},_d.prototype.unmount=Xg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;FE(r.current,2,null,r,null,null),Xf(),a[We]=null}};function _d(r){this._internalRoot=r}_d.prototype.unstable_scheduleHydration=function(r){if(r){var a=ue();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Oo.length&&a!==0&&a<Oo[u].priority;u++);Oo.splice(u,0,r),u===0&&GE(r)}};var $E=e.version;if($E!=="19.1.0")throw Error(i(527,$E,"19.1.0"));G.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var nI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{rt=vd.inject(nI),st=vd}catch{}}return lh.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,d="",y=c1,b=h1,F=f1,X=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(F=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(X=a.unstable_transitionCallbacks)),a=UE(r,1,!1,null,null,u,d,y,b,F,X,null),r[We]=a.current,Dg(r),new Xg(a)},lh.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var d=!1,y="",b=c1,F=h1,X=f1,le=null,we=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(F=u.onCaughtError),u.onRecoverableError!==void 0&&(X=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(le=u.unstable_transitionCallbacks),u.formState!==void 0&&(we=u.formState)),a=UE(r,1,!0,a,u??null,d,y,b,F,X,le,we),a.context=BE(null),u=a.current,d=Zr(),d=sr(d),y=po(d),y.callback=null,mo(u,y,d),u=d,a.current.lanes=u,jn(a,u),Ys(a),r[We]=a.current,Dg(r),new _d(a)},lh.version="19.1.0",lh}var rw;function hI(){if(rw)return t_.exports;rw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),t_.exports=cI(),t_.exports}var fI=hI();const dI=lc(fI);var uh={},sw;function pI(){if(sw)return uh;sw=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.parse=c,uh.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,C){const R=new o,O=w.length;if(O<2)return R;const D=C?.decode||g;let j=0;do{const te=w.indexOf("=",j);if(te===-1)break;const W=w.indexOf(";",j),ee=W===-1?O:W;if(te>ee){j=w.lastIndexOf(";",te-1)+1;continue}const ne=f(w,j,te),q=p(w,te,ne),Z=w.slice(ne,q);if(R[Z]===void 0){let A=f(w,te+1,ee),S=p(w,ee,A);const P=D(w.slice(A,S));R[Z]=P}j=ee+1}while(j<O);return R}function f(w,C,R){do{const O=w.charCodeAt(C);if(O!==32&&O!==9)return C}while(++C<R);return R}function p(w,C,R){for(;C>R;){const O=w.charCodeAt(--C);if(O!==32&&O!==9)return C+1}return R}function m(w,C,R){const O=R?.encode||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=O(C);if(!e.test(D))throw new TypeError(`argument val is invalid: ${C}`);let j=w+"="+D;if(!R)return j;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);j+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);j+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);j+="; Path="+R.path}if(R.expires){if(!E(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);j+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(j+="; HttpOnly"),R.secure&&(j+="; Secure"),R.partitioned&&(j+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return j}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function E(w){return s.call(w)==="[object Date]"}return uh}pI();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aA=n=>{throw TypeError(n)},mI=(n,e,t)=>e.has(n)||aA("Cannot "+t),s_=(n,e,t)=>(mI(n,e,"read from private field"),t?t.call(n):e.get(n)),gI=(n,e,t)=>e.has(n)?aA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),aw="popstate";function _I(n={}){function e(i,s){let{pathname:o,search:c,hash:f}=i.location;return Mh("",{pathname:o,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:$o(s)}return yI(e,t,null,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vI(){return Math.random().toString(36).substring(2,10)}function ow(n,e){return{usr:n.state,key:n.key,idx:e}}function Mh(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:t,key:e&&e.key||i||vI()}}function $o({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function yI(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,f="POP",p=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function E(){f="POP";let D=g(),j=D==null?null:D-m;m=D,p&&p({action:f,location:O.location,delta:j})}function w(D,j){f="PUSH";let te=Mh(O.location,D,j);m=g()+1;let W=ow(te,m),ee=O.createHref(te);try{c.pushState(W,"",ee)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(ee)}o&&p&&p({action:f,location:O.location,delta:1})}function C(D,j){f="REPLACE";let te=Mh(O.location,D,j);m=g();let W=ow(te,m),ee=O.createHref(te);c.replaceState(W,"",ee),o&&p&&p({action:f,location:O.location,delta:0})}function R(D){return oA(D)}let O={get action(){return f},get location(){return n(s,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(aw,E),p=D,()=>{s.removeEventListener(aw,E),p=null}},createHref(D){return e(s,D)},createURL:R,encodeLocation(D){let j=R(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:C,go(D){return c.go(D)}};return O}function oA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:$o(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var mh,lw=class{constructor(n){if(gI(this,mh,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(s_(this,mh).has(n))return s_(this,mh).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){s_(this,mh).set(n,e)}};mh=new WeakMap;var EI=new Set(["lazy","caseSensitive","path","id","index","children"]);function wI(n){return EI.has(n)}var bI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function TI(n){return bI.has(n)}function AI(n){return n.index===!0}function Yd(n,e,t=[],i={}){return n.map((s,o)=>{let c=[...t,String(o)],f=typeof s.id=="string"?s.id:c.join("-");if($t(s.index!==!0||!s.children,"Cannot specify children on an index route"),$t(!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),AI(s)){let p={...s,...e(s),id:f};return i[f]=p,p}else{let p={...s,...e(s),id:f,children:void 0};return i[f]=p,s.children&&(p.children=Yd(s.children,e,c,i)),p}})}function No(n,e,t="/"){return kd(n,e,t,!1)}function kd(n,e,t,i){let s=typeof e=="string"?il(e):e,o=_s(s.pathname||"/",t);if(o==null)return null;let c=lA(n);CI(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=VI(o);f=NI(c[p],m,i)}return f}function SI(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function lA(n,e=[],t=[],i=""){let s=(o,c,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&($t(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=na([i,p.relativePath]),g=t.concat(p);o.children&&o.children.length>0&&($t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),lA(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:MI(m,o.index),routesMeta:g})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let f of uA(o.path))s(o,c,f)}),e}function uA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=uA(i.join("/")),f=[];return f.push(...c.map(p=>p===""?o:[o,p].join("/"))),s&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function CI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var RI=/^:[\w-]+$/,xI=3,II=2,kI=1,OI=10,PI=-2,uw=n=>n==="*";function MI(n,e){let t=n.split("/"),i=t.length;return t.some(uw)&&(i+=PI),e&&(i+=II),t.filter(s=>!uw(s)).reduce((s,o)=>s+(RI.test(o)?xI:o===""?kI:OI),i)}function DI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function NI(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",E=Wd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),w=p.route;if(!E&&m&&t&&!i[i.length-1].route.index&&(E=Wd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:na([o,E.pathname]),pathnameBase:FI(na([o,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(o=na([o,E.pathnameBase]))}return c}function Wd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=LI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:E},w)=>{if(g==="*"){let R=f[w]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const C=f[w];return E&&!C?m[g]=void 0:m[g]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function LI(n,e=!1,t=!0){fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function VI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _s(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UI(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?il(n):n;return{pathname:t?t.startsWith("/")?t:BI(t,e):e,search:jI(i),hash:zI(s)}}function BI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function a_(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Nv(n){let e=cA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Lv(n,e,t,i=!1){let s;typeof n=="string"?s=il(n):(s={...n},$t(!s.pathname||!s.pathname.includes("?"),a_("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),a_("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),a_("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,f;if(c==null)f=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;s.pathname=w.join("/")}f=E>=0?e[E]:"/"}let p=UI(s,f),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var na=n=>n.join("/").replace(/\/\/+/g,"/"),FI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Xd=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Dh(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hA=["POST","PUT","PATCH","DELETE"],HI=new Set(hA),qI=["GET",...hA],GI=new Set(qI),ZI=new Set([301,302,303,307,308]),KI=new Set([307,308]),o_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$I={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ch={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),fA="remix-router-transitions",dA=Symbol("ResetLoaderData");function YI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";$t(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||QI,o={},c=Yd(n.routes,s,void 0,o),f,p=n.basename||"/",m=n.dataStrategy||tk,g={unstable_middleware:!1,...n.future},E=null,w=new Set,C=null,R=null,O=null,D=n.hydrationData!=null,j=No(c,n.history.location,p),te=!1,W=null,ee;if(j==null&&!n.patchRoutesOnNavigation){let ue=ds(404,{pathname:n.history.location.pathname}),{matches:ge,route:Ee}=ww(c);ee=!0,j=ge,W={[Ee.id]:ue}}else if(j&&!n.hydrationData&&Vn(j,c,n.history.location.pathname).active&&(j=null),j)if(j.some(ue=>ue.route.lazy))ee=!1;else if(!j.some(ue=>ue.route.loader))ee=!0;else{let ue=n.hydrationData?n.hydrationData.loaderData:null,ge=n.hydrationData?n.hydrationData.errors:null;if(ge){let Ee=j.findIndex(Le=>ge[Le.route.id]!==void 0);ee=j.slice(0,Ee+1).every(Le=>!K_(Le.route,ue,ge))}else ee=j.every(Ee=>!K_(Ee.route,ue,ge))}else{ee=!1,j=[];let ue=Vn(null,c,n.history.location.pathname);ue.active&&ue.matches&&(te=!0,j=ue.matches)}let ne,q={historyAction:n.history.action,location:n.history.location,matches:j,initialized:ee,navigation:o_,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||W,fetchers:new Map,blockers:new Map},Z="POP",A=!1,S,P=!1,V=new Map,H=null,U=!1,ie=!1,ce=new Set,z=new Map,G=0,ae=-1,Q=new Map,M=new Set,K=new Map,Y=new Map,B=new Set,re=new Map,se,pe=null;function Me(){if(E=n.history.listen(({action:ue,location:ge,delta:Ee})=>{if(se){se(),se=void 0;return}fi(re.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Le=gr({currentLocation:q.location,nextLocation:ge,historyAction:ue});if(Le&&Ee!=null){let Ge=new Promise(We=>{se=We});n.history.go(Ee*-1),si(Le,{state:"blocked",location:ge,proceed(){si(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Ge.then(()=>n.history.go(Ee))},reset(){let We=new Map(q.blockers);We.set(Le,ch),je({blockers:We})}});return}return de(ue,ge)}),t){fk(e,V);let ue=()=>dk(e,V);e.addEventListener("pagehide",ue),H=()=>e.removeEventListener("pagehide",ue)}return q.initialized||de("POP",q.location,{initialHydration:!0}),ne}function Ae(){E&&E(),H&&H(),w.clear(),S&&S.abort(),q.fetchers.forEach((ue,ge)=>sn(ge)),q.blockers.forEach((ue,ge)=>rr(ge))}function Ne(ue){return w.add(ue),()=>w.delete(ue)}function je(ue,ge={}){q={...q,...ue};let Ee=[],Le=[];q.fetchers.forEach((Ge,We)=>{Ge.state==="idle"&&(B.has(We)?Ee.push(We):Le.push(We))}),B.forEach(Ge=>{!q.fetchers.has(Ge)&&!z.has(Ge)&&Ee.push(Ge)}),[...w].forEach(Ge=>Ge(q,{deletedFetchers:Ee,viewTransitionOpts:ge.viewTransitionOpts,flushSync:ge.flushSync===!0})),Ee.forEach(Ge=>sn(Ge)),Le.forEach(Ge=>q.fetchers.delete(Ge))}function Ue(ue,ge,{flushSync:Ee}={}){let Le=q.actionData!=null&&q.navigation.formMethod!=null&&Qr(q.navigation.formMethod)&&q.navigation.state==="loading"&&ue.state?._isRedirect!==!0,Ge;ge.actionData?Object.keys(ge.actionData).length>0?Ge=ge.actionData:Ge=null:Le?Ge=q.actionData:Ge=null;let We=ge.loaderData?yw(q.loaderData,ge.loaderData,ge.matches||[],ge.errors):q.loaderData,nt=q.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((Je,mt)=>nt.set(mt,ch)));let ke=A===!0||q.navigation.formMethod!=null&&Qr(q.navigation.formMethod)&&ue.state?._isRedirect!==!0;f&&(c=f,f=void 0),U||Z==="POP"||(Z==="PUSH"?n.history.push(ue,ue.state):Z==="REPLACE"&&n.history.replace(ue,ue.state));let et;if(Z==="POP"){let Je=V.get(q.location.pathname);Je&&Je.has(ue.pathname)?et={currentLocation:q.location,nextLocation:ue}:V.has(ue.pathname)&&(et={currentLocation:ue,nextLocation:q.location})}else if(P){let Je=V.get(q.location.pathname);Je?Je.add(ue.pathname):(Je=new Set([ue.pathname]),V.set(q.location.pathname,Je)),et={currentLocation:q.location,nextLocation:ue}}je({...ge,actionData:Ge,loaderData:We,historyAction:Z,location:ue,initialized:!0,navigation:o_,revalidation:"idle",restoreScrollPosition:di(ue,ge.matches||q.matches),preventScrollReset:ke,blockers:nt},{viewTransitionOpts:et,flushSync:Ee===!0}),Z="POP",A=!1,P=!1,U=!1,ie=!1,pe?.resolve(),pe=null}async function Ke(ue,ge){if(typeof ue=="number"){n.history.go(ue);return}let Ee=Z_(q.location,q.matches,p,ue,ge?.fromRouteId,ge?.relative),{path:Le,submission:Ge,error:We}=cw(!1,Ee,ge),nt=q.location,ke=Mh(q.location,Le,ge&&ge.state);ke={...ke,...n.history.encodeLocation(ke)};let et=ge&&ge.replace!=null?ge.replace:void 0,Je="PUSH";et===!0?Je="REPLACE":et===!1||Ge!=null&&Qr(Ge.formMethod)&&Ge.formAction===q.location.pathname+q.location.search&&(Je="REPLACE");let mt=ge&&"preventScrollReset"in ge?ge.preventScrollReset===!0:void 0,ht=(ge&&ge.flushSync)===!0,_t=gr({currentLocation:nt,nextLocation:ke,historyAction:Je});if(_t){si(_t,{state:"blocked",location:ke,proceed(){si(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),Ke(ue,ge)},reset(){let Vt=new Map(q.blockers);Vt.set(_t,ch),je({blockers:Vt})}});return}await de(Je,ke,{submission:Ge,pendingError:We,preventScrollReset:mt,replace:ge&&ge.replace,enableViewTransition:ge&&ge.viewTransition,flushSync:ht})}function qe(){pe||(pe=pk()),en(),je({revalidation:"loading"});let ue=pe.promise;return q.navigation.state==="submitting"?ue:q.navigation.state==="idle"?(de(q.historyAction,q.location,{startUninterruptedRevalidation:!0}),ue):(de(Z||q.historyAction,q.navigation.location,{overrideNavigation:q.navigation,enableViewTransition:P===!0}),ue)}async function de(ue,ge,Ee){S&&S.abort(),S=null,Z=ue,U=(Ee&&Ee.startUninterruptedRevalidation)===!0,jn(q.location,q.matches),A=(Ee&&Ee.preventScrollReset)===!0,P=(Ee&&Ee.enableViewTransition)===!0;let Le=f||c,Ge=Ee&&Ee.overrideNavigation,We=Ee?.initialHydration&&q.matches&&q.matches.length>0&&!te?q.matches:No(Le,ge,p),nt=(Ee&&Ee.flushSync)===!0;if(We&&q.initialized&&!ie&&ok(q.location,ge)&&!(Ee&&Ee.submission&&Qr(Ee.submission.formMethod))){Ue(ge,{matches:We},{flushSync:nt});return}let ke=Vn(We,Le,ge.pathname);if(ke.active&&ke.matches&&(We=ke.matches),!We){let{error:tn,notFoundMatches:qt,route:Ut}=_r(ge.pathname);Ue(ge,{matches:qt,loaderData:{},errors:{[Ut.id]:tn}},{flushSync:nt});return}S=new AbortController;let et=Fu(n.history,ge,S.signal,Ee&&Ee.submission),Je=new lw(n.unstable_getContext?await n.unstable_getContext():void 0),mt;if(Ee&&Ee.pendingError)mt=[Ll(We).route.id,{type:"error",error:Ee.pendingError}];else if(Ee&&Ee.submission&&Qr(Ee.submission.formMethod)){let tn=await Ie(et,ge,Ee.submission,We,Je,ke.active,Ee&&Ee.initialHydration===!0,{replace:Ee.replace,flushSync:nt});if(tn.shortCircuited)return;if(tn.pendingActionResult){let[qt,Ut]=tn.pendingActionResult;if($r(Ut)&&Dh(Ut.error)&&Ut.error.status===404){S=null,Ue(ge,{matches:tn.matches,loaderData:{},errors:{[qt]:Ut.error}});return}}We=tn.matches||We,mt=tn.pendingActionResult,Ge=l_(ge,Ee.submission),nt=!1,ke.active=!1,et=Fu(n.history,et.url,et.signal)}let{shortCircuited:ht,matches:_t,loaderData:Vt,errors:Ht}=await xe(et,ge,We,Je,ke.active,Ge,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,nt,mt);ht||(S=null,Ue(ge,{matches:_t||We,...Ew(mt),loaderData:Vt,errors:Ht}))}async function Ie(ue,ge,Ee,Le,Ge,We,nt,ke={}){en();let et=ck(ge,Ee);if(je({navigation:et},{flushSync:ke.flushSync===!0}),We){let ht=await Ei(Le,ge.pathname,ue.signal);if(ht.type==="aborted")return{shortCircuited:!0};if(ht.type==="error"){let _t=Ll(ht.partialMatches).route.id;return{matches:ht.partialMatches,pendingActionResult:[_t,{type:"error",error:ht.error}]}}else if(ht.matches)Le=ht.matches;else{let{notFoundMatches:_t,error:Vt,route:Ht}=_r(ge.pathname);return{matches:_t,pendingActionResult:[Ht.id,{type:"error",error:Vt}]}}}let Je,mt=gh(Le,ge);if(!mt.route.action&&!mt.route.lazy)Je={type:"error",error:ds(405,{method:ue.method,pathname:ge.pathname,routeId:mt.route.id})};else{let ht=Qu(s,o,ue,Le,mt,nt?[]:i,Ge),_t=await Et(ue,ht,Ge,null);if(Je=_t[mt.route.id],!Je){for(let Vt of Le)if(_t[Vt.route.id]){Je=_t[Vt.route.id];break}}if(ue.signal.aborted)return{shortCircuited:!0}}if(Vl(Je)){let ht;return ke&&ke.replace!=null?ht=ke.replace:ht=gw(Je.response.headers.get("Location"),new URL(ue.url),p)===q.location.pathname+q.location.search,await pt(ue,Je,!0,{submission:Ee,replace:ht}),{shortCircuited:!0}}if($r(Je)){let ht=Ll(Le,mt.route.id);return(ke&&ke.replace)!==!0&&(Z="PUSH"),{matches:Le,pendingActionResult:[ht.route.id,Je,mt.route.id]}}return{matches:Le,pendingActionResult:[mt.route.id,Je]}}async function xe(ue,ge,Ee,Le,Ge,We,nt,ke,et,Je,mt,ht){let _t=We||l_(ge,nt),Vt=nt||ke||Tw(_t),Ht=!U&&!Je;if(Ge){if(Ht){let Un=ze(ht);je({navigation:_t,...Un!==void 0?{actionData:Un}:{}},{flushSync:mt})}let St=await Ei(Ee,ge.pathname,ue.signal);if(St.type==="aborted")return{shortCircuited:!0};if(St.type==="error"){let Un=Ll(St.partialMatches).route.id;return{matches:St.partialMatches,loaderData:{},errors:{[Un]:St.error}}}else if(St.matches)Ee=St.matches;else{let{error:Un,notFoundMatches:mi,route:Di}=_r(ge.pathname);return{matches:mi,loaderData:{},errors:{[Di.id]:Un}}}}let tn=f||c,{dsMatches:qt,revalidatingFetchers:Ut}=hw(ue,Le,s,o,n.history,q,Ee,Vt,ge,Je?[]:i,Je===!0,ie,ce,B,K,M,tn,p,n.patchRoutesOnNavigation!=null,ht);if(ae=++G,!n.dataStrategy&&!qt.some(St=>St.shouldLoad)&&Ut.length===0){let St=_n();return Ue(ge,{matches:Ee,loaderData:{},errors:ht&&$r(ht[1])?{[ht[0]]:ht[1].error}:null,...Ew(ht),...St?{fetchers:new Map(q.fetchers)}:{}},{flushSync:mt}),{shortCircuited:!0}}if(Ht){let St={};if(!Ge){St.navigation=_t;let Un=ze(ht);Un!==void 0&&(St.actionData=Un)}Ut.length>0&&(St.fetchers=He(Ut)),je(St,{flushSync:mt})}Ut.forEach(St=>{an(St.key),St.controller&&z.set(St.key,St.controller)});let vr=()=>Ut.forEach(St=>an(St.key));S&&S.signal.addEventListener("abort",vr);let{loaderResults:Wn,fetcherResults:bi}=await lt(qt,Ut,ue,Le);if(ue.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",vr),Ut.forEach(St=>z.delete(St.key));let pi=yd(Wn);if(pi)return await pt(ue,pi.result,!0,{replace:et}),{shortCircuited:!0};if(pi=yd(bi),pi)return M.add(pi.key),await pt(ue,pi.result,!0,{replace:et}),{shortCircuited:!0};let{loaderData:ar,errors:or}=vw(q,Ee,Wn,ht,Ut,bi);Je&&q.errors&&(or={...q.errors,...or});let Vs=_n(),Ti=bn(ae),Mi=Vs||Ti||Ut.length>0;return{matches:Ee,loaderData:ar,errors:or,...Mi?{fetchers:new Map(q.fetchers)}:{}}}function ze(ue){if(ue&&!$r(ue[1]))return{[ue[0]]:ue[1].data};if(q.actionData)return Object.keys(q.actionData).length===0?null:q.actionData}function He(ue){return ue.forEach(ge=>{let Ee=q.fetchers.get(ge.key),Le=hh(void 0,Ee?Ee.data:void 0);q.fetchers.set(ge.key,Le)}),new Map(q.fetchers)}async function Qe(ue,ge,Ee,Le){an(ue);let Ge=(Le&&Le.flushSync)===!0,We=f||c,nt=Z_(q.location,q.matches,p,Ee,ge,Le?.relative),ke=No(We,nt,p),et=Vn(ke,We,nt);if(et.active&&et.matches&&(ke=et.matches),!ke){st(ue,ge,ds(404,{pathname:nt}),{flushSync:Ge});return}let{path:Je,submission:mt,error:ht}=cw(!0,nt,Le);if(ht){st(ue,ge,ht,{flushSync:Ge});return}let _t=gh(ke,Je),Vt=new lw(n.unstable_getContext?await n.unstable_getContext():void 0),Ht=(Le&&Le.preventScrollReset)===!0;if(mt&&Qr(mt.formMethod)){await at(ue,ge,Je,_t,ke,Vt,et.active,Ge,Ht,mt);return}K.set(ue,{routeId:ge,path:Je}),await At(ue,ge,Je,_t,ke,Vt,et.active,Ge,Ht,mt)}async function at(ue,ge,Ee,Le,Ge,We,nt,ke,et,Je){en(),K.delete(ue);function mt(cn){if(!cn.route.action&&!cn.route.lazy){let Ot=ds(405,{method:Je.formMethod,pathname:Ee,routeId:ge});return st(ue,ge,Ot,{flushSync:ke}),!0}return!1}if(!nt&&mt(Le))return;let ht=q.fetchers.get(ue);rt(ue,hk(Je,ht),{flushSync:ke});let _t=new AbortController,Vt=Fu(n.history,Ee,_t.signal,Je);if(nt){let cn=await Ei(Ge,Ee,Vt.signal,ue);if(cn.type==="aborted")return;if(cn.type==="error"){st(ue,ge,cn.error,{flushSync:ke});return}else if(cn.matches){if(Ge=cn.matches,Le=gh(Ge,Ee),mt(Le))return}else{st(ue,ge,ds(404,{pathname:Ee}),{flushSync:ke});return}}z.set(ue,_t);let Ht=G,tn=Qu(s,o,Vt,Ge,Le,i,We),Ut=(await Et(Vt,tn,We,ue))[Le.route.id];if(Vt.signal.aborted){z.get(ue)===_t&&z.delete(ue);return}if(B.has(ue)){if(Vl(Ut)||$r(Ut)){rt(ue,Do(void 0));return}}else{if(Vl(Ut))if(z.delete(ue),ae>Ht){rt(ue,Do(void 0));return}else return M.add(ue),rt(ue,hh(Je)),pt(Vt,Ut,!1,{fetcherSubmission:Je,preventScrollReset:et});if($r(Ut)){st(ue,ge,Ut.error);return}}let vr=q.navigation.location||q.location,Wn=Fu(n.history,vr,_t.signal),bi=f||c,pi=q.navigation.state!=="idle"?No(bi,q.navigation.location,p):q.matches;$t(pi,"Didn't find any matches after fetcher action");let ar=++G;Q.set(ue,ar);let or=hh(Je,Ut.data);q.fetchers.set(ue,or);let{dsMatches:Vs,revalidatingFetchers:Ti}=hw(Wn,We,s,o,n.history,q,pi,Je,vr,i,!1,ie,ce,B,K,M,bi,p,n.patchRoutesOnNavigation!=null,[Le.route.id,Ut]);Ti.filter(cn=>cn.key!==ue).forEach(cn=>{let Ot=cn.key,hn=q.fetchers.get(Ot),Gn=hh(void 0,hn?hn.data:void 0);q.fetchers.set(Ot,Gn),an(Ot),cn.controller&&z.set(Ot,cn.controller)}),je({fetchers:new Map(q.fetchers)});let Mi=()=>Ti.forEach(cn=>an(cn.key));_t.signal.addEventListener("abort",Mi);let{loaderResults:St,fetcherResults:Un}=await lt(Vs,Ti,Wn,We);if(_t.signal.aborted)return;if(_t.signal.removeEventListener("abort",Mi),Q.delete(ue),z.delete(ue),Ti.forEach(cn=>z.delete(cn.key)),q.fetchers.has(ue)){let cn=Do(Ut.data);q.fetchers.set(ue,cn)}let mi=yd(St);if(mi)return pt(Wn,mi.result,!1,{preventScrollReset:et});if(mi=yd(Un),mi)return M.add(mi.key),pt(Wn,mi.result,!1,{preventScrollReset:et});let{loaderData:Di,errors:Pr}=vw(q,pi,St,void 0,Ti,Un);bn(ar),q.navigation.state==="loading"&&ar>ae?($t(Z,"Expected pending action"),S&&S.abort(),Ue(q.navigation.location,{matches:pi,loaderData:Di,errors:Pr,fetchers:new Map(q.fetchers)})):(je({errors:Pr,loaderData:yw(q.loaderData,Di,pi,Pr),fetchers:new Map(q.fetchers)}),ie=!1)}async function At(ue,ge,Ee,Le,Ge,We,nt,ke,et,Je){let mt=q.fetchers.get(ue);rt(ue,hh(Je,mt?mt.data:void 0),{flushSync:ke});let ht=new AbortController,_t=Fu(n.history,Ee,ht.signal);if(nt){let Ut=await Ei(Ge,Ee,_t.signal,ue);if(Ut.type==="aborted")return;if(Ut.type==="error"){st(ue,ge,Ut.error,{flushSync:ke});return}else if(Ut.matches)Ge=Ut.matches,Le=gh(Ge,Ee);else{st(ue,ge,ds(404,{pathname:Ee}),{flushSync:ke});return}}z.set(ue,ht);let Vt=G,Ht=Qu(s,o,_t,Ge,Le,i,We),qt=(await Et(_t,Ht,We,ue))[Le.route.id];if(z.get(ue)===ht&&z.delete(ue),!_t.signal.aborted){if(B.has(ue)){rt(ue,Do(void 0));return}if(Vl(qt))if(ae>Vt){rt(ue,Do(void 0));return}else{M.add(ue),await pt(_t,qt,!1,{preventScrollReset:et});return}if($r(qt)){st(ue,ge,qt.error);return}rt(ue,Do(qt.data))}}async function pt(ue,ge,Ee,{submission:Le,fetcherSubmission:Ge,preventScrollReset:We,replace:nt}={}){ge.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let ke=ge.response.headers.get("Location");$t(ke,"Expected a Location header on the redirect Response"),ke=gw(ke,new URL(ue.url),p);let et=Mh(q.location,ke,{_isRedirect:!0});if(t){let Ht=!1;if(ge.response.headers.has("X-Remix-Reload-Document"))Ht=!0;else if(Vv.test(ke)){const tn=oA(ke,!0);Ht=tn.origin!==e.location.origin||_s(tn.pathname,p)==null}if(Ht){nt?e.location.replace(ke):e.location.assign(ke);return}}S=null;let Je=nt===!0||ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:mt,formAction:ht,formEncType:_t}=q.navigation;!Le&&!Ge&&mt&&ht&&_t&&(Le=Tw(q.navigation));let Vt=Le||Ge;if(KI.has(ge.response.status)&&Vt&&Qr(Vt.formMethod))await de(Je,et,{submission:{...Vt,formAction:ke},preventScrollReset:We||A,enableViewTransition:Ee?P:void 0});else{let Ht=l_(et,Le);await de(Je,et,{overrideNavigation:Ht,fetcherSubmission:Ge,preventScrollReset:We||A,enableViewTransition:Ee?P:void 0})}}async function Et(ue,ge,Ee,Le){let Ge,We={};try{Ge=await nk(m,ue,ge,Le,Ee,!1)}catch(nt){return ge.filter(ke=>ke.shouldLoad).forEach(ke=>{We[ke.route.id]={type:"error",error:nt}}),We}if(ue.signal.aborted)return We;for(let[nt,ke]of Object.entries(Ge))if(lk(ke)){let et=ke.result;We[nt]={type:"redirect",response:sk(et,ue,nt,ge,p)}}else We[nt]=await rk(ke);return We}async function lt(ue,ge,Ee,Le){let Ge=Et(Ee,ue,Le,null),We=Promise.all(ge.map(async et=>{if(et.matches&&et.match&&et.request&&et.controller){let mt=(await Et(et.request,et.matches,Le,et.key))[et.match.route.id];return{[et.key]:mt}}else return Promise.resolve({[et.key]:{type:"error",error:ds(404,{pathname:et.path})}})})),nt=await Ge,ke=(await We).reduce((et,Je)=>Object.assign(et,Je),{});return{loaderResults:nt,fetcherResults:ke}}function en(){ie=!0,K.forEach((ue,ge)=>{z.has(ge)&&ce.add(ge),an(ge)})}function rt(ue,ge,Ee={}){q.fetchers.set(ue,ge),je({fetchers:new Map(q.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function st(ue,ge,Ee,Le={}){let Ge=Ll(q.matches,ge);sn(ue),je({errors:{[Ge.route.id]:Ee},fetchers:new Map(q.fetchers)},{flushSync:(Le&&Le.flushSync)===!0})}function xt(ue){return Y.set(ue,(Y.get(ue)||0)+1),B.has(ue)&&B.delete(ue),q.fetchers.get(ue)||$I}function sn(ue){let ge=q.fetchers.get(ue);z.has(ue)&&!(ge&&ge.state==="loading"&&Q.has(ue))&&an(ue),K.delete(ue),Q.delete(ue),M.delete(ue),B.delete(ue),ce.delete(ue),q.fetchers.delete(ue)}function wn(ue){let ge=(Y.get(ue)||0)-1;ge<=0?(Y.delete(ue),B.add(ue)):Y.set(ue,ge),je({fetchers:new Map(q.fetchers)})}function an(ue){let ge=z.get(ue);ge&&(ge.abort(),z.delete(ue))}function Qt(ue){for(let ge of ue){let Ee=xt(ge),Le=Do(Ee.data);q.fetchers.set(ge,Le)}}function _n(){let ue=[],ge=!1;for(let Ee of M){let Le=q.fetchers.get(Ee);$t(Le,`Expected fetcher: ${Ee}`),Le.state==="loading"&&(M.delete(Ee),ue.push(Ee),ge=!0)}return Qt(ue),ge}function bn(ue){let ge=[];for(let[Ee,Le]of Q)if(Le<ue){let Ge=q.fetchers.get(Ee);$t(Ge,`Expected fetcher: ${Ee}`),Ge.state==="loading"&&(an(Ee),Q.delete(Ee),ge.push(Ee))}return Qt(ge),ge.length>0}function Ln(ue,ge){let Ee=q.blockers.get(ue)||ch;return re.get(ue)!==ge&&re.set(ue,ge),Ee}function rr(ue){q.blockers.delete(ue),re.delete(ue)}function si(ue,ge){let Ee=q.blockers.get(ue)||ch;$t(Ee.state==="unblocked"&&ge.state==="blocked"||Ee.state==="blocked"&&ge.state==="blocked"||Ee.state==="blocked"&&ge.state==="proceeding"||Ee.state==="blocked"&&ge.state==="unblocked"||Ee.state==="proceeding"&&ge.state==="unblocked",`Invalid blocker state transition: ${Ee.state} -> ${ge.state}`);let Le=new Map(q.blockers);Le.set(ue,ge),je({blockers:Le})}function gr({currentLocation:ue,nextLocation:ge,historyAction:Ee}){if(re.size===0)return;re.size>1&&fi(!1,"A router only supports one blocker at a time");let Le=Array.from(re.entries()),[Ge,We]=Le[Le.length-1],nt=q.blockers.get(Ge);if(!(nt&&nt.state==="proceeding")&&We({currentLocation:ue,nextLocation:ge,historyAction:Ee}))return Ge}function _r(ue){let ge=ds(404,{pathname:ue}),Ee=f||c,{matches:Le,route:Ge}=ww(Ee);return{notFoundMatches:Le,route:Ge,error:ge}}function Hi(ue,ge,Ee){if(C=ue,O=ge,R=Ee||null,!D&&q.navigation===o_){D=!0;let Le=di(q.location,q.matches);Le!=null&&je({restoreScrollPosition:Le})}return()=>{C=null,O=null,R=null}}function Pi(ue,ge){return R&&R(ue,ge.map(Le=>SI(Le,q.loaderData)))||ue.key}function jn(ue,ge){if(C&&O){let Ee=Pi(ue,ge);C[Ee]=O()}}function di(ue,ge){if(C){let Ee=Pi(ue,ge),Le=C[Ee];if(typeof Le=="number")return Le}return null}function Vn(ue,ge,Ee){if(n.patchRoutesOnNavigation)if(ue){if(Object.keys(ue[0].params).length>0)return{active:!0,matches:kd(ge,Ee,p,!0)}}else return{active:!0,matches:kd(ge,Ee,p,!0)||[]};return{active:!1,matches:null}}async function Ei(ue,ge,Ee,Le){if(!n.patchRoutesOnNavigation)return{type:"success",matches:ue};let Ge=ue;for(;;){let We=f==null,nt=f||c,ke=o;try{await n.patchRoutesOnNavigation({signal:Ee,path:ge,matches:Ge,fetcherKey:Le,patch:(mt,ht)=>{Ee.aborted||fw(mt,ht,nt,ke,s)}})}catch(mt){return{type:"error",error:mt,partialMatches:Ge}}finally{We&&!Ee.aborted&&(c=[...c])}if(Ee.aborted)return{type:"aborted"};let et=No(nt,ge,p);if(et)return{type:"success",matches:et};let Je=kd(nt,ge,p,!0);if(!Je||Ge.length===Je.length&&Ge.every((mt,ht)=>mt.route.id===Je[ht].route.id))return{type:"success",matches:null};Ge=Je}}function sr(ue){o={},f=Yd(ue,s,void 0,o)}function wi(ue,ge){let Ee=f==null;fw(ue,ge,f||c,o,s),Ee&&(c=[...c],je({}))}return ne={get basename(){return p},get future(){return g},get state(){return q},get routes(){return c},get window(){return e},initialize:Me,subscribe:Ne,enableScrollRestoration:Hi,navigate:Ke,fetch:Qe,revalidate:qe,createHref:ue=>n.history.createHref(ue),encodeLocation:ue=>n.history.encodeLocation(ue),getFetcher:xt,deleteFetcher:wn,dispose:Ae,getBlocker:Ln,deleteBlocker:rr,patchRoutes:wi,_internalFetchControllers:z,_internalSetRoutes:sr},ne}function WI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Z_(n,e,t,i,s,o){let c,f;if(s){c=[];for(let m of e)if(c.push(m),m.route.id===s){f=m;break}}else c=e,f=e[e.length-1];let p=Lv(i||".",Nv(c),_s(n.pathname,t)||n.pathname,o==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&f){let m=Uv(p.search);if(f.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let g=new URLSearchParams(p.search),E=g.getAll("index");g.delete("index"),E.filter(C=>C).forEach(C=>g.append("index",C));let w=g.toString();p.search=w?`?${w}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:na([t,p.pathname])),$o(p)}function cw(n,e,t){if(!t||!WI(t))return{path:e};if(t.formMethod&&!uk(t.formMethod))return{path:e,error:ds(405,{method:t.formMethod})};let i=()=>({path:e,error:ds(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),c=yA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Qr(o))return i();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[C,R])=>`${w}${C}=${R}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Qr(o))return i();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return i()}}}$t(typeof FormData=="function","FormData is not available in this environment");let f,p;if(t.formData)f=Q_(t.formData),p=t.formData;else if(t.body instanceof FormData)f=Q_(t.body),p=t.body;else if(t.body instanceof URLSearchParams)f=t.body,p=_w(f);else if(t.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(t.body),p=_w(f)}catch{return i()}let m={formMethod:o,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Qr(m.formMethod))return{path:e,submission:m};let g=il(e);return n&&g.search&&Uv(g.search)&&f.append("index",""),g.search=`?${f}`,{path:$o(g),submission:m}}function hw(n,e,t,i,s,o,c,f,p,m,g,E,w,C,R,O,D,j,te,W){let ee=W?$r(W[1])?W[1].error:W[1].data:void 0,ne=s.createURL(o.location),q=s.createURL(p),Z;if(g&&o.errors){let U=Object.keys(o.errors)[0];Z=c.findIndex(ie=>ie.route.id===U)}else if(W&&$r(W[1])){let U=W[0];Z=c.findIndex(ie=>ie.route.id===U)-1}let A=W?W[1].statusCode:void 0,S=A&&A>=400,P={currentUrl:ne,currentParams:o.matches[0]?.params||{},nextUrl:q,nextParams:c[0].params,...f,actionResult:ee,actionStatus:A},V=c.map((U,ie)=>{let{route:ce}=U,z=null;if(Z!=null&&ie>Z?z=!1:ce.lazy?z=!0:ce.loader==null?z=!1:g?z=K_(ce,o.loaderData,o.errors):XI(o.loaderData,o.matches[ie],U)&&(z=!0),z!==null)return $_(t,i,n,U,m,e,z);let G=S?!1:E||ne.pathname+ne.search===q.pathname+q.search||ne.search!==q.search||JI(o.matches[ie],U),ae={...P,defaultShouldRevalidate:G},Q=Jd(U,ae);return $_(t,i,n,U,m,e,Q,ae)}),H=[];return R.forEach((U,ie)=>{if(g||!c.some(Y=>Y.route.id===U.routeId)||C.has(ie))return;let ce=o.fetchers.get(ie),z=ce&&ce.state!=="idle"&&ce.data===void 0,G=No(D,U.path,j);if(!G){if(te&&z)return;H.push({key:ie,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(O.has(ie))return;let ae=gh(G,U.path),Q=new AbortController,M=Fu(s,U.path,Q.signal),K=null;if(w.has(ie))w.delete(ie),K=Qu(t,i,M,G,ae,m,e);else if(z)E&&(K=Qu(t,i,M,G,ae,m,e));else{let Y={...P,defaultShouldRevalidate:S?!1:E};Jd(ae,Y)&&(K=Qu(t,i,M,G,ae,m,e,Y))}K&&H.push({key:ie,routeId:U.routeId,path:U.path,matches:K,match:ae,request:M,controller:Q})}),{dsMatches:V,revalidatingFetchers:H}}function K_(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function XI(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function JI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Jd(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function fw(n,e,t,i,s){let o;if(n){let p=i[n];$t(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),o=p.children}else o=t;let c=e.filter(p=>!o.some(m=>pA(p,m))),f=Yd(c,s,[n||"_","patch",String(o?.length||"0")],i);o.push(...f)}function pA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>pA(t,s))):!1}var dw=new WeakMap,mA=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if($t(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let c=dw.get(s);c||(c={},dw.set(s,c));let f=c[n];if(f)return f;let p=(async()=>{let m=wI(n),E=s[n]!==void 0&&n!=="hasErrorBoundary";if(m)fi(!m,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)fi(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(s,{[n]:w}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(w=>w===void 0)&&(s.lazy=void 0))})();return c[n]=p,p},pw=new WeakMap;function ek(n,e,t,i,s){let o=t[n.id];if($t(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=pw.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let E=(async()=>{$t(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),C={};for(let R in w){let O=w[R];if(O===void 0)continue;let D=TI(R),te=o[R]!==void 0&&R!=="hasErrorBoundary";D?fi(!D,"Route property "+R+" is not a supported property to be returned from a lazy route function. This property will be ignored."):te?fi(!te,`Route "${o.id}" has a static property "${R}" defined but its lazy function is also returning a value for this property. The lazy route property "${R}" will be ignored.`):C[R]=O}Object.assign(o,C),Object.assign(o,{...i(o),lazy:void 0})})();return pw.set(o,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),f=[],p;for(let g of c){if(s&&s.includes(g))continue;let E=mA({key:g,route:n,manifest:t,mapRouteProperties:i});E&&(f.push(E),g===e&&(p=E))}let m=f.length>0?Promise.all(f).then(()=>{}):void 0;return m?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:p}}async function mw(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function tk(n){return n.matches.some(e=>e.route.unstable_middleware)?gA(n,!1,()=>mw(n),(e,t)=>({[t]:{type:"error",result:e}})):mw(n)}async function gA(n,e,t,i){let{matches:s,request:o,params:c,context:f}=n,p={handlerResult:void 0};try{let m=s.flatMap(E=>E.route.unstable_middleware?E.route.unstable_middleware.map(w=>[E.route.id,w]):[]),g=await _A({request:o,params:c,context:f},m,e,p,t);return e?g:p.handlerResult}catch(m){if(!p.middlewareError)throw m;let g=await i(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,g):g}}async function _A(n,e,t,i,s,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let f=e[o];if(!f)return i.handlerResult=await s(),i.handlerResult;let[p,m]=f,g=!1,E,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await _A(n,e,t,i,s,o+1)};try{let C=await m({request:n.request,params:n.params,context:n.context},w);return g?C===void 0?E:C:w()}catch(C){throw i.middlewareError?i.middlewareError.error!==C&&(i.middlewareError={routeId:p,error:C}):i.middlewareError={routeId:p,error:C},C}}function vA(n,e,t,i,s){let o=mA({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),c=ek(i.route,Qr(t.method)?"action":"loader",e,n,s);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function $_(n,e,t,i,s,o,c,f=null){let p=!1,m=vA(n,e,t,i,s);return{...i,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(g){return p=!0,f?typeof g=="boolean"?Jd(i,{...f,defaultShouldRevalidate:g}):Jd(i,f):c},resolve(g){return p||c||g&&t.method==="GET"&&(i.route.lazy||i.route.loader)?ik({request:t,match:i,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Qu(n,e,t,i,s,o,c,f=null){return i.map(p=>p.route.id!==s.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:vA(n,e,t,p,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:$_(n,e,t,p,o,c,!0,f))}async function nk(n,e,t,i,s,o){t.some(m=>m._lazyPromises?.middleware)&&await Promise.all(t.map(m=>m._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:s,matches:t},p=await n({...c,fetcherKey:i,unstable_runClientMiddleware:m=>{let g=c;return gA(g,!1,()=>m({...g,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(E,w)=>({[w]:{type:"error",result:E}}))}});try{await Promise.all(t.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return p}async function ik({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let c,f,p=Qr(n.method),m=p?"action":"loader",g=E=>{let w,C=new Promise((D,j)=>w=j);f=()=>w(),n.signal.addEventListener("abort",f);let R=D=>typeof E!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):E({request:n,params:e.params,context:o},...D!==void 0?[D]:[]),O=(async()=>{try{return{type:"data",result:await(s?s(j=>R(j)):R())}}catch(D){return{type:"error",result:D}}})();return Promise.race([O,C])};try{let E=p?e.route.action:e.route.loader;if(t||i)if(E){let w,[C]=await Promise.all([g(E).catch(R=>{w=R}),t,i]);if(w!==void 0)throw w;c=C}else{await t;let w=p?e.route.action:e.route.loader;if(w)[c]=await Promise.all([g(w),i]);else if(m==="action"){let C=new URL(n.url),R=C.pathname+C.search;throw ds(405,{method:n.method,pathname:R,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(E)c=await g(E);else{let w=new URL(n.url),C=w.pathname+w.search;throw ds(404,{pathname:C})}}catch(E){return{type:"error",result:E}}finally{f&&n.signal.removeEventListener("abort",f)}return c}async function rk(n){let{result:e,type:t}=n;if(EA(e)){let i;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?i=null:i=await e.json():i=await e.text()}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new Xd(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?bw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xd(e.init?.status||500,void 0,e.data),statusCode:Dh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Dh(e)?e.status:void 0}:bw(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function sk(n,e,t,i,s){let o=n.headers.get("Location");if($t(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Vv.test(o)){let c=i.slice(0,i.findIndex(f=>f.route.id===t)+1);o=Z_(new URL(e.url),c,s,o),n.headers.set("Location",o)}return n}function gw(n,e,t){if(Vv.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=_s(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return n}function Fu(n,e,t,i){let s=n.createURL(yA(e)).toString(),o={signal:t};if(i&&Qr(i.formMethod)){let{formMethod:c,formEncType:f}=i;o.method=c.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(i.json)):f==="text/plain"?o.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?o.body=Q_(i.formData):o.body=i.formData}return new Request(s,o)}function Q_(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function _w(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function ak(n,e,t,i=!1,s=!1){let o={},c=null,f,p=!1,m={},g=t&&$r(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let w=E.route.id,C=e[w];if($t(!Vl(C),"Cannot handle redirect results in processLoaderData"),$r(C)){let R=C.error;if(g!==void 0&&(R=g,g=void 0),c=c||{},s)c[w]=R;else{let O=Ll(n,w);c[O.route.id]==null&&(c[O.route.id]=R)}i||(o[w]=dA),p||(p=!0,f=Dh(C.error)?C.error.status:500),C.headers&&(m[w]=C.headers)}else o[w]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(f=C.statusCode),C.headers&&(m[w]=C.headers)}),g!==void 0&&t&&(c={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:c,statusCode:f||200,loaderHeaders:m}}function vw(n,e,t,i,s,o){let{loaderData:c,errors:f}=ak(e,t,i);return s.filter(p=>!p.matches||p.matches.some(m=>m.shouldLoad)).forEach(p=>{let{key:m,match:g,controller:E}=p,w=o[m];if($t(w,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if($r(w)){let C=Ll(n.matches,g?.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:w.error}),n.fetchers.delete(m)}else if(Vl(w))$t(!1,"Unhandled fetcher revalidation redirect");else{let C=Do(w.data);n.fetchers.set(m,C)}}),{loaderData:c,errors:f}}function yw(n,e,t,i){let s=Object.entries(e).filter(([,o])=>o!==dA).reduce((o,[c,f])=>(o[c]=f,o),{});for(let o of t){let c=o.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&o.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function Ew(n){return n?$r(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ll(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function ww(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ds(n,{pathname:e,routeId:t,method:i,type:s,message:o}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?f=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",f=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?f=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new Xd(n||500,c,new Error(f),!0)}function yd(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Vl(s))return{key:i,result:s}}}function yA(n){let e=typeof n=="string"?il(n):n;return $o({...e,hash:""})}function ok(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function lk(n){return EA(n.result)&&ZI.has(n.result.status)}function $r(n){return n.type==="error"}function Vl(n){return(n&&n.type)==="redirect"}function bw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function EA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function uk(n){return GI.has(n.toUpperCase())}function Qr(n){return HI.has(n.toUpperCase())}function Uv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function gh(n,e){let t=typeof e=="string"?il(e).search:e.search;if(n[n.length-1].route.index&&Uv(t||""))return n[n.length-1];let i=cA(n);return i[i.length-1]}function Tw(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:o,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function l_(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ck(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hh(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hk(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Do(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function fk(n,e){try{let t=n.sessionStorage.getItem(fA);if(t){let i=JSON.parse(t);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function dk(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(fA,JSON.stringify(t))}catch(i){fi(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function pk(){let n,e,t=new Promise((i,s)=>{n=async o=>{i(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Jl=he.createContext(null);Jl.displayName="DataRouter";var Yh=he.createContext(null);Yh.displayName="DataRouterState";var Bv=he.createContext({isTransitioning:!1});Bv.displayName="ViewTransition";var wA=he.createContext(new Map);wA.displayName="Fetchers";var mk=he.createContext(null);mk.displayName="Await";var ca=he.createContext(null);ca.displayName="Navigation";var Pp=he.createContext(null);Pp.displayName="Location";var ha=he.createContext({outlet:null,matches:[],isDataRoute:!1});ha.displayName="Route";var Fv=he.createContext(null);Fv.displayName="RouteError";function gk(n,{relative:e}={}){$t(Wh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=he.useContext(ca),{hash:s,pathname:o,search:c}=Xh(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:na([t,o])),i.createHref({pathname:f,search:c,hash:s})}function Wh(){return he.useContext(Pp)!=null}function rl(){return $t(Wh(),"useLocation() may be used only in the context of a <Router> component."),he.useContext(Pp).location}var bA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TA(n){he.useContext(ca).static||he.useLayoutEffect(n)}function jv(){let{isDataRoute:n}=he.useContext(ha);return n?Ok():_k()}function _k(){$t(Wh(),"useNavigate() may be used only in the context of a <Router> component.");let n=he.useContext(Jl),{basename:e,navigator:t}=he.useContext(ca),{matches:i}=he.useContext(ha),{pathname:s}=rl(),o=JSON.stringify(Nv(i)),c=he.useRef(!1);return TA(()=>{c.current=!0}),he.useCallback((p,m={})=>{if(fi(c.current,bA),!c.current)return;if(typeof p=="number"){t.go(p);return}let g=Lv(p,JSON.parse(o),s,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:na([e,g.pathname])),(m.replace?t.replace:t.push)(g,m.state,m)},[e,t,o,s,n])}var vk=he.createContext(null);function yk(n){let e=he.useContext(ha).outlet;return e&&he.createElement(vk.Provider,{value:n},e)}function Xh(n,{relative:e}={}){let{matches:t}=he.useContext(ha),{pathname:i}=rl(),s=JSON.stringify(Nv(t));return he.useMemo(()=>Lv(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function Ek(n,e,t,i){$t(Wh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=he.useContext(ca),{matches:o}=he.useContext(ha),c=o[o.length-1],f=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let j=g&&g.path||"";AA(p,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=rl(),w;w=E;let C=w.pathname||"/",R=C;if(m!=="/"){let j=m.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=No(n,{pathname:R});return fi(g||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),fi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Sk(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:na([m,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:na([m,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,i)}function wk(){let n=kk(),e=Dh(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=he.createElement(he.Fragment,null,he.createElement("p",null,"💿 Hey developer 👋"),he.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",he.createElement("code",{style:o},"ErrorBoundary")," or"," ",he.createElement("code",{style:o},"errorElement")," prop on your route.")),he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),t?he.createElement("pre",{style:s},t):null,c)}var bk=he.createElement(wk,null),Tk=class extends he.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?he.createElement(ha.Provider,{value:this.props.routeContext},he.createElement(Fv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ak({routeContext:n,match:e,children:t}){let i=he.useContext(Jl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),he.createElement(ha.Provider,{value:n},t)}function Sk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let p=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);$t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:g,errors:E}=t,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||w){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,g)=>{let E,w=!1,C=null,R=null;t&&(E=o&&m.route.id?o[m.route.id]:void 0,C=m.route.errorElement||bk,c&&(f<0&&g===0?(AA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):f===g&&(w=!0,R=m.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,g+1)),D=()=>{let j;return E?j=C:w?j=R:m.route.Component?j=he.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=p,he.createElement(Ak,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?he.createElement(Tk,{location:t.location,revalidation:t.revalidation,component:C,error:E,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function zv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ck(n){let e=he.useContext(Jl);return $t(e,zv(n)),e}function Rk(n){let e=he.useContext(Yh);return $t(e,zv(n)),e}function xk(n){let e=he.useContext(ha);return $t(e,zv(n)),e}function Hv(n){let e=xk(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ik(){return Hv("useRouteId")}function kk(){let n=he.useContext(Fv),e=Rk("useRouteError"),t=Hv("useRouteError");return n!==void 0?n:e.errors?.[t]}function Ok(){let{router:n}=Ck("useNavigate"),e=Hv("useNavigate"),t=he.useRef(!1);return TA(()=>{t.current=!0}),he.useCallback(async(s,o={})=>{fi(t.current,bA),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Aw={};function AA(n,e,t){!e&&!Aw[n]&&(Aw[n]=!0,fi(!1,t))}var Sw={};function Cw(n,e){!n&&!Sw[e]&&(Sw[e]=!0,console.warn(e))}function Pk(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&fi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:he.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&fi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:he.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&fi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:he.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Mk=["HydrateFallback","hydrateFallbackElement"],Dk=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function Nk({router:n,flushSync:e}){let[t,i]=he.useState(n.state),[s,o]=he.useState(),[c,f]=he.useState({isTransitioning:!1}),[p,m]=he.useState(),[g,E]=he.useState(),[w,C]=he.useState(),R=he.useRef(new Map),O=he.useCallback((W,{deletedFetchers:ee,flushSync:ne,viewTransitionOpts:q})=>{W.fetchers.forEach((A,S)=>{A.data!==void 0&&R.current.set(S,A.data)}),ee.forEach(A=>R.current.delete(A)),Cw(ne===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Z=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Cw(q==null||Z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!q||!Z){e&&ne?e(()=>i(W)):he.startTransition(()=>i(W));return}if(e&&ne){e(()=>{g&&(p&&p.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>i(W))});A.finished.finally(()=>{e(()=>{m(void 0),E(void 0),o(void 0),f({isTransitioning:!1})})}),e(()=>E(A));return}g?(p&&p.resolve(),g.skipTransition(),C({state:W,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(o(W),f({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[n.window,e,g,p]);he.useLayoutEffect(()=>n.subscribe(O),[n,O]),he.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new Dk)},[c]),he.useEffect(()=>{if(p&&s&&n.window){let W=s,ee=p.promise,ne=n.window.document.startViewTransition(async()=>{he.startTransition(()=>i(W)),await ee});ne.finished.finally(()=>{m(void 0),E(void 0),o(void 0),f({isTransitioning:!1})}),E(ne)}},[s,p,n.window]),he.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,g,t.location,s]),he.useEffect(()=>{!c.isTransitioning&&w&&(o(w.state),f({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),C(void 0))},[c.isTransitioning,w]);let D=he.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:W=>n.navigate(W),push:(W,ee,ne)=>n.navigate(W,{state:ee,preventScrollReset:ne?.preventScrollReset}),replace:(W,ee,ne)=>n.navigate(W,{replace:!0,state:ee,preventScrollReset:ne?.preventScrollReset})}),[n]),j=n.basename||"/",te=he.useMemo(()=>({router:n,navigator:D,static:!1,basename:j}),[n,D,j]);return he.createElement(he.Fragment,null,he.createElement(Jl.Provider,{value:te},he.createElement(Yh.Provider,{value:t},he.createElement(wA.Provider,{value:R.current},he.createElement(Bv.Provider,{value:c},he.createElement(Bk,{basename:j,location:t.location,navigationType:t.historyAction,navigator:D},he.createElement(Lk,{routes:n.routes,future:n.future,state:t})))))),null)}var Lk=he.memo(Vk);function Vk({routes:n,future:e,state:t}){return Ek(n,void 0,t,e)}function Uk(n){return yk(n.context)}function Bk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){$t(!Wh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=he.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=il(t));let{pathname:p="/",search:m="",hash:g="",state:E=null,key:w="default"}=t,C=he.useMemo(()=>{let R=_s(p,c);return R==null?null:{location:{pathname:R,search:m,hash:g,state:E,key:w},navigationType:i}},[c,p,m,g,E,w,i]);return fi(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:he.createElement(ca.Provider,{value:f},he.createElement(Pp.Provider,{children:e,value:C}))}var Od="get",Pd="application/x-www-form-urlencoded";function Mp(n){return n!=null&&typeof n.tagName=="string"}function Fk(n){return Mp(n)&&n.tagName.toLowerCase()==="button"}function jk(n){return Mp(n)&&n.tagName.toLowerCase()==="form"}function zk(n){return Mp(n)&&n.tagName.toLowerCase()==="input"}function Hk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qk(n,e){return n.button===0&&(!e||e==="_self")&&!Hk(n)}var Ed=null;function Gk(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var Zk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u_(n){return n!=null&&!Zk.has(n)?(fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):n}function Kk(n,e){let t,i,s,o,c;if(jk(n)){let f=n.getAttribute("action");i=f?_s(f,e):null,t=n.getAttribute("method")||Od,s=u_(n.getAttribute("enctype"))||Pd,o=new FormData(n)}else if(Fk(n)||zk(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?_s(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Od,s=u_(n.getAttribute("formenctype"))||u_(f.getAttribute("enctype"))||Pd,o=new FormData(f,n),!Gk()){let{name:m,type:g,value:E}=n;if(g==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,E)}}else{if(Mp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Od,i=null,s=Pd,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:c}}function qv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function $k(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Yk(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await $k(o,t);return c.links?c.links():[]}return[]}));return eO(i.flat(1).filter(Qk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Rw(n,e,t,i,s,o){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return o==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):o==="data"?e.filter((p,m)=>{let g=i.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Wk(n,e,{includeHydrateFallback:t}={}){return Xk(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Xk(n){return[...new Set(n)]}function Jk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function eO(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(Jk(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tO=new Set([100,101,204,205]);function nO(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&_s(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function SA(){let n=he.useContext(Jl);return qv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function iO(){let n=he.useContext(Yh);return qv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gv=he.createContext(void 0);Gv.displayName="FrameworkContext";function CA(){let n=he.useContext(Gv);return qv(n,"You must render this element inside a <HydratedRouter> element"),n}function rO(n,e){let t=he.useContext(Gv),[i,s]=he.useState(!1),[o,c]=he.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:E}=e,w=he.useRef(null);he.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=j=>{j.forEach(te=>{c(te.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),he.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let C=()=>{s(!0)},R=()=>{s(!1),c(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:fh(f,C),onBlur:fh(p,R),onMouseEnter:fh(m,C),onMouseLeave:fh(g,R),onTouchStart:fh(E,C)}]:[!1,w,{}]}function fh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sO({page:n,...e}){let{router:t}=SA(),i=he.useMemo(()=>No(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?he.createElement(oO,{page:n,matches:i,...e}):null}function aO(n){let{manifest:e,routeModules:t}=CA(),[i,s]=he.useState([]);return he.useEffect(()=>{let o=!1;return Yk(n,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,t]),i}function oO({page:n,matches:e,...t}){let i=rl(),{manifest:s,routeModules:o}=CA(),{basename:c}=SA(),{loaderData:f,matches:p}=iO(),m=he.useMemo(()=>Rw(n,e,p,s,i,"data"),[n,e,p,s,i]),g=he.useMemo(()=>Rw(n,e,p,s,i,"assets"),[n,e,p,s,i]),E=he.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,O=!1;if(e.forEach(j=>{let te=s.routes[j.route.id];!te||!te.hasLoader||(!m.some(W=>W.route.id===j.route.id)&&j.route.id in f&&o[j.route.id]?.shouldRevalidate||te.hasClientLoader?O=!0:R.add(j.route.id))}),R.size===0)return[];let D=nO(n,c);return O&&R.size>0&&D.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[D.pathname+D.search]},[c,f,i,s,m,e,n,o]),w=he.useMemo(()=>Wk(g,s),[g,s]),C=aO(g);return he.createElement(he.Fragment,null,E.map(R=>he.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>he.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),C.map(({key:R,link:O})=>he.createElement("link",{key:R,...O})))}function lO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RA&&(window.__reactRouterVersion="7.6.3")}catch{}function uO(n,e){return YI({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:_I({window:e?.window}),hydrationData:cO(),routes:n,mapRouteProperties:Pk,hydrationRouteProperties:Mk,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function cO(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:hO(n.errors)}),n}function hO(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Xd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let c=new o(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let o=new Error(s.message);o.stack="",t[i]=o}}else t[i]=s;return t}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IA=he.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:f,target:p,to:m,preventScrollReset:g,viewTransition:E,...w},C){let{basename:R}=he.useContext(ca),O=typeof m=="string"&&xA.test(m),D,j=!1;if(typeof m=="string"&&O&&(D=m,RA))try{let S=new URL(window.location.href),P=m.startsWith("//")?new URL(S.protocol+m):new URL(m),V=_s(P.pathname,R);P.origin===S.origin&&V!=null?m=V+P.search+P.hash:j=!0}catch{fi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=gk(m,{relative:s}),[W,ee,ne]=rO(i,w),q=pO(m,{replace:c,state:f,target:p,preventScrollReset:g,relative:s,viewTransition:E});function Z(S){e&&e(S),S.defaultPrevented||q(S)}let A=he.createElement("a",{...w,...ne,href:D||te,onClick:j||o?e:Z,ref:lO(C,ee),target:p,"data-discover":!O&&t==="render"?"true":void 0});return W&&!O?he.createElement(he.Fragment,null,A,he.createElement(sO,{page:te})):A});IA.displayName="Link";var ju=he.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:f,children:p,...m},g){let E=Xh(c,{relative:m.relative}),w=rl(),C=he.useContext(Yh),{navigator:R,basename:O}=he.useContext(ca),D=C!=null&&yO(E)&&f===!0,j=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,te=w.pathname,W=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(te=te.toLowerCase(),W=W?W.toLowerCase():null,j=j.toLowerCase()),W&&O&&(W=_s(W,O)||W);const ee=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ne=te===j||!s&&te.startsWith(j)&&te.charAt(ee)==="/",q=W!=null&&(W===j||!s&&W.startsWith(j)&&W.charAt(j.length)==="/"),Z={isActive:ne,isPending:q,isTransitioning:D},A=ne?e:void 0,S;typeof i=="function"?S=i(Z):S=[i,ne?"active":null,q?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(Z):o;return he.createElement(IA,{...m,"aria-current":A,className:S,ref:g,style:P,to:c,viewTransition:f},typeof p=="function"?p(Z):p)});ju.displayName="NavLink";var fO=he.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:c=Od,action:f,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:E,...w},C)=>{let R=_O(),O=vO(f,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&xA.test(f),te=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ee=W.nativeEvent.submitter,ne=ee?.getAttribute("formmethod")||c;R(ee||W.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:E})};return he.createElement("form",{ref:C,method:D,action:O,onSubmit:i?p:te,...w,"data-discover":!j&&n==="render"?"true":void 0})});fO.displayName="Form";function dO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(n){let e=he.useContext(Jl);return $t(e,dO(n)),e}function pO(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:c}={}){let f=jv(),p=rl(),m=Xh(n,{relative:o});return he.useCallback(g=>{if(qk(g,e)){g.preventDefault();let E=t!==void 0?t:$o(p)===$o(m);f(n,{replace:E,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[p,f,m,t,i,e,n,s,o,c])}var mO=0,gO=()=>`__${String(++mO)}__`;function _O(){let{router:n}=kA("useSubmit"),{basename:e}=he.useContext(ca),t=Ik();return he.useCallback(async(i,s={})=>{let{action:o,method:c,encType:f,formData:p,body:m}=Kk(i,e);if(s.navigate===!1){let g=s.fetcherKey||gO();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function vO(n,{relative:e}={}){let{basename:t}=he.useContext(ca),i=he.useContext(ha);$t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Xh(n||".",{relative:e})},c=rl();if(n==null){o.search=c.search;let f=new URLSearchParams(o.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(E=>E).forEach(E=>f.append("index",E));let g=f.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:na([t,o.pathname])),$o(o)}function yO(n,e={}){let t=he.useContext(Bv);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kA("useViewTransitionState"),s=Xh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=_s(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=_s(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wd(s.pathname,c)!=null||Wd(s.pathname,o)!=null}[...tO];var OA=Dv();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function EO(n){return he.createElement(Nk,{flushSync:OA.flushSync,...n})}const wO=()=>{};var xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},bO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],f=n[t++],p=((s&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},MA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,f=c?n[s+1]:0,p=s+2<n.length,m=p?n[s+2]:0,g=o>>2,E=(o&3)<<4|f>>4;let w=(f&15)<<2|m>>6,C=m&63;p||(C=64,c||(w=64)),i.push(t[g],t[E],t[w],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||f==null||m==null||E==null)throw new TO;const w=o<<2|f>>4;if(i.push(w),m!==64){const C=f<<4&240|m>>2;if(i.push(C),E!==64){const R=m<<6&192|E;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AO=function(n){const e=PA(n);return MA.encodeByteArray(e,!0)},ep=function(n){return AO(n).replace(/\./g,"")},DA=function(n){try{return MA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=()=>SO().__FIREBASE_DEFAULTS__,RO=()=>{if(typeof process>"u"||typeof xw>"u")return;const n=xw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&DA(n[1]);return e&&JSON.parse(e)},Dp=()=>{try{return wO()||CO()||RO()||xO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NA=n=>{var e,t;return(t=(e=Dp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Zv=n=>{const e=NA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},LA=()=>{var n;return(n=Dp())===null||n===void 0?void 0:n.config},VA=n=>{var e;return(e=Dp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Np(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ep(JSON.stringify(t)),ep(JSON.stringify(c)),""].join(".")}const Sh={};function kO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Sh))Sh[e]?n.emulator.push(e):n.prod.push(e);return n}function OO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Iw=!1;function Lp(n,e){if(typeof window>"u"||typeof document>"u"||!qa(window.location.host)||Sh[n]===e||Sh[n]||Iw)return;Sh[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",o=kO().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Iw=!0,c()},w}function g(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=OO(i),C=t("text"),R=document.getElementById(C)||document.createElement("span"),O=t("learnmore"),D=document.getElementById(O)||document.createElement("a"),j=t("preprendIcon"),te=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;f(W),g(D,O);const ee=m();p(te,j),W.append(te,R,D,ee),document.body.appendChild(W)}o?(R.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function MO(){var n;const e=(n=Dp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VO(){const n=ir();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UO(){return!MO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BO(){try{return typeof indexedDB=="object"}catch{return!1}}function FO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="FirebaseError";class Ns extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=jO,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jh.prototype.create)}}class Jh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?zO(o,i):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new Ns(s,f,i)}}function zO(n,e){return n.replace(HO,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const HO=/\{\$([^}]+)}/g;function qO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],c=e[s];if(kw(o)&&kw(c)){if(!Zl(o,c))return!1}else if(o!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function kw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _h(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function vh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function GO(n,e){const t=new ZO(n,e);return t.subscribe.bind(t)}class ZO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");KO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=c_),s.error===void 0&&(s.error=c_),s.complete===void 0&&(s.complete=c_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function c_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n){return n&&n._delegate?n._delegate:n}class La{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new IO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YO(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);i===f&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QO(n){return n===Nl?void 0:n}function YO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $O(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xt||(Xt={}));const XO={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},JO=Xt.INFO,eP={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},tP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=eP[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kv{constructor(e){this.name=e,this._logLevel=JO,this._logHandler=tP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const nP=(n,e)=>e.some(t=>n instanceof t);let Ow,Pw;function iP(){return Ow||(Ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rP(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BA=new WeakMap,Y_=new WeakMap,FA=new WeakMap,h_=new WeakMap,$v=new WeakMap;function sP(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(zo(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&BA.set(t,n)}).catch(()=>{}),$v.set(e,n),e}function aP(n){if(Y_.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Y_.set(n,e)}let W_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Y_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oP(n){W_=n(W_)}function lP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(f_(this),e,...t);return FA.set(i,e.sort?e.sort():[e]),zo(i)}:rP().includes(n)?function(...e){return n.apply(f_(this),e),zo(BA.get(this))}:function(...e){return zo(n.apply(f_(this),e))}}function uP(n){return typeof n=="function"?lP(n):(n instanceof IDBTransaction&&aP(n),nP(n,iP())?new Proxy(n,W_):n)}function zo(n){if(n instanceof IDBRequest)return sP(n);if(h_.has(n))return h_.get(n);const e=uP(n);return e!==n&&(h_.set(n,e),$v.set(e,n)),e}const f_=n=>$v.get(n);function cP(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),f=zo(c);return i&&c.addEventListener("upgradeneeded",p=>{i(zo(c.result),p.oldVersion,p.newVersion,zo(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const hP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],d_=new Map;function Mw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(d_.get(e))return d_.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=fP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||hP.includes(t)))return;const o=async function(c,...f){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),s&&p.done]))[0]};return d_.set(e,o),o}oP(n=>({...n,get:(e,t,i)=>Mw(e,t)||n.get(e,t,i),has:(e,t)=>!!Mw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function pP(n){const e=n.getComponent();return e?.type==="VERSION"}const X_="@firebase/app",Dw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Kv("@firebase/app"),mP="@firebase/app-compat",gP="@firebase/analytics-compat",_P="@firebase/analytics",vP="@firebase/app-check-compat",yP="@firebase/app-check",EP="@firebase/auth",wP="@firebase/auth-compat",bP="@firebase/database",TP="@firebase/data-connect",AP="@firebase/database-compat",SP="@firebase/functions",CP="@firebase/functions-compat",RP="@firebase/installations",xP="@firebase/installations-compat",IP="@firebase/messaging",kP="@firebase/messaging-compat",OP="@firebase/performance",PP="@firebase/performance-compat",MP="@firebase/remote-config",DP="@firebase/remote-config-compat",NP="@firebase/storage",LP="@firebase/storage-compat",VP="@firebase/firestore",UP="@firebase/ai",BP="@firebase/firestore-compat",FP="firebase",jP="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="[DEFAULT]",zP={[X_]:"fire-core",[mP]:"fire-core-compat",[_P]:"fire-analytics",[gP]:"fire-analytics-compat",[yP]:"fire-app-check",[vP]:"fire-app-check-compat",[EP]:"fire-auth",[wP]:"fire-auth-compat",[bP]:"fire-rtdb",[TP]:"fire-data-connect",[AP]:"fire-rtdb-compat",[SP]:"fire-fn",[CP]:"fire-fn-compat",[RP]:"fire-iid",[xP]:"fire-iid-compat",[IP]:"fire-fcm",[kP]:"fire-fcm-compat",[OP]:"fire-perf",[PP]:"fire-perf-compat",[MP]:"fire-rc",[DP]:"fire-rc-compat",[NP]:"fire-gcs",[LP]:"fire-gcs-compat",[VP]:"fire-fst",[BP]:"fire-fst-compat",[UP]:"fire-vertex","fire-js":"fire-js",[FP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,HP=new Map,ev=new Map;function Nw(n,e){try{n.container.addComponent(e)}catch(t){Va.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qo(n){const e=n.name;if(ev.has(e))return Va.debug(`There were multiple attempts to register component ${e}.`),!1;ev.set(e,n);for(const t of tp.values())Nw(t,n);for(const t of HP.values())Nw(t,n);return!0}function tf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ho=new Jh("app","Firebase",qP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=jP;function jA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:J_,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Ho.create("bad-app-name",{appName:String(s)});if(t||(t=LA()),!t)throw Ho.create("no-options");const o=tp.get(s);if(o){if(Zl(t,o.options)&&Zl(i,o.config))return o;throw Ho.create("duplicate-app",{appName:s})}const c=new WO(s);for(const p of ev.values())c.addComponent(p);const f=new GP(t,i,c);return tp.set(s,f),f}function Vp(n=J_){const e=tp.get(n);if(!e&&n===J_&&LA())return jA();if(!e)throw Ho.create("no-app",{appName:n});return e}function gs(n,e,t){var i;let s=(i=zP[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Va.warn(f.join(" "));return}Qo(new La(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebase-heartbeat-database",KP=1,Nh="firebase-heartbeat-store";let p_=null;function zA(){return p_||(p_=cP(ZP,KP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ho.create("idb-open",{originalErrorMessage:n.message})})),p_}async function $P(n){try{const t=(await zA()).transaction(Nh),i=await t.objectStore(Nh).get(HA(n));return await t.done,i}catch(e){if(e instanceof Ns)Va.warn(e.message);else{const t=Ho.create("idb-get",{originalErrorMessage:e?.message});Va.warn(t.message)}}}async function Lw(n,e){try{const i=(await zA()).transaction(Nh,"readwrite");await i.objectStore(Nh).put(e,HA(n)),await i.done}catch(t){if(t instanceof Ns)Va.warn(t.message);else{const i=Ho.create("idb-set",{originalErrorMessage:t?.message});Va.warn(i.message)}}}function HA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=1024,YP=30;class WP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Vw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>YP){const c=eM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Va.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vw(),{heartbeatsToSend:i,unsentEntries:s}=XP(this._heartbeatsCache.heartbeats),o=ep(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Va.warn(t),""}}}function Vw(){return new Date().toISOString().substring(0,10)}function XP(n,e=QP){const t=[];let i=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Uw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Uw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class JP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BO()?FO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $P(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uw(n){return ep(JSON.stringify({version:2,heartbeats:n})).length}function eM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){Qo(new La("platform-logger",e=>new dP(e),"PRIVATE")),Qo(new La("heartbeat",e=>new WP(e),"PRIVATE")),gs(X_,Dw,n),gs(X_,Dw,"esm2017"),gs("fire-js","")}tM("");var nM="firebase",iM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(nM,iM,"app");function Qv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function qA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rM=qA,GA=new Jh("auth","Firebase",qA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new Kv("@firebase/auth");function sM(n,...e){np.logLevel<=Xt.WARN&&np.warn(`Auth (${eu}): ${n}`,...e)}function Md(n,...e){np.logLevel<=Xt.ERROR&&np.error(`Auth (${eu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,...e){throw Yv(n,...e)}function ia(n,...e){return Yv(n,...e)}function ZA(n,e,t){const i=Object.assign(Object.assign({},rM()),{[e]:t});return new Jh("auth","Firebase",i).create(e,{appName:n.name})}function qo(n){return ZA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return GA.create(n,...e)}function bt(n,e,...t){if(!n)throw Yv(e,...t)}function Ma(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Md(e),new Error(e)}function Ua(n,e){n||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function aM(){return Bw()==="http:"||Bw()==="https:"}function Bw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aM()||NO()||"connection"in navigator)?navigator.onLine:!0}function lM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ua(t>e,"Short delay should be less than long delay!"),this.isMobile=PO()||LO()}get(){return oM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n,e){Ua(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hM=new nf(3e4,6e4);function tu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function sl(n,e,t,i,s={}){return $A(n,s,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const f=ef(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},o);return DO()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&qa(n.emulatorConfig.host)&&(m.credentials="include"),KA.fetch()(await QA(n,n.config.apiHost,t,f),m)})}async function $A(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},uM),e);try{const s=new dM(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw wd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const f=o.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wd(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw wd(n,"user-disabled",c);const g=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ZA(n,g,m);Ms(n,g)}}catch(s){if(s instanceof Ns)throw s;Ms(n,"network-request-failed",{message:String(s)})}}async function Up(n,e,t,i,s={}){const o=await sl(n,e,t,i,s);return"mfaPendingCredential"in o&&Ms(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function QA(n,e,t,i){const s=`${e}${t}?${i}`,o=n,c=o.config.emulator?Wv(n.config,s):`${n.config.apiScheme}://${s}`;return cM.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function fM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ia(this.auth,"network-request-failed")),hM.get())})}}function wd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=ia(n,e,i);return s.customData._tokenResponse=t,s}function Fw(n){return n!==void 0&&n.enterprise!==void 0}class pM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mM(n,e){return sl(n,"GET","/v2/recaptchaConfig",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,e){return sl(n,"POST","/v1/accounts:delete",e)}async function ip(n,e){return sl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _M(n,e=!1){const t=Rn(n),i=await t.getIdToken(e),s=Xv(i);bt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:i,authTime:Ch(m_(s.auth_time)),issuedAtTime:Ch(m_(s.iat)),expirationTime:Ch(m_(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function m_(n){return Number(n)*1e3}function Xv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{const s=DA(t);return s?JSON.parse(s):(Md("Failed to decode base64 JWT payload"),null)}catch(s){return Md("Caught error parsing JWT payload as JSON",s?.toString()),null}}function jw(n){const e=Xv(n);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ns&&vM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function vM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Lh(n,ip(t,{idToken:i}));bt(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YA(o.providerUserInfo):[],f=wM(n.providerData,c),p=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!f?.length,g=p?m:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new nv(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,E)}async function EM(n){const e=Rn(n);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wM(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function YA(n){return n.map(e=>{var{providerId:t}=e,i=Qv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(n,e){const t=await $A(n,{},async()=>{const i=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=await QA(n,s,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&qa(n.emulatorConfig.host)&&(p.credentials="include"),KA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TM(n,e){return sl(n,"POST","/v2/accounts:revokeToken",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const t=jw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await bM(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,c=new Yu;return i&&(bt(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(bt(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(bt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yu,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(n,e){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,o=Qv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Lh(this,this.stsTokenManager.getToken(this.auth,e));return bt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _M(this,e)}reload(){return EM(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await rp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(qo(this.auth));const e=await this.getIdToken();return await Lh(this,gM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,o,c,f,p,m,g;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,O=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,j=(m=t.createdAt)!==null&&m!==void 0?m:void 0,te=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:W,emailVerified:ee,isAnonymous:ne,providerData:q,stsTokenManager:Z}=t;bt(W&&Z,e,"internal-error");const A=Yu.fromJSON(this.name,Z);bt(typeof W=="string",e,"internal-error"),Mo(E,e.name),Mo(w,e.name),bt(typeof ee=="boolean",e,"internal-error"),bt(typeof ne=="boolean",e,"internal-error"),Mo(C,e.name),Mo(R,e.name),Mo(O,e.name),Mo(D,e.name),Mo(j,e.name),Mo(te,e.name);const S=new Ps({uid:W,auth:e,email:w,emailVerified:ee,displayName:E,isAnonymous:ne,photoURL:R,phoneNumber:C,tenantId:O,stsTokenManager:A,createdAt:j,lastLoginAt:te});return q&&Array.isArray(q)&&(S.providerData=q.map(P=>Object.assign({},P))),D&&(S._redirectEventId=D),S}static async _fromIdTokenResponse(e,t,i=!1){const s=new Yu;s.updateFromServerResponse(t);const o=new Ps({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await rp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];bt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?YA(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,f=new Yu;f.updateFromIdToken(i);const p=new Ps({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new nv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;function Da(n){Ua(n instanceof Function,"Expected a class definition");let e=zw.get(n);return e?(Ua(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WA.type="NONE";const Hw=WA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n,e,t){return`firebase:${n}:${e}:${t}`}class Wu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Dd(this.userKey,s.apiKey,o),this.fullPersistenceKey=Dd("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ip(this.auth,{idToken:e}).catch(()=>{});return t?Ps._fromGetAccountInfoResponse(this.auth,t,e):null}return Ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Wu(Da(Hw),e,i);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||Da(Hw);const c=Dd(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const g=await m._get(c);if(g){let E;if(typeof g=="string"){const w=await ip(e,{idToken:g}).catch(()=>{});if(!w)break;E=await Ps._fromGetAccountInfoResponse(e,w,g)}else E=Ps._fromJSON(e,g);m!==o&&(f=E),o=m;break}}catch{}const p=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Wu(o,e,i):(o=p[0],f&&await o._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Wu(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iS(e))return"Blackberry";if(rS(e))return"Webos";if(JA(e))return"Safari";if((e.includes("chrome/")||eS(e))&&!e.includes("edge/"))return"Chrome";if(nS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function XA(n=ir()){return/firefox\//i.test(n)}function JA(n=ir()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eS(n=ir()){return/crios\//i.test(n)}function tS(n=ir()){return/iemobile/i.test(n)}function nS(n=ir()){return/android/i.test(n)}function iS(n=ir()){return/blackberry/i.test(n)}function rS(n=ir()){return/webos/i.test(n)}function Jv(n=ir()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AM(n=ir()){var e;return Jv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SM(){return VO()&&document.documentMode===10}function sS(n=ir()){return Jv(n)||nS(n)||rS(n)||iS(n)||/windows phone/i.test(n)||tS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n,e=[]){let t;switch(n){case"Browser":t=qw(ir());break;case"Worker":t=`${qw(ir())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,f)=>{try{const p=e(o);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,e={}){return sl(n,"GET","/v2/passwordPolicy",tu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=6;class IM{constructor(e){var t,i,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:xM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,o,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new CM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Da(t)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await Wu.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ip(this,{idToken:e}),i=await Ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(qo(this));const t=e?Rn(e):null;return t&&bt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RM(this),t=new IM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await TM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Da(e)||this._popupRedirectResolver;bt(t,this,"argument-error"),this.redirectPersistenceManager=await Wu.create(this,[Da(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(f,this,"internal-error"),f.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&sM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function cc(n){return Rn(n)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=GO(t=>this.observer=t)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OM(n){Bp=n}function oS(n){return Bp.loadJS(n)}function PM(){return Bp.recaptchaEnterpriseScript}function MM(){return Bp.gapiScript}function DM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class NM{constructor(){this.enterprise=new LM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class LM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const VM="recaptcha-enterprise",lS="NO_RECAPTCHA";class UM{constructor(e){this.type=VM,this.auth=cc(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,f)=>{mM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new pM(p);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(p=>{f(p)})})}function s(o,c,f){const p=window.grecaptcha;Fw(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(lS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NM().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(f=>{if(!t&&Fw(window.grecaptcha))s(f,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=PM();p.length!==0&&(p+=f),oS(p).then(()=>{s(f,o,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function Zw(n,e,t,i=!1,s=!1){const o=new UM(n);let c;if(s)c=lS;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Kw(n,e,t,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Zw(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Zw(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n,e){const t=tf(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Zl(o,e??{}))return s;Ms(s,"already-initialized")}return t.initialize({options:e})}function FM(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Da);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function jM(n,e,t){const i=cc(n);bt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=uS(e),{host:c,port:f}=zM(e),p=f===null?"":`:${f}`,m={url:`${o}//${c}${p}/`},g=Object.freeze({host:c,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(Zl(m,i.config.emulator)&&Zl(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,qa(c)?(Np(`${o}//${c}${p}`),Lp("Auth",!0)):HM()}function uS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zM(n){const e=uS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:$w(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:$w(c)}}}function $w(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function HM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,t){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}async function qM(n,e){return sl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(n,e){return Up(n,"POST","/v1/accounts:signInWithPassword",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(n,e){return Up(n,"POST","/v1/accounts:signInWithEmailLink",tu(n,e))}async function KM(n,e){return Up(n,"POST","/v1/accounts:signInWithEmailLink",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends ey{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Vh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Vh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kw(e,t,"signInWithPassword",GM);case"emailLink":return ZM(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kw(e,i,"signUpPassword",qM);case"emailLink":return KM(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(n,e){return Up(n,"POST","/v1/accounts:signInWithIdp",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="http://localhost";class Kl extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,o=Qv(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Kl(i,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Xu(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Xu(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xu(e,t)}buildRequest(){const e={requestUri:$M,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ef(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YM(n){const e=_h(vh(n)).link,t=e?_h(vh(e)).deep_link_id:null,i=_h(vh(n)).deep_link_id;return(i?_h(vh(i)).link:null)||i||t||e||n}class ty{constructor(e){var t,i,s,o,c,f;const p=_h(vh(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,g=(i=p.oobCode)!==null&&i!==void 0?i:null,E=QM((s=p.mode)!==null&&s!==void 0?s:null);bt(m&&g&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=g,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=YM(e);try{return new ty(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.providerId=hc.PROVIDER_ID}static credential(e,t){return Vh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ty.parseLink(t);return bt(i,"argument-error"),Vh._fromEmailAndCode(e,i.code,i.tenantId)}}hc.PROVIDER_ID="password";hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends cS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends rf{constructor(){super("facebook.com")}static credential(e){return Kl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Kl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Vo.credential(t,i)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends rf{constructor(){super("github.com")}static credential(e){return Kl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends rf{constructor(){super("twitter.com")}static credential(e,t){return Kl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Bo.credential(t,i)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await Ps._fromIdTokenResponse(e,i,s),c=Qw(i);return new tc({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Qw(i);return new tc({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Qw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends Ns{constructor(e,t,i,s){var o;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,sp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new sp(e,t,i,s)}}function hS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sp._fromErrorAndOperation(n,o,e,i):o})}async function WM(n,e,t=!1){const i=await Lh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tc._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(n,e,t=!1){const{auth:i}=n;if(Wr(i.app))return Promise.reject(qo(i));const s="reauthenticate";try{const o=await Lh(n,hS(i,s,e,n),t);bt(o.idToken,i,"internal-error");const c=Xv(o.idToken);bt(c,i,"internal-error");const{sub:f}=c;return bt(n.uid===f,i,"user-mismatch"),tc._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ms(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(n,e,t=!1){if(Wr(n.app))return Promise.reject(qo(n));const i="signIn",s=await hS(n,i,e),o=await tc._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}async function JM(n,e){return fS(cc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n){const e=cc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tD(n,e,t){return Wr(n.app)?Promise.reject(qo(n)):JM(Rn(n),hc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&eD(n),i})}function nD(n,e,t,i){return Rn(n).onIdTokenChanged(e,t,i)}function iD(n,e,t){return Rn(n).beforeAuthStateChanged(e,t)}function rD(n,e,t,i){return Rn(n).onAuthStateChanged(e,t,i)}const ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1e3,aD=10;class pS extends dS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);SM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,aD):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pS.type="LOCAL";const oD=pS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends dS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mS.type="SESSION";const gS=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Fp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(c).map(async m=>m(t.origin,o)),p=await lD(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((f,p)=>{const m=ny("",20);s.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(E){const w=E;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(w.data.response);break;default:clearTimeout(g),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return window}function cD(n){ra().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){return typeof ra().WorkerGlobalScope<"u"&&typeof ra().importScripts=="function"}async function hD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fD(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function dD(){return _S()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebaseLocalStorageDb",pD=1,op="firebaseLocalStorage",yS="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jp(n,e){return n.transaction([op],e?"readwrite":"readonly").objectStore(op)}function mD(){const n=indexedDB.deleteDatabase(vS);return new sf(n).toPromise()}function iv(){const n=indexedDB.open(vS,pD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(op,{keyPath:yS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(op)?e(i):(i.close(),await mD(),e(await iv()))})})}async function Yw(n,e,t){const i=jp(n,!0).put({[yS]:e,value:t});return new sf(i).toPromise()}async function gD(n,e){const t=jp(n,!1).get(e),i=await new sf(t).toPromise();return i===void 0?null:i.value}function Ww(n,e){const t=jp(n,!0).delete(e);return new sf(t).toPromise()}const _D=800,vD=3;class ES{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>vD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _S()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fp._getInstance(dD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await hD(),!this.activeServiceWorker)return;this.sender=new uD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iv();return await Yw(e,ap,"1"),await Ww(e,ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>gD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ww(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=jp(s,!1).getAll();return new sf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ES.type="LOCAL";const yD=ES;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(n,e){return e?Da(e):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wD(n){return fS(n.auth,new iy(n),n.bypassAuthState)}function bD(n){const{auth:e,user:t}=n;return bt(t,e,"internal-error"),XM(t,new iy(n),n.bypassAuthState)}async function TD(n){const{auth:e,user:t}=n;return bt(t,e,"internal-error"),WM(t,new iy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wD;case"linkViaPopup":case"linkViaRedirect":return TD;case"reauthViaPopup":case"reauthViaRedirect":return bD;default:Ms(this.auth,"internal-error")}}resolve(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new nf(2e3,1e4);class Zu extends wS{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Zu.currentPopupAction&&Zu.currentPopupAction.cancel(),Zu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Ua(this.filter.length===1,"Popup operations only handle one event");const e=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ia(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ia(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AD.get())};e()}}Zu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",Nd=new Map;class CD extends wS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const i=await RD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RD(n,e){const t=kD(e),i=ID(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function xD(n,e){Nd.set(n._key(),e)}function ID(n){return Da(n._redirectPersistence)}function kD(n){return Dd(SD,n.config.apiKey,n.name)}async function OD(n,e,t=!1){if(Wr(n.app))return Promise.reject(qo(n));const i=cc(n),s=ED(i,e),c=await new CD(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=10*60*1e3;class MD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!bS(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ia(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xw(e))}saveEventToCache(e){this.cachedEventUids.add(Xw(e)),this.lastProcessedEventTime=Date.now()}}function Xw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function DD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e={}){return sl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VD=/^https?/;async function UD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ND(n);for(const t of e)try{if(BD(t))return}catch{}Ms(n,"unauthorized-domain")}function BD(n){const e=tv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!VD.test(t))return!1;if(LD.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new nf(3e4,6e4);function Jw(){const n=ra().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jD(n){return new Promise((e,t)=>{var i,s,o;function c(){Jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jw(),t(ia(n,"network-request-failed"))},timeout:FD.get()})}if(!((s=(i=ra().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ra().gapi)===null||o===void 0)&&o.load)c();else{const f=DM("iframefcb");return ra()[f]=()=>{gapi.load?c():t(ia(n,"network-request-failed"))},oS(`${MM()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function zD(n){return Ld=Ld||jD(n),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new nf(5e3,15e3),qD="__/auth/iframe",GD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $D(n){const e=n.config;bt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wv(e,GD):`https://${n.config.authDomain}/${qD}`,i={apiKey:e.apiKey,appName:n.name,v:eu},s=KD.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${ef(i).slice(1)}`}async function QD(n){const e=await zD(n),t=ra().gapi;return bt(t,n,"internal-error"),e.open({where:document.body,url:$D(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const c=ia(n,"network-request-failed"),f=ra().setTimeout(()=>{o(c)},HD.get());function p(){ra().clearTimeout(f),s(i)}i.ping(p).then(p,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WD=500,XD=600,JD="_blank",eN="http://localhost";class eb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(n,e,t,i=WD,s=XD){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},YD),{width:i.toString(),height:s.toString(),top:o,left:c}),m=ir().toLowerCase();t&&(f=eS(m)?JD:t),XA(m)&&(e=e||eN,p.scrollbars="yes");const g=Object.entries(p).reduce((w,[C,R])=>`${w}${C}=${R},`,"");if(AM(m)&&f!=="_self")return nN(e||"",f),new eb(null);const E=window.open(e||"",f,g);bt(E,n,"popup-blocked");try{E.focus()}catch{}return new eb(E)}function nN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="__/auth/handler",rN="emulator/auth/handler",sN=encodeURIComponent("fac");async function tb(n,e,t,i,s,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:eu,eventId:s};if(e instanceof cS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",qO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,E]of Object.entries({}))c[g]=E}if(e instanceof rf){const g=e.getScopes().filter(E=>E!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const p=await n._getAppCheckToken(),m=p?`#${sN}=${encodeURIComponent(p)}`:"";return`${aN(n)}?${ef(f).slice(1)}${m}`}function aN({config:n}){return n.emulator?Wv(n,rN):`https://${n.authDomain}/${iN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gS,this._completeRedirectFn=OD,this._overrideRedirectResult=xD}async _openPopup(e,t,i,s){var o;Ua((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await tb(e,t,i,tv(),s);return tN(e,c,ny())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await tb(e,t,i,tv(),s);return cD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ua(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await QD(e),i=new MD(e);return t.register("authEvent",s=>(bt(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(g_,{type:g_},s=>{var o;const c=(o=s?.[0])===null||o===void 0?void 0:o[g_];c!==void 0&&t(!!c),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sS()||JA()||Jv()}}const lN=oN;var nb="@firebase/auth",ib="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(n){Qo(new La("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(n)},m=new kM(i,s,o,p);return FM(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qo(new La("auth-internal",e=>{const t=cc(e.getProvider("auth").getImmediate());return(i=>new uN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(nb,ib,cN(n)),gs(nb,ib,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=5*60,dN=VA("authIdTokenMaxAge")||fN;let rb=null;const pN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>dN)return;const s=t?.token;rb!==s&&(rb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mN(n=Vp()){const e=tf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=BM(n,{popupRedirectResolver:lN,persistence:[yD,oD,gS]}),i=VA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=pN(o.toString());iD(t,c,()=>c(t.currentUser)),nD(t,f=>c(f))}}const s=NA("auth");return s&&jM(t,`http://${s}`),t}function gN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}OM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=ia("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",gN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,TS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Z,A){function S(){}S.prototype=A.prototype,Z.D=A.prototype,Z.prototype=new S,Z.prototype.constructor=Z,Z.C=function(P,V,H){for(var U=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)U[ie-2]=arguments[ie];return A.prototype[V].apply(P,U)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(Z,A,S){S||(S=0);var P=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)P[V]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(V=0;16>V;++V)P[V]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=Z.g[0],S=Z.g[1],V=Z.g[2];var H=Z.g[3],U=A+(H^S&(V^H))+P[0]+3614090360&4294967295;A=S+(U<<7&4294967295|U>>>25),U=H+(V^A&(S^V))+P[1]+3905402710&4294967295,H=A+(U<<12&4294967295|U>>>20),U=V+(S^H&(A^S))+P[2]+606105819&4294967295,V=H+(U<<17&4294967295|U>>>15),U=S+(A^V&(H^A))+P[3]+3250441966&4294967295,S=V+(U<<22&4294967295|U>>>10),U=A+(H^S&(V^H))+P[4]+4118548399&4294967295,A=S+(U<<7&4294967295|U>>>25),U=H+(V^A&(S^V))+P[5]+1200080426&4294967295,H=A+(U<<12&4294967295|U>>>20),U=V+(S^H&(A^S))+P[6]+2821735955&4294967295,V=H+(U<<17&4294967295|U>>>15),U=S+(A^V&(H^A))+P[7]+4249261313&4294967295,S=V+(U<<22&4294967295|U>>>10),U=A+(H^S&(V^H))+P[8]+1770035416&4294967295,A=S+(U<<7&4294967295|U>>>25),U=H+(V^A&(S^V))+P[9]+2336552879&4294967295,H=A+(U<<12&4294967295|U>>>20),U=V+(S^H&(A^S))+P[10]+4294925233&4294967295,V=H+(U<<17&4294967295|U>>>15),U=S+(A^V&(H^A))+P[11]+2304563134&4294967295,S=V+(U<<22&4294967295|U>>>10),U=A+(H^S&(V^H))+P[12]+1804603682&4294967295,A=S+(U<<7&4294967295|U>>>25),U=H+(V^A&(S^V))+P[13]+4254626195&4294967295,H=A+(U<<12&4294967295|U>>>20),U=V+(S^H&(A^S))+P[14]+2792965006&4294967295,V=H+(U<<17&4294967295|U>>>15),U=S+(A^V&(H^A))+P[15]+1236535329&4294967295,S=V+(U<<22&4294967295|U>>>10),U=A+(V^H&(S^V))+P[1]+4129170786&4294967295,A=S+(U<<5&4294967295|U>>>27),U=H+(S^V&(A^S))+P[6]+3225465664&4294967295,H=A+(U<<9&4294967295|U>>>23),U=V+(A^S&(H^A))+P[11]+643717713&4294967295,V=H+(U<<14&4294967295|U>>>18),U=S+(H^A&(V^H))+P[0]+3921069994&4294967295,S=V+(U<<20&4294967295|U>>>12),U=A+(V^H&(S^V))+P[5]+3593408605&4294967295,A=S+(U<<5&4294967295|U>>>27),U=H+(S^V&(A^S))+P[10]+38016083&4294967295,H=A+(U<<9&4294967295|U>>>23),U=V+(A^S&(H^A))+P[15]+3634488961&4294967295,V=H+(U<<14&4294967295|U>>>18),U=S+(H^A&(V^H))+P[4]+3889429448&4294967295,S=V+(U<<20&4294967295|U>>>12),U=A+(V^H&(S^V))+P[9]+568446438&4294967295,A=S+(U<<5&4294967295|U>>>27),U=H+(S^V&(A^S))+P[14]+3275163606&4294967295,H=A+(U<<9&4294967295|U>>>23),U=V+(A^S&(H^A))+P[3]+4107603335&4294967295,V=H+(U<<14&4294967295|U>>>18),U=S+(H^A&(V^H))+P[8]+1163531501&4294967295,S=V+(U<<20&4294967295|U>>>12),U=A+(V^H&(S^V))+P[13]+2850285829&4294967295,A=S+(U<<5&4294967295|U>>>27),U=H+(S^V&(A^S))+P[2]+4243563512&4294967295,H=A+(U<<9&4294967295|U>>>23),U=V+(A^S&(H^A))+P[7]+1735328473&4294967295,V=H+(U<<14&4294967295|U>>>18),U=S+(H^A&(V^H))+P[12]+2368359562&4294967295,S=V+(U<<20&4294967295|U>>>12),U=A+(S^V^H)+P[5]+4294588738&4294967295,A=S+(U<<4&4294967295|U>>>28),U=H+(A^S^V)+P[8]+2272392833&4294967295,H=A+(U<<11&4294967295|U>>>21),U=V+(H^A^S)+P[11]+1839030562&4294967295,V=H+(U<<16&4294967295|U>>>16),U=S+(V^H^A)+P[14]+4259657740&4294967295,S=V+(U<<23&4294967295|U>>>9),U=A+(S^V^H)+P[1]+2763975236&4294967295,A=S+(U<<4&4294967295|U>>>28),U=H+(A^S^V)+P[4]+1272893353&4294967295,H=A+(U<<11&4294967295|U>>>21),U=V+(H^A^S)+P[7]+4139469664&4294967295,V=H+(U<<16&4294967295|U>>>16),U=S+(V^H^A)+P[10]+3200236656&4294967295,S=V+(U<<23&4294967295|U>>>9),U=A+(S^V^H)+P[13]+681279174&4294967295,A=S+(U<<4&4294967295|U>>>28),U=H+(A^S^V)+P[0]+3936430074&4294967295,H=A+(U<<11&4294967295|U>>>21),U=V+(H^A^S)+P[3]+3572445317&4294967295,V=H+(U<<16&4294967295|U>>>16),U=S+(V^H^A)+P[6]+76029189&4294967295,S=V+(U<<23&4294967295|U>>>9),U=A+(S^V^H)+P[9]+3654602809&4294967295,A=S+(U<<4&4294967295|U>>>28),U=H+(A^S^V)+P[12]+3873151461&4294967295,H=A+(U<<11&4294967295|U>>>21),U=V+(H^A^S)+P[15]+530742520&4294967295,V=H+(U<<16&4294967295|U>>>16),U=S+(V^H^A)+P[2]+3299628645&4294967295,S=V+(U<<23&4294967295|U>>>9),U=A+(V^(S|~H))+P[0]+4096336452&4294967295,A=S+(U<<6&4294967295|U>>>26),U=H+(S^(A|~V))+P[7]+1126891415&4294967295,H=A+(U<<10&4294967295|U>>>22),U=V+(A^(H|~S))+P[14]+2878612391&4294967295,V=H+(U<<15&4294967295|U>>>17),U=S+(H^(V|~A))+P[5]+4237533241&4294967295,S=V+(U<<21&4294967295|U>>>11),U=A+(V^(S|~H))+P[12]+1700485571&4294967295,A=S+(U<<6&4294967295|U>>>26),U=H+(S^(A|~V))+P[3]+2399980690&4294967295,H=A+(U<<10&4294967295|U>>>22),U=V+(A^(H|~S))+P[10]+4293915773&4294967295,V=H+(U<<15&4294967295|U>>>17),U=S+(H^(V|~A))+P[1]+2240044497&4294967295,S=V+(U<<21&4294967295|U>>>11),U=A+(V^(S|~H))+P[8]+1873313359&4294967295,A=S+(U<<6&4294967295|U>>>26),U=H+(S^(A|~V))+P[15]+4264355552&4294967295,H=A+(U<<10&4294967295|U>>>22),U=V+(A^(H|~S))+P[6]+2734768916&4294967295,V=H+(U<<15&4294967295|U>>>17),U=S+(H^(V|~A))+P[13]+1309151649&4294967295,S=V+(U<<21&4294967295|U>>>11),U=A+(V^(S|~H))+P[4]+4149444226&4294967295,A=S+(U<<6&4294967295|U>>>26),U=H+(S^(A|~V))+P[11]+3174756917&4294967295,H=A+(U<<10&4294967295|U>>>22),U=V+(A^(H|~S))+P[2]+718787259&4294967295,V=H+(U<<15&4294967295|U>>>17),U=S+(H^(V|~A))+P[9]+3951481745&4294967295,Z.g[0]=Z.g[0]+A&4294967295,Z.g[1]=Z.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,Z.g[2]=Z.g[2]+V&4294967295,Z.g[3]=Z.g[3]+H&4294967295}i.prototype.u=function(Z,A){A===void 0&&(A=Z.length);for(var S=A-this.blockSize,P=this.B,V=this.h,H=0;H<A;){if(V==0)for(;H<=S;)s(this,Z,H),H+=this.blockSize;if(typeof Z=="string"){for(;H<A;)if(P[V++]=Z.charCodeAt(H++),V==this.blockSize){s(this,P),V=0;break}}else for(;H<A;)if(P[V++]=Z[H++],V==this.blockSize){s(this,P),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var Z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Z[0]=128;for(var A=1;A<Z.length-8;++A)Z[A]=0;var S=8*this.o;for(A=Z.length-8;A<Z.length;++A)Z[A]=S&255,S/=256;for(this.u(Z),Z=Array(16),A=S=0;4>A;++A)for(var P=0;32>P;P+=8)Z[S++]=this.g[A]>>>P&255;return Z};function o(Z,A){var S=f;return Object.prototype.hasOwnProperty.call(S,Z)?S[Z]:S[Z]=A(Z)}function c(Z,A){this.h=A;for(var S=[],P=!0,V=Z.length-1;0<=V;V--){var H=Z[V]|0;P&&H==A||(S[V]=H,P=!1)}this.g=S}var f={};function p(Z){return-128<=Z&&128>Z?o(Z,function(A){return new c([A|0],0>A?-1:0)}):new c([Z|0],0>Z?-1:0)}function m(Z){if(isNaN(Z)||!isFinite(Z))return E;if(0>Z)return D(m(-Z));for(var A=[],S=1,P=0;Z>=S;P++)A[P]=Z/S|0,S*=4294967296;return new c(A,0)}function g(Z,A){if(Z.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(Z.charAt(0)=="-")return D(g(Z.substring(1),A));if(0<=Z.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=m(Math.pow(A,8)),P=E,V=0;V<Z.length;V+=8){var H=Math.min(8,Z.length-V),U=parseInt(Z.substring(V,V+H),A);8>H?(H=m(Math.pow(A,H)),P=P.j(H).add(m(U))):(P=P.j(S),P=P.add(m(U)))}return P}var E=p(0),w=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-D(this).m();for(var Z=0,A=1,S=0;S<this.g.length;S++){var P=this.i(S);Z+=(0<=P?P:4294967296+P)*A,A*=4294967296}return Z},n.toString=function(Z){if(Z=Z||10,2>Z||36<Z)throw Error("radix out of range: "+Z);if(R(this))return"0";if(O(this))return"-"+D(this).toString(Z);for(var A=m(Math.pow(Z,6)),S=this,P="";;){var V=ee(S,A).g;S=j(S,V.j(A));var H=((0<S.g.length?S.g[0]:S.h)>>>0).toString(Z);if(S=V,R(S))return H+P;for(;6>H.length;)H="0"+H;P=H+P}},n.i=function(Z){return 0>Z?0:Z<this.g.length?this.g[Z]:this.h};function R(Z){if(Z.h!=0)return!1;for(var A=0;A<Z.g.length;A++)if(Z.g[A]!=0)return!1;return!0}function O(Z){return Z.h==-1}n.l=function(Z){return Z=j(this,Z),O(Z)?-1:R(Z)?0:1};function D(Z){for(var A=Z.g.length,S=[],P=0;P<A;P++)S[P]=~Z.g[P];return new c(S,~Z.h).add(w)}n.abs=function(){return O(this)?D(this):this},n.add=function(Z){for(var A=Math.max(this.g.length,Z.g.length),S=[],P=0,V=0;V<=A;V++){var H=P+(this.i(V)&65535)+(Z.i(V)&65535),U=(H>>>16)+(this.i(V)>>>16)+(Z.i(V)>>>16);P=U>>>16,H&=65535,U&=65535,S[V]=U<<16|H}return new c(S,S[S.length-1]&-2147483648?-1:0)};function j(Z,A){return Z.add(D(A))}n.j=function(Z){if(R(this)||R(Z))return E;if(O(this))return O(Z)?D(this).j(D(Z)):D(D(this).j(Z));if(O(Z))return D(this.j(D(Z)));if(0>this.l(C)&&0>Z.l(C))return m(this.m()*Z.m());for(var A=this.g.length+Z.g.length,S=[],P=0;P<2*A;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<Z.g.length;V++){var H=this.i(P)>>>16,U=this.i(P)&65535,ie=Z.i(V)>>>16,ce=Z.i(V)&65535;S[2*P+2*V]+=U*ce,te(S,2*P+2*V),S[2*P+2*V+1]+=H*ce,te(S,2*P+2*V+1),S[2*P+2*V+1]+=U*ie,te(S,2*P+2*V+1),S[2*P+2*V+2]+=H*ie,te(S,2*P+2*V+2)}for(P=0;P<A;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=A;P<2*A;P++)S[P]=0;return new c(S,0)};function te(Z,A){for(;(Z[A]&65535)!=Z[A];)Z[A+1]+=Z[A]>>>16,Z[A]&=65535,A++}function W(Z,A){this.g=Z,this.h=A}function ee(Z,A){if(R(A))throw Error("division by zero");if(R(Z))return new W(E,E);if(O(Z))return A=ee(D(Z),A),new W(D(A.g),D(A.h));if(O(A))return A=ee(Z,D(A)),new W(D(A.g),A.h);if(30<Z.g.length){if(O(Z)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var S=w,P=A;0>=P.l(Z);)S=ne(S),P=ne(P);var V=q(S,1),H=q(P,1);for(P=q(P,2),S=q(S,2);!R(P);){var U=H.add(P);0>=U.l(Z)&&(V=V.add(S),H=U),P=q(P,1),S=q(S,1)}return A=j(Z,V.j(A)),new W(V,A)}for(V=E;0<=Z.l(A);){for(S=Math.max(1,Math.floor(Z.m()/A.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),H=m(S),U=H.j(A);O(U)||0<U.l(Z);)S-=P,H=m(S),U=H.j(A);R(H)&&(H=w),V=V.add(H),Z=j(Z,U)}return new W(V,Z)}n.A=function(Z){return ee(this,Z).h},n.and=function(Z){for(var A=Math.max(this.g.length,Z.g.length),S=[],P=0;P<A;P++)S[P]=this.i(P)&Z.i(P);return new c(S,this.h&Z.h)},n.or=function(Z){for(var A=Math.max(this.g.length,Z.g.length),S=[],P=0;P<A;P++)S[P]=this.i(P)|Z.i(P);return new c(S,this.h|Z.h)},n.xor=function(Z){for(var A=Math.max(this.g.length,Z.g.length),S=[],P=0;P<A;P++)S[P]=this.i(P)^Z.i(P);return new c(S,this.h^Z.h)};function ne(Z){for(var A=Z.g.length+1,S=[],P=0;P<A;P++)S[P]=Z.i(P)<<1|Z.i(P-1)>>>31;return new c(S,Z.h)}function q(Z,A){var S=A>>5;A%=32;for(var P=Z.g.length-S,V=[],H=0;H<P;H++)V[H]=0<A?Z.i(H+S)>>>A|Z.i(H+S+1)<<32-A:Z.i(H+S);return new c(V,Z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,TS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Go=c}).apply(typeof sb<"u"?sb:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AS,yh,SS,Vd,rv,CS,RS,xS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,I,N){return _==Array.prototype||_==Object.prototype||(_[I]=N.value),_};function t(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var I=0;I<_.length;++I){var N=_[I];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=t(this);function s(_,I){if(I)e:{var N=i;_=_.split(".");for(var J=0;J<_.length-1;J++){var _e=_[J];if(!(_e in N))break e;N=N[_e]}_=_[_.length-1],J=N[_],I=I(J),I!=J&&I!=null&&e(N,_,{configurable:!0,writable:!0,value:I})}}function o(_,I){_ instanceof String&&(_+="");var N=0,J=!1,_e={next:function(){if(!J&&N<_.length){var Ce=N++;return{value:I(Ce,_[Ce]),done:!1}}return J=!0,{done:!0,value:void 0}}};return _e[Symbol.iterator]=function(){return _e},_e}s("Array.prototype.values",function(_){return _||function(){return o(this,function(I,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(_){var I=typeof _;return I=I!="object"?I:_?Array.isArray(_)?"array":I:"null",I=="array"||I=="object"&&typeof _.length=="number"}function m(_){var I=typeof _;return I=="object"&&_!=null||I=="function"}function g(_,I,N){return _.call.apply(_.bind,arguments)}function E(_,I,N){if(!_)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var _e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_e,J),_.apply(I,_e)}}return function(){return _.apply(I,arguments)}}function w(_,I,N){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:E,w.apply(null,arguments)}function C(_,I){var N=Array.prototype.slice.call(arguments,1);return function(){var J=N.slice();return J.push.apply(J,arguments),_.apply(this,J)}}function R(_,I){function N(){}N.prototype=I.prototype,_.aa=I.prototype,_.prototype=new N,_.prototype.constructor=_,_.Qb=function(J,_e,Ce){for(var Ze=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Ze[Yt-2]=arguments[Yt];return I.prototype[_e].apply(J,Ze)}}function O(_){const I=_.length;if(0<I){const N=Array(I);for(let J=0;J<I;J++)N[J]=_[J];return N}return[]}function D(_,I){for(let N=1;N<arguments.length;N++){const J=arguments[N];if(p(J)){const _e=_.length||0,Ce=J.length||0;_.length=_e+Ce;for(let Ze=0;Ze<Ce;Ze++)_[_e+Ze]=J[Ze]}else _.push(J)}}class j{constructor(I,N){this.i=I,this.j=N,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function te(_){return/^[\s\xa0]*$/.test(_)}function W(){var _=f.navigator;return _&&(_=_.userAgent)?_:""}function ee(_){return ee[" "](_),_}ee[" "]=function(){};var ne=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function q(_,I,N){for(const J in _)I.call(N,_[J],J,_)}function Z(_,I){for(const N in _)I.call(void 0,_[N],N,_)}function A(_){const I={};for(const N in _)I[N]=_[N];return I}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(_,I){let N,J;for(let _e=1;_e<arguments.length;_e++){J=arguments[_e];for(N in J)_[N]=J[N];for(let Ce=0;Ce<S.length;Ce++)N=S[Ce],Object.prototype.hasOwnProperty.call(J,N)&&(_[N]=J[N])}}function V(_){var I=1;_=_.split(":");const N=[];for(;0<I&&_.length;)N.push(_.shift()),I--;return _.length&&N.push(_.join(":")),N}function H(_){f.setTimeout(()=>{throw _},0)}function U(){var _=Q;let I=null;return _.g&&(I=_.g,_.g=_.g.next,_.g||(_.h=null),I.next=null),I}class ie{constructor(){this.h=this.g=null}add(I,N){const J=ce.get();J.set(I,N),this.h?this.h.next=J:this.g=J,this.h=J}}var ce=new j(()=>new z,_=>_.reset());class z{constructor(){this.next=this.g=this.h=null}set(I,N){this.h=I,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ae=!1,Q=new ie,M=()=>{const _=f.Promise.resolve(void 0);G=()=>{_.then(K)}};var K=()=>{for(var _;_=U();){try{_.h.call(_.g)}catch(N){H(N)}var I=ce;I.j(_),100>I.h&&(I.h++,_.next=I.g,I.g=_)}ae=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(_,I){this.type=_,this.g=this.target=I,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var _=!1,I=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const N=()=>{};f.addEventListener("test",N,I),f.removeEventListener("test",N,I)}catch{}return _}();function se(_,I){if(B.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var N=this.type=_.type,J=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=I,I=_.relatedTarget){if(ne){e:{try{ee(I.nodeName);var _e=!0;break e}catch{}_e=!1}_e||(I=null)}}else N=="mouseover"?I=_.fromElement:N=="mouseout"&&(I=_.toElement);this.relatedTarget=I,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:pe[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&se.aa.h.call(this)}}R(se,B);var pe={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ne(_,I,N,J,_e){this.listener=_,this.proxy=null,this.src=I,this.type=N,this.capture=!!J,this.ha=_e,this.key=++Ae,this.da=this.fa=!1}function je(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Ue(_){this.src=_,this.g={},this.h=0}Ue.prototype.add=function(_,I,N,J,_e){var Ce=_.toString();_=this.g[Ce],_||(_=this.g[Ce]=[],this.h++);var Ze=qe(_,I,J,_e);return-1<Ze?(I=_[Ze],N||(I.fa=!1)):(I=new Ne(I,this.src,Ce,!!J,_e),I.fa=N,_.push(I)),I};function Ke(_,I){var N=I.type;if(N in _.g){var J=_.g[N],_e=Array.prototype.indexOf.call(J,I,void 0),Ce;(Ce=0<=_e)&&Array.prototype.splice.call(J,_e,1),Ce&&(je(I),_.g[N].length==0&&(delete _.g[N],_.h--))}}function qe(_,I,N,J){for(var _e=0;_e<_.length;++_e){var Ce=_[_e];if(!Ce.da&&Ce.listener==I&&Ce.capture==!!N&&Ce.ha==J)return _e}return-1}var de="closure_lm_"+(1e6*Math.random()|0),Ie={};function xe(_,I,N,J,_e){if(Array.isArray(I)){for(var Ce=0;Ce<I.length;Ce++)xe(_,I[Ce],N,J,_e);return null}return N=en(N),_&&_[Me]?_.K(I,N,m(J)?!!J.capture:!1,_e):ze(_,I,N,!1,J,_e)}function ze(_,I,N,J,_e,Ce){if(!I)throw Error("Invalid event type");var Ze=m(_e)?!!_e.capture:!!_e,Yt=Et(_);if(Yt||(_[de]=Yt=new Ue(_)),N=Yt.add(I,N,J,Ze,Ce),N.proxy)return N;if(J=He(),N.proxy=J,J.src=_,J.listener=N,_.addEventListener)re||(_e=Ze),_e===void 0&&(_e=!1),_.addEventListener(I.toString(),J,_e);else if(_.attachEvent)_.attachEvent(At(I.toString()),J);else if(_.addListener&&_.removeListener)_.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return N}function He(){function _(N){return I.call(_.src,_.listener,N)}const I=pt;return _}function Qe(_,I,N,J,_e){if(Array.isArray(I))for(var Ce=0;Ce<I.length;Ce++)Qe(_,I[Ce],N,J,_e);else J=m(J)?!!J.capture:!!J,N=en(N),_&&_[Me]?(_=_.i,I=String(I).toString(),I in _.g&&(Ce=_.g[I],N=qe(Ce,N,J,_e),-1<N&&(je(Ce[N]),Array.prototype.splice.call(Ce,N,1),Ce.length==0&&(delete _.g[I],_.h--)))):_&&(_=Et(_))&&(I=_.g[I.toString()],_=-1,I&&(_=qe(I,N,J,_e)),(N=-1<_?I[_]:null)&&at(N))}function at(_){if(typeof _!="number"&&_&&!_.da){var I=_.src;if(I&&I[Me])Ke(I.i,_);else{var N=_.type,J=_.proxy;I.removeEventListener?I.removeEventListener(N,J,_.capture):I.detachEvent?I.detachEvent(At(N),J):I.addListener&&I.removeListener&&I.removeListener(J),(N=Et(I))?(Ke(N,_),N.h==0&&(N.src=null,I[de]=null)):je(_)}}}function At(_){return _ in Ie?Ie[_]:Ie[_]="on"+_}function pt(_,I){if(_.da)_=!0;else{I=new se(I,this);var N=_.listener,J=_.ha||_.src;_.fa&&at(_),_=N.call(J,I)}return _}function Et(_){return _=_[de],_ instanceof Ue?_:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(_){return typeof _=="function"?_:(_[lt]||(_[lt]=function(I){return _.handleEvent(I)}),_[lt])}function rt(){Y.call(this),this.i=new Ue(this),this.M=this,this.F=null}R(rt,Y),rt.prototype[Me]=!0,rt.prototype.removeEventListener=function(_,I,N,J){Qe(this,_,I,N,J)};function st(_,I){var N,J=_.F;if(J)for(N=[];J;J=J.F)N.push(J);if(_=_.M,J=I.type||I,typeof I=="string")I=new B(I,_);else if(I instanceof B)I.target=I.target||_;else{var _e=I;I=new B(J,_),P(I,_e)}if(_e=!0,N)for(var Ce=N.length-1;0<=Ce;Ce--){var Ze=I.g=N[Ce];_e=xt(Ze,J,!0,I)&&_e}if(Ze=I.g=_,_e=xt(Ze,J,!0,I)&&_e,_e=xt(Ze,J,!1,I)&&_e,N)for(Ce=0;Ce<N.length;Ce++)Ze=I.g=N[Ce],_e=xt(Ze,J,!1,I)&&_e}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var _=this.i,I;for(I in _.g){for(var N=_.g[I],J=0;J<N.length;J++)je(N[J]);delete _.g[I],_.h--}}this.F=null},rt.prototype.K=function(_,I,N,J){return this.i.add(String(_),I,!1,N,J)},rt.prototype.L=function(_,I,N,J){return this.i.add(String(_),I,!0,N,J)};function xt(_,I,N,J){if(I=_.i.g[String(I)],!I)return!0;I=I.concat();for(var _e=!0,Ce=0;Ce<I.length;++Ce){var Ze=I[Ce];if(Ze&&!Ze.da&&Ze.capture==N){var Yt=Ze.listener,Zn=Ze.ha||Ze.src;Ze.fa&&Ke(_.i,Ze),_e=Yt.call(Zn,J)!==!1&&_e}}return _e&&!J.defaultPrevented}function sn(_,I,N){if(typeof _=="function")N&&(_=w(_,N));else if(_&&typeof _.handleEvent=="function")_=w(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:f.setTimeout(_,I||0)}function wn(_){_.g=sn(()=>{_.g=null,_.i&&(_.i=!1,wn(_))},_.l);const I=_.h;_.h=null,_.m.apply(null,I)}class an extends Y{constructor(I,N){super(),this.m=I,this.l=N,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:wn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(_){Y.call(this),this.h=_,this.g={}}R(Qt,Y);var _n=[];function bn(_){q(_.g,function(I,N){this.g.hasOwnProperty(N)&&at(I)},_),_.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),bn(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=f.JSON.stringify,rr=f.JSON.parse,si=class{stringify(_){return f.JSON.stringify(_,void 0)}parse(_){return f.JSON.parse(_,void 0)}};function gr(){}gr.prototype.h=null;function _r(_){return _.h||(_.h=_.i())}function Hi(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){B.call(this,"d")}R(jn,B);function di(){B.call(this,"c")}R(di,B);var Vn={},Ei=null;function sr(){return Ei=Ei||new rt}Vn.La="serverreachability";function wi(_){B.call(this,Vn.La,_)}R(wi,B);function ue(_){const I=sr();st(I,new wi(I))}Vn.STAT_EVENT="statevent";function ge(_,I){B.call(this,Vn.STAT_EVENT,_),this.stat=I}R(ge,B);function Ee(_){const I=sr();st(I,new ge(I,_))}Vn.Ma="timingevent";function Le(_,I){B.call(this,Vn.Ma,_),this.size=I}R(Le,B);function Ge(_,I){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){_()},I)}function We(){this.g=!0}We.prototype.xa=function(){this.g=!1};function nt(_,I,N,J,_e,Ce){_.info(function(){if(_.g)if(Ce)for(var Ze="",Yt=Ce.split("&"),Zn=0;Zn<Yt.length;Zn++){var Wt=Yt[Zn].split("=");if(1<Wt.length){var pn=Wt[0];Wt=Wt[1];var On=pn.split("_");Ze=2<=On.length&&On[1]=="type"?Ze+(pn+"="+Wt+"&"):Ze+(pn+"=redacted&")}}else Ze=null;else Ze=Ce;return"XMLHTTP REQ ("+J+") [attempt "+_e+"]: "+I+`
`+N+`
`+Ze})}function ke(_,I,N,J,_e,Ce,Ze){_.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+_e+"]: "+I+`
`+N+`
`+Ce+" "+Ze})}function et(_,I,N,J){_.info(function(){return"XMLHTTP TEXT ("+I+"): "+mt(_,N)+(J?" "+J:"")})}function Je(_,I){_.info(function(){return"TIMEOUT: "+I})}We.prototype.info=function(){};function mt(_,I){if(!_.g)return I;if(!I)return null;try{var N=JSON.parse(I);if(N){for(_=0;_<N.length;_++)if(Array.isArray(N[_])){var J=N[_];if(!(2>J.length)){var _e=J[1];if(Array.isArray(_e)&&!(1>_e.length)){var Ce=_e[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(var Ze=1;Ze<_e.length;Ze++)_e[Ze]=""}}}}return Ln(N)}catch{return I}}var ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vt;function Ht(){}R(Ht,gr),Ht.prototype.g=function(){return new XMLHttpRequest},Ht.prototype.i=function(){return{}},Vt=new Ht;function tn(_,I,N,J){this.j=_,this.i=I,this.l=N,this.R=J||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var Ut={},vr={};function Wn(_,I,N){_.L=1,_.v=lr(kn(I)),_.m=N,_.P=!0,bi(_,null)}function bi(_,I){_.F=Date.now(),or(_),_.A=kn(_.v);var N=_.A,J=_.R;Array.isArray(J)||(J=[String(J)]),hl(N.i,"t",J),_.C=0,N=_.j.J,_.h=new qt,_.g=ou(_.j,N?I:null,!_.m),0<_.O&&(_.M=new an(w(_.Y,_,_.g),_.O)),I=_.U,N=_.g,J=_.ca;var _e="readystatechange";Array.isArray(_e)||(_e&&(_n[0]=_e.toString()),_e=_n);for(var Ce=0;Ce<_e.length;Ce++){var Ze=xe(N,_e[Ce],J||I.handleEvent,!1,I.h||I);if(!Ze)break;I.g[Ze.key]=Ze}I=_.H?A(_.H):{},_.m?(_.u||(_.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,I)):(_.u="GET",_.g.ea(_.A,_.u,null,I)),ue(),nt(_.i,_.u,_.A,_.l,_.R,_.m)}tn.prototype.ca=function(_){_=_.target;const I=this.M;I&&Ci(_)==3?I.j():this.Y(_)},tn.prototype.Y=function(_){try{if(_==this.g)e:{const On=Ci(this.g);var I=this.g.Ba();const As=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||fl(this.g)))){this.J||On!=4||I==7||(I==8||0>=As?ue(3):ue(2)),Ti(this);var N=this.g.Z();this.X=N;t:if(pi(this)){var J=fl(this.g);_="";var _e=J.length,Ce=Ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){St(this),Mi(this);var Ze="";break t}this.h.i=new f.TextDecoder}for(I=0;I<_e;I++)this.h.h=!0,_+=this.h.i.decode(J[I],{stream:!(Ce&&I==_e-1)});J.length=0,this.h.g+=_,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=N==200,ke(this.i,this.u,this.A,this.l,this.R,On,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,Zn=this.g;if((Yt=Zn.g?Zn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Yt)){var Wt=Yt;break t}}Wt=null}if(N=Wt)et(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Un(this,N);else{this.o=!1,this.s=3,Ee(12),St(this),Mi(this);break e}}if(this.P){N=!0;let xn;for(;!this.J&&this.C<Ze.length;)if(xn=ar(this,Ze),xn==vr){On==4&&(this.s=4,Ee(14),N=!1),et(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Ut){this.s=4,Ee(15),et(this.i,this.l,Ze,"[Invalid Chunk]"),N=!1;break}else et(this.i,this.l,xn,null),Un(this,xn);if(pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||Ze.length!=0||this.h.h||(this.s=1,Ee(16),N=!1),this.o=this.o&&N,!N)et(this.i,this.l,Ze,"[Invalid Chunked Response]"),St(this),Mi(this);else if(0<Ze.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),zs(pn),pn.M=!0,Ee(11))}}else et(this.i,this.l,Ze,null),Un(this,Ze);On==4&&St(this),this.o&&!this.J&&(On==4?pl(this.j,this):(this.o=!1,or(this)))}else yc(this.g),N==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),St(this),Mi(this)}}}catch{}finally{}};function pi(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function ar(_,I){var N=_.C,J=I.indexOf(`
`,N);return J==-1?vr:(N=Number(I.substring(N,J)),isNaN(N)?Ut:(J+=1,J+N>I.length?vr:(I=I.slice(J,J+N),_.C=J+N,I)))}tn.prototype.cancel=function(){this.J=!0,St(this)};function or(_){_.S=Date.now()+_.I,Vs(_,_.I)}function Vs(_,I){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Ge(w(_.ba,_),I)}function Ti(_){_.B&&(f.clearTimeout(_.B),_.B=null)}tn.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Je(this.i,this.A),this.L!=2&&(ue(),Ee(17)),St(this),this.s=2,Mi(this)):Vs(this,this.S-_)};function Mi(_){_.j.G==0||_.J||pl(_.j,_)}function St(_){Ti(_);var I=_.M;I&&typeof I.ma=="function"&&I.ma(),_.M=null,bn(_.U),_.g&&(I=_.g,_.g=null,I.abort(),I.ma())}function Un(_,I){try{var N=_.j;if(N.G!=0&&(N.g==_||Ot(N.h,_))){if(!_.K&&Ot(N.h,_)&&N.G==3){try{var J=N.Da.g.parse(I)}catch{J=null}if(Array.isArray(J)&&J.length==3){var _e=J;if(_e[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<_.F)Ja(N),Ya(N);else break e;Wa(N),Ee(18)}}else N.za=_e[1],0<N.za-N.T&&37500>_e[2]&&N.F&&N.v==0&&!N.C&&(N.C=Ge(w(N.Za,N),6e3));if(1>=cn(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Ts(N,11)}else if((_.K||N.g==_)&&Ja(N),!te(I))for(_e=N.Da.g.parse(I),I=0;I<_e.length;I++){let Wt=_e[I];if(N.T=Wt[0],Wt=Wt[1],N.G==2)if(Wt[0]=="c"){N.K=Wt[1],N.ia=Wt[2];const pn=Wt[3];pn!=null&&(N.la=pn,N.j.info("VER="+N.la));const On=Wt[4];On!=null&&(N.Aa=On,N.j.info("SVER="+N.Aa));const As=Wt[5];As!=null&&typeof As=="number"&&0<As&&(J=1.5*As,N.L=J,N.j.info("backChannelRequestTimeoutMs_="+J)),J=N;const xn=_.g;if(xn){const ss=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var Ce=J.h;Ce.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(hn(Ce,Ce.h),Ce.h=null))}if(J.D){const as=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(J.ya=as,wt(J.I,J.D,as))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-_.F,N.j.info("Handshake RTT: "+N.R+"ms")),J=N;var Ze=_;if(J.qa=to(J,J.J?J.ia:null,J.W),Ze.K){Gn(J.h,Ze);var Yt=Ze,Zn=J.L;Zn&&(Yt.I=Zn),Yt.B&&(Ti(Yt),or(Yt)),J.g=Ze}else Ur(J);0<N.i.length&&js(N)}else Wt[0]!="stop"&&Wt[0]!="close"||Ts(N,7);else N.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?Ts(N,7):Qa(N):Wt[0]!="noop"&&N.l&&N.l.ta(Wt),N.v=0)}}ue(4)}catch{}}var mi=class{constructor(_,I){this.g=_,this.map=I}};function Di(_){this.l=_||10,f.PerformanceNavigationTiming?(_=f.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pr(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function cn(_){return _.h?1:_.g?_.g.size:0}function Ot(_,I){return _.h?_.h==I:_.g?_.g.has(I):!1}function hn(_,I){_.g?_.g.add(I):_.h=I}function Gn(_,I){_.h&&_.h==I?_.h=null:_.g&&_.g.has(I)&&_.g.delete(I)}Di.prototype.cancel=function(){if(this.i=ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function ts(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let I=_.i;for(const N of _.g.values())I=I.concat(N.D);return I}return O(_.i)}function Us(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(p(_)){for(var I=[],N=_.length,J=0;J<N;J++)I.push(_[J]);return I}I=[],N=0;for(J in _)I[N++]=_[J];return I}function Bs(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(p(_)||typeof _=="string"){var I=[];_=_.length;for(var N=0;N<_;N++)I.push(N);return I}I=[],N=0;for(const J in _)I[N++]=J;return I}}}function It(_,I){if(_.forEach&&typeof _.forEach=="function")_.forEach(I,void 0);else if(p(_)||typeof _=="string")Array.prototype.forEach.call(_,I,void 0);else for(var N=Bs(_),J=Us(_),_e=J.length,Ce=0;Ce<_e;Ce++)I.call(void 0,J[Ce],N&&N[Ce],_)}var vn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(_,I){if(_){_=_.split("&");for(var N=0;N<_.length;N++){var J=_[N].indexOf("="),_e=null;if(0<=J){var Ce=_[N].substring(0,J);_e=_[N].substring(J+1)}else Ce=_[N];I(Ce,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function Nn(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Nn){this.h=_.h,fa(this,_.j),this.o=_.o,this.g=_.g,Mr(this,_.s),this.l=_.l;var I=_.i,N=new Nr;N.i=I.i,I.g&&(N.g=new Map(I.g),N.h=I.h),Ni(this,N),this.m=_.m}else _&&(I=String(_).match(vn))?(this.h=!1,fa(this,I[1]||"",!0),this.o=Ai(I[2]||""),this.g=Ai(I[3]||"",!0),Mr(this,I[4]),this.l=Ai(I[5]||"",!0),Ni(this,I[6]||"",!0),this.m=Ai(I[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Nn.prototype.toString=function(){var _=[],I=this.j;I&&_.push(Dr(I,vs,!0),":");var N=this.g;return(N||I=="file")&&(_.push("//"),(I=this.o)&&_.push(Dr(I,vs,!0),"@"),_.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&_.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&_.push("/"),_.push(Dr(N,N.charAt(0)=="/"?cl:da,!0))),(N=this.i.toString())&&_.push("?",N),(N=this.m)&&_.push("#",Dr(N,Fs)),_.join("")};function kn(_){return new Nn(_)}function fa(_,I,N){_.j=N?Ai(I,!0):I,_.j&&(_.j=_.j.replace(/:$/,""))}function Mr(_,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);_.s=I}else _.s=null}function Ni(_,I,N){I instanceof Nr?(_.i=I,ur(_.i,_.h)):(N||(I=Dr(I,Za)),_.i=new Nr(I,_.h))}function wt(_,I,N){_.i.set(I,N)}function lr(_){return wt(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Ai(_,I){return _?I?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Dr(_,I,N){return typeof _=="string"?(_=encodeURI(_).replace(I,Ga),N&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Ga(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var vs=/[#\/\?@]/g,da=/[#\?:]/g,cl=/[#\?]/g,Za=/[#\?@]/g,Fs=/#/g;function Nr(_,I){this.h=this.g=null,this.i=_||null,this.j=!!I}function Li(_){_.g||(_.g=new Map,_.h=0,_.i&&ul(_.i,function(I,N){_.add(decodeURIComponent(I.replace(/\+/g," ")),N)}))}n=Nr.prototype,n.add=function(_,I){Li(this),this.i=null,_=gt(this,_);var N=this.g.get(_);return N||this.g.set(_,N=[]),N.push(I),this.h+=1,this};function ns(_,I){Li(_),I=gt(_,I),_.g.has(I)&&(_.i=null,_.h-=_.g.get(I).length,_.g.delete(I))}function Lr(_,I){return Li(_),I=gt(_,I),_.g.has(I)}n.forEach=function(_,I){Li(this),this.g.forEach(function(N,J){N.forEach(function(_e){_.call(I,_e,J,this)},this)},this)},n.na=function(){Li(this);const _=Array.from(this.g.values()),I=Array.from(this.g.keys()),N=[];for(let J=0;J<I.length;J++){const _e=_[J];for(let Ce=0;Ce<_e.length;Ce++)N.push(I[J])}return N},n.V=function(_){Li(this);let I=[];if(typeof _=="string")Lr(this,_)&&(I=I.concat(this.g.get(gt(this,_))));else{_=Array.from(this.g.values());for(let N=0;N<_.length;N++)I=I.concat(_[N])}return I},n.set=function(_,I){return Li(this),this.i=null,_=gt(this,_),Lr(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[I]),this.h+=1,this},n.get=function(_,I){return _?(_=this.V(_),0<_.length?String(_[0]):I):I};function hl(_,I,N){ns(_,I),0<N.length&&(_.i=null,_.g.set(gt(_,I),O(N)),_.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],I=Array.from(this.g.keys());for(var N=0;N<I.length;N++){var J=I[N];const Ce=encodeURIComponent(String(J)),Ze=this.V(J);for(J=0;J<Ze.length;J++){var _e=Ce;Ze[J]!==""&&(_e+="="+encodeURIComponent(String(Ze[J]))),_.push(_e)}}return this.i=_.join("&")};function gt(_,I){return I=String(I),_.j&&(I=I.toLowerCase()),I}function ur(_,I){I&&!_.j&&(Li(_),_.i=null,_.g.forEach(function(N,J){var _e=J.toLowerCase();J!=_e&&(ns(this,J),hl(this,_e,N))},_)),_.j=I}function on(_,I){const N=new We;if(f.Image){const J=new Image;J.onload=C(qi,N,"TestLoadImage: loaded",!0,I,J),J.onerror=C(qi,N,"TestLoadImage: error",!1,I,J),J.onabort=C(qi,N,"TestLoadImage: abort",!1,I,J),J.ontimeout=C(qi,N,"TestLoadImage: timeout",!1,I,J),f.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=_}else I(!1)}function yr(_,I){const N=new We,J=new AbortController,_e=setTimeout(()=>{J.abort(),qi(N,"TestPingServer: timeout",!1,I)},1e4);fetch(_,{signal:J.signal}).then(Ce=>{clearTimeout(_e),Ce.ok?qi(N,"TestPingServer: ok",!0,I):qi(N,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(_e),qi(N,"TestPingServer: error",!1,I)})}function qi(_,I,N,J,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),J(N)}catch{}}function ys(){this.g=new si}function Er(_,I,N){const J=N||"";try{It(_,function(_e,Ce){let Ze=_e;m(_e)&&(Ze=Ln(_e)),I.push(J+Ce+"="+encodeURIComponent(Ze))})}catch(_e){throw I.push(J+"type="+encodeURIComponent("_badmap")),_e}}function Gi(_){this.l=_.Ub||null,this.j=_.eb||!1}R(Gi,gr),Gi.prototype.g=function(){return new Vr(this.l,this.j)},Gi.prototype.i=function(_){return function(){return _}}({});function Vr(_,I){rt.call(this),this.D=_,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Vr,rt),n=Vr.prototype,n.open=function(_,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=I,this.readyState=1,Si(this)},n.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(I.body=_),(this.D||f).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Es(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Es(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var I=_.value?_.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!_.done}))&&(this.response=this.responseText+=I)}_.done?Tn(this):Si(this),this.readyState==3&&Es(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,Tn(this))},n.Qa=function(_){this.g&&(this.response=_,Tn(this))},n.ga=function(){this.g&&Tn(this)};function Tn(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Si(_)}n.setRequestHeader=function(_,I){this.u.append(_,I)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],I=this.h.entries();for(var N=I.next();!N.done;)N=N.value,_.push(N[0]+": "+N[1]),N=I.next();return _.join(`\r
`)};function Si(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Ka(_){let I="";return q(_,function(N,J){I+=J,I+=":",I+=N,I+=`\r
`}),I}function Xn(_,I,N){e:{for(J in N){var J=!1;break e}J=!0}J||(N=Ka(N),typeof _=="string"?N!=null&&encodeURIComponent(String(N)):wt(_,I,N))}function fn(_){rt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(fn,rt);var pa=/^https?$/i,ws=["POST","PUT"];n=fn.prototype,n.Ha=function(_){this.J=_},n.ea=function(_,I,N,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);I=I?I.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vt.g(),this.v=this.o?_r(this.o):_r(Vt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(I,String(_),!0),this.B=!1}catch(Ce){ru(this,Ce);return}if(_=N||"",N=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var _e in J)N.set(_e,J[_e]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ce of J.keys())N.set(Ce,J.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(N.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),_e=f.FormData&&_ instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ws,I,void 0))||J||_e||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,Ze]of N)this.g.setRequestHeader(Ce,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gi(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ce){ru(this,Ce)}};function ru(_,I){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=I,_.m=5,ma(_),is(_)}function ma(_){_.A||(_.A=!0,st(_,"complete"),st(_,"error"))}n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,st(this,"complete"),st(this,"abort"),is(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),fn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Nt(this):this.bb())},n.bb=function(){Nt(this)};function Nt(_){if(_.h&&typeof c<"u"&&(!_.v[1]||Ci(_)!=4||_.Z()!=2)){if(_.u&&Ci(_)==4)sn(_.Ea,0,_);else if(st(_,"readystatechange"),Ci(_)==4){_.h=!1;try{const Ze=_.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var N;if(!(N=I)){var J;if(J=Ze===0){var _e=String(_.D).match(vn)[1]||null;!_e&&f.self&&f.self.location&&(_e=f.self.location.protocol.slice(0,-1)),J=!pa.test(_e?_e.toLowerCase():"")}N=J}if(N)st(_,"complete"),st(_,"success");else{_.m=6;try{var Ce=2<Ci(_)?_.g.statusText:""}catch{Ce=""}_.l=Ce+" ["+_.Z()+"]",ma(_)}}finally{is(_)}}}}function is(_,I){if(_.g){gi(_);const N=_.g,J=_.v[0]?()=>{}:null;_.g=null,_.v=null,I||st(_,"ready");try{N.onreadystatechange=J}catch{}}}function gi(_){_.I&&(f.clearTimeout(_.I),_.I=null)}n.isActive=function(){return!!this.g};function Ci(_){return _.g?_.g.readyState:0}n.Z=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var I=this.g.responseText;return _&&I.indexOf(_)==0&&(I=I.substring(_.length)),rr(I)}};function fl(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function yc(_){const I={};_=(_.g&&2<=Ci(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<_.length;J++){if(te(_[J]))continue;var N=V(_[J]);const _e=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Ce=I[_e]||[];I[_e]=Ce,Ce.push(N)}Z(I,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(_,I,N){return N&&N.internalChannelParams&&N.internalChannelParams[_]||I}function $a(_){this.Aa=0,this.i=[],this.j=new We,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,_),this.cb=bs("retryDelaySeedMs",1e4,_),this.Wa=bs("forwardChannelMaxRetries",2,_),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(_&&_.concurrentRequestLimit),this.Da=new ys,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(_,I,N,J){Ee(0),this.W=_,this.H=I||{},N&&J!==void 0&&(this.H.OSID=N,this.H.OAID=J),this.F=this.X,this.I=to(this,null,this.W),js(this)};function Qa(_){if(su(_),_.G==3){var I=_.U++,N=kn(_.I);if(wt(N,"SID",_.K),wt(N,"RID",I),wt(N,"TYPE","terminate"),ga(_,N),I=new tn(_,_.j,I),I.L=2,I.v=lr(kn(N)),N=!1,f.navigator&&f.navigator.sendBeacon)try{N=f.navigator.sendBeacon(I.v.toString(),"")}catch{}!N&&f.Image&&(new Image().src=I.v,N=!0),N||(I.g=ou(I.j,null),I.g.ea(I.v)),I.F=Date.now(),or(I)}au(_)}function Ya(_){_.g&&(zs(_),_.g.cancel(),_.g=null)}function su(_){Ya(_),_.u&&(f.clearTimeout(_.u),_.u=null),Ja(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&f.clearTimeout(_.s),_.s=null)}function js(_){if(!Pr(_.h)&&!_.s){_.s=!0;var I=_.Ga;G||M(),ae||(G(),ae=!0),Q.add(I,_),_.B=0}}function Ec(_,I){return cn(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=I.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Ge(w(_.Ga,_,I),eo(_,_.B)),_.B++,!0)}n.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const _e=new tn(this,this.j,_);let Ce=this.o;if(this.S&&(Ce?(Ce=A(Ce),P(Ce,this.S)):Ce=this.S),this.m!==null||this.O||(_e.H=Ce,Ce=null),this.P)e:{for(var I=0,N=0;N<this.i.length;N++){t:{var J=this.i[N];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(I+=J,4096<I){I=N;break e}if(I===4096||N===this.i.length-1){I=N+1;break e}}I=1e3}else I=1e3;I=dl(this,_e,I),N=kn(this.I),wt(N,"RID",_),wt(N,"CVER",22),this.D&&wt(N,"X-HTTP-Session-Id",this.D),ga(this,N),Ce&&(this.O?I="headers="+encodeURIComponent(String(Ka(Ce)))+"&"+I:this.m&&Xn(N,this.m,Ce)),hn(this.h,_e),this.Ua&&wt(N,"TYPE","init"),this.P?(wt(N,"$req",I),wt(N,"SID","null"),_e.T=!0,Wn(_e,N,null)):Wn(_e,N,I),this.G=2}}else this.G==3&&(_?Zi(this,_):this.i.length==0||Pr(this.h)||Zi(this))};function Zi(_,I){var N;I?N=I.l:N=_.U++;const J=kn(_.I);wt(J,"SID",_.K),wt(J,"RID",N),wt(J,"AID",_.T),ga(_,J),_.m&&_.o&&Xn(J,_.m,_.o),N=new tn(_,_.j,N,_.B+1),_.m===null&&(N.H=_.o),I&&(_.i=I.D.concat(_.i)),I=dl(_,N,1e3),N.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),hn(_.h,N),Wn(N,J,I)}function ga(_,I){_.H&&q(_.H,function(N,J){wt(I,J,N)}),_.l&&It({},function(N,J){wt(I,J,N)})}function dl(_,I,N){N=Math.min(_.i.length,N);var J=_.l?w(_.l.Na,_.l,_):null;e:{var _e=_.i;let Ce=-1;for(;;){const Ze=["count="+N];Ce==-1?0<N?(Ce=_e[0].g,Ze.push("ofs="+Ce)):Ce=0:Ze.push("ofs="+Ce);let Yt=!0;for(let Zn=0;Zn<N;Zn++){let Wt=_e[Zn].g;const pn=_e[Zn].map;if(Wt-=Ce,0>Wt)Ce=Math.max(0,_e[Zn].g-100),Yt=!1;else try{Er(pn,Ze,"req"+Wt+"_")}catch{J&&J(pn)}}if(Yt){J=Ze.join("&");break e}}}return _=_.i.splice(0,N),I.D=_,J}function Ur(_){if(!_.g&&!_.u){_.Y=1;var I=_.Fa;G||M(),ae||(G(),ae=!0),Q.add(I,_),_.v=0}}function Wa(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Ge(w(_.Fa,_),eo(_,_.v)),_.v++,!0)}n.Fa=function(){if(this.u=null,Xa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Ge(w(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Ya(this),Xa(this))};function zs(_){_.A!=null&&(f.clearTimeout(_.A),_.A=null)}function Xa(_){_.g=new tn(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var I=kn(_.qa);wt(I,"RID","rpc"),wt(I,"SID",_.K),wt(I,"AID",_.T),wt(I,"CI",_.F?"0":"1"),!_.F&&_.ja&&wt(I,"TO",_.ja),wt(I,"TYPE","xmlhttp"),ga(_,I),_.m&&_.o&&Xn(I,_.m,_.o),_.L&&(_.g.I=_.L);var N=_.g;_=_.ia,N.L=1,N.v=lr(kn(I)),N.m=null,N.P=!0,bi(N,_)}n.Za=function(){this.C!=null&&(this.C=null,Ya(this),Wa(this),Ee(19))};function Ja(_){_.C!=null&&(f.clearTimeout(_.C),_.C=null)}function pl(_,I){var N=null;if(_.g==I){Ja(_),zs(_),_.g=null;var J=2}else if(Ot(_.h,I))N=I.D,Gn(_.h,I),J=1;else return;if(_.G!=0){if(I.o)if(J==1){N=I.m?I.m.length:0,I=Date.now()-I.F;var _e=_.B;J=sr(),st(J,new Le(J,N)),js(_)}else Ur(_);else if(_e=I.s,_e==3||_e==0&&0<I.X||!(J==1&&Ec(_,I)||J==2&&Wa(_)))switch(N&&0<N.length&&(I=_.h,I.i=I.i.concat(N)),_e){case 1:Ts(_,5);break;case 4:Ts(_,10);break;case 3:Ts(_,6);break;default:Ts(_,2)}}}function eo(_,I){let N=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(N*=2),N*I}function Ts(_,I){if(_.j.info("Error code "+I),I==2){var N=w(_.fb,_),J=_.Xa;const _e=!J;J=new Nn(J||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||fa(J,"https"),lr(J),_e?on(J.toString(),N):yr(J.toString(),N)}else Ee(2);_.G=0,_.l&&_.l.sa(I),au(_),su(_)}n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function au(_){if(_.G=0,_.ka=[],_.l){const I=ts(_.h);(I.length!=0||_.i.length!=0)&&(D(_.ka,I),D(_.ka,_.i),_.h.i.length=0,O(_.i),_.i.length=0),_.l.ra()}}function to(_,I,N){var J=N instanceof Nn?kn(N):new Nn(N);if(J.g!="")I&&(J.g=I+"."+J.g),Mr(J,J.s);else{var _e=f.location;J=_e.protocol,I=I?I+"."+_e.hostname:_e.hostname,_e=+_e.port;var Ce=new Nn(null);J&&fa(Ce,J),I&&(Ce.g=I),_e&&Mr(Ce,_e),N&&(Ce.l=N),J=Ce}return N=_.D,I=_.ya,N&&I&&wt(J,N,I),wt(J,"VER",_.la),ga(_,J),J}function ou(_,I,N){if(I&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=_.Ca&&!_.pa?new fn(new Gi({eb:N})):new fn(_.pa),I.Ha(_.J),I}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ml(){}n=ml.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _a(){}_a.prototype.g=function(_,I){return new ai(_,I)};function ai(_,I){rt.call(this),this.g=new $a(I),this.l=_,this.h=I&&I.messageUrlParams||null,_=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(_?_["X-WebChannel-Content-Type"]=I.messageContentType:_={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(_?_["X-WebChannel-Client-Profile"]=I.va:_={"X-WebChannel-Client-Profile":I.va}),this.g.S=_,(_=I&&I.Sb)&&!te(_)&&(this.g.m=_),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!te(I)&&(this.g.D=I,_=this.h,_!==null&&I in _&&(_=this.h,I in _&&delete _[I])),this.j=new Ki(this)}R(ai,rt),ai.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){Qa(this.g)},ai.prototype.o=function(_){var I=this.g;if(typeof _=="string"){var N={};N.__data__=_,_=N}else this.u&&(N={},N.__data__=Ln(_),_=N);I.i.push(new mi(I.Ya++,_)),I.G==3&&js(I)},ai.prototype.N=function(){this.g.l=null,delete this.j,Qa(this.g),delete this.g,ai.aa.N.call(this)};function rs(_){jn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var I=_.__sm__;if(I){e:{for(const N in I){_=N;break e}_=void 0}(this.i=_)&&(_=this.i,I=I!==null&&_ in I?I[_]:void 0),this.data=I}else this.data=_}R(rs,jn);function lu(){di.call(this),this.status=1}R(lu,di);function Ki(_){this.g=_}R(Ki,ml),Ki.prototype.ua=function(){st(this.g,"a")},Ki.prototype.ta=function(_){st(this.g,new rs(_))},Ki.prototype.sa=function(_){st(this.g,new lu)},Ki.prototype.ra=function(){st(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,xS=function(){return new _a},RS=function(){return sr()},CS=Vn,rv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ht.NO_ERROR=0,ht.TIMEOUT=8,ht.HTTP_ERROR=6,Vd=ht,_t.COMPLETE="complete",SS=_t,Hi.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",rt.prototype.listen=rt.prototype.K,yh=Hi,fn.prototype.listenOnce=fn.prototype.L,fn.prototype.getLastError=fn.prototype.Ka,fn.prototype.getLastErrorCode=fn.prototype.Ba,fn.prototype.getStatus=fn.prototype.Z,fn.prototype.getResponseJson=fn.prototype.Oa,fn.prototype.getResponseText=fn.prototype.oa,fn.prototype.send=fn.prototype.ea,fn.prototype.setWithCredentials=fn.prototype.Ha,AS=fn}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const ab="@firebase/firestore",ob="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new Kv("@firebase/firestore");function zu(){return $l.logLevel}function Xe(n,...e){if($l.logLevel<=Xt.DEBUG){const t=e.map(ry);$l.debug(`Firestore (${fc}): ${n}`,...t)}}function Ba(n,...e){if($l.logLevel<=Xt.ERROR){const t=e.map(ry);$l.error(`Firestore (${fc}): ${n}`,...t)}}function Yo(n,...e){if($l.logLevel<=Xt.WARN){const t=e.map(ry);$l.warn(`Firestore (${fc}): ${n}`,...t)}}function ry(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,IS(n,i,t)}function IS(n,e,t){let i=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ba(i),new Error(i)}function gn(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||IS(e,s,i)}function Mt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xi.UNAUTHENTICATED))}shutdown(){}}class vN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yN{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gn(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let o=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Na,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Na)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gn(typeof i.accessToken=="string",31837,{l:i}),new kS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gn(e===null||typeof e=="string",2055,{h:e}),new Xi(e)}}class EN{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wN{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new EN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gn(this.o===void 0,3512);const i=o=>{o.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Xe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=TN(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function jt(n,e){return n<e?-1:n>e?1:0}function sv(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return jt(i,s);{const o=OS(),c=AN(o.encode(ub(n,t)),o.encode(ub(e,t)));return c!==0?c:jt(i,s)}}t+=i>65535?2:1}return jt(n.length,e.length)}function ub(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function AN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return jt(n[t],e[t]);return jt(n.length,e.length)}function nc(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__name__";class Xs{constructor(e,t,i){t===void 0?t=0:t>e.length&&Tt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Tt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=Xs.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return jt(e.length,t.length)}static compareSegments(e,t){const i=Xs.isNumericId(e),s=Xs.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Xs.extractNumericId(e).compare(Xs.extractNumericId(t)):sv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Go.fromString(e.substring(4,e.length-2))}}class Dn extends Xs{construct(e,t,i){return new Dn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new $e(Pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Dn(t)}static emptyPath(){return new Dn([])}}const SN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ji extends Xs{construct(e,t,i){return new ji(e,t,i)}static isValidIdentifier(e){return SN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cb}static keyField(){return new ji([cb])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new $e(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new $e(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new $e(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(i+=f,s++):(o(),s++)}if(o(),c)throw new $e(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ji(t)}static emptyPath(){return new ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Dn.fromString(e))}static fromName(e){return new dt(Dn.fromString(e).popFirst(5))}static empty(){return new dt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Dn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e,t){if(!t)throw new $e(Pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CN(n,e,t,i){if(e===!0&&i===!0)throw new $e(Pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hb(n){if(!dt.isDocumentKey(n))throw new $e(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fb(n){if(dt.isDocumentKey(n))throw new $e(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function zp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function es(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zp(n);throw new $e(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,e){const t={typeString:n};return e&&(t.value=e),t}function af(n,e){if(!MS(n))throw new $e(Pe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new $e(Pe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=-62135596800,pb=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*pb);return new nn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<db)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pb}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(af(e,nn._jsonSchema))return new nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:hi("string",nn._jsonSchemaVersion),seconds:hi("number"),nanoseconds:hi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new nn(0,0))}static max(){return new Pt(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=-1;function RN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(i===1e9?new nn(t+1,0):new nn(t,i));return new Wo(s,dt.empty(),e)}function xN(n){return new Wo(n.readTime,n.key,Uh)}class Wo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Wo(Pt.min(),dt.empty(),Uh)}static max(){return new Wo(Pt.max(),dt.empty(),Uh)}}function IN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=dt.comparator(n.documentKey,e.documentKey),t!==0?t:jt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(n){if(n.code!==Pe.FAILED_PRECONDITION||n.message!==kN)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,i)=>{t(e)})}static reject(e){return new Be((t,i)=>{i(e)})}static waitFor(e){return new Be((t,i)=>{let s=0,o=0,c=!1;e.forEach(f=>{++s,f.next(()=>{++o,c&&o===s&&t()},p=>i(p))}),c=!0,o===s&&t()})}static or(e){let t=Be.resolve(!1);for(const i of e)t=t.next(s=>s?Be.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,o)=>{i.push(t.call(this,s,o))}),this.waitFor(i)}static mapArray(e,t){return new Be((i,s)=>{const o=e.length,c=new Array(o);let f=0;for(let p=0;p<o;p++){const m=p;t(e[m]).next(g=>{c[m]=g,++f,f===o&&i(c)},g=>s(g))}})}static doWhile(e,t){return new Be((i,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):i()};o()})}}function PN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Hp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function qp(n){return n==null}function lp(n){return n===0&&1/n==-1/0}function MN(n){return typeof n=="number"&&Number.isInteger(n)&&!lp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="";function DN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mb(e)),e=NN(n.get(t),e);return mb(e)}function NN(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case DS:t+="";break;default:t+=o}}return t}function mb(n){return n+DS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function al(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Fi.RED,this.left=s??Fi.EMPTY,this.right=o??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new Fi(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Fi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new Fi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _b(this.data.getIterator())}getIteratorFrom(e){return new _b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yi(this.comparator);return t.data=e,t}}class _b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(ji.comparator)}static empty(){return new Xr([])}unionWith(e){let t=new yi(ji.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LS("Invalid base64 string: "+o):o}}(e);return new zi(t)}static fromUint8Array(e){const t=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new zi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zi.EMPTY_BYTE_STRING=new zi("");const LN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(gn(!!n,39018),typeof n=="string"){let e=0;const t=LN.exec(n);if(gn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ni(n.seconds),nanos:ni(n.nanos)}}function ni(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Jo(n){return typeof n=="string"?zi.fromBase64String(n):zi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="server_timestamp",US="__type__",BS="__previous_value__",FS="__local_write_time__";function oy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[US])===null||t===void 0?void 0:t.stringValue)===VS}function Gp(n){const e=n.mapValue.fields[BS];return oy(e)?Gp(e):e}function Bh(n){const e=Xo(n.mapValue.fields[FS].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t,i,s,o,c,f,p,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=g}}const up="(default)";class Fh{constructor(e,t){this.projectId=e,this.database=t||up}static empty(){return new Fh("","")}get isDefaultDatabase(){return this.database===up}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="__type__",UN="__max__",Ad={mapValue:{}},zS="__vector__",cp="value";function el(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oy(n)?4:FN(n)?9007199254740991:BN(n)?10:11:Tt(28295,{value:n})}function ua(n,e){if(n===e)return!0;const t=el(n);if(t!==el(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bh(n).isEqual(Bh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Xo(s.timestampValue),f=Xo(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return Jo(s.bytesValue).isEqual(Jo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return ni(s.geoPointValue.latitude)===ni(o.geoPointValue.latitude)&&ni(s.geoPointValue.longitude)===ni(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return ni(s.integerValue)===ni(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=ni(s.doubleValue),f=ni(o.doubleValue);return c===f?lp(c)===lp(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return nc(n.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},f=o.mapValue.fields||{};if(gb(c)!==gb(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!ua(c[p],f[p])))return!1;return!0}(n,e);default:return Tt(52216,{left:n})}}function jh(n,e){return(n.values||[]).find(t=>ua(t,e))!==void 0}function ic(n,e){if(n===e)return 0;const t=el(n),i=el(e);if(t!==i)return jt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const f=ni(o.integerValue||o.doubleValue),p=ni(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return vb(n.timestampValue,e.timestampValue);case 4:return vb(Bh(n),Bh(e));case 5:return sv(n.stringValue,e.stringValue);case 6:return function(o,c){const f=Jo(o),p=Jo(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const f=o.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const g=jt(f[m],p[m]);if(g!==0)return g}return jt(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const f=jt(ni(o.latitude),ni(c.latitude));return f!==0?f:jt(ni(o.longitude),ni(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yb(n.arrayValue,e.arrayValue);case 10:return function(o,c){var f,p,m,g;const E=o.fields||{},w=c.fields||{},C=(f=E[cp])===null||f===void 0?void 0:f.arrayValue,R=(p=w[cp])===null||p===void 0?void 0:p.arrayValue,O=jt(((m=C?.values)===null||m===void 0?void 0:m.length)||0,((g=R?.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:yb(C,R)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===Ad.mapValue&&c===Ad.mapValue)return 0;if(o===Ad.mapValue)return 1;if(c===Ad.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),m=c.fields||{},g=Object.keys(m);p.sort(),g.sort();for(let E=0;E<p.length&&E<g.length;++E){const w=sv(p[E],g[E]);if(w!==0)return w;const C=ic(f[p[E]],m[g[E]]);if(C!==0)return C}return jt(p.length,g.length)}(n.mapValue,e.mapValue);default:throw Tt(23264,{le:t})}}function vb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return jt(n,e);const t=Xo(n),i=Xo(e),s=jt(t.seconds,i.seconds);return s!==0?s:jt(t.nanos,i.nanos)}function yb(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=ic(t[s],i[s]);if(o)return o}return jt(t.length,i.length)}function rc(n){return av(n)}function av(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Xo(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Jo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return dt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=av(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of i)o?o=!1:s+=",",s+=`${c}:${av(t.fields[c])}`;return s+"}"}(n.mapValue):Tt(61005,{value:n})}function Ud(n){switch(el(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gp(n);return e?16+Ud(e):16;case 5:return 2*n.stringValue.length;case 6:return Jo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Ud(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return al(i.fields,(o,c)=>{s+=o.length+Ud(c)}),s}(n.mapValue);default:throw Tt(13486,{value:n})}}function Eb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ov(n){return!!n&&"integerValue"in n}function ly(n){return!!n&&"arrayValue"in n}function wb(n){return!!n&&"nullValue"in n}function bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bd(n){return!!n&&"mapValue"in n}function BN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[jS])===null||t===void 0?void 0:t.stringValue)===zS}function Rh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return al(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rh(t)}setAll(e){let t=ji.emptyPath(),i={},s=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=f.popLast()}c?i[f.lastSegment()]=Rh(c):s.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Bd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){al(t,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Rr(Rh(this.value))}}function HS(n){const e=[];return al(n.fields,(t,i)=>{const s=new ji([t]);if(Bd(i)){const o=HS(i.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,i,s,o,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Ji(e,0,Pt.min(),Pt.min(),Pt.min(),Rr.empty(),0)}static newFoundDocument(e,t,i,s){return new Ji(e,1,t,Pt.min(),i,s,0)}static newNoDocument(e,t){return new Ji(e,2,t,Pt.min(),Pt.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new Ji(e,3,t,Pt.min(),Pt.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.position=e,this.inclusive=t}}function Tb(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?i=dt.comparator(dt.fromName(c.referenceValue),t.key):i=ic(c,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ab(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ua(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function jN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{}class ci extends qS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new HN(e,t,i):t==="array-contains"?new ZN(e,i):t==="in"?new KN(e,i):t==="not-in"?new $N(e,i):t==="array-contains-any"?new QN(e,i):new ci(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new qN(e,i):new GN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ic(t,this.value)):t!==null&&el(this.value)===el(t)&&this.matchesComparison(ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends qS{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ds(e,t)}matches(e){return GS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function GS(n){return n.op==="and"}function ZS(n){return zN(n)&&GS(n)}function zN(n){for(const e of n.filters)if(e instanceof Ds)return!1;return!0}function lv(n){if(n instanceof ci)return n.field.canonicalString()+n.op.toString()+rc(n.value);if(ZS(n))return n.filters.map(e=>lv(e)).join(",");{const e=n.filters.map(t=>lv(t)).join(",");return`${n.op}(${e})`}}function KS(n,e){return n instanceof ci?function(i,s){return s instanceof ci&&i.op===s.op&&i.field.isEqual(s.field)&&ua(i.value,s.value)}(n,e):n instanceof Ds?function(i,s){return s instanceof Ds&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,c,f)=>o&&KS(c,s.filters[f]),!0):!1}(n,e):void Tt(19439)}function $S(n){return n instanceof ci?function(t){return`${t.field.canonicalString()} ${t.op} ${rc(t.value)}`}(n):n instanceof Ds?function(t){return t.op.toString()+" {"+t.getFilters().map($S).join(" ,")+"}"}(n):"Filter"}class HN extends ci{constructor(e,t,i){super(e,t,i),this.key=dt.fromName(i.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class qN extends ci{constructor(e,t){super(e,"in",t),this.keys=QS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GN extends ci{constructor(e,t){super(e,"not-in",t),this.keys=QS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>dt.fromName(i.referenceValue))}class ZN extends ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ly(t)&&jh(t.arrayValue,this.value)}}class KN extends ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jh(this.value.arrayValue,t)}}class $N extends ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jh(this.value.arrayValue,t)}}class QN extends ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t=null,i=[],s=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=c,this.endAt=f,this.Pe=null}}function Sb(n,e=null,t=[],i=[],s=null,o=null,c=null){return new YN(n,e,t,i,s,o,c)}function uy(n){const e=Mt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>lv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),qp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rc(i)).join(",")),e.Pe=t}return e.Pe}function cy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ab(n.startAt,e.startAt)&&Ab(n.endAt,e.endAt)}function uv(n){return dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t=null,i=[],s=[],o=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function WN(n,e,t,i,s,o,c,f){return new mc(n,e,t,i,s,o,c,f)}function Zp(n){return new mc(n)}function Cb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YS(n){return n.collectionGroup!==null}function xh(n){const e=Mt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new yi(ji.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new zh(o,i))}),t.has(ji.keyField().canonicalString())||e.Te.push(new zh(ji.keyField(),i))}return e.Te}function sa(n){const e=Mt(n);return e.Ie||(e.Ie=XN(e,xh(n))),e.Ie}function XN(n,e){if(n.limitType==="F")return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new zh(s.field,o)});const t=n.endAt?new hp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hp(n.startAt.position,n.startAt.inclusive):null;return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function cv(n,e){const t=n.filters.concat([e]);return new mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hv(n,e,t){return new mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kp(n,e){return cy(sa(n),sa(e))&&n.limitType===e.limitType}function WS(n){return`${uy(sa(n))}|lt:${n.limitType}`}function Hu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>$S(s)).join(", ")}]`),qp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>rc(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>rc(s)).join(",")),`Target(${i})`}(sa(n))}; limitType=${n.limitType})`}function $p(n,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):dt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,s){for(const o of xh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,f,p){const m=Tb(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,xh(i),s)||i.endAt&&!function(c,f,p){const m=Tb(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,xh(i),s))}(n,e)}function JN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XS(n){return(e,t)=>{let i=!1;for(const s of xh(n)){const o=e4(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function e4(n,e,t){const i=n.field.isKeyField()?dt.comparator(e.key,t.key):function(o,c,f){const p=c.data.field(o),m=f.data.field(o);return p!==null&&m!==null?ic(p,m):Tt(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(t,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return NS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new qn(dt.comparator);function Fa(){return t4}const JS=new qn(dt.comparator);function Eh(...n){let e=JS;for(const t of n)e=e.insert(t.key,t);return e}function e2(n){let e=JS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ul(){return Ih()}function t2(){return Ih()}function Ih(){return new nu(n=>n.toString(),(n,e)=>n.isEqual(e))}const n4=new qn(dt.comparator),i4=new yi(dt.comparator);function Jt(...n){let e=i4;for(const t of n)e=e.add(t);return e}const r4=new yi(jt);function s4(){return r4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function n2(n){return{integerValue:""+n}}function a4(n,e){return MN(e)?n2(e):hy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function o4(n,e,t){return n instanceof fp?function(s,o){const c={fields:{[US]:{stringValue:VS},[FS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&oy(o)&&(o=Gp(o)),o&&(c.fields[BS]=o),{mapValue:c}}(t,e):n instanceof Hh?r2(n,e):n instanceof qh?s2(n,e):function(s,o){const c=i2(s,o),f=Rb(c)+Rb(s.Ee);return ov(c)&&ov(s.Ee)?n2(f):hy(s.serializer,f)}(n,e)}function l4(n,e,t){return n instanceof Hh?r2(n,e):n instanceof qh?s2(n,e):t}function i2(n,e){return n instanceof dp?function(i){return ov(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class fp extends Qp{}class Hh extends Qp{constructor(e){super(),this.elements=e}}function r2(n,e){const t=a2(e);for(const i of n.elements)t.some(s=>ua(s,i))||t.push(i);return{arrayValue:{values:t}}}class qh extends Qp{constructor(e){super(),this.elements=e}}function s2(n,e){let t=a2(e);for(const i of n.elements)t=t.filter(s=>!ua(s,i));return{arrayValue:{values:t}}}class dp extends Qp{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Rb(n){return ni(n.integerValue||n.doubleValue)}function a2(n){return ly(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function u4(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Hh&&s instanceof Hh||i instanceof qh&&s instanceof qh?nc(i.elements,s.elements,ua):i instanceof dp&&s instanceof dp?ua(i.Ee,s.Ee):i instanceof fp&&s instanceof fp}(n.transform,e.transform)}class c4{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yp{}function o2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wp(n.key,Ir.none()):new of(n.key,n.data,Ir.none());{const t=n.data,i=Rr.empty();let s=new yi(ji.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?i.delete(o):i.set(o,c),s=s.add(o)}return new ol(n.key,i,new Xr(s.toArray()),Ir.none())}}function h4(n,e,t){n instanceof of?function(s,o,c){const f=s.value.clone(),p=Ib(s.fieldTransforms,o,c.transformResults);f.setAll(p),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ol?function(s,o,c){if(!Fd(s.precondition,o))return void o.convertToUnknownDocument(c.version);const f=Ib(s.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(l2(s)),p.setAll(f),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function kh(n,e,t,i){return n instanceof of?function(o,c,f,p){if(!Fd(o.precondition,c))return f;const m=o.value.clone(),g=kb(o.fieldTransforms,p,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof ol?function(o,c,f,p){if(!Fd(o.precondition,c))return f;const m=kb(o.fieldTransforms,p,c),g=c.data;return g.setAll(l2(o)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(o,c,f){return Fd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function f4(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=i2(i.transform,s||null);o!=null&&(t===null&&(t=Rr.empty()),t.set(i.field,o))}return t||null}function xb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&nc(i,s,(o,c)=>u4(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class of extends Yp{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ol extends Yp{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function l2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ib(n,e,t){const i=new Map;gn(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,f=e.data.field(o.field);i.set(o.field,l4(c,f,t[s]))}return i}function kb(n,e,t){const i=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);i.set(s.field,o4(o,c,e))}return i}class Wp extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d4 extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&h4(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=kh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=kh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=t2();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(s.key)?null:f;const p=o2(c,f);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,(t,i)=>xb(t,i))&&nc(this.baseMutations,e.baseMutations,(t,i)=>xb(t,i))}}class fy{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){gn(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return n4}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,i[c].version);return new fy(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui,un;function _4(n){switch(n){case Pe.OK:return Tt(64938);case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function u2(n){if(n===void 0)return Ba("GRPC error has no .code"),Pe.UNKNOWN;switch(n){case ui.OK:return Pe.OK;case ui.CANCELLED:return Pe.CANCELLED;case ui.UNKNOWN:return Pe.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Pe.INTERNAL;case ui.UNAVAILABLE:return Pe.UNAVAILABLE;case ui.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case ui.NOT_FOUND:return Pe.NOT_FOUND;case ui.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case ui.ABORTED:return Pe.ABORTED;case ui.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case ui.DATA_LOSS:return Pe.DATA_LOSS;default:return Tt(39323,{code:n})}}(un=ui||(ui={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new Go([4294967295,4294967295],0);function Ob(n){const e=OS().encode(n),t=new TS;return t.update(e),new Uint8Array(t.digest())}function Pb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Go([t,i],0),new Go([s,o],0)]}class dy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new wh(`Invalid padding: ${t}`);if(i<0)throw new wh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new wh(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new wh(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Go.fromNumber(this.fe)}pe(e,t,i){let s=e.add(t.multiply(Go.fromNumber(i)));return s.compare(v4)===1&&(s=new Go([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Ob(e),[i,s]=Pb(t);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,s,o);if(!this.ye(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new dy(o,s,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.fe===0)return;const t=Ob(e),[i,s]=Pb(t);for(let o=0;o<this.hashCount;o++){const c=this.pe(i,s,o);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xp(Pt.min(),s,new qn(jt),Fa(),Jt())}}class lf{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new lf(i,t,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=s}}class c2{constructor(e,t){this.targetId=e,this.De=t}}class h2{constructor(e,t,i=zi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Mb{constructor(){this.ve=0,this.Ce=Db(),this.Fe=zi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Jt(),t=Jt(),i=Jt();return this.Ce.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Tt(38017,{changeType:o})}}),new lf(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=Db()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,gn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class y4{constructor(e){this.We=e,this.Ge=new Map,this.ze=Fa(),this.je=Sd(),this.Je=Sd(),this.He=new qn(jt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,i=e.De.count,s=this.st(t);if(s){const o=s.target;if(uv(o))if(i===0){const c=new dt(o.path);this.Xe(t,c,Ji.newNoDocument(c,Pt.min()))}else gn(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const f=this._t(e),p=f?this.ut(f,e,c):1;if(p!==0){this.rt(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let c,f;try{c=Jo(i).toUint8Array()}catch(p){if(p instanceof LS)return Yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new dy(c,s,o)}catch(p){return Yo(p instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const c=this.We.lt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,o,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((o,c)=>{const f=this.st(c);if(f){if(o.current&&uv(f.target)){const p=new dt(f.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,Ji.newNoDocument(p,e))}o.Ne&&(t.set(c,o.Le()),o.ke())}});let i=Jt();this.Je.forEach((o,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.st(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(o))}),this.ze.forEach((o,c)=>c.setReadTime(e));const s=new Xp(e,t,this.He,this.ze,i);return this.ze=Fa(),this.je=Sd(),this.Je=Sd(),this.He=new qn(jt),s}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Mb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new yi(jt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new yi(jt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Mb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Sd(){return new qn(dt.comparator)}function Db(){return new qn(dt.comparator)}const E4={asc:"ASCENDING",desc:"DESCENDING"},w4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b4={and:"AND",or:"OR"};class T4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fv(n,e){return n.useProto3Json||qp(e)?e:{value:e}}function pp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function A4(n,e){return pp(n,e.toTimestamp())}function aa(n){return gn(!!n,49232),Pt.fromTimestamp(function(t){const i=Xo(t);return new nn(i.seconds,i.nanos)}(n))}function py(n,e){return dv(n,e).canonicalString()}function dv(n,e){const t=function(s){return new Dn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function d2(n){const e=Dn.fromString(n);return gn(v2(e),10190,{key:e.toString()}),e}function pv(n,e){return py(n.databaseId,e.path)}function __(n,e){const t=d2(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(m2(t))}function p2(n,e){return py(n.databaseId,e)}function S4(n){const e=d2(n);return e.length===4?Dn.emptyPath():m2(e)}function mv(n){return new Dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m2(n){return gn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Nb(n,e,t){return{name:pv(n,e),fields:t.value.mapValue.fields}}function C4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Tt(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,g){return m.useProto3Json?(gn(g===void 0||typeof g=="string",58123),zi.fromBase64String(g||"")):(gn(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),zi.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const g=m.code===void 0?Pe.UNKNOWN:u2(m.code);return new $e(g,m.message||"")}(c);t=new h2(i,s,o,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=__(n,i.document.name),o=aa(i.document.updateTime),c=i.document.createTime?aa(i.document.createTime):Pt.min(),f=new Rr({mapValue:{fields:i.document.fields}}),p=Ji.newFoundDocument(s,o,c,f),m=i.targetIds||[],g=i.removedTargetIds||[];t=new jd(m,g,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=__(n,i.document),o=i.readTime?aa(i.readTime):Pt.min(),c=Ji.newNoDocument(s,o),f=i.removedTargetIds||[];t=new jd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=__(n,i.document),o=i.removedTargetIds||[];t=new jd([],o,s,null)}else{if(!("filter"in e))return Tt(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,c=new g4(s,o),f=i.targetId;t=new c2(f,c)}}return t}function R4(n,e){let t;if(e instanceof of)t={update:Nb(n,e.key,e.value)};else if(e instanceof Wp)t={delete:pv(n,e.key)};else if(e instanceof ol)t={update:Nb(n,e.key,e.data),updateMask:L4(e.fieldMask)};else{if(!(e instanceof d4))return Tt(16599,{Rt:e.type});t={verify:pv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,c){const f=c.transform;if(f instanceof fp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Hh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof qh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dp)return{fieldPath:c.field.canonicalString(),increment:f.Ee};throw Tt(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:A4(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)}(n,e.precondition)),t}function x4(n,e){return n&&n.length>0?(gn(e!==void 0,14353),n.map(t=>function(s,o){let c=s.updateTime?aa(s.updateTime):aa(o);return c.isEqual(Pt.min())&&(c=aa(o)),new c4(c,s.transformResults||[])}(t,e))):[]}function I4(n,e){return{documents:[p2(n,e.path)]}}function k4(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=p2(n,s);const o=function(m){if(m.length!==0)return _2(Ds.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(g=>function(w){return{field:qu(w.field),direction:M4(w.dir)}}(g))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=fv(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:t,parent:s}}function O4(n){let e=S4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){gn(i===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(E){const w=g2(E);return w instanceof Ds&&ZS(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(w=>function(R){return new zh(Gu(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(E){let w;return w=typeof E=="object"?E.value:E,qp(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(E){const w=!!E.before,C=E.values||[];return new hp(C,w)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const w=!E.before,C=E.values||[];return new hp(C,w)}(t.endAt)),WN(e,s,c,o,f,"F",p,m)}function P4(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Gu(t.unaryFilter.field);return ci.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Gu(t.unaryFilter.field);return ci.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gu(t.unaryFilter.field);return ci.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Gu(t.unaryFilter.field);return ci.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(n):n.fieldFilter!==void 0?function(t){return ci.create(Gu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ds.create(t.compositeFilter.filters.map(i=>g2(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(t.compositeFilter.op))}(n):Tt(30097,{filter:n})}function M4(n){return E4[n]}function D4(n){return w4[n]}function N4(n){return b4[n]}function qu(n){return{fieldPath:n.canonicalString()}}function Gu(n){return ji.fromServerFormat(n.fieldPath)}function _2(n){return n instanceof ci?function(t){if(t.op==="=="){if(bb(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NAN"}};if(wb(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bb(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NOT_NAN"}};if(wb(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qu(t.field),op:D4(t.op),value:t.value}}}(n):n instanceof Ds?function(t){const i=t.getFilters().map(s=>_2(s));return i.length===1?i[0]:{compositeFilter:{op:N4(t.op),filters:i}}}(n):Tt(54877,{filter:n})}function L4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function v2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t,i,s,o=Pt.min(),c=Pt.min(),f=zi.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.gt=e}}function U4(n){const e=O4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.Dn=new F4}addToCollectionParentIndex(e,t){return this.Dn.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(Wo.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(Wo.min())}updateCollectionGroup(e,t,i){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class F4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new yi(Dn.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new yi(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y2=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(y2,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new sc(0)}static ur(){return new sc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",j4=1048576;function Ub([n,e],[t,i]){const s=jt(n,t);return s===0?jt(e,i):s}class z4{constructor(e){this.Tr=e,this.buffer=new yi(Ub),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ub(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Xe(Vb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pc(t)?Xe(Vb,"Ignoring IndexedDB error during garbage collection: ",t):await dc(t)}await this.Rr(3e5)})}}class q4{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Be.resolve(Hp.ue);const i=new z4(t);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(Lb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,s,o,c,f,p,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,t))).next(E=>(o=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),zu()<=Xt.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${o} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-g}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:E})))}}function G4(n,e){return new q4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.changes=new nu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ji.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Be.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&kh(i.mutation,s,Xr.empty(),nn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Jt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Jt()){const s=Ul();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(o=>{let c=Eh();return o.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ul();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Jt()))}populateOverlays(e,t,i){const s=[];return i.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,s){let o=Fa();const c=Ih(),f=function(){return Ih()}();return t.forEach((p,m)=>{const g=i.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof ol)?o=o.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),kh(g.mutation,m,g.mutation.getFieldMask(),nn.now())):c.set(m.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((m,g)=>c.set(m,g)),t.forEach((m,g)=>{var E;return f.set(m,new K4(g,(E=c.get(m))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ih();let s=new qn((c,f)=>c-f),o=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let g=i.get(p)||Xr.empty();g=f.applyToLocalView(m,g),i.set(p,g);const E=(s.get(f.batchId)||Jt()).add(p);s=s.insert(f.batchId,E)})}).next(()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,g=p.value,E=t2();g.forEach(w=>{if(!o.has(w)){const C=o2(t.get(w),i.get(w));C!==null&&E.set(w,C),o=o.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return Be.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):Be.resolve(Ul());let f=Uh,p=o;return c.next(m=>Be.forEach(m,(g,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),o.get(g)?Be.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{p=p.insert(g,w)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,p,m,Jt())).next(g=>({batchId:f,changes:e2(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(i=>{let s=Eh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let c=Eh();return this.indexManager.getCollectionParents(e,o).next(f=>Be.forEach(f,p=>{const m=function(E,w){return new mc(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(g=>{g.forEach((E,w)=>{c=c.insert(E,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s))).next(c=>{o.forEach((p,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,Ji.newInvalidDocument(g)))});let f=Eh();return c.forEach((p,m)=>{const g=o.get(p);g!==void 0&&kh(g.mutation,m,Xr.empty(),nn.now()),$p(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Be.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:aa(s.createTime)}}(t)),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:U4(s.bundledQuery),readTime:aa(s.readTime)}}(t)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.overlays=new qn(dt.comparator),this.kr=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ul();return Be.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,o)=>{this.wt(e,t,o)}),Be.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),Be.resolve()}getOverlaysForCollection(e,t,i){const s=Ul(),o=t.length+1,c=new dt(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&p.largestBatchId>i&&s.set(p.getKey(),p)}return Be.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new qn((m,g)=>m-g);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let g=o.get(m.largestBatchId);g===null&&(g=Ul(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=Ul(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,g)=>f.set(m,g)),!(f.size()>=s)););return Be.resolve(f)}wt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new m4(t,i));let o=this.kr.get(t);o===void 0&&(o=Jt(),this.kr.set(t,o)),this.kr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.sessionToken=zi.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.qr=new yi(Oi.Qr),this.$r=new yi(Oi.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Oi(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Oi(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new dt(new Dn([])),i=new Oi(t,e),s=new Oi(t,e+1),o=[];return this.$r.forEachInRange([i,s],c=>{this.Wr(c),o.push(c.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new dt(new Dn([])),i=new Oi(t,e),s=new Oi(t,e+1);let o=Jt();return this.$r.forEachInRange([i,s],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Oi(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Oi{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return dt.comparator(e.key,t.key)||jt(e.Hr,t.Hr)}static Ur(e,t){return jt(e.Hr,t.Hr)||dt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new yi(Oi.Qr)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new p4(o,t,i,s);this.mutationQueue.push(c);for(const f of s)this.Yr=this.Yr.add(new Oi(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Be.resolve(c)}lookupMutationBatch(e,t){return Be.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),o=s<0?0:s;return Be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?ay:this.er-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Oi(t,0),s=new Oi(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,s],c=>{const f=this.Zr(c.Hr);o.push(f)}),Be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yi(jt);return t.forEach(s=>{const o=new Oi(s,0),c=new Oi(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,c],f=>{i=i.add(f.Hr)})}),Be.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;dt.isDocumentKey(o)||(o=o.child(""));const c=new Oi(new dt(o),0);let f=new yi(jt);return this.Yr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(f=f.add(p.Hr)),!0)},c),Be.resolve(this.ei(f))}ei(e){const t=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){gn(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return Be.forEach(t.mutations,s=>{const o=new Oi(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Oi(t,0),s=this.Yr.firstAfterOrEqual(i);return Be.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.ni=e,this.docs=function(){return new qn(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Be.resolve(i?i.document.mutableCopy():Ji.newInvalidDocument(t))}getEntries(e,t){let i=Fa();return t.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Ji.newInvalidDocument(s))}),Be.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=Fa();const c=t.path,f=new dt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:g}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||IN(xN(g),i)<=0||(s.has(g.key)||$p(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Be.resolve(o)}getAllFromCollectionGroup(e,t,i,s){Tt(9500)}ri(e,t){return Be.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new eL(this)}getSize(e){return Be.resolve(this.size)}}class eL extends Z4{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),Be.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.persistence=e,this.ii=new nu(t=>uy(t),cy),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.si=0,this.oi=new my,this.targetCount=0,this._i=sc.ar()}forEachTarget(e,t){return this.ii.forEach((i,s)=>t(s)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),Be.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new sc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.hr(t),Be.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.ii.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ii.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),Be.waitFor(o).next(()=>s)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return Be.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),Be.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),Be.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return Be.resolve(i)}containsKey(e,t){return Be.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t){this.ai={},this.overlays={},this.ui=new Hp(0),this.ci=!1,this.ci=!0,this.li=new W4,this.referenceDelegate=e(this),this.hi=new tL(this),this.indexManager=new B4,this.remoteDocumentCache=function(s){return new J4(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new V4(t),this.Ti=new Q4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new X4(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Xe("MemoryPersistence","Starting transaction:",e);const s=new nL(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ei(e,t){return Be.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class nL extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ai=new my,this.Ri=null}static Vi(e){return new gy(e)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),Be.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Be.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.mi,i=>{const s=dt.fromPath(i);return this.fi(e,s).next(o=>{o||t.removeEntry(s,Pt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Be.or([()=>Be.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class mp{constructor(e,t){this.persistence=e,this.gi=new nu(i=>DN(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=G4(this,t)}static Vi(e,t){return new mp(e,t)}Ii(){}di(e){return Be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return Be.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(o=>o?Be.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,t).next(f=>{f||(i++,o.removeEntry(c,Pt.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Be.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Be.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Be.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Be.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ud(e.data.value)),t}Sr(e,t,i){return Be.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return Be.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=s}static Es(e,t){let i=Jt(),s=Jt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new _y(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return UO()?8:PN(ir())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.ps(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ys(e,t,s,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new iL;return this.ws(e,t,c).next(f=>{if(o.result=f,this.Rs)return this.Ss(e,t,c,f.size)})}).next(()=>o.result)}Ss(e,t,i,s){return i.documentReadCount<this.Vs?(zu()<=Xt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Hu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Be.resolve()):(zu()<=Xt.DEBUG&&Xe("QueryEngine","Query:",Hu(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(zu()<=Xt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Hu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sa(t))):Be.resolve())}ps(e,t){if(Cb(t))return Be.resolve(null);let i=sa(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=hv(t,null,"F"),i=sa(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=Jt(...o);return this.gs.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.bs(t,f);return this.Ds(t,m,c,p.readTime)?this.ps(e,hv(t,null,"F")):this.vs(e,m,t,p)}))})))}ys(e,t,i,s){return Cb(t)||s.isEqual(Pt.min())?Be.resolve(null):this.gs.getDocuments(e,i).next(o=>{const c=this.bs(t,o);return this.Ds(t,c,i,s)?Be.resolve(null):(zu()<=Xt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hu(t)),this.vs(e,c,t,RN(s,Uh)).next(f=>f))})}bs(e,t){let i=new yi(XS(e));return t.forEach((s,o)=>{$p(e,o)&&(i=i.add(o))}),i}Ds(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(e,t,i){return zu()<=Xt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Hu(t)),this.gs.getDocumentsMatchingQuery(e,t,Wo.min(),i)}vs(e,t,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="LocalStore",sL=3e8;class aL{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new qn(jt),this.Ms=new nu(o=>uy(o),cy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function oL(n,e,t,i){return new aL(n,e,t,i)}async function w2(n,e){const t=Mt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],f=[];let p=Jt();for(const m of s){c.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}for(const m of o){f.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Bs:m,removedBatchIds:c,addedBatchIds:f}))})})}function lL(n,e){const t=Mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(f,p,m,g){const E=m.batch,w=E.keys();let C=Be.resolve();return w.forEach(R=>{C=C.next(()=>g.getEntry(p,R)).next(O=>{const D=m.docVersions.get(R);gn(D!==null,48541),O.version.compareTo(D)<0&&(E.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),g.addEntry(O)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(p,E))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Jt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function b2(n){const e=Mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function uL(n,e){const t=Mt(n),i=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const f=[];e.targetChanges.forEach((g,E)=>{const w=s.get(E);if(!w)return;f.push(t.hi.removeMatchingKeys(o,g.removedDocuments,E).next(()=>t.hi.addMatchingKeys(o,g.addedDocuments,E)));let C=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(zi.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,i)),s=s.insert(E,C),function(O,D,j){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=sL?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(w,C,g)&&f.push(t.hi.updateTargetData(o,C))});let p=Fa(),m=Jt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),f.push(cL(o,c,e.documentUpdates).next(g=>{p=g.Ls,m=g.ks})),!i.isEqual(Pt.min())){const g=t.hi.getLastRemoteSnapshotVersion(o).next(E=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(g)}return Be.waitFor(f).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,m)).next(()=>p)}).then(o=>(t.Fs=s,o))}function cL(n,e,t){let i=Jt(),s=Jt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=Fa();return t.forEach((f,p)=>{const m=o.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(Pt.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Xe(vy,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Ls:c,ks:s}})}function hL(n,e){const t=Mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ay),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fL(n,e){const t=Mt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.hi.getTargetData(i,e).next(o=>o?(s=o,Be.resolve(s)):t.hi.allocateTargetId(i).next(c=>(s=new jo(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function gv(n,e,t){const i=Mt(n),s=i.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!pc(c))throw c;Xe(vy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function Bb(n,e,t){const i=Mt(n);let s=Pt.min(),o=Jt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,g){const E=Mt(p),w=E.Ms.get(g);return w!==void 0?Be.resolve(E.Fs.get(w)):E.hi.getTargetData(m,g)}(i,c,sa(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{o=p})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:Pt.min(),t?o:Jt())).next(f=>(dL(i,JN(e),f),{documents:f,qs:o})))}function dL(n,e,t){let i=n.xs.get(e)||Pt.min();t.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(e,i)}class Fb{constructor(){this.activeTargetIds=s4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pL{constructor(){this.Fo=new Fb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Fb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="ConnectivityMonitor";class zb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Xe(jb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Xe(jb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function _v(){return Cd===null?Cd=function(){return 268435456+Math.round(2147483648*Math.random())}():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="RestConnection",gL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _L{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===up?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,o){const c=_v(),f=this.Go(e,t.toUriEncodedString());Xe(v_,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,s,o);const{host:m}=new URL(f),g=qa(m);return this.jo(e,f,p,i,g).then(E=>(Xe(v_,`Received RPC '${e}' ${c}: `,E),E),E=>{throw Yo(v_,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",i),E})}Jo(e,t,i,s,o,c){return this.Wo(e,t,i,s,o)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}Go(e,t){const i=gL[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="WebChannelConnection";class yL extends _L{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,s,o){const c=_v();return new Promise((f,p)=>{const m=new AS;m.setWithCredentials(!0),m.listenOnce(SS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Vd.NO_ERROR:const E=m.getResponseJson();Xe(Yi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case Vd.TIMEOUT:Xe(Yi,`RPC '${e}' ${c} timed out`),p(new $e(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const w=m.getStatus();if(Xe(Yi,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C?.error;if(R&&R.status&&R.message){const O=function(j){const te=j.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(te)>=0?te:Pe.UNKNOWN}(R.status);p(new $e(O,R.message))}else p(new $e(Pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new $e(Pe.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:e,streamId:c,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{Xe(Yi,`RPC '${e}' ${c} completed.`)}});const g=JSON.stringify(s);Xe(Yi,`RPC '${e}' ${c} sending request:`,s),m.send(t,"POST",g,i,15)})}P_(e,t,i){const s=_v(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=xS(),f=RS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const g=o.join("");Xe(Yi,`Creating RPC '${e}' stream ${s}: ${g}`,p);const E=c.createWebChannel(g,p);this.T_(E);let w=!1,C=!1;const R=new vL({Ho:D=>{C?Xe(Yi,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(w||(Xe(Yi,`Opening RPC '${e}' stream ${s} transport.`),E.open(),w=!0),Xe(Yi,`RPC '${e}' stream ${s} sending:`,D),E.send(D))},Yo:()=>E.close()}),O=(D,j,te)=>{D.listen(j,W=>{try{te(W)}catch(ee){setTimeout(()=>{throw ee},0)}})};return O(E,yh.EventType.OPEN,()=>{C||(Xe(Yi,`RPC '${e}' stream ${s} transport opened.`),R.s_())}),O(E,yh.EventType.CLOSE,()=>{C||(C=!0,Xe(Yi,`RPC '${e}' stream ${s} transport closed`),R.__(),this.I_(E))}),O(E,yh.EventType.ERROR,D=>{C||(C=!0,Yo(Yi,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),R.__(new $e(Pe.UNAVAILABLE,"The operation could not be completed")))}),O(E,yh.EventType.MESSAGE,D=>{var j;if(!C){const te=D.data[0];gn(!!te,16349);const W=te,ee=W?.error||((j=W[0])===null||j===void 0?void 0:j.error);if(ee){Xe(Yi,`RPC '${e}' stream ${s} received error:`,ee);const ne=ee.status;let q=function(S){const P=ui[S];if(P!==void 0)return u2(P)}(ne),Z=ee.message;q===void 0&&(q=Pe.INTERNAL,Z="Unknown error status: "+ne+" with message "+ee.message),C=!0,R.__(new $e(q,Z)),E.close()}else Xe(Yi,`RPC '${e}' stream ${s} received:`,te),R.a_(te)}}),O(f,CS.STAT_EVENT,D=>{D.stat===rv.PROXY?Xe(Yi,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===rv.NOPROXY&&Xe(Yi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function y_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n){return new T4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&Xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="PersistentStream";class A2{constructor(e,t,i,s,o,c,f,p){this.Fi=e,this.w_=i,this.S_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new T2(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?(Ba(t.toString()),Ba("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===t&&this.W_(i,s)},i=>{e(()=>{const s=new $e(Pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Xe(Hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Xe(Hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EL extends A2{constructor(e,t,i,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=C4(this.serializer,e),i=function(o){if(!("targetChange"in o))return Pt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?aa(c.readTime):Pt.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=mv(this.serializer),t.addTarget=function(o,c){let f;const p=c.target;if(f=uv(p)?{documents:I4(o,p)}:{query:k4(o,p).Vt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=f2(o,c.resumeToken);const m=fv(o,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Pt.min())>0){f.readTime=pp(o,c.snapshotVersion.toTimestamp());const m=fv(o,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=P4(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=mv(this.serializer),t.removeTarget=e,this.k_(t)}}class wL extends A2{constructor(e,t,i,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return gn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){gn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=x4(e.writeResults,e.commitTime),i=aa(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=mv(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>R4(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{}class TL extends bL{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new $e(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(e,dv(t,i),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Pe.UNKNOWN,o.toString())})}Jo(e,t,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Jo(e,dv(t,i),s,c,f,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new $e(Pe.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class AL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ba(t),this._a=!1):Xe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="RemoteStore";class SL{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{iu(this)&&(Xe(Ql,"Restarting streams for network reachability change."),await async function(p){const m=Mt(p);m.Ia.add(4),await uf(m),m.Aa.set("Unknown"),m.Ia.delete(4),await em(m)}(this))})}),this.Aa=new AL(i,s)}}async function em(n){if(iu(n))for(const e of n.da)await e(!0)}async function uf(n){for(const e of n.da)await e(!1)}function S2(n,e){const t=Mt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),by(t)?wy(t):gc(t).x_()&&Ey(t,e))}function yy(n,e){const t=Mt(n),i=gc(t);t.Ta.delete(e),i.x_()&&C2(t,e),t.Ta.size===0&&(i.x_()?i.B_():iu(t)&&t.Aa.set("Unknown"))}function Ey(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gc(n).H_(e)}function C2(n,e){n.Ra.$e(e),gc(n).Y_(e)}function wy(n){n.Ra=new y4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),gc(n).start(),n.Aa.aa()}function by(n){return iu(n)&&!gc(n).M_()&&n.Ta.size>0}function iu(n){return Mt(n).Ia.size===0}function R2(n){n.Ra=void 0}async function CL(n){n.Aa.set("Online")}async function RL(n){n.Ta.forEach((e,t)=>{Ey(n,e)})}async function xL(n,e){R2(n),by(n)?(n.Aa.la(e),wy(n)):n.Aa.set("Unknown")}async function IL(n,e,t){if(n.Aa.set("Online"),e instanceof h2&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const f of o.targetIds)s.Ta.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.Ta.delete(f),s.Ra.removeTarget(f))}(n,e)}catch(i){Xe(Ql,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gp(n,i)}else if(e instanceof jd?n.Ra.Ye(e):e instanceof c2?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Pt.min()))try{const i=await b2(n.localStore);t.compareTo(i)>=0&&await function(o,c){const f=o.Ra.Pt(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const g=o.Ta.get(m);g&&o.Ta.set(m,g.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const g=o.Ta.get(p);if(!g)return;o.Ta.set(p,g.withResumeToken(zi.EMPTY_BYTE_STRING,g.snapshotVersion)),C2(o,p);const E=new jo(g.target,p,m,g.sequenceNumber);Ey(o,E)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Xe(Ql,"Failed to raise snapshot:",i),await gp(n,i)}}async function gp(n,e,t){if(!pc(e))throw e;n.Ia.add(1),await uf(n),n.Aa.set("Offline"),t||(t=()=>b2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Xe(Ql,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await em(n)})}function x2(n,e){return e().catch(t=>gp(n,t,e))}async function tm(n){const e=Mt(n),t=tl(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ay;for(;kL(e);)try{const s=await hL(e.localStore,i);if(s===null){e.Pa.length===0&&t.B_();break}i=s.batchId,OL(e,s)}catch(s){await gp(e,s)}I2(e)&&k2(e)}function kL(n){return iu(n)&&n.Pa.length<10}function OL(n,e){n.Pa.push(e);const t=tl(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function I2(n){return iu(n)&&!tl(n).M_()&&n.Pa.length>0}function k2(n){tl(n).start()}async function PL(n){tl(n).na()}async function ML(n){const e=tl(n);for(const t of n.Pa)e.X_(t.mutations)}async function DL(n,e,t){const i=n.Pa.shift(),s=fy.from(i,e,t);await x2(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await tm(n)}async function NL(n,e){e&&tl(n).Z_&&await async function(i,s){if(function(c){return _4(c)&&c!==Pe.ABORTED}(s.code)){const o=i.Pa.shift();tl(i).N_(),await x2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await tm(i)}}(n,e),I2(n)&&k2(n)}async function qb(n,e){const t=Mt(n);t.asyncQueue.verifyOperationInProgress(),Xe(Ql,"RemoteStore received new credentials");const i=iu(t);t.Ia.add(3),await uf(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await em(t)}async function LL(n,e){const t=Mt(n);e?(t.Ia.delete(2),await em(t)):e||(t.Ia.add(2),await uf(t),t.Aa.set("Unknown"))}function gc(n){return n.Va||(n.Va=function(t,i,s){const o=Mt(t);return o.ia(),new EL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Zo:CL.bind(null,n),e_:RL.bind(null,n),n_:xL.bind(null,n),J_:IL.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),by(n)?wy(n):n.Aa.set("Unknown")):(await n.Va.stop(),R2(n))})),n.Va}function tl(n){return n.ma||(n.ma=function(t,i,s){const o=Mt(t);return o.ia(),new wL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:PL.bind(null,n),n_:NL.bind(null,n),ea:ML.bind(null,n),ta:DL.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await tm(n)):(await n.ma.stop(),n.Pa.length>0&&(Xe(Ql,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const c=Date.now()+i,f=new Ty(e,t,c,s,o);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(n,e){if(Ba("AsyncQueue",`${e}: ${n}`),pc(n))return new $e(Pe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{static emptySet(e){return new Ju(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||dt.comparator(t.key,i.key):(t,i)=>dt.comparator(t.key,i.key),this.keyedMap=Eh(),this.sortedSet=new qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ju)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ju;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.fa=new qn(dt.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Tt(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class ac{constructor(e,t,i,s,o,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,s,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new ac(e,t,Ju.emptySet(t),c,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class UL{constructor(){this.queries=Zb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const s=Mt(t),o=s.queries;s.queries=Zb(),o.forEach((c,f)=>{for(const p of f.wa)p.onError(i)})})(this,new $e(Pe.ABORTED,"Firestore shutting down"))}}function Zb(){return new nu(n=>WS(n),Kp)}async function Sy(n,e){const t=Mt(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.ba()&&(i=2):(o=new VL,i=e.ba()?0:1);try{switch(i){case 0:o.ya=await t.onListen(s,!0);break;case 1:o.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=Ay(c,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Ry(t)}async function Cy(n,e){const t=Mt(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const c=o.wa.indexOf(e);c>=0&&(o.wa.splice(c,1),o.wa.length===0?s=e.ba()?0:1:!o.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function BL(n,e){const t=Mt(n);let i=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const f of c.wa)f.Ca(s)&&(i=!0);c.ya=s}}i&&Ry(t)}function FL(n,e,t){const i=Mt(n),s=i.queries.get(e);if(s)for(const o of s.wa)o.onError(t);i.queries.delete(e)}function Ry(n){n.Da.forEach(e=>{e.next()})}var vv,Kb;(Kb=vv||(vv={})).Fa="default",Kb.Cache="cache";class xy{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new ac(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.key=e}}class P2{constructor(e){this.key=e}}class jL{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Jt(),this.mutatedKeys=Jt(),this.Xa=XS(e),this.eu=new Ju(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new Gb,s=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,E)=>{const w=s.get(g),C=$p(this.query,E)?E:null,R=!!w&&this.mutatedKeys.has(w.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;w&&C?w.data.isEqual(C.data)?R!==O&&(i.track({type:3,doc:C}),D=!0):this.iu(w,C)||(i.track({type:2,doc:C}),D=!0,(p&&this.Xa(C,p)>0||m&&this.Xa(C,m)<0)&&(f=!0)):!w&&C?(i.track({type:0,doc:C}),D=!0):w&&!C&&(i.track({type:1,doc:w}),D=!0,(p||m)&&(f=!0)),D&&(C?(c=c.add(C),o=O?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{eu:c,ru:i,Ds:f,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((g,E)=>function(C,R){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:D})}};return O(C)-O(R)}(g.type,E.type)||this.Xa(g.doc,E.doc)),this.su(i),s=s!=null&&s;const f=t&&!s?this.ou():[],p=this.Za.size===0&&this.current&&!s?1:0,m=p!==this.Ya;return this.Ya=p,c.length!==0||m?{snapshot:new ac(this.query,e.eu,o,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Gb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Jt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new P2(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new O2(i))}),t}uu(e){this.Ha=e.qs,this.Za=Jt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ac.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Iy="SyncEngine";class zL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class HL{constructor(e){this.key=e,this.lu=!1}}class qL{constructor(e,t,i,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new nu(f=>WS(f),Kp),this.Tu=new Map,this.Iu=new Set,this.du=new qn(dt.comparator),this.Eu=new Map,this.Au=new my,this.Ru={},this.Vu=new Map,this.mu=sc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function GL(n,e,t=!0){const i=U2(n);let s;const o=i.Pu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await M2(i,e,t,!0),s}async function ZL(n,e){const t=U2(n);await M2(t,e,!0,!1)}async function M2(n,e,t,i){const s=await fL(n.localStore,sa(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let f;return i&&(f=await KL(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&S2(n.remoteStore,s),f}async function KL(n,e,t,i,s){n.gu=(E,w,C)=>async function(O,D,j,te){let W=D.view.nu(j);W.Ds&&(W=await Bb(O.localStore,D.query,!1).then(({documents:Z})=>D.view.nu(Z,W)));const ee=te&&te.targetChanges.get(D.targetId),ne=te&&te.targetMismatches.get(D.targetId)!=null,q=D.view.applyChanges(W,O.isPrimaryClient,ee,ne);return Qb(O,D.targetId,q._u),q.snapshot}(n,E,w,C);const o=await Bb(n.localStore,e,!0),c=new jL(e,o.qs),f=c.nu(o.documents),p=lf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),m=c.applyChanges(f,n.isPrimaryClient,p);Qb(n,t,m._u);const g=new zL(e,t,c);return n.Pu.set(e,g),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function $L(n,e,t){const i=Mt(n),s=i.Pu.get(e),o=i.Tu.get(s.targetId);if(o.length>1)return i.Tu.set(s.targetId,o.filter(c=>!Kp(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await gv(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&yy(i.remoteStore,s.targetId),yv(i,s.targetId)}).catch(dc)):(yv(i,s.targetId),await gv(i.localStore,s.targetId,!0))}async function QL(n,e){const t=Mt(n),i=t.Pu.get(e),s=t.Tu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),yy(t.remoteStore,i.targetId))}async function YL(n,e,t){const i=i3(n);try{const s=await function(c,f){const p=Mt(c),m=nn.now(),g=f.reduce((C,R)=>C.add(R.key),Jt());let E,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=Fa(),O=Jt();return p.Os.getEntries(C,g).next(D=>{R=D,R.forEach((j,te)=>{te.isValidDocument()||(O=O.add(j))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,R)).next(D=>{E=D;const j=[];for(const te of f){const W=f4(te,E.get(te.key).overlayedDocument);W!=null&&j.push(new ol(te.key,W,HS(W.value.mapValue),Ir.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,j,f)}).next(D=>{w=D;const j=D.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(C,D.batchId,j)})}).then(()=>({batchId:w.batchId,changes:e2(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,f,p){let m=c.Ru[c.currentUser.toKey()];m||(m=new qn(jt)),m=m.insert(f,p),c.Ru[c.currentUser.toKey()]=m}(i,s.batchId,t),await cf(i,s.changes),await tm(i.remoteStore)}catch(s){const o=Ay(s,"Failed to persist write");t.reject(o)}}async function D2(n,e){const t=Mt(n);try{const i=await uL(t.localStore,e);e.targetChanges.forEach((s,o)=>{const c=t.Eu.get(o);c&&(gn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?gn(c.lu,14607):s.removedDocuments.size>0&&(gn(c.lu,42227),c.lu=!1))}),await cf(t,i,e)}catch(i){await dc(i)}}function $b(n,e,t){const i=Mt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Pu.forEach((o,c)=>{const f=c.view.va(e);f.snapshot&&s.push(f.snapshot)}),function(c,f){const p=Mt(c);p.onlineState=f;let m=!1;p.queries.forEach((g,E)=>{for(const w of E.wa)w.va(f)&&(m=!0)}),m&&Ry(p)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function WL(n,e,t){const i=Mt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),o=s&&s.key;if(o){let c=new qn(dt.comparator);c=c.insert(o,Ji.newNoDocument(o,Pt.min()));const f=Jt().add(o),p=new Xp(Pt.min(),new Map,new qn(jt),c,f);await D2(i,p),i.du=i.du.remove(o),i.Eu.delete(e),ky(i)}else await gv(i.localStore,e,!1).then(()=>yv(i,e,t)).catch(dc)}async function XL(n,e){const t=Mt(n),i=e.batch.batchId;try{const s=await lL(t.localStore,e);L2(t,i,null),N2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await cf(t,s)}catch(s){await dc(s)}}async function JL(n,e,t){const i=Mt(n);try{const s=await function(c,f){const p=Mt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return p.mutationQueue.lookupMutationBatch(m,f).next(E=>(gn(E!==null,37113),g=E.keys(),p.mutationQueue.removeMutationBatch(m,E))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,g,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>p.localDocuments.getDocuments(m,g))})}(i.localStore,e);L2(i,e,t),N2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await cf(i,s)}catch(s){await dc(s)}}function N2(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function L2(n,e,t){const i=Mt(n);let s=i.Ru[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function yv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||V2(n,i)})}function V2(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(yy(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ky(n))}function Qb(n,e,t){for(const i of t)i instanceof O2?(n.Au.addReference(i.key,e),e3(n,i)):i instanceof P2?(Xe(Iy,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||V2(n,i.key)):Tt(19791,{yu:i})}function e3(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Xe(Iy,"New document in limbo: "+t),n.Iu.add(i),ky(n))}function ky(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new dt(Dn.fromString(e)),i=n.mu.next();n.Eu.set(i,new HL(t)),n.du=n.du.insert(t,i),S2(n.remoteStore,new jo(sa(Zp(t.path)),i,"TargetPurposeLimboResolution",Hp.ue))}}async function cf(n,e,t){const i=Mt(n),s=[],o=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((f,p)=>{c.push(i.gu(p,e,t).then(m=>{var g;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(g=t?.targetChanges.get(p.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(m){s.push(m);const E=_y.Es(p.targetId,m);o.push(E)}}))}),await Promise.all(c),i.hu.J_(s),await async function(p,m){const g=Mt(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Be.forEach(m,w=>Be.forEach(w.Is,C=>g.persistence.referenceDelegate.addReference(E,w.targetId,C)).next(()=>Be.forEach(w.ds,C=>g.persistence.referenceDelegate.removeReference(E,w.targetId,C)))))}catch(E){if(!pc(E))throw E;Xe(vy,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const C=g.Fs.get(w),R=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(R);g.Fs=g.Fs.insert(w,O)}}}(i.localStore,o))}async function t3(n,e){const t=Mt(n);if(!t.currentUser.isEqual(e)){Xe(Iy,"User change. New user:",e.toKey());const i=await w2(t.localStore,e);t.currentUser=e,function(o,c){o.Vu.forEach(f=>{f.forEach(p=>{p.reject(new $e(Pe.CANCELLED,c))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cf(t,i.Bs)}}function n3(n,e){const t=Mt(n),i=t.Eu.get(e);if(i&&i.lu)return Jt().add(i.key);{let s=Jt();const o=t.Tu.get(e);if(!o)return s;for(const c of o){const f=t.Pu.get(c);s=s.unionWith(f.view.tu)}return s}}function U2(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=D2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WL.bind(null,e),e.hu.J_=BL.bind(null,e.eventManager),e.hu.pu=FL.bind(null,e.eventManager),e}function i3(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JL.bind(null,e),e}class _p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return oL(this.persistence,new rL,e.initialUser,this.serializer)}Du(e){return new E2(gy.Vi,this.serializer)}bu(e){return new pL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_p.provider={build:()=>new _p};class r3 extends _p{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){gn(this.persistence.referenceDelegate instanceof mp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new H4(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new E2(i=>mp.Vi(i,t),this.serializer)}}class Ev{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$b(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=t3.bind(null,this.syncEngine),await LL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UL}()}createDatastore(e){const t=Jp(e.databaseInfo.databaseId),i=function(o){return new yL(o)}(e.databaseInfo);return function(o,c,f,p){return new TL(o,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,o,c,f){return new SL(i,s,o,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>$b(this.syncEngine,t,0),function(){return zb.C()?new zb:new mL}())}createSyncEngine(e,t){return function(s,o,c,f,p,m,g){const E=new qL(s,o,c,f,p,m);return g&&(E.fu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Mt(s);Xe(Ql,"RemoteStore shutting down."),o.Ia.add(5),await uf(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ev.provider={build:()=>new Ev};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ba("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="FirestoreClient";class s3{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Xi.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{Xe(nl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Xe(nl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ay(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function E_(n,e){n.asyncQueue.verifyOperationInProgress(),Xe(nl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await w2(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{Yo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Xe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Yo("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function Yb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await a3(n);Xe(nl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>qb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>qb(e.remoteStore,s)),n._onlineComponents=e}async function a3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Xe(nl,"Using user provided OfflineComponentProvider");try{await E_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Pe.FAILED_PRECONDITION||s.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),await E_(n,new _p)}}else Xe(nl,"Using default OfflineComponentProvider"),await E_(n,new r3(void 0));return n._offlineComponents}async function B2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Xe(nl,"Using user provided OnlineComponentProvider"),await Yb(n,n._uninitializedComponentsProvider._online)):(Xe(nl,"Using default OnlineComponentProvider"),await Yb(n,new Ev))),n._onlineComponents}function o3(n){return B2(n).then(e=>e.syncEngine)}async function vp(n){const e=await B2(n),t=e.eventManager;return t.onListen=GL.bind(null,e.syncEngine),t.onUnlisten=$L.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ZL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QL.bind(null,e.syncEngine),t}function l3(n,e,t={}){const i=new Na;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,f,p,m){const g=new Oy({next:w=>{g.Ou(),c.enqueueAndForget(()=>Cy(o,E));const C=w.docs.has(f);!C&&w.fromCache?m.reject(new $e(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?m.reject(new $e(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new xy(Zp(f.path),g,{includeMetadataChanges:!0,ka:!0});return Sy(o,E)}(await vp(n),n.asyncQueue,e,t,i)),i.promise}function u3(n,e,t={}){const i=new Na;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,f,p,m){const g=new Oy({next:w=>{g.Ou(),c.enqueueAndForget(()=>Cy(o,E)),w.fromCache&&p.source==="server"?m.reject(new $e(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new xy(f,g,{includeMetadataChanges:!0,ka:!0});return Sy(o,E)}(await vp(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="firestore.googleapis.com",Xb=!0;class Jb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j2,this.ssl=Xb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j4)throw new $e(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $e(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $e(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $e(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _N;switch(i.type){case"firstParty":return new wN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $e(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Wb.get(t);i&&(Xe("ComponentProvider","Removing Datastore"),Wb.delete(t),i.terminate())}(this),Promise.resolve()}}function c3(n,e,t,i={}){var s;n=es(n,nm);const o=qa(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;o&&(Np(`https://${p}`),Lp("Firestore",!0)),c.host!==j2&&c.host!==p&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:o,emulatorOptions:i});if(!Zl(m,f)&&(n._setSettings(m),i.mockUserToken)){let g,E;if(typeof i.mockUserToken=="string")g=i.mockUserToken,E=Xi.MOCK_USER;else{g=UA(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new $e(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xi(w)}n._authCredentials=new vN(new kS(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}toJSON(){return{type:ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(af(t,ii._jsonSchema))return new ii(e,i||null,new dt(Dn.fromString(t.referencePath)))}}ii._jsonSchemaVersion="firestore/documentReference/1.0",ii._jsonSchema={type:hi("string",ii._jsonSchemaVersion),referencePath:hi("string")};class Zo extends ll{constructor(e,t,i){super(e,t,Zp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new dt(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function ja(n,e,...t){if(n=Rn(n),PS("collection","path",e),n instanceof nm){const i=Dn.fromString(e,...t);return fb(i),new Zo(n,null,i)}{if(!(n instanceof ii||n instanceof Zo))throw new $e(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dn.fromString(e,...t));return fb(i),new Zo(n.firestore,null,i)}}function ps(n,e,...t){if(n=Rn(n),arguments.length===1&&(e=sy.newId()),PS("doc","path",e),n instanceof nm){const i=Dn.fromString(e,...t);return hb(i),new ii(n,null,new dt(i))}{if(!(n instanceof ii||n instanceof Zo))throw new $e(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dn.fromString(e,...t));return hb(i),new ii(n.firestore,n instanceof Zo?n.converter:null,new dt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new T2(this,"async_queue_retry"),this.oc=()=>{const i=y_();i&&Xe(eT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=y_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=y_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Na;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!pc(e))throw e;Xe(eT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Ba("INTERNAL UNHANDLED ERROR: ",nT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Ty.createAndSchedule(this,e,t,i,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&Tt(47125,{hc:nT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function nT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class za extends nm{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new tT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function h3(n,e){const t=typeof n=="object"?n:Vp(),i=typeof n=="string"?n:up,s=tf(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=Zv("firestore");o&&c3(s,...o)}return s}function hf(n){if(n._terminated)throw new $e(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f3(n),n._firestoreClient}function f3(n){var e,t,i;const s=n._freezeSettings(),o=function(f,p,m,g){return new VN(f,p,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,F2(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new s3(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const p=f?._online.build();return{_offline:f?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ms(zi.fromBase64String(e))}catch(t){throw new $e(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ms(zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(af(e,ms._jsonSchema))return ms.fromBase64String(e.bytes)}}ms._jsonSchemaVersion="firestore/bytes/1.0",ms._jsonSchema={type:hi("string",ms._jsonSchemaVersion),bytes:hi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $e(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oa._jsonSchemaVersion}}static fromJSON(e){if(af(e,oa._jsonSchema))return new oa(e.latitude,e.longitude)}}oa._jsonSchemaVersion="firestore/geoPoint/1.0",oa._jsonSchema={type:hi("string",oa._jsonSchemaVersion),latitude:hi("number"),longitude:hi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:la._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(af(e,la._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new la(e.vectorValues);throw new $e(Pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}la._jsonSchemaVersion="firestore/vectorValue/1.0",la._jsonSchema={type:hi("string",la._jsonSchemaVersion),vectorValues:hi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/^__.*__$/;class p3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new of(e,this.data,t,this.fieldTransforms)}}class z2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:n})}}class My{constructor(e,t,i,s,o,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new My(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return yp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(H2(this.Ec)&&d3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class m3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jp(e)}Dc(e,t,i,s=!1){return new My({Ec:e,methodName:t,bc:i,path:ji.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(n){const e=n._freezeSettings(),t=Jp(n._databaseId);return new m3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function q2(n,e,t,i,s,o={}){const c=n.Dc(o.merge||o.mergeFields?2:0,e,t,s);Dy("Data must be an object, but it was:",c,i);const f=K2(i,c);let p,m;if(o.merge)p=new Xr(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const E of o.mergeFields){const w=wv(e,E,t);if(!c.contains(w))throw new $e(Pe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Q2(g,w)||g.push(w)}p=new Xr(g),m=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,m=c.fieldTransforms;return new p3(new Rr(f),p,m)}class rm extends Py{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}function G2(n,e,t,i){const s=n.Dc(1,e,t);Dy("Data must be an object, but it was:",s,i);const o=[],c=Rr.empty();al(i,(p,m)=>{const g=Ny(e,p,t);m=Rn(m);const E=s.gc(g);if(m instanceof rm)o.push(g);else{const w=df(m,E);w!=null&&(o.push(g),c.set(g,w))}});const f=new Xr(o);return new z2(c,f,s.fieldTransforms)}function Z2(n,e,t,i,s,o){const c=n.Dc(1,e,t),f=[wv(e,i,t)],p=[s];if(o.length%2!=0)throw new $e(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)f.push(wv(e,o[w])),p.push(o[w+1]);const m=[],g=Rr.empty();for(let w=f.length-1;w>=0;--w)if(!Q2(m,f[w])){const C=f[w];let R=p[w];R=Rn(R);const O=c.gc(C);if(R instanceof rm)m.push(C);else{const D=df(R,O);D!=null&&(m.push(C),g.set(C,D))}}const E=new Xr(m);return new z2(g,E,c.fieldTransforms)}function g3(n,e,t,i=!1){return df(t,n.Dc(i?4:3,e))}function df(n,e){if($2(n=Rn(n)))return Dy("Unsupported field value:",e,n),K2(n,e);if(n instanceof Py)return function(i,s){if(!H2(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const o=[];let c=0;for(const f of i){let p=df(f,s.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(n,e)}return function(i,s){if((i=Rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return a4(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=nn.fromDate(i);return{timestampValue:pp(s.serializer,o)}}if(i instanceof nn){const o=new nn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pp(s.serializer,o)}}if(i instanceof oa)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ms)return{bytesValue:f2(s.serializer,i._byteString)};if(i instanceof ii){const o=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:py(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof la)return function(c,f){return{mapValue:{fields:{[jS]:{stringValue:zS},[cp]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.wc("VectorValues must only contain numeric values.");return hy(f.serializer,m)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${zp(i)}`)}(n,e)}function K2(n,e){const t={};return NS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(n,(i,s)=>{const o=df(s,e.Vc(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function $2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nn||n instanceof oa||n instanceof ms||n instanceof ii||n instanceof Py||n instanceof la)}function Dy(n,e,t){if(!$2(t)||!MS(t)){const i=zp(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function wv(n,e,t){if((e=Rn(e))instanceof ff)return e._internalPath;if(typeof e=="string")return Ny(n,e);throw yp("Field path arguments must be of type string or ",n,!1,void 0,t)}const _3=new RegExp("[~\\*/\\[\\]]");function Ny(n,e,t){if(e.search(_3)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ff(...e.split("."))._internalPath}catch{throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yp(n,e,t,i,s){const o=i&&!i.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new $e(Pe.INVALID_ARGUMENT,f+n+p)}function Q2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class v3 extends Y2{data(){return super.data()}}function sm(n,e){return typeof e=="string"?Ny(n,e):e instanceof ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $e(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ly{}class X2 extends Ly{}function Gh(n,e,...t){let i=[];e instanceof Ly&&i.push(e),i=i.concat(t),function(o){const c=o.filter(p=>p instanceof Vy).length,f=o.filter(p=>p instanceof am).length;if(c>1||c>0&&f>0)throw new $e(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class am extends X2{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new am(e,t,i)}_apply(e){const t=this._parse(e);return eC(e._query,t),new ll(e.firestore,e.converter,cv(e._query,t))}_parse(e){const t=im(e.firestore);return function(o,c,f,p,m,g,E){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new $e(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){sT(E,g);const R=[];for(const O of E)R.push(rT(p,o,O));w={arrayValue:{values:R}}}else w=rT(p,o,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||sT(E,g),w=g3(f,c,E,g==="in"||g==="not-in");return ci.create(m,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ep(n,e,t){const i=e,s=sm("where",n);return am._create(s,i,t)}class Vy extends Ly{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ds.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let c=s;const f=o.getFlattenedFilters();for(const p of f)eC(c,p),c=cv(c,p)}(e._query,t),new ll(e.firestore,e.converter,cv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uy extends X2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uy(e,t)}_apply(e){const t=function(s,o,c){if(s.startAt!==null)throw new $e(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new $e(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zh(o,c)}(e._query,this._field,this._direction);return new ll(e.firestore,e.converter,function(s,o){const c=s.explicitOrderBy.concat([o]);return new mc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function J2(n,e="asc"){const t=e,i=sm("orderBy",n);return Uy._create(i,t)}function rT(n,e,t){if(typeof(t=Rn(t))=="string"){if(t==="")throw new $e(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YS(e)&&t.indexOf("/")!==-1)throw new $e(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Dn.fromString(t));if(!dt.isDocumentKey(i))throw new $e(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Eb(n,new dt(i))}if(t instanceof ii)return Eb(n,t._key);throw new $e(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zp(t)}.`)}function sT(n,e){if(!Array.isArray(n)||n.length===0)throw new $e(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eC(n,e){const t=function(s,o){for(const c of s)for(const f of c.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $e(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class y3{convertValue(e,t="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return al(e,(s,o)=>{i[s]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,s;const o=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[cp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>ni(c.doubleValue));return new la(o)}convertGeoPoint(e){return new oa(ni(e.latitude),ni(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Gp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bh(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Dn.fromString(e);gn(v2(i),9688,{name:e});const s=new Fh(i.get(1),i.get(3)),o=new dt(i.popFirst(5));return s.isEqual(t)||Ba(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class bh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zl extends Y2{constructor(e,t,i,s,o,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(sm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",zl._jsonSchema={type:hi("string",zl._jsonSchemaVersion),bundleSource:hi("string","DocumentSnapshot"),bundleName:hi("string"),bundle:hi("string")};class zd extends zl{data(e={}){return super.data(e)}}class Hl{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new bh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zd(this._firestore,this._userDataWriter,i.key,i,new bh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>{const p=new zd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new bh(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const p=new zd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new bh(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:E3(f.type),doc:p,oldIndex:m,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function E3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n){n=es(n,ii);const e=es(n.firestore,za);return l3(hf(e),n._key).then(t=>rC(e,n,t))}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:hi("string",Hl._jsonSchemaVersion),bundleSource:hi("string","QuerySnapshot"),bundleName:hi("string"),bundle:hi("string")};class By extends y3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function Zh(n){n=es(n,ll);const e=es(n.firestore,za),t=hf(e),i=new By(e);return W2(n._query),u3(t,n._query).then(s=>new Hl(e,i,n,s))}function Oh(n,e,t,...i){n=es(n,ii);const s=es(n.firestore,za),o=im(s);let c;return c=typeof(e=Rn(e))=="string"||e instanceof ff?Z2(o,"updateDoc",n._key,e,t,i):G2(o,"updateDoc",n._key,e),lm(s,[c.toMutation(n._key,Ir.exists(!0))])}function nC(n){return lm(es(n.firestore,za),[new Wp(n._key,Ir.none())])}function om(n,e){const t=es(n.firestore,za),i=ps(n),s=tC(n.converter,e);return lm(t,[q2(im(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ir.exists(!1))]).then(()=>i)}function iC(n,...e){var t,i,s;n=Rn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||iT(e[c])||(o=e[c++]);const f={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iT(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let p,m,g;if(n instanceof ii)m=es(n.firestore,za),g=Zp(n._key.path),p={next:E=>{e[c]&&e[c](rC(m,n,E))},error:e[c+1],complete:e[c+2]};else{const E=es(n,ll);m=es(E.firestore,za),g=E._query;const w=new By(m);p={next:C=>{e[c]&&e[c](new Hl(m,w,E,C))},error:e[c+1],complete:e[c+2]},W2(n._query)}return function(w,C,R,O){const D=new Oy(O),j=new xy(C,D,R);return w.asyncQueue.enqueueAndForget(async()=>Sy(await vp(w),j)),()=>{D.Ou(),w.asyncQueue.enqueueAndForget(async()=>Cy(await vp(w),j))}}(hf(m),g,f,p)}function lm(n,e){return function(i,s){const o=new Na;return i.asyncQueue.enqueueAndForget(async()=>YL(await o3(i),s,o)),o.promise}(hf(n),e)}function rC(n,e,t){const i=t.docs.get(e._key),s=new By(n);return new zl(n,s,e._key,i,new bh(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=im(e)}set(e,t,i){this._verifyNotCommitted();const s=w_(e,this._firestore),o=tC(s.converter,t,i),c=q2(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,i);return this._mutations.push(c.toMutation(s._key,Ir.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const o=w_(e,this._firestore);let c;return c=typeof(t=Rn(t))=="string"||t instanceof ff?Z2(this._dataReader,"WriteBatch.update",o._key,t,i,s):G2(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=w_(e,this._firestore);return this._mutations=this._mutations.concat(new Wp(t._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function w_(n,e){if((n=Rn(n)).firestore!==e)throw new $e(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){return hf(n=es(n,za)),new b3(n,e=>lm(n,e))}(function(e,t=!0){(function(s){fc=s})(eu),Qo(new La("firestore",(i,{instanceIdentifier:s,options:o})=>{const c=i.getProvider("app").getImmediate(),f=new za(new yN(i.getProvider("auth-internal")),new bN(c,i.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new $e(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(m.options.projectId,g)}(c,s),c);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),gs(ab,ob,e),gs(ab,ob,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebasestorage.googleapis.com",oC="storageBucket",T3=2*60*1e3,A3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Ns{constructor(e,t,i=0){super(b_(e),`Firebase Storage: ${t} (${b_(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return b_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qn||(Qn={}));function b_(n){return"storage/"+n}function Fy(){const n="An unknown error occurred, please check the error payload for server response.";return new Yn(Qn.UNKNOWN,n)}function S3(n){return new Yn(Qn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function C3(n){return new Yn(Qn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function R3(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yn(Qn.UNAUTHENTICATED,n)}function x3(){return new Yn(Qn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function I3(n){return new Yn(Qn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function k3(){return new Yn(Qn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function O3(){return new Yn(Qn.CANCELED,"User canceled the upload/download.")}function P3(n){return new Yn(Qn.INVALID_URL,"Invalid URL '"+n+"'.")}function M3(n){return new Yn(Qn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function D3(){return new Yn(Qn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oC+"' property when initializing the app?")}function N3(){return new Yn(Qn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function L3(){return new Yn(Qn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function V3(n){return new Yn(Qn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bv(n){return new Yn(Qn.INVALID_ARGUMENT,n)}function lC(){return new Yn(Qn.APP_DELETED,"The Firebase app was deleted.")}function U3(n){return new Yn(Qn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ph(n,e){return new Yn(Qn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function dh(n){throw new Yn(Qn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Jr.makeFromUrl(e,t)}catch{return new Jr(e,"")}if(i.path==="")return i;throw M3(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function m(ee){ee.path_=decodeURIComponent(ee.path)}const g="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${g}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},O=t===aC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",j=new RegExp(`^https?://${O}/${s}/${D}`,"i"),W=[{regex:f,indices:p,postModify:o},{regex:C,indices:R,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let ee=0;ee<W.length;ee++){const ne=W[ee],q=ne.regex.exec(e);if(q){const Z=q[ne.indices.bucket];let A=q[ne.indices.path];A||(A=""),i=new Jr(Z,A),ne.postModify(i);break}}if(i==null)throw P3(e);return i}}class B3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(n,e,t){let i=1,s=null,o=null,c=!1,f=0;function p(){return f===2}let m=!1;function g(...D){m||(m=!0,e.apply(null,D))}function E(D){s=setTimeout(()=>{s=null,n(C,p())},D)}function w(){o&&clearTimeout(o)}function C(D,...j){if(m){w();return}if(D){w(),g.call(null,D,...j);return}if(p()||c){w(),g.call(null,D,...j);return}i<64&&(i*=2);let W;f===1?(f=2,W=0):W=(i+Math.random())*1e3,E(W)}let R=!1;function O(D){R||(R=!0,w(),!m&&(s!==null?(D||(f=2),clearTimeout(s),E(0)):D||(f=1)))}return E(0),o=setTimeout(()=>{c=!0,O(!0)},t),O}function j3(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n){return n!==void 0}function H3(n){return typeof n=="object"&&!Array.isArray(n)}function jy(n){return typeof n=="string"||n instanceof String}function aT(n){return zy()&&n instanceof Blob}function zy(){return typeof Blob<"u"}function oT(n,e,t,i){if(i<e)throw bv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw bv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function uC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var ql;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ql||(ql={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t,i,s,o,c,f,p,m,g,E,w=!0,C=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,O)=>{this.resolve_=R,this.reject_=O,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Rd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const f=o.getErrorCode()===ql.NO_ERROR,p=o.getStatus();if(!f||q3(p,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===ql.ABORT;i(!1,new Rd(!1,null,g));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new Rd(m,o))})},t=(i,s)=>{const o=this.resolve_,c=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());z3(p)?o(p):o()}catch(p){c(p)}else if(f!==null){const p=Fy();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(s.canceled){const p=this.appDelete_?lC():O3();c(p)}else{const p=k3();c(p)}};this.canceled_?t(!1,new Rd(!1,null,!0)):this.backoffId_=F3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Z3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function K3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Q3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Y3(n,e,t,i,s,o,c=!0,f=!1){const p=uC(n.urlParams),m=n.url+p,g=Object.assign({},n.headers);return $3(g,e),Z3(g,t),K3(g,o),Q3(g,i),new G3(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X3(...n){const e=W3();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(zy())return new Blob(n);throw new Yn(Qn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function J3(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(n){if(typeof atob>"u")throw V3("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class T_{constructor(e,t){this.data=e,this.contentType=t||null}}function t6(n,e){switch(n){case ea.RAW:return new T_(cC(e));case ea.BASE64:case ea.BASE64URL:return new T_(hC(n,e));case ea.DATA_URL:return new T_(i6(e),r6(e))}throw Fy()}function cC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=i,c=n.charCodeAt(++t);i=65536|(o&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function n6(n){let e;try{e=decodeURIComponent(n)}catch{throw Ph(ea.DATA_URL,"Malformed data URL.")}return cC(e)}function hC(n,e){switch(n){case ea.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Ph(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ea.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Ph(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=e6(e)}catch(s){throw s.message.includes("polyfill")?s:Ph(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}class fC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ph(ea.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=s6(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function i6(n){const e=new fC(n);return e.base64?hC(ea.BASE64,e.rest):n6(e.rest)}function r6(n){return new fC(n).contentType}function s6(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){let i=0,s="";aT(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(aT(this.data_)){const i=this.data_,s=J3(i,e,t);return s===null?null:new Fo(s)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Fo(i,!0)}}static getBlob(...e){if(zy()){const t=e.map(i=>i instanceof Fo?i.data_:i);return new Fo(X3.apply(null,t))}else{const t=e.map(c=>jy(c)?t6(ea.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let o=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)s[o++]=c[f]}),new Fo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){let e;try{e=JSON.parse(n)}catch{return null}return H3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function o6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function pC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n,e){return e}class mr{constructor(e,t,i,s){this.server=e,this.local=t||e,this.writable=!!i,this.xform=s||l6}}let xd=null;function u6(n){return!jy(n)||n.length<2?n:pC(n)}function mC(){if(xd)return xd;const n=[];n.push(new mr("bucket")),n.push(new mr("generation")),n.push(new mr("metageneration")),n.push(new mr("name","fullPath",!0));function e(o,c){return u6(c)}const t=new mr("name");t.xform=e,n.push(t);function i(o,c){return c!==void 0?Number(c):c}const s=new mr("size");return s.xform=i,n.push(s),n.push(new mr("timeCreated")),n.push(new mr("updated")),n.push(new mr("md5Hash",null,!0)),n.push(new mr("cacheControl",null,!0)),n.push(new mr("contentDisposition",null,!0)),n.push(new mr("contentEncoding",null,!0)),n.push(new mr("contentLanguage",null,!0)),n.push(new mr("contentType",null,!0)),n.push(new mr("metadata","customMetadata",!0)),xd=n,xd}function c6(n,e){function t(){const i=n.bucket,s=n.fullPath,o=new Jr(i,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function h6(n,e,t){const i={};i.type="file";const s=t.length;for(let o=0;o<s;o++){const c=t[o];i[c.local]=c.xform(i,e[c.server])}return c6(i,n),i}function gC(n,e,t){const i=dC(e);return i===null?null:h6(n,i,t)}function f6(n,e,t,i){const s=dC(e);if(s===null||!jy(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(m=>{const g=n.bucket,E=n.fullPath,w="/b/"+c(g)+"/o/"+c(E),C=um(w,t,i),R=uC({alt:"media",token:m});return C+R})[0]}function d6(n,e){const t={},i=e.length;for(let s=0;s<i;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class Hy{constructor(e,t,i,s){this.url=e,this.method=t,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n){if(!n)throw Fy()}function p6(n,e){function t(i,s){const o=gC(n,s,e);return _C(o!==null),o}return t}function m6(n,e){function t(i,s){const o=gC(n,s,e);return _C(o!==null),f6(o,s,n.host,n._protocol)}return t}function vC(n){function e(t,i){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=x3():s=R3():t.getStatus()===402?s=C3(n.bucket):t.getStatus()===403?s=I3(n.path):s=i,s.status=t.getStatus(),s.serverResponse=i.serverResponse,s}return e}function yC(n){const e=vC(n);function t(i,s){let o=e(i,s);return i.getStatus()===404&&(o=S3(n.path)),o.serverResponse=s.serverResponse,o}return t}function g6(n,e,t){const i=e.fullServerUrl(),s=um(i,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,f=new Hy(s,o,m6(n,t),c);return f.errorHandler=yC(e),f}function _6(n,e){const t=e.fullServerUrl(),i=um(t,n.host,n._protocol),s="DELETE",o=n.maxOperationRetryTime;function c(p,m){}const f=new Hy(i,s,c,o);return f.successCodes=[200,204],f.errorHandler=yC(e),f}function v6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function y6(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=v6(null,e)),i}function E6(n,e,t,i,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let W="";for(let ee=0;ee<2;ee++)W=W+Math.random().toString().slice(2);return W}const p=f();c["Content-Type"]="multipart/related; boundary="+p;const m=y6(e,i,s),g=d6(m,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+p+"--",C=Fo.getBlob(E,i,w);if(C===null)throw N3();const R={name:m.fullPath},O=um(o,n.host,n._protocol),D="POST",j=n.maxUploadRetryTime,te=new Hy(O,D,p6(n,t),j);return te.urlParams=R,te.headers=c,te.body=C.uploadData(),te.errorHandler=vC(e),te}class w6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ql.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ql.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ql.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,s,o){if(this.sent_)throw dh("cannot .send() more than once");if(qa(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class b6 extends w6{initXhr(){this.xhr_.responseType="text"}}function qy(){return new b6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t){this._service=e,t instanceof Jr?this._location=t:this._location=Jr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Yl(e,t)}get root(){const e=new Jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pC(this._location.path)}get storage(){return this._service}get parent(){const e=a6(this._location.path);if(e===null)return null;const t=new Jr(this._location.bucket,e);return new Yl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw U3(e)}}function T6(n,e,t){n._throwIfRoot("uploadBytes");const i=E6(n.storage,n._location,mC(),new Fo(e,!0),t);return n.storage.makeRequestWithTokens(i,qy).then(s=>({metadata:s,ref:n}))}function A6(n){n._throwIfRoot("getDownloadURL");const e=g6(n.storage,n._location,mC());return n.storage.makeRequestWithTokens(e,qy).then(t=>{if(t===null)throw L3();return t})}function S6(n){n._throwIfRoot("deleteObject");const e=_6(n.storage,n._location);return n.storage.makeRequestWithTokens(e,qy)}function C6(n,e){const t=o6(n._location.path,e),i=new Jr(n._location.bucket,t);return new Yl(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(n){return/^[A-Za-z]+:\/\//.test(n)}function x6(n,e){return new Yl(n,e)}function EC(n,e){if(n instanceof Gy){const t=n;if(t._bucket==null)throw D3();const i=new Yl(t,t._bucket);return e!=null?EC(i,e):i}else return e!==void 0?C6(n,e):n}function I6(n,e){if(e&&R6(e)){if(n instanceof Gy)return x6(n,e);throw bv("To use ref(service, url), the first argument must be a Storage instance.")}else return EC(n,e)}function lT(n,e){const t=e?.[oC];return t==null?null:Jr.makeFromBucketSpec(t,n)}function k6(n,e,t,i={}){n.host=`${e}:${t}`;const s=qa(e);s&&(Np(`https://${n.host}/b`),Lp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:UA(o,n.app.options.projectId))}class Gy{constructor(e,t,i,s,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=aC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T3,this._maxUploadRetryTime=A3,this._requests=new Set,s!=null?this._bucket=Jr.makeFromBucketSpec(s,this._host):this._bucket=lT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jr.makeFromBucketSpec(this._url,e):this._bucket=lT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yl(this,e)}_makeRequest(e,t,i,s,o=!0){if(this._deleted)return new B3(lC());{const c=Y3(e,this._appId,i,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const uT="@firebase/storage",cT="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="storage";function hT(n,e,t){return n=Rn(n),T6(n,e,t)}function fT(n){return n=Rn(n),A6(n)}function O6(n){return n=Rn(n),S6(n)}function A_(n,e){return n=Rn(n),I6(n,e)}function P6(n=Vp(),e){n=Rn(n);const i=tf(n,wC).getImmediate({identifier:e}),s=Zv("storage");return s&&M6(i,...s),i}function M6(n,e,t,i={}){k6(n,e,t,i)}function D6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Gy(t,i,s,e,eu)}function N6(){Qo(new La(wC,D6,"PUBLIC").setMultipleInstances(!0)),gs(uT,cT,""),gs(uT,cT,"esm2017")}N6();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="type.googleapis.com/google.protobuf.Int64Value",V6="type.googleapis.com/google.protobuf.UInt64Value";function bC(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function wp(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>wp(e));if(typeof n=="function"||typeof n=="object")return bC(n,e=>wp(e));throw new Error("Data cannot be encoded in JSON: "+n)}function oc(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case L6:case V6:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>oc(e)):typeof n=="function"||typeof n=="object"?bC(n,e=>oc(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xr extends Ns{constructor(e,t,i){super(`${Zy}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,xr.prototype)}}function U6(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function bp(n,e){let t=U6(n),i=t,s;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!dT[c])return new xr("internal","internal");t=dT[c],i=c}const f=o.message;typeof f=="string"&&(i=f),s=o.details,s!==void 0&&(s=oc(s))}}catch{}return t==="ok"?null:new xr(t,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,t,i,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Wr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||i.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="us-central1",F6=/^data: (.*?)(?:\n|$)/;function j6(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new xr("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class z6{constructor(e,t,i,s,o=Tv,c=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new B6(e,t,i,s),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(o);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=Tv}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function H6(n,e,t){const i=qa(e);n.emulatorOrigin=`http${i?"s":""}://${e}:${t}`,i&&(Np(n.emulatorOrigin),Lp("Functions",!0))}function q6(n,e,t){const i=s=>Z6(n,e,s,{});return i.stream=(s,o)=>$6(n,e,s,o),i}async function G6(n,e,t,i){t["Content-Type"]="application/json";let s;try{s=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function TC(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function Z6(n,e,t,i){const s=n._url(e);return K6(n,s,t,i)}async function K6(n,e,t,i){t=wp(t);const s={data:t},o=await TC(n,i),c=i.timeout||7e4,f=j6(c),p=await Promise.race([G6(e,s,o,n.fetchImpl),f.promise,n.cancelAllRequests]);if(f.cancel(),!p)throw new xr("cancelled","Firebase Functions instance was deleted.");const m=bp(p.status,p.json);if(m)throw m;if(!p.json)throw new xr("internal","Response is not valid JSON object.");let g=p.json.data;if(typeof g>"u"&&(g=p.json.result),typeof g>"u")throw new xr("internal","Response is missing data field.");return{data:oc(g)}}function $6(n,e,t,i){const s=n._url(e);return Q6(n,s,t,i||{})}async function Q6(n,e,t,i){var s;t=wp(t);const o={data:t},c=await TC(n,i);c["Content-Type"]="application/json",c.Accept="text/event-stream";let f;try{f=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:c,signal:i?.signal})}catch(C){if(C instanceof Error&&C.name==="AbortError"){const O=new xr("cancelled","Request was cancelled.");return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}const R=bp(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let p,m;const g=new Promise((C,R)=>{p=C,m=R});(s=i?.signal)===null||s===void 0||s.addEventListener("abort",()=>{const C=new xr("cancelled","Request was cancelled.");m(C)});const E=f.body.getReader(),w=Y6(E,p,m,i?.signal);return{stream:{[Symbol.asyncIterator](){const C=w.getReader();return{async next(){const{value:R,done:O}=await C.read();return{value:R,done:O}},async return(){return await C.cancel(),{done:!0,value:void 0}}}}},data:g}}function Y6(n,e,t,i){const s=(c,f)=>{const p=c.match(F6);if(!p)return;const m=p[1];try{const g=JSON.parse(m);if("result"in g){e(oc(g.result));return}if("message"in g){f.enqueue(oc(g.message));return}if("error"in g){const E=bp(0,g);f.error(E),t(E);return}}catch(g){if(g instanceof xr){f.error(g),t(g);return}}},o=new TextDecoder;return new ReadableStream({start(c){let f="";return p();async function p(){if(i?.aborted){const m=new xr("cancelled","Request was cancelled");return c.error(m),t(m),Promise.resolve()}try{const{value:m,done:g}=await n.read();if(g){f.trim()&&s(f.trim(),c),c.close();return}if(i?.aborted){const w=new xr("cancelled","Request was cancelled");c.error(w),t(w),await n.cancel();return}f+=o.decode(m,{stream:!0});const E=f.split(`
`);f=E.pop()||"";for(const w of E)w.trim()&&s(w.trim(),c);return p()}catch(m){const g=m instanceof xr?m:bp(0,null);c.error(g),t(g)}}},cancel(){return n.cancel()}})}const pT="@firebase/functions",mT="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="auth-internal",X6="app-check-internal",J6="messaging-internal";function e5(n){const e=(t,{instanceIdentifier:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider(W6),c=t.getProvider(J6),f=t.getProvider(X6);return new z6(s,o,c,f,i)};Qo(new La(Zy,e,"PUBLIC").setMultipleInstances(!0)),gs(pT,mT,n),gs(pT,mT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(n=Vp(),e=Tv){const i=tf(Rn(n),Zy).getImmediate({identifier:e}),s=Zv("functions");return s&&n5(i,...s),i}function n5(n,e,t){H6(Rn(n),e,t)}function i5(n,e,t){return q6(Rn(n),e)}e5();const r5={apiKey:"AIzaSyBOzvTb9IAQ2-x9JhZq2cE1x-KtBK9wucE",authDomain:"chapa-amigo-empresas.firebaseapp.com",projectId:"chapa-amigo-empresas",storageBucket:"chapa-amigo-empresas.firebasestorage.app",messagingSenderId:"912991691952",appId:"1:912991691952:web:339b7883ee6aee528c8775",measurementId:"G-SRM8HCL53Z"},cm=jA(r5),AC=mN(cm),ti=h3(cm),S_=P6(cm),s5=t5(cm,"us-central1");/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),gT=n=>{const e=o5(n);return e.charAt(0).toUpperCase()+e.slice(1)},SC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),l5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=he.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:c,...f},p)=>he.createElement("svg",{ref:p,...u5,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:SC("lucide",s),...!o&&!l5(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>he.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(n,e)=>{const t=he.forwardRef(({className:i,...s},o)=>he.createElement(c5,{ref:o,iconNode:e,className:SC(`lucide-${a5(gT(n))}`,`lucide-${n}`,i),...s}));return t.displayName=gT(n),t};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Hd=rn("archive",h5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],d5=rn("award",f5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],m5=rn("banknote",p5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],CC=rn("briefcase",g5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],v5=rn("building-2",_5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],E5=rn("building",y5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b5=rn("calendar",w5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],A5=rn("camera",T5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],C5=rn("chart-no-axes-column",S5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_T=rn("circle-check-big",R5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ky=rn("circle-plus",x5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Av=rn("circle-x",I5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],O5=rn("clipboard-list",k5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],M5=rn("clock",P5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],N5=rn("dollar-sign",D5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RC=rn("file-text",L5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],U5=rn("hash",V5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],F5=rn("hourglass",B5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xC=rn("info",j5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],H5=rn("layout-dashboard",z5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Kh=rn("loader-circle",q5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Z5=rn("log-out",G5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$5=rn("map-pin",K5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Y5=rn("paperclip",Q5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],X5=rn("printer",W5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eV=rn("search",J5);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IC=rn("square-pen",tV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iV=rn("star",nV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],vT=rn("ticket",rV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kC=rn("trash-2",sV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$y=rn("triangle-alert",aV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lV=rn("upload",oV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qy=rn("user",uV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OC=rn("users",cV);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PC=rn("x",hV);function ec({isOpen:n,onClose:e,title:t,children:i}){return n?x.jsx("div",{className:"modal-overlay",onClick:e,children:x.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[x.jsxs("div",{className:"modal-header",children:[x.jsx("h2",{className:"modal-title",children:t}),x.jsx("button",{onClick:e,className:"modal-close-button",children:x.jsx(PC,{size:24})})]}),x.jsxs("div",{className:"modal-body",children:[i," "]})]})}):null}function Ko(n){return typeof n=="string"||n instanceof String}function yT(n){var e;return typeof n=="object"&&n!=null&&(n==null||(e=n.constructor)==null?void 0:e.name)==="Object"}function MC(n,e){return Array.isArray(e)?MC(n,(t,i)=>e.includes(i)):Object.entries(n).reduce((t,i)=>{let[s,o]=i;return e(o,s)&&(t[s]=o),t},{})}const ft={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function fV(n){switch(n){case ft.LEFT:return ft.FORCE_LEFT;case ft.RIGHT:return ft.FORCE_RIGHT;default:return n}}function C_(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function Tp(n,e){if(e===n)return!0;const t=Array.isArray(e),i=Array.isArray(n);let s;if(t&&i){if(e.length!=n.length)return!1;for(s=0;s<e.length;s++)if(!Tp(e[s],n[s]))return!1;return!0}if(t!=i)return!1;if(e&&n&&typeof e=="object"&&typeof n=="object"){const o=e instanceof Date,c=n instanceof Date;if(o&&c)return e.getTime()==n.getTime();if(o!=c)return!1;const f=e instanceof RegExp,p=n instanceof RegExp;if(f&&p)return e.toString()==n.toString();if(f!=p)return!1;const m=Object.keys(e);for(s=0;s<m.length;s++)if(!Object.prototype.hasOwnProperty.call(n,m[s]))return!1;for(s=0;s<m.length;s++)if(!Tp(n[m[s]],e[m[s]]))return!1;return!0}else if(e&&n&&typeof e=="function"&&typeof n=="function")return e.toString()===n.toString();return!1}class dV{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?ft.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?ft.RIGHT:ft.LEFT}}function kt(n,e){return new kt.InputMask(n,e)}function DC(n){if(n==null)throw new Error("mask property should be defined");return n instanceof RegExp?kt.MaskedRegExp:Ko(n)?kt.MaskedPattern:n===Date?kt.MaskedDate:n===Number?kt.MaskedNumber:Array.isArray(n)||n===Array?kt.MaskedDynamic:kt.Masked&&n.prototype instanceof kt.Masked?n:kt.Masked&&n instanceof kt.Masked?n.constructor:n instanceof Function?kt.MaskedFunction:(console.warn("Mask not found for mask",n),kt.Masked)}function $h(n){if(!n)throw new Error("Options in not defined");if(kt.Masked){if(n.prototype instanceof kt.Masked)return{mask:n};const{mask:e=void 0,...t}=n instanceof kt.Masked?{mask:n}:yT(n)&&n.mask instanceof kt.Masked?n:{};if(e){const i=e.mask;return{...MC(e,(s,o)=>!o.startsWith("_")),mask:e.constructor,_mask:i,...t}}}return yT(n)?{...n}:{mask:n}}function Ha(n){if(kt.Masked&&n instanceof kt.Masked)return n;const e=$h(n),t=DC(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}kt.createMask=Ha;class Yy{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}kt.MaskElement=Yy;const ET=90,pV=89;class hm extends Yy{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,i;return(e=(t=(i=this.input).getRootNode)==null?void 0:t.call(i))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===ET&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===pV&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===ET&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}kt.HTMLMaskElement=hm;class mV extends hm{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}kt.HTMLMaskElement=hm;class NC extends hm{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,s=t&&t.focusOffset;return s==null||i==null||i<s?i:s}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,s=t&&t.focusOffset;return s==null||i==null||i>s?i:s}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const i=this.rootElement.createRange();i.setStart(this.input.firstChild||this.input,e),i.setEnd(this.input.lastChild||this.input,t);const s=this.rootElement,o=s.getSelection&&s.getSelection();o&&(o.removeAllRanges(),o.addRange(i))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}kt.HTMLContenteditableMaskElement=NC;class fm{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>fm.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}fm.MAX_LENGTH=100;let gV=class{constructor(e,t){this.el=e instanceof Yy?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new NC(e):new mV(e),this.masked=Ha(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new fm,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof kt.Masked)&&this.masked.constructor===DC(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof kt.Masked?e:Ha({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const i=this._listeners[e];i&&i.forEach(s=>s(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,i=this.masked.value,s=this.masked.rawInputValue,o=this.displayValue,c=this.unmaskedValue!==t||this.value!==i||this._rawInputValue!==s;this._unmaskedValue=t,this._value=i,this._rawInputValue=s,this.el.value!==o&&(this.el.value=o),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),c&&this._fireChangeEvents(),!this._historyChanging&&(c||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...i}=e,s=!this.maskEquals(t),o=this.masked.optionsIsChanged(i);s&&(this.mask=t),o&&this.masked.updateOptions(i),(s||o)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,ft.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const i=this._listeners[e].indexOf(t);return i>=0&&this._listeners[e].splice(i,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new dV({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),i=this.masked.rawInputValue,s=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,o=i===this.masked.rawInputValue?t.removeDirection:ft.NONE;let c=this.masked.nearestInputPos(t.startChangePos+s,o);o!==ft.NONE&&(c=this.masked.nearestInputPos(c,ft.NONE)),this.updateControl(c),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};kt.InputMask=gV;class Bt{static normalize(e){return Array.isArray(e)?e:[e,new Bt]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}kt.ChangeDetails=Bt;class ta{constructor(e,t,i){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=i}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class tr{constructor(e){this._value="",this._update({...tr.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new ta(this.extractInput(e,t),e)}appendTail(e){return Ko(e)&&(e=new ta(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new Bt({inserted:e,rawInserted:e})):new Bt}_appendChar(e,t,i){t===void 0&&(t={});const s=this.state;let o;if([e,o]=this.doPrepareChar(e,t),e&&(o=o.aggregate(this._appendCharRaw(e,t)),!o.rawInserted&&this.autofix==="pad")){const c=this.state;this.state=s;let f=this.pad(t);const p=this._appendCharRaw(e,t);f=f.aggregate(p),p.rawInserted||f.equals(o)?o=f:this.state=c}if(o.inserted){let c,f=this.doValidate(t)!==!1;if(f&&i!=null){const p=this.state;if(this.overwrite===!0){c=i.state;for(let g=0;g<o.rawInserted.length;++g)i.unshift(this.displayValue.length-o.tailShift)}let m=this.appendTail(i);if(f=m.rawInserted.length===i.toString().length,!(f&&m.inserted)&&this.overwrite==="shift"){this.state=p,c=i.state;for(let g=0;g<o.rawInserted.length;++g)i.shift();m=this.appendTail(i),f=m.rawInserted.length===i.toString().length}f&&m.inserted&&(this.state=p)}f||(o=new Bt,this.state=s,i&&c&&(i.state=c))}return o}_appendPlaceholder(){return new Bt}_appendEager(){return new Bt}append(e,t,i){if(!Ko(e))throw new Error("value should be string");const s=Ko(i)?new ta(String(i)):i;t!=null&&t.tail&&(t._beforeTailState=this.state);let o;[e,o]=this.doPrepare(e,t);for(let c=0;c<e.length;++c){const f=this._appendChar(e[c],t,s);if(!f.rawInserted&&!this.doSkipInvalid(e[c],t,s))break;o.aggregate(f)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&o.aggregate(this._appendEager()),s!=null&&(o.tailShift+=this.appendTail(s).tailShift),o}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new Bt}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,i=this.value,s=e();return this.rawInputValue=t,this.value&&this.value!==i&&i.indexOf(this.value)===0&&(this.append(i.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,s}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,i=e(this);return this.state=t,delete this._isolated,i}doSkipInvalid(e,t,i){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),Bt.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),Bt.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,i,s,o){i===void 0&&(i=""),s===void 0&&(s=ft.NONE),o===void 0&&(o={input:!0});const c=e+t,f=this.extractTail(c),p=this.eager===!0||this.eager==="remove";let m;p&&(s=fV(s),m=this.extractInput(0,c,{raw:!0}));let g=e;const E=new Bt;if(s!==ft.NONE&&(g=this.nearestInputPos(e,t>1&&e!==0&&!p?ft.NONE:s),E.tailShift=g-e),E.aggregate(this.remove(g)),p&&s!==ft.NONE&&m===this.rawInputValue)if(s===ft.FORCE_LEFT){let w;for(;m===this.rawInputValue&&(w=this.displayValue.length);)E.aggregate(new Bt({tailShift:-1})).aggregate(this.remove(w-1))}else s===ft.FORCE_RIGHT&&f.unshift();return E.aggregate(this.append(i,o,f))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!Tp(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||tr.EMPTY_VALUES.includes(e)&&tr.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new Bt}}tr.DEFAULTS={skipInvalid:!0};tr.EMPTY_VALUES=[void 0,null,""];kt.Masked=tr;class Bl{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=Ko(e)?new ta(String(e)):e;const t=this.chunks[this.chunks.length-1],i=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof ta)i?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof Bl){if(e.stop==null){let s;for(;e.chunks.length&&e.chunks[0].stop==null;)s=e.chunks.shift(),s.from+=e.from,this.extend(s)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof kt.MaskedPattern))return new ta(this.toString()).appendTo(e);const t=new Bt;for(let i=0;i<this.chunks.length;++i){const s=this.chunks[i],o=e._mapPosToBlock(e.displayValue.length),c=s.stop;let f;if(c!=null&&(!o||o.index<=c)&&((s instanceof Bl||e._stops.indexOf(c)>=0)&&t.aggregate(e._appendPlaceholder(c)),f=s instanceof Bl&&e._blocks[c]),f){const p=f.appendTail(s);t.aggregate(p);const m=s.toString().slice(p.rawInserted.length);m&&t.aggregate(e.append(m,{tail:!0}))}else t.aggregate(e.append(s.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...i}=e;Object.assign(this,i),this.chunks=t.map(s=>{const o="chunks"in s?new Bl:new ta;return o.state=s,o})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let i=0;for(;i<this.chunks.length;){const s=this.chunks[i],o=s.unshift(t);if(s.toString()){if(!o)break;++i}else this.chunks.splice(i,1);if(o)return o}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],i=t.shift();if(t.toString()){if(!i)break;--e}else this.chunks.splice(e,1);if(i)return i}return""}}class _V{constructor(e,t){this.masked=e,this._log=[];const{offset:i,index:s}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=i,this.index=s,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,ft.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,ft.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,ft.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,ft.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,ft.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,ft.NONE),!0})}}class LC{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new Bt}nearestInputPos(e,t){t===void 0&&(t=ft.NONE);const i=0,s=this._value.length;switch(t){case ft.LEFT:case ft.FORCE_LEFT:return i;case ft.NONE:case ft.RIGHT:case ft.FORCE_RIGHT:default:return s}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),i===void 0&&(i={}),i.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new Bt;const i=this.eager===!0||this.eager==="append",o=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!i)&&!t.tail,c=new Bt({inserted:this.char,rawInserted:o?this.char:""});return this._value=this.char,this._isRawInput=o&&(t.raw||t.input),c}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new Bt;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new ta("")}appendTail(e){return Ko(e)&&(e=new ta(String(e))),e.appendTo(this)}append(e,t,i){const s=this._appendChar(e[0],t);return i!=null&&(s.tailShift+=this.appendTail(i).tailShift),s}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class Ap{constructor(e){const{parent:t,isOptional:i,placeholderChar:s,displayChar:o,lazy:c,eager:f,...p}=e;this.masked=Ha(p),Object.assign(this,{parent:t,isOptional:i,placeholderChar:s,displayChar:o,lazy:c,eager:f})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new Bt}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new Bt;const i=this.masked.state;let s=this.masked._appendChar(e,this.currentMaskFlags(t));return s.inserted&&this.doValidate(t)===!1&&(s=new Bt,this.masked.state=i),!s.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(s.inserted=this.placeholderChar),s.skip=!s.inserted&&!this.isOptional,this.isFilled=!!s.inserted,s}append(e,t,i){return this.masked.append(e,this.currentMaskFlags(t),i)}_appendPlaceholder(){return this.isFilled||this.isOptional?new Bt:(this.isFilled=!0,new Bt({inserted:this.placeholderChar}))}_appendEager(){return new Bt}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,i)}nearestInputPos(e,t){t===void 0&&(t=ft.NONE);const i=0,s=this.value.length,o=Math.min(Math.max(e,i),s);switch(t){case ft.LEFT:case ft.FORCE_LEFT:return this.isComplete?o:i;case ft.RIGHT:case ft.FORCE_RIGHT:return this.isComplete?o:s;case ft.NONE:default:return o}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||e?._beforeTailState}}pad(e){return new Bt}}Ap.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class vV extends tr{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=i=>i.search(t)>=0),super._update(e)}}kt.MaskedRegExp=vV;class nr extends tr{constructor(e){super({...nr.DEFAULTS,...e,definitions:Object.assign({},Ap.DEFAULT_DEFINITIONS,e?.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let i=!1,s=!1;for(let o=0;o<t.length;++o){if(this.blocks){const m=t.slice(o),g=Object.keys(this.blocks).filter(w=>m.indexOf(w)===0);g.sort((w,C)=>C.length-w.length);const E=g[0];if(E){const{expose:w,repeat:C,...R}=$h(this.blocks[E]),O={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...R,repeat:C,parent:this},D=C!=null?new kt.RepeatBlock(O):Ha(O);D&&(this._blocks.push(D),w&&(this.exposeBlock=D),this._maskedBlocks[E]||(this._maskedBlocks[E]=[]),this._maskedBlocks[E].push(this._blocks.length-1)),o+=E.length-1;continue}}let c=t[o],f=c in e;if(c===nr.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(c==="{"||c==="}"){i=!i;continue}if(c==="["||c==="]"){s=!s;continue}if(c===nr.ESCAPE_CHAR){if(++o,c=t[o],!c)break;f=!1}const p=f?new Ap({isOptional:s,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...$h(e[c]),parent:this}):new LC({char:c,eager:this.eager,isUnmasking:i});this._blocks.push(p)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...i}=e;this._blocks.forEach((s,o)=>s.state=t[o]),super.state=i}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new Bt;let i=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(i==null)return t;this._blocks[i].isFilled&&++i;for(let s=i;s<this._blocks.length;++s){const o=this._blocks[s]._appendEager();if(!o.inserted)break;t.aggregate(o)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const i=this._mapPosToBlock(this.displayValue.length),s=new Bt;if(!i)return s;for(let c=i.index,f;f=this._blocks[c];++c){var o;const p=f._appendChar(e,{...t,_beforeTailState:(o=t._beforeTailState)==null||(o=o._blocks)==null?void 0:o[c]});if(s.aggregate(p),p.consumed)break}return s}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=new Bl;return e===t||this._forEachBlocksInRange(e,t,(s,o,c,f)=>{const p=s.extractTail(c,f);p.stop=this._findStopBefore(o),p.from=this._blockStartPos(o),p instanceof Bl&&(p.blockIndex=o),i.extend(p)}),i}extractInput(e,t,i){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),i===void 0&&(i={}),e===t)return"";let s="";return this._forEachBlocksInRange(e,t,(o,c,f,p)=>{s+=o.extractInput(f,p,i)}),s}_findStopBefore(e){let t;for(let i=0;i<this._stops.length;++i){const s=this._stops[i];if(s<=e)t=s;else break}return t}_appendPlaceholder(e){const t=new Bt;if(this.lazy&&e==null)return t;const i=this._mapPosToBlock(this.displayValue.length);if(!i)return t;const s=i.index,o=e??this._blocks.length;return this._blocks.slice(s,o).forEach(c=>{if(!c.lazy||e!=null){var f;t.aggregate(c._appendPlaceholder((f=c._blocks)==null?void 0:f.length))}}),t}_mapPosToBlock(e){let t="";for(let i=0;i<this._blocks.length;++i){const s=this._blocks[i],o=t.length;if(t+=s.displayValue,e<=t.length)return{index:i,offset:e-o}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,i)=>t+=i.displayValue.length,0)}_forEachBlocksInRange(e,t,i){t===void 0&&(t=this.displayValue.length);const s=this._mapPosToBlock(e);if(s){const o=this._mapPosToBlock(t),c=o&&s.index===o.index,f=s.offset,p=o&&c?o.offset:this._blocks[s.index].displayValue.length;if(i(this._blocks[s.index],s.index,f,p),o&&!c){for(let m=s.index+1;m<o.index;++m)i(this._blocks[m],m,0,this._blocks[m].displayValue.length);i(this._blocks[o.index],o.index,0,o.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=super.remove(e,t);return this._forEachBlocksInRange(e,t,(s,o,c,f)=>{i.aggregate(s.remove(c,f))}),i}nearestInputPos(e,t){if(t===void 0&&(t=ft.NONE),!this._blocks.length)return 0;const i=new _V(this,e);if(t===ft.NONE)return i.pushRightBeforeInput()||(i.popState(),i.pushLeftBeforeInput())?i.pos:this.displayValue.length;if(t===ft.LEFT||t===ft.FORCE_LEFT){if(t===ft.LEFT){if(i.pushRightBeforeFilled(),i.ok&&i.pos===e)return e;i.popState()}if(i.pushLeftBeforeInput(),i.pushLeftBeforeRequired(),i.pushLeftBeforeFilled(),t===ft.LEFT){if(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.ok&&i.pos<=e||(i.popState(),i.ok&&i.pos<=e))return i.pos;i.popState()}return i.ok?i.pos:t===ft.FORCE_LEFT?0:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:0)}return t===ft.RIGHT||t===ft.FORCE_RIGHT?(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.pushRightBeforeFilled()?i.pos:t===ft.FORCE_RIGHT?this.displayValue.length:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:this.nearestInputPos(e,ft.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let i=0;return this._forEachBlocksInRange(e,t,(s,o,c,f)=>{i+=s.totalInputPositions(c,f)}),i}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(i=>this._blocks[i]):[]}pad(e){const t=new Bt;return this._forEachBlocksInRange(0,this.displayValue.length,i=>t.aggregate(i.pad(e))),t}}nr.DEFAULTS={...tr.DEFAULTS,lazy:!0,placeholderChar:"_"};nr.STOP_CHAR="`";nr.ESCAPE_CHAR="\\";nr.InputDefinition=Ap;nr.FixedDefinition=LC;kt.MaskedPattern=nr;class qd extends nr{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:i=this.from||0,maxLength:s=this.maxLength||0,autofix:o=this.autofix,...c}=e;this.to=t,this.from=i,this.maxLength=Math.max(String(t).length,s),this.autofix=o;const f=String(this.from).padStart(this.maxLength,"0"),p=String(this.to).padStart(this.maxLength,"0");let m=0;for(;m<p.length&&p[m]===f[m];)++m;c.mask=p.slice(0,m).replace(/0/g,"\\0")+"0".repeat(this.maxLength-m),super._update(c)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",i="";const[,s,o]=e.match(/^(\D*)(\d*)(\D*)/)||[];return o&&(t="0".repeat(s.length)+o,i="9".repeat(s.length)+o),t=t.padEnd(this.maxLength,"0"),i=i.padEnd(this.maxLength,"9"),[t,i]}doPrepareChar(e,t){t===void 0&&(t={});let i;return[e,i]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(i.skip=!this.isComplete),[e,i]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const i=String(this.from).padStart(this.maxLength,"0"),s=String(this.to).padStart(this.maxLength,"0"),[o,c]=this.boundaries(this.value+e);return Number(c)<this.from?super._appendCharRaw(i[this.value.length],t):Number(o)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(i[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(s[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[s,o]=this.boundaries(t);return this.from<=Number(o)&&Number(s)<=this.to&&super.doValidate(e)}pad(e){const t=new Bt;if(this.value.length===this.maxLength)return t;const i=this.value,s=this.maxLength-this.value.length;if(s){this.reset();for(let o=0;o<s;++o)t.aggregate(super._appendCharRaw("0",e));i.split("").forEach(o=>this._appendCharRaw(o))}return t}}kt.MaskedRange=qd;const yV="d{.}`m{.}`Y";class Pa extends nr{static extractPatternOptions(e){const{mask:t,pattern:i,...s}=e;return{...s,mask:Ko(t)?t:i}}constructor(e){super(Pa.extractPatternOptions({...Pa.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:i,blocks:s,...o}={...Pa.DEFAULTS,...e},c=Object.assign({},Pa.GET_DEFAULT_BLOCKS());e.min&&(c.Y.from=e.min.getFullYear()),e.max&&(c.Y.to=e.max.getFullYear()),e.min&&e.max&&c.Y.from===c.Y.to&&(c.m.from=e.min.getMonth()+1,c.m.to=e.max.getMonth()+1,c.m.from===c.m.to&&(c.d.from=e.min.getDate(),c.d.to=e.max.getDate())),Object.assign(c,this.blocks,s),super._update({...o,mask:Ko(t)?t:i,blocks:c})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(Pa.extractPatternOptions(e))}}Pa.GET_DEFAULT_BLOCKS=()=>({d:{mask:qd,from:1,to:31,maxLength:2},m:{mask:qd,from:1,to:12,maxLength:2},Y:{mask:qd,from:1900,to:9999}});Pa.DEFAULTS={...nr.DEFAULTS,mask:Date,pattern:yV,format:(n,e)=>{if(!n)return"";const t=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),s=n.getFullYear();return[t,i,s].join(".")},parse:(n,e)=>{const[t,i,s]=n.split(".").map(Number);return new Date(s,i-1,t)}};kt.MaskedDate=Pa;class dm extends tr{constructor(e){super({...dm.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:i,...s}=$h(t),o=Ha({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...s});return i&&(this.exposeMask=o),o}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const i=this._applyDispatch(e,t);return this.currentMask&&i.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),i}_applyDispatch(e,t,i){e===void 0&&(e=""),t===void 0&&(t={}),i===void 0&&(i="");const s=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,o=this.rawInputValue,c=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:o,f=o.slice(c.length),p=this.currentMask,m=new Bt,g=p?.state;return this.currentMask=this.doDispatch(e,{...t},i),this.currentMask&&(this.currentMask!==p?(this.currentMask.reset(),c&&(this.currentMask.append(c,{raw:!0}),m.tailShift=this.currentMask.value.length-s.length),f&&(m.tailShift+=this.currentMask.append(f,{raw:!0,tail:!0}).tailShift)):g&&(this.currentMask.state=g)),m}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new Bt;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,i;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((i=e._beforeTailState)==null?void 0:i.currentMask)||e._beforeTailState}}doDispatch(e,t,i){return t===void 0&&(t={}),i===void 0&&(i=""),this.dispatch(e,this,t,i)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[i,s]=super.doPrepare(e,t);if(this.currentMask){let o;[i,o]=super.doPrepare(i,this.currentMaskFlags(t)),s=s.aggregate(o)}return[i,s]}doPrepareChar(e,t){t===void 0&&(t={});let[i,s]=super.doPrepareChar(e,t);if(this.currentMask){let o;[i,o]=super.doPrepareChar(i,this.currentMaskFlags(t)),s=s.aggregate(o)}return[i,s]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const i=new Bt;return this.currentMask&&i.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),i}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:i,currentMask:s,...o}=e;t&&this.compiledMasks.forEach((c,f)=>c.state=t[f]),i!=null&&(this.currentMask=i,this.currentMask.state=s),super.state=o}extractInput(e,t,i){return this.currentMask?this.currentMask.extractInput(e,t,i):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,i)=>{if(!e[i])return;const{mask:s,...o}=e[i];return Tp(t,o)&&t.maskEquals(s)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}dm.DEFAULTS={...tr.DEFAULTS,dispatch:(n,e,t,i)=>{if(!e.compiledMasks.length)return;const s=e.rawInputValue,o=e.compiledMasks.map((c,f)=>{const p=e.currentMask===c,m=p?c.displayValue.length:c.nearestInputPos(c.displayValue.length,ft.FORCE_LEFT);return c.rawInputValue!==s?(c.reset(),c.append(s,{raw:!0})):p||c.remove(m),c.append(n,e.currentMaskFlags(t)),c.appendTail(i),{index:f,weight:c.rawInputValue.length,totalInputPositions:c.totalInputPositions(0,Math.max(m,c.nearestInputPos(c.displayValue.length,ft.FORCE_LEFT)))}});return o.sort((c,f)=>f.weight-c.weight||f.totalInputPositions-c.totalInputPositions),e.compiledMasks[o[0].index]}};kt.MaskedDynamic=dm;class pm extends nr{constructor(e){super({...pm.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...i}=e;if(t){const s=t.map(f=>f.length),o=Math.min(...s),c=Math.max(...s)-o;i.mask="*".repeat(o),c&&(i.mask+="["+"*".repeat(c)+"]"),this.enum=t}super._update(i)}_appendCharRaw(e,t){t===void 0&&(t={});const i=Math.min(this.nearestInputPos(0,ft.FORCE_RIGHT),this.value.length),s=this.enum.filter(o=>this.matchValue(o,this.unmaskedValue+e,i));if(s.length){s.length===1&&this._forEachBlocksInRange(0,this.value.length,(c,f)=>{const p=s[0][f];f>=this.value.length||p===c.value||(c.reset(),c._appendChar(p,t))});const o=super._appendCharRaw(s[0][this.value.length],t);return s.length===1&&s[0].slice(this.unmaskedValue.length).split("").forEach(c=>o.aggregate(super._appendCharRaw(c))),o}return new Bt({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new ta("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new Bt;const i=Math.min(super.nearestInputPos(0,ft.FORCE_RIGHT),this.value.length);let s;for(s=e;s>=0&&!(this.enum.filter(f=>this.matchValue(f,this.value.slice(i,s),i)).length>1);--s);const o=super.remove(s,t);return o.tailShift+=s-e,o}get isComplete(){return this.enum.indexOf(this.value)>=0}}pm.DEFAULTS={...nr.DEFAULTS,matchValue:(n,e,t)=>n.indexOf(e,t)===t};kt.MaskedEnum=pm;class EV extends tr{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}kt.MaskedFunction=EV;var VC;class Yr extends tr{constructor(e){super({...Yr.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",i=(this.scale?"("+C_(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+i),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(C_).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(C_(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[i,s]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!i&&(s.skip=!0),i&&!this.allowPositive&&!this.value&&i!=="-"&&s.aggregate(this._appendChar("-")),[i,s]}_separatorsCount(e,t){t===void 0&&(t=!1);let i=0;for(let s=0;s<e;++s)this._value.indexOf(this.thousandsSeparator,s)===s&&(++i,t&&(e+=this.thousandsSeparator.length));return i}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,i))}_appendCharRaw(e,t){t===void 0&&(t={});const i=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,s=this._separatorsCountFromSlice(i);this._value=this._removeThousandsSeparators(this.value);const o=this._value;this._value+=e;const c=this.number;let f=!isNaN(c),p=!1;if(f){let w;this.min!=null&&this.min<0&&this.number<this.min&&(w=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(w=this.max),w!=null&&(this.autofix?(this._value=this.format(w,this).replace(Yr.UNMASKED_RADIX,this.radix),p||(p=o===this._value&&!t.tail)):f=!1),f&&(f=!!this._value.match(this._numberRegExp))}let m;f?m=new Bt({inserted:this._value.slice(o.length),rawInserted:p?"":e,skip:p}):(this._value=o,m=new Bt),this._value=this._insertThousandsSeparators(this._value);const g=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,E=this._separatorsCountFromSlice(g);return m.tailShift+=(E-s)*this.thousandsSeparator.length,m}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,i=this.value.indexOf(this.thousandsSeparator,t);if(i<=e)return i}return-1}_adjustRangeWithSeparators(e,t){const i=this._findSeparatorAround(e);i>=0&&(e=i);const s=this._findSeparatorAround(t);return s>=0&&(t=s+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const i=this.value.slice(0,e),s=this.value.slice(t),o=this._separatorsCount(i.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(i+s));const c=this._separatorsCountFromSlice(i);return new Bt({tailShift:(c-o)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case ft.NONE:case ft.LEFT:case ft.FORCE_LEFT:{const i=this._findSeparatorAround(e-1);if(i>=0){const s=i+this.thousandsSeparator.length;if(e<s||this.value.length<=s||t===ft.FORCE_LEFT)return i}break}case ft.RIGHT:case ft.FORCE_RIGHT:{const i=this._findSeparatorAround(e);if(i>=0)return i+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let i=this.value;this.normalizeZeros&&(i=this._normalizeZeros(i)),this.padFractionalZeros&&this.scale>0&&(i=this._padFractionalZeros(i)),this._value=i}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(i,s,o,c)=>s+c),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,i){t===void 0&&(t={});const s=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===Yr.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,i)&&!s}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,Yr.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(Yr.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||Yr.EMPTY_VALUES.includes(e)&&Yr.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}VC=Yr;Yr.UNMASKED_RADIX=".";Yr.EMPTY_VALUES=[...tr.EMPTY_VALUES,0];Yr.DEFAULTS={...tr.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[VC.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:n=>n.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};kt.MaskedNumber=Yr;const Sv={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function UC(n,e,t){e===void 0&&(e=Sv.MASKED),t===void 0&&(t=Sv.MASKED);const i=Ha(n);return s=>i.runIsolated(o=>(o[e]=s,o[t]))}function wV(n,e,t,i){return UC(e,t,i)(n)}kt.PIPE_TYPE=Sv;kt.createPipe=UC;kt.pipe=wV;class bV extends nr{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,i,s;const{repeat:o,...c}=$h(e);this._blockOpts=Object.assign({},this._blockOpts,c);const f=Ha(this._blockOpts);this.repeat=(t=(i=o??f.repeat)!=null?i:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((s=this._blocks)==null?void 0:s.length)||0,this.repeatFrom)),blocks:{m:f},eager:f.eager,overwrite:f.overwrite,skipInvalid:f.skipInvalid,lazy:f.lazy,placeholderChar:f.placeholderChar,displayChar:f.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(Ha(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const i=new Bt;for(let p=(s=(o=this._mapPosToBlock(this.displayValue.length))==null?void 0:o.index)!=null?s:Math.max(this._blocks.length-1,0),m,g;m=(c=this._blocks[p])!=null?c:g=!g&&this._allocateBlock(p);++p){var s,o,c,f;const E=m._appendChar(e,{...t,_beforeTailState:(f=t._beforeTailState)==null||(f=f._blocks)==null?void 0:f[p]});if(E.skip&&g){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(i.aggregate(E),E.consumed)break}return i}_trimEmptyTail(e,t){var i,s;e===void 0&&(e=0);const o=Math.max(((i=this._mapPosToBlock(e))==null?void 0:i.index)||0,this.repeatFrom,0);let c;t!=null&&(c=(s=this._mapPosToBlock(t))==null?void 0:s.index),c==null&&(c=this._blocks.length-1);let f=0;for(let p=c;o<=p&&!this._blocks[p].unmaskedValue;--p,++f);f&&(this._blocks.splice(c-f+1,f),this.mask=this.mask.slice(f))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=super.remove(e,t);return this._trimEmptyTail(e,t),i}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}kt.RepeatBlock=bV;try{globalThis.IMask=kt}catch{}var R_={exports:{}},x_,wT;function TV(){if(wT)return x_;wT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return x_=n,x_}var I_,bT;function AV(){if(bT)return I_;bT=1;var n=TV();function e(){}function t(){}return t.resetWarningCache=e,I_=function(){function i(c,f,p,m,g,E){if(E!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},I_}var TT;function Wy(){return TT||(TT=1,R_.exports=AV()()),R_.exports}var SV=Wy();const ut=lc(SV),BC={mask:ut.oneOfType([ut.array,ut.func,ut.string,ut.instanceOf(RegExp),ut.oneOf([Date,Number,kt.Masked]),ut.instanceOf(kt.Masked)]),value:ut.any,unmask:ut.oneOfType([ut.bool,ut.oneOf(["typed"])]),prepare:ut.func,prepareChar:ut.func,validate:ut.func,commit:ut.func,overwrite:ut.oneOfType([ut.bool,ut.oneOf(["shift"])]),eager:ut.oneOfType([ut.bool,ut.oneOf(["append","remove"])]),skipInvalid:ut.bool,onAccept:ut.func,onComplete:ut.func,placeholderChar:ut.string,displayChar:ut.string,lazy:ut.bool,definitions:ut.object,blocks:ut.object,enum:ut.arrayOf(ut.string),maxLength:ut.number,from:ut.number,to:ut.number,pattern:ut.string,format:ut.func,parse:ut.func,autofix:ut.oneOfType([ut.bool,ut.oneOf(["pad"])]),radix:ut.string,thousandsSeparator:ut.string,mapToRadix:ut.arrayOf(ut.string),scale:ut.number,normalizeZeros:ut.bool,padFractionalZeros:ut.bool,min:ut.oneOfType([ut.number,ut.instanceOf(Date)]),max:ut.oneOfType([ut.number,ut.instanceOf(Date)]),dispatch:ut.func,inputRef:ut.oneOfType([ut.func,ut.shape({current:ut.object})])},FC=Object.keys(BC).filter(n=>n!=="value"),CV=["value","unmask","onAccept","onComplete","inputRef"],RV=FC.filter(n=>CV.indexOf(n)<0);function xV(n){var e;const t=(e=class extends mn.Component{constructor(o){super(o),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const o=this.props,c=this._extractMaskOptionsFromProps(o);if(c.mask)this.maskRef?(this.maskRef.updateOptions(c),"value"in o&&o.value!==void 0&&(this.maskValue=o.value)):this.initMask(c);else if(this.destroyMask(),"value"in o&&o.value!==void 0){var f;(f=this.element)!=null&&f.isContentEditable&&this.element.tagName!=="INPUT"&&this.element.tagName!=="TEXTAREA"?this.element.textContent=o.value:this.element.value=o.value}}componentWillUnmount(){this.destroyMask()}_inputRef(o){this.element=o,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=o:this.props.inputRef(o))}initMask(o){o===void 0&&(o=this._extractMaskOptionsFromProps(this.props)),this.maskRef=kt(this.element,o).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&this.props.value!==void 0&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(o){const{...c}=o;return Object.keys(c).filter(f=>RV.indexOf(f)<0).forEach(f=>{delete c[f]}),c}_extractNonMaskProps(o){const{...c}=o;return FC.forEach(f=>{f!=="maxLength"&&delete c[f]}),"defaultValue"in c||(c.defaultValue=o.mask?"":c.value),delete c.value,c}get maskValue(){return this.maskRef?this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(o){this.maskRef&&(o=o==null&&this.props.unmask!=="typed"?"":o,this.props.unmask==="typed"?this.maskRef.typedValue=o:this.props.unmask?this.maskRef.unmaskedValue=o:this.maskRef.value=o)}_onAccept(o){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,o)}_onComplete(o){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,o)}render(){return mn.createElement(n,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}},e.displayName=void 0,e.propTypes=void 0,e),i=n.displayName||n.name||"Component";return t.displayName="IMask("+i+")",t.propTypes=BC,mn.forwardRef((s,o)=>mn.createElement(t,{...s,ref:o}))}const IV=xV(n=>{let{inputRef:e,...t}=n;return mn.createElement("input",{...t,ref:e})}),kV=(n,e)=>mn.createElement(IV,{...n,ref:e}),Th=mn.forwardRef(kV),OV=n=>{switch(n){case"/dashboard":return"Dashboard";case"/operacoes":return"Mesa de Operações";case"/talentos":return"Gestão de Trabalhadores";case"/frota":return"Minha Frota";case"/historico":return"Central de Inteligência";default:return"Painel"}},PV=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],AT={frotaId:"",descricaoServico:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"SP",dataServico:"",periodoInicio:"",valorOfertado:"",formaPagamento:"PIX",requisitos:"",advertencias:"",necessitaAutorizacao:!1};function MV(){const n=jv(),e=rl(),t="teste@empresa.com",[i,s]=he.useState([]),[o,c]=he.useState(!1),[f,p]=he.useState(AT),[m,g]=he.useState(!1),[E,w]=he.useState(!1);he.useEffect(()=>{(async()=>{const ee=ja(ti,"frota"),q=(await Zh(ee)).docs.map(Z=>({...Z.data(),id:Z.id}));s(q)})()},[]);const C=()=>{c(!0)},R=()=>{m||(c(!1),p(AT))},O=W=>{const{name:ee,value:ne,type:q,checked:Z}=W.target;p(A=>({...A,[ee]:q==="checkbox"?Z:ne}))},D=async W=>{const ee=W.replace(/\D/g,"");if(ee.length===8){w(!0);try{const ne=await fetch(`https://viacep.com.br/ws/${ee}/json/`);if(!ne.ok)throw new Error("CEP não encontrado.");const q=await ne.json();if(q.erro)throw new Error("CEP inválido.");p(Z=>({...Z,logradouro:q.logradouro,bairro:q.bairro,cidade:q.localidade,estado:q.uf}))}catch(ne){console.error("Erro ao buscar CEP:",ne),alert(ne.message)}finally{w(!1)}}};he.useEffect(()=>{const W=f.cep.replace(/\D/g,"");W.length===8&&D(W)},[f.cep]);const j=async W=>{W.preventDefault(),g(!0);try{const ee=i.find(Z=>Z.id===f.frotaId);if(!ee){alert("Por favor, selecione um cliente/veículo da frota."),g(!1);return}const ne={descricaoServico:f.descricaoServico,endereco:{cep:f.cep,logradouro:f.logradouro,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.cidade,estado:f.estado},dataServico:nn.fromDate(new Date(f.dataServico+"T00:00:00")),periodo:f.periodoInicio,valorServicoBruto:Number(f.valorOfertado),formaPagamento:f.formaPagamento,requisitos:f.requisitos,advertencias:f.advertencias,necessitaAutorizacao:f.necessitaAutorizacao,status:"pendente",dataSolicitacao:nn.now(),cliente:ee.nome,frotaId:ee.id},q=await om(ja(ti,"solicitacoes"),ne);alert(`Ordem de Serviço criada com sucesso para '${ee.nome}'!`),window.dispatchEvent(new CustomEvent("os-criada")),R()}catch(ee){console.error("Erro ao criar Ordem de Serviço: ",ee),alert("Ocorreu um erro ao criar a OS. Verifique o console para mais detalhes.")}finally{g(!1)}},te=()=>{n("/login")};return x.jsxs("div",{className:"main-layout",children:[x.jsxs("aside",{className:"sidebar",children:[x.jsxs("div",{className:"sidebar-header",children:[x.jsx("img",{src:"/images/logo.svg",alt:"Chapa Amigo Empresas Logo",className:"logo"}),x.jsx("h1",{children:"Chapa Amigo Empresas"})]}),x.jsxs("nav",{className:"sidebar-nav",children:[x.jsxs(ju,{to:"/dashboard",className:"nav-link",children:[x.jsx(H5,{size:20}),x.jsx("span",{children:"Dashboard"})]}),x.jsxs(ju,{to:"/operacoes",className:"nav-link",children:[x.jsx(O5,{size:20}),x.jsx("span",{children:"Mesa de Operações"})]}),x.jsxs(ju,{to:"/talentos",className:"nav-link",children:[x.jsx(d5,{size:20}),x.jsx("span",{children:"Gestão de Trabalhadores"})]}),x.jsxs(ju,{to:"/frota",className:"nav-link",children:[x.jsx(OC,{size:20}),x.jsx("span",{children:"Minha Frota"})]}),x.jsxs(ju,{to:"/historico",className:"nav-link",children:[x.jsx(Hd,{size:20}),x.jsx("span",{children:"Histórico"})]})]}),x.jsxs("div",{className:"sidebar-footer",children:[x.jsx("div",{className:"user-info",children:x.jsx("span",{className:"user-email",children:t})}),x.jsxs("button",{onClick:te,className:"logout-button",children:[x.jsx(Z5,{size:20}),x.jsx("span",{children:"Sair"})]})]})]}),x.jsxs("main",{className:"content",children:[x.jsxs("header",{className:"content-header",children:[x.jsx("h2",{className:"page-title",children:OV(e.pathname)}),x.jsxs("button",{className:"new-os-button",onClick:C,children:[x.jsx(Ky,{size:20}),x.jsx("span",{children:"Nova Ordem de Serviço"})]})]}),x.jsx("div",{className:"page-content",children:x.jsx(Uk,{})})]}),x.jsx(ec,{isOpen:o,onClose:R,title:"Criar Nova Ordem de Serviço",children:x.jsxs("form",{onSubmit:j,className:"modal-form",children:[x.jsxs("div",{className:"form-section",children:[x.jsxs("h3",{className:"form-section-title",children:[x.jsx(E5,{size:20})," Cliente / Veículo"]}),x.jsxs("div",{className:"input-group full-width",children:[x.jsx("label",{htmlFor:"frotaId",children:"Selecione o Cliente / Veículo"}),x.jsxs("select",{id:"frotaId",name:"frotaId",value:f.frotaId,onChange:O,required:!0,children:[x.jsx("option",{value:"",disabled:!0,children:"-- Escolha um item da sua frota --"}),i.map(W=>x.jsxs("option",{value:W.id,children:[W.nome," (Placa: ",W.placa,")"]},W.id))]})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsxs("h3",{className:"form-section-title",children:[x.jsx(xC,{size:20})," Informações Gerais"]}),x.jsxs("div",{className:"input-group full-width",children:[x.jsx("label",{htmlFor:"descricaoServico",children:"Descrição do Serviço"}),x.jsx("textarea",{id:"descricaoServico",name:"descricaoServico",rows:"3",value:f.descricaoServico,onChange:O,placeholder:"Ex: Descarga de 200 caixas de arroz e armazenamento no estoque.",required:!0})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsxs("h3",{className:"form-section-title",children:[x.jsx($5,{size:20})," Endereço do Serviço"]}),x.jsx("div",{className:"form-row",children:x.jsxs("div",{className:"input-group cep-group",children:[x.jsx("label",{htmlFor:"cep",children:"CEP"}),x.jsx(Th,{mask:"00000-000",id:"cep",name:"cep",value:f.cep,onAccept:W=>O({target:{name:"cep",value:W}}),placeholder:"Digite o CEP"}),E&&x.jsx(Kh,{className:"spinner",size:18})]})}),x.jsx("div",{className:"form-row",children:x.jsxs("div",{className:"input-group",style:{gridColumn:"span 2"},children:[x.jsx("label",{htmlFor:"logradouro",children:"Rua / Logradouro"}),x.jsx("input",{type:"text",id:"logradouro",name:"logradouro",value:f.logradouro,onChange:O,required:!0})]})}),x.jsxs("div",{className:"form-row",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"numero",children:"Número"}),x.jsx("input",{type:"text",id:"numero",name:"numero",value:f.numero,onChange:O,required:!0})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"complemento",children:"Complemento"}),x.jsx("input",{type:"text",id:"complemento",name:"complemento",value:f.complemento,onChange:O})]})]}),x.jsxs("div",{className:"form-row",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"bairro",children:"Bairro"}),x.jsx("input",{type:"text",id:"bairro",name:"bairro",value:f.bairro,onChange:O,required:!0})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"cidade",children:"Cidade"}),x.jsx("input",{type:"text",id:"cidade",name:"cidade",value:f.cidade,onChange:O,required:!0})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"estado",children:"Estado"}),x.jsx("select",{id:"estado",name:"estado",value:f.estado,onChange:O,required:!0,children:PV.map(W=>x.jsx("option",{value:W,children:W},W))})]})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsxs("h3",{className:"form-section-title",children:[x.jsx(b5,{size:20})," Data e Hora"]}),x.jsxs("div",{className:"form-row",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"dataServico",children:"Data do Serviço"}),x.jsx("input",{type:"date",id:"dataServico",name:"dataServico",value:f.dataServico,onChange:O,required:!0})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"periodoInicio",children:"Período de Início"}),x.jsxs("select",{id:"periodoInicio",name:"periodoInicio",value:f.periodoInicio,onChange:O,required:!0,children:[x.jsx("option",{value:"",children:"Selecione..."}),x.jsx("option",{value:"Imediato",children:"Imediato"}),x.jsx("option",{value:"Manhã (08h-12h)",children:"Manhã (08h-12h)"}),x.jsx("option",{value:"Tarde (13h-18h)",children:"Tarde (13h-18h)"}),x.jsx("option",{value:"Noite (19h-22h)",children:"Noite (19h-22h)"})]})]})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsxs("h3",{className:"form-section-title",children:[x.jsx(N5,{size:20})," Detalhes Financeiros"]}),x.jsxs("div",{className:"form-row",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"valorOfertado",children:"Valor Ofertado (R$)"}),x.jsx("input",{type:"number",step:"0.01",id:"valorOfertado",name:"valorOfertado",value:f.valorOfertado,onChange:O,placeholder:"Ex: 150.00",required:!0})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"formaPagamento",children:"Forma de Pagamento"}),x.jsxs("select",{id:"formaPagamento",name:"formaPagamento",value:f.formaPagamento,onChange:O,required:!0,children:[x.jsx("option",{value:"PIX",children:"PIX"}),x.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),x.jsx("option",{value:"Faturado",children:"Faturado"})]})]})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsxs("h3",{className:"form-section-title",children:[x.jsx($y,{size:20})," Requisitos e Advertências"]}),x.jsxs("div",{className:"input-group full-width",children:[x.jsx("label",{htmlFor:"requisitos",children:"Requisitos (EPIs, etc.)"}),x.jsx("textarea",{id:"requisitos",name:"requisitos",rows:"2",value:f.requisitos,onChange:O,placeholder:"Ex: Obrigatório uso de capacete e botas."})]}),x.jsxs("div",{className:"input-group full-width",children:[x.jsx("label",{htmlFor:"advertencias",children:"Advertências Importantes"}),x.jsx("textarea",{id:"advertencias",name:"advertencias",rows:"2",value:f.advertencias,onChange:O,placeholder:"Ex: Proibido uso de celular na área de descarga."})]})]}),x.jsx("div",{className:"form-section",children:x.jsxs("div",{className:"checkbox-group",children:[x.jsx("input",{type:"checkbox",id:"necessitaAutorizacao",name:"necessitaAutorizacao",checked:f.necessitaAutorizacao,onChange:O}),x.jsx("label",{htmlFor:"necessitaAutorizacao",children:"Necessario Autorização de Entrada - favor levar documento pessoal"})]})}),x.jsxs("div",{className:"form-actions",children:[x.jsx("button",{type:"button",className:"cancel-button",onClick:R,disabled:m,children:"Cancelar"}),x.jsx("button",{type:"submit",className:"add-button",disabled:m,children:m?"Salvando...":"Criar Ordem de Serviço"})]})]})})]})}function DV(){const[n,e]=he.useState(""),[t,i]=he.useState(""),s=jv(),o=c=>{c.preventDefault(),tD(AC,n,t).then(f=>{console.log("Login com sucesso:",f.user.email),s("/dashboard")}).catch(f=>{const p=f.message;alert("Falha no login: "+p)})};return x.jsx("div",{className:"login-page-container",children:x.jsxs("div",{className:"login-box",children:[x.jsx("img",{src:"/images/logo.svg",alt:"Logo Chapa Amigo",className:"login-logo"}),x.jsx("h1",{className:"login-title",children:"Painel Chapa Amigo Empresas"}),x.jsx("p",{className:"login-subtitle",children:"Por favor, insira suas credenciais para continuar."}),x.jsxs("form",{className:"login-form",onSubmit:o,children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"email",children:"E-mail Corporativo"}),x.jsx("input",{type:"email",id:"email",value:n,onChange:c=>e(c.target.value),required:!0})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"password",children:"Senha"}),x.jsx("input",{type:"password",id:"password",value:t,onChange:c=>i(c.target.value),required:!0})]}),x.jsx("button",{type:"submit",className:"login-button",children:"Entrar"})]})]})})}function jC(n,e){const t=he.useRef(e);he.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const NV=1;function LV(n){return Object.freeze({__version:NV,map:n})}function VV(n,e){return Object.freeze({...n,...e})}const Xy=he.createContext(null);function zC(){const n=he.use(Xy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function UV(n){function e(t,i){const{instance:s,context:o}=n(t).current;he.useImperativeHandle(i,()=>s);const{children:c}=t;return c==null?null:mn.createElement(Xy,{value:o},c)}return he.forwardRef(e)}function BV(n){function e(t,i){const[s,o]=he.useState(!1),{instance:c}=n(t,o).current;he.useImperativeHandle(i,()=>c),he.useEffect(function(){s&&c.update()},[c,s,t.children]);const f=c._contentNode;return f?OA.createPortal(t.children,f):null}return he.forwardRef(e)}function FV(n){function e(t,i){const{instance:s}=n(t).current;return he.useImperativeHandle(i,()=>s),null}return he.forwardRef(e)}function HC(n,e){const t=he.useRef(void 0);he.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function Jy(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function jV(n,e){return function(i,s){const o=zC(),c=n(Jy(i,o),o);return jC(o.map,i.attribution),HC(c.current,i.eventHandlers),e(c.current,o,i,s),c}}var Ah={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var zV=Ah.exports,ST;function HV(){return ST||(ST=1,function(n,e){(function(t,i){i(e)})(zV,function(t){var i="1.9.4";function s(l){var h,v,T,k;for(v=1,T=arguments.length;v<T;v++){k=arguments[v];for(h in k)l[h]=k[h]}return l}var o=Object.create||function(){function l(){}return function(h){return l.prototype=h,new l}}();function c(l,h){var v=Array.prototype.slice;if(l.bind)return l.bind.apply(l,v.call(arguments,1));var T=v.call(arguments,2);return function(){return l.apply(h,T.length?T.concat(v.call(arguments)):arguments)}}var f=0;function p(l){return"_leaflet_id"in l||(l._leaflet_id=++f),l._leaflet_id}function m(l,h,v){var T,k,$,oe;return oe=function(){T=!1,k&&($.apply(v,k),k=!1)},$=function(){T?k=arguments:(l.apply(v,arguments),setTimeout(oe,h),T=!0)},$}function g(l,h,v){var T=h[1],k=h[0],$=T-k;return l===T&&v?l:((l-k)%$+$)%$+k}function E(){return!1}function w(l,h){if(h===!1)return l;var v=Math.pow(10,h===void 0?6:h);return Math.round(l*v)/v}function C(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function R(l){return C(l).split(/\s+/)}function O(l,h){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var v in h)l.options[v]=h[v];return l.options}function D(l,h,v){var T=[];for(var k in l)T.push(encodeURIComponent(v?k.toUpperCase():k)+"="+encodeURIComponent(l[k]));return(!h||h.indexOf("?")===-1?"?":"&")+T.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function te(l,h){return l.replace(j,function(v,T){var k=h[T];if(k===void 0)throw new Error("No value provided for variable "+v);return typeof k=="function"&&(k=k(h)),k})}var W=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function ee(l,h){for(var v=0;v<l.length;v++)if(l[v]===h)return v;return-1}var ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var Z=0;function A(l){var h=+new Date,v=Math.max(0,16-(h-Z));return Z=h+v,window.setTimeout(l,v)}var S=window.requestAnimationFrame||q("RequestAnimationFrame")||A,P=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function V(l,h,v){if(v&&S===A)l.call(h);else return S.call(window,c(l,h))}function H(l){l&&P.call(window,l)}var U={__proto__:null,extend:s,create:o,bind:c,get lastId(){return f},stamp:p,throttle:m,wrapNum:g,falseFn:E,formatNum:w,trim:C,splitWords:R,setOptions:O,getParamString:D,template:te,isArray:W,indexOf:ee,emptyImageUrl:ne,requestFn:S,cancelFn:P,requestAnimFrame:V,cancelAnimFrame:H};function ie(){}ie.extend=function(l){var h=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=h.__super__=this.prototype,T=o(v);T.constructor=h,h.prototype=T;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(h[k]=this[k]);return l.statics&&s(h,l.statics),l.includes&&(ce(l.includes),s.apply(null,[T].concat(l.includes))),s(T,l),delete T.statics,delete T.includes,T.options&&(T.options=v.options?o(v.options):{},s(T.options,l.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,oe=T._initHooks.length;$<oe;$++)T._initHooks[$].call(this)}},h},ie.include=function(l){var h=this.prototype.options;return s(this.prototype,l),l.options&&(this.prototype.options=h,this.mergeOptions(l.options)),this},ie.mergeOptions=function(l){return s(this.prototype.options,l),this},ie.addInitHook=function(l){var h=Array.prototype.slice.call(arguments,1),v=typeof l=="function"?l:function(){this[l].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function ce(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=W(l)?l:[l];for(var h=0;h<l.length;h++)l[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(l,h,v){if(typeof l=="object")for(var T in l)this._on(T,l[T],h);else{l=R(l);for(var k=0,$=l.length;k<$;k++)this._on(l[k],h,v)}return this},off:function(l,h,v){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var T in l)this._off(T,l[T],h);else{l=R(l);for(var k=arguments.length===1,$=0,oe=l.length;$<oe;$++)k?this._off(l[$]):this._off(l[$],h,v)}return this},_on:function(l,h,v,T){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(l,h,v)===!1){v===this&&(v=void 0);var k={fn:h,ctx:v};T&&(k.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(k)}},_off:function(l,h,v){var T,k,$;if(this._events&&(T=this._events[l],!!T)){if(arguments.length===1){if(this._firingCount)for(k=0,$=T.length;k<$;k++)T[k].fn=E;delete this._events[l];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var oe=this._listens(l,h,v);if(oe!==!1){var ve=T[oe];this._firingCount&&(ve.fn=E,this._events[l]=T=T.slice()),T.splice(oe,1)}}},fire:function(l,h,v){if(!this.listens(l,v))return this;var T=s({},h,{type:l,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var k=this._events[l];if(k){this._firingCount=this._firingCount+1||1;for(var $=0,oe=k.length;$<oe;$++){var ve=k[$],Se=ve.fn;ve.once&&this.off(l,Se,ve.ctx),Se.call(ve.ctx||this,T)}this._firingCount--}}return v&&this._propagateEvent(T),this},listens:function(l,h,v,T){typeof l!="string"&&console.warn('"string" type argument expected');var k=h;typeof h!="function"&&(T=!!h,k=void 0,v=void 0);var $=this._events&&this._events[l];if($&&$.length&&this._listens(l,k,v)!==!1)return!0;if(T){for(var oe in this._eventParents)if(this._eventParents[oe].listens(l,h,v,T))return!0}return!1},_listens:function(l,h,v){if(!this._events)return!1;var T=this._events[l]||[];if(!h)return!!T.length;v===this&&(v=void 0);for(var k=0,$=T.length;k<$;k++)if(T[k].fn===h&&T[k].ctx===v)return k;return!1},once:function(l,h,v){if(typeof l=="object")for(var T in l)this._on(T,l[T],h,!0);else{l=R(l);for(var k=0,$=l.length;k<$;k++)this._on(l[k],h,v,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[p(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[p(l)],this},_propagateEvent:function(l){for(var h in this._eventParents)this._eventParents[h].fire(l.type,s({layer:l.target,propagatedFrom:l.target},l),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var G=ie.extend(z);function ae(l,h,v){this.x=v?Math.round(l):l,this.y=v?Math.round(h):h}var Q=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(l){return this.clone()._add(M(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(M(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new ae(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new ae(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(l){l=M(l);var h=l.x-this.x,v=l.y-this.y;return Math.sqrt(h*h+v*v)},equals:function(l){return l=M(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=M(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function M(l,h,v){return l instanceof ae?l:W(l)?new ae(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new ae(l.x,l.y):new ae(l,h,v)}function K(l,h){if(l)for(var v=h?[l,h]:l,T=0,k=v.length;T<k;T++)this.extend(v[T])}K.prototype={extend:function(l){var h,v;if(!l)return this;if(l instanceof ae||typeof l[0]=="number"||"x"in l)h=v=M(l);else if(l=Y(l),h=l.min,v=l.max,!h||!v)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=v.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(l){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var h,v;return typeof l[0]=="number"||l instanceof ae?l=M(l):l=Y(l),l instanceof K?(h=l.min,v=l.max):h=v=l,h.x>=this.min.x&&v.x<=this.max.x&&h.y>=this.min.y&&v.y<=this.max.y},intersects:function(l){l=Y(l);var h=this.min,v=this.max,T=l.min,k=l.max,$=k.x>=h.x&&T.x<=v.x,oe=k.y>=h.y&&T.y<=v.y;return $&&oe},overlaps:function(l){l=Y(l);var h=this.min,v=this.max,T=l.min,k=l.max,$=k.x>h.x&&T.x<v.x,oe=k.y>h.y&&T.y<v.y;return $&&oe},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var h=this.min,v=this.max,T=Math.abs(h.x-v.x)*l,k=Math.abs(h.y-v.y)*l;return Y(M(h.x-T,h.y-k),M(v.x+T,v.y+k))},equals:function(l){return l?(l=Y(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function Y(l,h){return!l||l instanceof K?l:new K(l,h)}function B(l,h){if(l)for(var v=h?[l,h]:l,T=0,k=v.length;T<k;T++)this.extend(v[T])}B.prototype={extend:function(l){var h=this._southWest,v=this._northEast,T,k;if(l instanceof se)T=l,k=l;else if(l instanceof B){if(T=l._southWest,k=l._northEast,!T||!k)return this}else return l?this.extend(pe(l)||re(l)):this;return!h&&!v?(this._southWest=new se(T.lat,T.lng),this._northEast=new se(k.lat,k.lng)):(h.lat=Math.min(T.lat,h.lat),h.lng=Math.min(T.lng,h.lng),v.lat=Math.max(k.lat,v.lat),v.lng=Math.max(k.lng,v.lng)),this},pad:function(l){var h=this._southWest,v=this._northEast,T=Math.abs(h.lat-v.lat)*l,k=Math.abs(h.lng-v.lng)*l;return new B(new se(h.lat-T,h.lng-k),new se(v.lat+T,v.lng+k))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof se||"lat"in l?l=pe(l):l=re(l);var h=this._southWest,v=this._northEast,T,k;return l instanceof B?(T=l.getSouthWest(),k=l.getNorthEast()):T=k=l,T.lat>=h.lat&&k.lat<=v.lat&&T.lng>=h.lng&&k.lng<=v.lng},intersects:function(l){l=re(l);var h=this._southWest,v=this._northEast,T=l.getSouthWest(),k=l.getNorthEast(),$=k.lat>=h.lat&&T.lat<=v.lat,oe=k.lng>=h.lng&&T.lng<=v.lng;return $&&oe},overlaps:function(l){l=re(l);var h=this._southWest,v=this._northEast,T=l.getSouthWest(),k=l.getNorthEast(),$=k.lat>h.lat&&T.lat<v.lat,oe=k.lng>h.lng&&T.lng<v.lng;return $&&oe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,h){return l?(l=re(l),this._southWest.equals(l.getSouthWest(),h)&&this._northEast.equals(l.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(l,h){return l instanceof B?l:new B(l,h)}function se(l,h,v){if(isNaN(l)||isNaN(h))throw new Error("Invalid LatLng object: ("+l+", "+h+")");this.lat=+l,this.lng=+h,v!==void 0&&(this.alt=+v)}se.prototype={equals:function(l,h){if(!l)return!1;l=pe(l);var v=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return v<=(h===void 0?1e-9:h)},toString:function(l){return"LatLng("+w(this.lat,l)+", "+w(this.lng,l)+")"},distanceTo:function(l){return Ae.distance(this,pe(l))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(l){var h=180*l/40075017,v=h/Math.cos(Math.PI/180*this.lat);return re([this.lat-h,this.lng-v],[this.lat+h,this.lng+v])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function pe(l,h,v){return l instanceof se?l:W(l)&&typeof l[0]!="object"?l.length===3?new se(l[0],l[1],l[2]):l.length===2?new se(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new se(l.lat,"lng"in l?l.lng:l.lon,l.alt):h===void 0?null:new se(l,h,v)}var Me={latLngToPoint:function(l,h){var v=this.projection.project(l),T=this.scale(h);return this.transformation._transform(v,T)},pointToLatLng:function(l,h){var v=this.scale(h),T=this.transformation.untransform(l,v);return this.projection.unproject(T)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var h=this.projection.bounds,v=this.scale(l),T=this.transformation.transform(h.min,v),k=this.transformation.transform(h.max,v);return new K(T,k)},infinite:!1,wrapLatLng:function(l){var h=this.wrapLng?g(l.lng,this.wrapLng,!0):l.lng,v=this.wrapLat?g(l.lat,this.wrapLat,!0):l.lat,T=l.alt;return new se(v,h,T)},wrapLatLngBounds:function(l){var h=l.getCenter(),v=this.wrapLatLng(h),T=h.lat-v.lat,k=h.lng-v.lng;if(T===0&&k===0)return l;var $=l.getSouthWest(),oe=l.getNorthEast(),ve=new se($.lat-T,$.lng-k),Se=new se(oe.lat-T,oe.lng-k);return new B(ve,Se)}},Ae=s({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(l,h){var v=Math.PI/180,T=l.lat*v,k=h.lat*v,$=Math.sin((h.lat-l.lat)*v/2),oe=Math.sin((h.lng-l.lng)*v/2),ve=$*$+Math.cos(T)*Math.cos(k)*oe*oe,Se=2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve));return this.R*Se}}),Ne=6378137,je={R:Ne,MAX_LATITUDE:85.0511287798,project:function(l){var h=Math.PI/180,v=this.MAX_LATITUDE,T=Math.max(Math.min(v,l.lat),-v),k=Math.sin(T*h);return new ae(this.R*l.lng*h,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(l){var h=180/Math.PI;return new se((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*h,l.x*h/this.R)},bounds:function(){var l=Ne*Math.PI;return new K([-l,-l],[l,l])}()};function Ue(l,h,v,T){if(W(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=h,this._c=v,this._d=T}Ue.prototype={transform:function(l,h){return this._transform(l.clone(),h)},_transform:function(l,h){return h=h||1,l.x=h*(this._a*l.x+this._b),l.y=h*(this._c*l.y+this._d),l},untransform:function(l,h){return h=h||1,new ae((l.x/h-this._b)/this._a,(l.y/h-this._d)/this._c)}};function Ke(l,h,v,T){return new Ue(l,h,v,T)}var qe=s({},Ae,{code:"EPSG:3857",projection:je,transformation:function(){var l=.5/(Math.PI*je.R);return Ke(l,.5,-l,.5)}()}),de=s({},qe,{code:"EPSG:900913"});function Ie(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function xe(l,h){var v="",T,k,$,oe,ve,Se;for(T=0,$=l.length;T<$;T++){for(ve=l[T],k=0,oe=ve.length;k<oe;k++)Se=ve[k],v+=(k?"L":"M")+Se.x+" "+Se.y;v+=h?ke.svg?"z":"x":""}return v||"M0 0"}var ze=document.documentElement.style,He="ActiveXObject"in window,Qe=He&&!document.addEventListener,at="msLaunchUri"in navigator&&!("documentMode"in document),At=nt("webkit"),pt=nt("android"),Et=nt("android 2")||nt("android 3"),lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),en=pt&&nt("Google")&&lt<537&&!("AudioNode"in window),rt=!!window.opera,st=!at&&nt("chrome"),xt=nt("gecko")&&!At&&!rt&&!He,sn=!st&&nt("safari"),wn=nt("phantom"),an="OTransition"in ze,Qt=navigator.platform.indexOf("Win")===0,_n=He&&"transition"in ze,bn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Et,Ln="MozPerspective"in ze,rr=!window.L_DISABLE_3D&&(_n||bn||Ln)&&!an&&!wn,si=typeof orientation<"u"||nt("mobile"),gr=si&&At,_r=si&&bn,Hi=!window.PointerEvent&&window.MSPointerEvent,Pi=!!(window.PointerEvent||Hi),jn="ontouchstart"in window||!!window.TouchEvent,di=!window.L_NO_TOUCH&&(jn||Pi),Vn=si&&rt,Ei=si&&xt,sr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wi=function(){var l=!1;try{var h=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",E,h),window.removeEventListener("testPassiveEventSupport",E,h)}catch{}return l}(),ue=function(){return!!document.createElement("canvas").getContext}(),ge=!!(document.createElementNS&&Ie("svg").createSVGRect),Ee=!!ge&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Le=!ge&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var h=l.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Ge=navigator.platform.indexOf("Mac")===0,We=navigator.platform.indexOf("Linux")===0;function nt(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var ke={ie:He,ielt9:Qe,edge:at,webkit:At,android:pt,android23:Et,androidStock:en,opera:rt,chrome:st,gecko:xt,safari:sn,phantom:wn,opera12:an,win:Qt,ie3d:_n,webkit3d:bn,gecko3d:Ln,any3d:rr,mobile:si,mobileWebkit:gr,mobileWebkit3d:_r,msPointer:Hi,pointer:Pi,touch:di,touchNative:jn,mobileOpera:Vn,mobileGecko:Ei,retina:sr,passiveEvents:wi,canvas:ue,svg:ge,vml:Le,inlineSvg:Ee,mac:Ge,linux:We},et=ke.msPointer?"MSPointerDown":"pointerdown",Je=ke.msPointer?"MSPointerMove":"pointermove",mt=ke.msPointer?"MSPointerUp":"pointerup",ht=ke.msPointer?"MSPointerCancel":"pointercancel",_t={touchstart:et,touchmove:Je,touchend:mt,touchcancel:ht},Vt={touchstart:or,touchmove:ar,touchend:ar,touchcancel:ar},Ht={},tn=!1;function qt(l,h,v){return h==="touchstart"&&pi(),Vt[h]?(v=Vt[h].bind(this,v),l.addEventListener(_t[h],v,!1),v):(console.warn("wrong event specified:",h),E)}function Ut(l,h,v){if(!_t[h]){console.warn("wrong event specified:",h);return}l.removeEventListener(_t[h],v,!1)}function vr(l){Ht[l.pointerId]=l}function Wn(l){Ht[l.pointerId]&&(Ht[l.pointerId]=l)}function bi(l){delete Ht[l.pointerId]}function pi(){tn||(document.addEventListener(et,vr,!0),document.addEventListener(Je,Wn,!0),document.addEventListener(mt,bi,!0),document.addEventListener(ht,bi,!0),tn=!0)}function ar(l,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var v in Ht)h.touches.push(Ht[v]);h.changedTouches=[h],l(h)}}function or(l,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Tn(h),ar(l,h)}function Vs(l){var h={},v,T;for(T in l)v=l[T],h[T]=v&&v.bind?v.bind(l):v;return l=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Ti=200;function Mi(l,h){l.addEventListener("dblclick",h);var v=0,T;function k($){if($.detail!==1){T=$.detail;return}if(!($.pointerType==="mouse"||$.sourceCapabilities&&!$.sourceCapabilities.firesTouchEvents)){var oe=Ka($);if(!(oe.some(function(Se){return Se instanceof HTMLLabelElement&&Se.attributes.for})&&!oe.some(function(Se){return Se instanceof HTMLInputElement||Se instanceof HTMLSelectElement}))){var ve=Date.now();ve-v<=Ti?(T++,T===2&&h(Vs($))):T=1,v=ve}}}return l.addEventListener("click",k),{dblclick:h,simDblclick:k}}function St(l,h){l.removeEventListener("dblclick",h.dblclick),l.removeEventListener("click",h.simDblclick)}var Un=Mr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mi=Mr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Di=mi==="webkitTransition"||mi==="OTransition"?mi+"End":"transitionend";function Pr(l){return typeof l=="string"?document.getElementById(l):l}function cn(l,h){var v=l.style[h]||l.currentStyle&&l.currentStyle[h];if((!v||v==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(l,null);v=T?T[h]:null}return v==="auto"?null:v}function Ot(l,h,v){var T=document.createElement(l);return T.className=h||"",v&&v.appendChild(T),T}function hn(l){var h=l.parentNode;h&&h.removeChild(l)}function Gn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function ts(l){var h=l.parentNode;h&&h.lastChild!==l&&h.appendChild(l)}function Us(l){var h=l.parentNode;h&&h.firstChild!==l&&h.insertBefore(l,h.firstChild)}function Bs(l,h){if(l.classList!==void 0)return l.classList.contains(h);var v=Nn(l);return v.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(v)}function It(l,h){if(l.classList!==void 0)for(var v=R(h),T=0,k=v.length;T<k;T++)l.classList.add(v[T]);else if(!Bs(l,h)){var $=Nn(l);ul(l,($?$+" ":"")+h)}}function vn(l,h){l.classList!==void 0?l.classList.remove(h):ul(l,C((" "+Nn(l)+" ").replace(" "+h+" "," ")))}function ul(l,h){l.className.baseVal===void 0?l.className=h:l.className.baseVal=h}function Nn(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function kn(l,h){"opacity"in l.style?l.style.opacity=h:"filter"in l.style&&fa(l,h)}function fa(l,h){var v=!1,T="DXImageTransform.Microsoft.Alpha";try{v=l.filters.item(T)}catch{if(h===1)return}h=Math.round(h*100),v?(v.Enabled=h!==100,v.Opacity=h):l.style.filter+=" progid:"+T+"(opacity="+h+")"}function Mr(l){for(var h=document.documentElement.style,v=0;v<l.length;v++)if(l[v]in h)return l[v];return!1}function Ni(l,h,v){var T=h||new ae(0,0);l.style[Un]=(ke.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(v?" scale("+v+")":"")}function wt(l,h){l._leaflet_pos=h,ke.any3d?Ni(l,h):(l.style.left=h.x+"px",l.style.top=h.y+"px")}function lr(l){return l._leaflet_pos||new ae(0,0)}var Ai,Dr,Ga;if("onselectstart"in document)Ai=function(){gt(window,"selectstart",Tn)},Dr=function(){on(window,"selectstart",Tn)};else{var vs=Mr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ai=function(){if(vs){var l=document.documentElement.style;Ga=l[vs],l[vs]="none"}},Dr=function(){vs&&(document.documentElement.style[vs]=Ga,Ga=void 0)}}function da(){gt(window,"dragstart",Tn)}function cl(){on(window,"dragstart",Tn)}var Za,Fs;function Nr(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Li(),Za=l,Fs=l.style.outlineStyle,l.style.outlineStyle="none",gt(window,"keydown",Li))}function Li(){Za&&(Za.style.outlineStyle=Fs,Za=void 0,Fs=void 0,on(window,"keydown",Li))}function ns(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Lr(l){var h=l.getBoundingClientRect();return{x:h.width/l.offsetWidth||1,y:h.height/l.offsetHeight||1,boundingClientRect:h}}var hl={__proto__:null,TRANSFORM:Un,TRANSITION:mi,TRANSITION_END:Di,get:Pr,getStyle:cn,create:Ot,remove:hn,empty:Gn,toFront:ts,toBack:Us,hasClass:Bs,addClass:It,removeClass:vn,setClass:ul,getClass:Nn,setOpacity:kn,testProp:Mr,setTransform:Ni,setPosition:wt,getPosition:lr,get disableTextSelection(){return Ai},get enableTextSelection(){return Dr},disableImageDrag:da,enableImageDrag:cl,preventOutline:Nr,restoreOutline:Li,getSizedParentNode:ns,getScale:Lr};function gt(l,h,v,T){if(h&&typeof h=="object")for(var k in h)ys(l,k,h[k],v);else{h=R(h);for(var $=0,oe=h.length;$<oe;$++)ys(l,h[$],v,T)}return this}var ur="_leaflet_events";function on(l,h,v,T){if(arguments.length===1)yr(l),delete l[ur];else if(h&&typeof h=="object")for(var k in h)Er(l,k,h[k],v);else if(h=R(h),arguments.length===2)yr(l,function(ve){return ee(h,ve)!==-1});else for(var $=0,oe=h.length;$<oe;$++)Er(l,h[$],v,T);return this}function yr(l,h){for(var v in l[ur]){var T=v.split(/\d/)[0];(!h||h(T))&&Er(l,T,null,null,v)}}var qi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ys(l,h,v,T){var k=h+p(v)+(T?"_"+p(T):"");if(l[ur]&&l[ur][k])return this;var $=function(ve){return v.call(T||l,ve||window.event)},oe=$;!ke.touchNative&&ke.pointer&&h.indexOf("touch")===0?$=qt(l,h,$):ke.touch&&h==="dblclick"?$=Mi(l,$):"addEventListener"in l?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?l.addEventListener(qi[h]||h,$,ke.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?($=function(ve){ve=ve||window.event,ws(l,ve)&&oe(ve)},l.addEventListener(qi[h],$,!1)):l.addEventListener(h,oe,!1):l.attachEvent("on"+h,$),l[ur]=l[ur]||{},l[ur][k]=$}function Er(l,h,v,T,k){k=k||h+p(v)+(T?"_"+p(T):"");var $=l[ur]&&l[ur][k];if(!$)return this;!ke.touchNative&&ke.pointer&&h.indexOf("touch")===0?Ut(l,h,$):ke.touch&&h==="dblclick"?St(l,$):"removeEventListener"in l?l.removeEventListener(qi[h]||h,$,!1):l.detachEvent("on"+h,$),l[ur][k]=null}function Gi(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function Vr(l){return ys(l,"wheel",Gi),this}function Es(l){return gt(l,"mousedown touchstart dblclick contextmenu",Gi),l._leaflet_disable_click=!0,this}function Tn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function Si(l){return Tn(l),Gi(l),this}function Ka(l){if(l.composedPath)return l.composedPath();for(var h=[],v=l.target;v;)h.push(v),v=v.parentNode;return h}function Xn(l,h){if(!h)return new ae(l.clientX,l.clientY);var v=Lr(h),T=v.boundingClientRect;return new ae((l.clientX-T.left)/v.x-h.clientLeft,(l.clientY-T.top)/v.y-h.clientTop)}var fn=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function pa(l){return ke.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/fn:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function ws(l,h){var v=h.relatedTarget;if(!v)return!0;try{for(;v&&v!==l;)v=v.parentNode}catch{return!1}return v!==l}var ru={__proto__:null,on:gt,off:on,stopPropagation:Gi,disableScrollPropagation:Vr,disableClickPropagation:Es,preventDefault:Tn,stop:Si,getPropagationPath:Ka,getMousePosition:Xn,getWheelDelta:pa,isExternalTarget:ws,addListener:gt,removeListener:on},ma=G.extend({run:function(l,h,v,T){this.stop(),this._el=l,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=lr(l),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(l){var h=+new Date-this._startTime,v=this._duration*1e3;h<v?this._runFrame(this._easeOut(h/v),l):(this._runFrame(1),this._complete())},_runFrame:function(l,h){var v=this._startPos.add(this._offset.multiplyBy(l));h&&v._round(),wt(this._el,v),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Nt=G.extend({options:{crs:qe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,h){h=O(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(pe(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mi&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,Di,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,h,v){if(h=h===void 0?this._zoom:this._limitZoom(h),l=this._limitCenter(pe(l),h,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=s({animate:v.animate},v.zoom),v.pan=s({animate:v.animate,duration:v.duration},v.pan));var T=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,h,v.zoom):this._tryAnimatedPan(l,v.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(l,h,v.pan&&v.pan.noMoveStart),this},setZoom:function(l,h){return this._loaded?this.setView(this.getCenter(),l,{zoom:h}):(this._zoom=l,this)},zoomIn:function(l,h){return l=l||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,h)},zoomOut:function(l,h){return l=l||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,h)},setZoomAround:function(l,h,v){var T=this.getZoomScale(h),k=this.getSize().divideBy(2),$=l instanceof ae?l:this.latLngToContainerPoint(l),oe=$.subtract(k).multiplyBy(1-1/T),ve=this.containerPointToLatLng(k.add(oe));return this.setView(ve,h,{zoom:v})},_getBoundsCenterZoom:function(l,h){h=h||{},l=l.getBounds?l.getBounds():re(l);var v=M(h.paddingTopLeft||h.padding||[0,0]),T=M(h.paddingBottomRight||h.padding||[0,0]),k=this.getBoundsZoom(l,!1,v.add(T));if(k=typeof h.maxZoom=="number"?Math.min(h.maxZoom,k):k,k===1/0)return{center:l.getCenter(),zoom:k};var $=T.subtract(v).divideBy(2),oe=this.project(l.getSouthWest(),k),ve=this.project(l.getNorthEast(),k),Se=this.unproject(oe.add(ve).divideBy(2).add($),k);return{center:Se,zoom:k}},fitBounds:function(l,h){if(l=re(l),!l.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(l,h);return this.setView(v.center,v.zoom,h)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,h){return this.setView(l,this._zoom,{pan:h})},panBy:function(l,h){if(l=M(l).round(),h=h||{},!l.x&&!l.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){It(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,v,h.duration||.25,h.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,h,v){if(v=v||{},v.animate===!1||!ke.any3d)return this.setView(l,h,v);this._stop();var T=this.project(this.getCenter()),k=this.project(l),$=this.getSize(),oe=this._zoom;l=pe(l),h=h===void 0?oe:h;var ve=Math.max($.x,$.y),Se=ve*this.getZoomScale(oe,h),Fe=k.distanceTo(T)||1,Ye=1.42,tt=Ye*Ye;function ot(Bn){var us=Bn?-1:1,Rs=Bn?Se:ve,Zs=Se*Se-ve*ve+us*tt*tt*Fe*Fe,xs=2*Rs*tt*Fe,Cl=Zs/xs,_u=Math.sqrt(Cl*Cl+1)-Cl,Rl=_u<1e-9?-18:Math.log(_u);return Rl}function Rt(Bn){return(Math.exp(Bn)-Math.exp(-Bn))/2}function Pn(Bn){return(Math.exp(Bn)+Math.exp(-Bn))/2}function zn(Bn){return Rt(Bn)/Pn(Bn)}var Ri=ot(0);function wr(Bn){return ve*(Pn(Ri)/Pn(Ri+Ye*Bn))}function Tf(Bn){return ve*(Pn(Ri)*zn(Ri+Ye*Bn)-Rt(Ri))/tt}function Af(Bn){return 1-Math.pow(1-Bn,1.5)}var Sl=Date.now(),co=(ot(1)-Ri)/Ye,Sf=v.duration?1e3*v.duration:1e3*co*.8;function ho(){var Bn=(Date.now()-Sl)/Sf,us=Af(Bn)*co;Bn<=1?(this._flyToFrame=V(ho,this),this._move(this.unproject(T.add(k.subtract(T).multiplyBy(Tf(us)/Fe)),oe),this.getScaleZoom(ve/wr(us),oe),{flyTo:!0})):this._move(l,h)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),ho.call(this),this},flyToBounds:function(l,h){var v=this._getBoundsCenterZoom(l,h);return this.flyTo(v.center,v.zoom,h)},setMaxBounds:function(l){return l=re(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var h=this.options.minZoom;return this.options.minZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var h=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,h){this._enforcingBounds=!0;var v=this.getCenter(),T=this._limitCenter(v,this._zoom,re(l));return v.equals(T)||this.panTo(T,h),this._enforcingBounds=!1,this},panInside:function(l,h){h=h||{};var v=M(h.paddingTopLeft||h.padding||[0,0]),T=M(h.paddingBottomRight||h.padding||[0,0]),k=this.project(this.getCenter()),$=this.project(l),oe=this.getPixelBounds(),ve=Y([oe.min.add(v),oe.max.subtract(T)]),Se=ve.getSize();if(!ve.contains($)){this._enforcingBounds=!0;var Fe=$.subtract(ve.getCenter()),Ye=ve.extend($).getSize().subtract(Se);k.x+=Fe.x<0?-Ye.x:Ye.x,k.y+=Fe.y<0?-Ye.y:Ye.y,this.panTo(this.unproject(k),h),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=s({animate:!1,pan:!0},l===!0?{animate:!0}:l);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),T=h.divideBy(2).round(),k=v.divideBy(2).round(),$=T.subtract(k);return!$.x&&!$.y?this:(l.animate&&l.pan?this.panBy($):(l.pan&&this._rawPanBy($),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=s({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),v=c(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,v,l):navigator.geolocation.getCurrentPosition(h,v,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var h=l.code,v=l.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var h=l.coords.latitude,v=l.coords.longitude,T=new se(h,v),k=T.toBounds(l.coords.accuracy*2),$=this._locateOptions;if($.setView){var oe=this.getBoundsZoom(k);this.setView(T,$.maxZoom?Math.min(oe,$.maxZoom):oe)}var ve={latlng:T,bounds:k,timestamp:l.timestamp};for(var Se in l.coords)typeof l.coords[Se]=="number"&&(ve[Se]=l.coords[Se]);this.fire("locationfound",ve)}},addHandler:function(l,h){if(!h)return this;var v=this[l]=new h(this);return this._handlers.push(v),this.options[l]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),hn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)hn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,h){var v="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),T=Ot("div",v,h||this._mapPane);return l&&(this._panes[l]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),h=this.unproject(l.getBottomLeft()),v=this.unproject(l.getTopRight());return new B(h,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,h,v){l=re(l),v=M(v||[0,0]);var T=this.getZoom()||0,k=this.getMinZoom(),$=this.getMaxZoom(),oe=l.getNorthWest(),ve=l.getSouthEast(),Se=this.getSize().subtract(v),Fe=Y(this.project(ve,T),this.project(oe,T)).getSize(),Ye=ke.any3d?this.options.zoomSnap:1,tt=Se.x/Fe.x,ot=Se.y/Fe.y,Rt=h?Math.max(tt,ot):Math.min(tt,ot);return T=this.getScaleZoom(Rt,T),Ye&&(T=Math.round(T/(Ye/100))*(Ye/100),T=h?Math.ceil(T/Ye)*Ye:Math.floor(T/Ye)*Ye),Math.max(k,Math.min($,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,h){var v=this._getTopLeftPoint(l,h);return new K(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,h){var v=this.options.crs;return h=h===void 0?this._zoom:h,v.scale(l)/v.scale(h)},getScaleZoom:function(l,h){var v=this.options.crs;h=h===void 0?this._zoom:h;var T=v.zoom(l*v.scale(h));return isNaN(T)?1/0:T},project:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(pe(l),h)},unproject:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(M(l),h)},layerPointToLatLng:function(l){var h=M(l).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(l){var h=this.project(pe(l))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(pe(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(re(l))},distance:function(l,h){return this.options.crs.distance(pe(l),pe(h))},containerPointToLayerPoint:function(l){return M(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return M(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var h=this.containerPointToLayerPoint(M(l));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(l)))},mouseEventToContainerPoint:function(l){return Xn(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var h=this._container=Pr(l);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,It(l,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=cn(l,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),wt(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(It(l.markerPane,"leaflet-zoom-hide"),It(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,h,v){wt(this._mapPane,new ae(0,0));var T=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var k=this._zoom!==h;this._moveStart(k,v)._move(l,h)._moveEnd(k),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(l,h){return l&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(l,h,v,T){h===void 0&&(h=this._zoom);var k=this._zoom!==h;return this._zoom=h,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),T?v&&v.pinch&&this.fire("zoom",v):((k||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){wt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[p(this._container)]=this;var h=l?on:gt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,h){for(var v=[],T,k=h==="mouseout"||h==="mouseover",$=l.target||l.srcElement,oe=!1;$;){if(T=this._targets[p($)],T&&(h==="click"||h==="preclick")&&this._draggableMoved(T)){oe=!0;break}if(T&&T.listens(h,!0)&&(k&&!ws($,l)||(v.push(T),k))||$===this._container)break;$=$.parentNode}return!v.length&&!oe&&!k&&this.listens(h,!0)&&(v=[this]),v},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var h=l.target||l.srcElement;if(!(!this._loaded||h._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(h))){var v=l.type;v==="mousedown"&&Nr(h),this._fireDOMEvent(l,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,h,v){if(l.type==="click"){var T=s({},l);T.type="preclick",this._fireDOMEvent(T,T.type,v)}var k=this._findEventTargets(l,h);if(v){for(var $=[],oe=0;oe<v.length;oe++)v[oe].listens(h,!0)&&$.push(v[oe]);k=$.concat(k)}if(k.length){h==="contextmenu"&&Tn(l);var ve=k[0],Se={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Fe=ve.getLatLng&&(!ve._radius||ve._radius<=10);Se.containerPoint=Fe?this.latLngToContainerPoint(ve.getLatLng()):this.mouseEventToContainerPoint(l),Se.layerPoint=this.containerPointToLayerPoint(Se.containerPoint),Se.latlng=Fe?ve.getLatLng():this.layerPointToLatLng(Se.layerPoint)}for(oe=0;oe<k.length;oe++)if(k[oe].fire(h,Se,!0),Se.originalEvent._stopped||k[oe].options.bubblingMouseEvents===!1&&ee(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,h=this._handlers.length;l<h;l++)this._handlers[l].disable()},whenReady:function(l,h){return this._loaded?l.call(h||this,{target:this}):this.on("load",l,h),this},_getMapPanePos:function(){return lr(this._mapPane)||new ae(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,h){var v=l&&h!==void 0?this._getNewPixelOrigin(l,h):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,h){var v=this.getSize()._divideBy(2);return this.project(l,h)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,h,v){var T=this._getNewPixelOrigin(v,h);return this.project(l,h)._subtract(T)},_latLngBoundsToNewLayerBounds:function(l,h,v){var T=this._getNewPixelOrigin(v,h);return Y([this.project(l.getSouthWest(),h)._subtract(T),this.project(l.getNorthWest(),h)._subtract(T),this.project(l.getSouthEast(),h)._subtract(T),this.project(l.getNorthEast(),h)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,h,v){if(!v)return l;var T=this.project(l,h),k=this.getSize().divideBy(2),$=new K(T.subtract(k),T.add(k)),oe=this._getBoundsOffset($,v,h);return Math.abs(oe.x)<=1&&Math.abs(oe.y)<=1?l:this.unproject(T.add(oe),h)},_limitOffset:function(l,h){if(!h)return l;var v=this.getPixelBounds(),T=new K(v.min.add(l),v.max.add(l));return l.add(this._getBoundsOffset(T,h))},_getBoundsOffset:function(l,h,v){var T=Y(this.project(h.getNorthEast(),v),this.project(h.getSouthWest(),v)),k=T.min.subtract(l.min),$=T.max.subtract(l.max),oe=this._rebound(k.x,-$.x),ve=this._rebound(k.y,-$.y);return new ae(oe,ve)},_rebound:function(l,h){return l+h>0?Math.round(l-h)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(h))},_limitZoom:function(l){var h=this.getMinZoom(),v=this.getMaxZoom(),T=ke.any3d?this.options.zoomSnap:1;return T&&(l=Math.round(l/T)*T),Math.max(h,Math.min(v,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,h){var v=this._getCenterOffset(l)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,h),!0)},_createAnimProxy:function(){var l=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(h){var v=Un,T=this._proxy.style[v];Ni(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),T===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){hn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),h=this.getZoom();Ni(this._proxy,this.project(l,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,h,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(h),k=this._getCenterOffset(l)._divideBy(1-1/T);return v.animate!==!0&&!this.getSize().contains(k)?!1:(V(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(l,h,!0)},this),!0)},_animateZoom:function(l,h,v,T){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=h,It(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:h,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function is(l,h){return new Nt(l,h)}var gi=ie.extend({options:{position:"topright"},initialize:function(l){O(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var h=this._map;return h&&h.removeControl(this),this.options.position=l,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var h=this._container=this.onAdd(l),v=this.getPosition(),T=l._controlCorners[v];return It(h,"leaflet-control"),v.indexOf("bottom")!==-1?T.insertBefore(h,T.firstChild):T.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(hn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Ci=function(l){return new gi(l)};Nt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},h="leaflet-",v=this._controlContainer=Ot("div",h+"control-container",this._container);function T(k,$){var oe=h+k+" "+h+$;l[k+$]=Ot("div",oe,v)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)hn(this._controlCorners[l]);hn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fl=gi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,h,v,T){return v<T?-1:T<v?1:0}},initialize:function(l,h,v){O(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in l)this._addLayer(l[T],T);for(T in h)this._addLayer(h[T],T,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return gi.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,h){return this._addLayer(l,h),this._map?this._update():this},addOverlay:function(l,h){return this._addLayer(l,h,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(l));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){It(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(It(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):vn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",h=this._container=Ot("div",l),v=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Es(h),Vr(h);var T=this._section=Ot("section",l+"-list");v&&(this._map.on("click",this.collapse,this),gt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=Ot("a",l+"-toggle",h);k.href="#",k.title="Layers",k.setAttribute("role","button"),gt(k,{keydown:function($){$.keyCode===13&&this._expandSafely()},click:function($){Tn($),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Ot("div",l+"-base",T),this._separator=Ot("div",l+"-separator",T),this._overlaysList=Ot("div",l+"-overlays",T),h.appendChild(T)},_getLayer:function(l){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===l)return this._layers[h]},_addLayer:function(l,h,v){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:h,overlay:v}),this.options.sortLayers&&this._layers.sort(c(function(T,k){return this.options.sortFunction(T.layer,k.layer,T.name,k.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gn(this._baseLayersList),Gn(this._overlaysList),this._layerControlInputs=[];var l,h,v,T,k=0;for(v=0;v<this._layers.length;v++)T=this._layers[v],this._addItem(T),h=h||T.overlay,l=l||!T.overlay,k+=T.overlay?0:1;return this.options.hideSingleBase&&(l=l&&k>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=h&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var h=this._getLayer(p(l.target)),v=h.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;v&&this._map.fire(v,h)},_createRadioElement:function(l,h){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(h?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=v,T.firstChild},_addItem:function(l){var h=document.createElement("label"),v=this._map.hasLayer(l.layer),T;l.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=v):T=this._createRadioElement("leaflet-base-layers_"+p(this),v),this._layerControlInputs.push(T),T.layerId=p(l.layer),gt(T,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+l.name;var $=document.createElement("span");h.appendChild($),$.appendChild(T),$.appendChild(k);var oe=l.overlay?this._overlaysList:this._baseLayersList;return oe.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,h,v,T=[],k=[];this._handlingClick=!0;for(var $=l.length-1;$>=0;$--)h=l[$],v=this._getLayer(h.layerId).layer,h.checked?T.push(v):h.checked||k.push(v);for($=0;$<k.length;$++)this._map.hasLayer(k[$])&&this._map.removeLayer(k[$]);for($=0;$<T.length;$++)this._map.hasLayer(T[$])||this._map.addLayer(T[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,h,v,T=this._map.getZoom(),k=l.length-1;k>=0;k--)h=l[k],v=this._getLayer(h.layerId).layer,h.disabled=v.options.minZoom!==void 0&&T<v.options.minZoom||v.options.maxZoom!==void 0&&T>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,gt(l,"click",Tn),this.expand();var h=this;setTimeout(function(){on(l,"click",Tn),h._preventClick=!1})}}),yc=function(l,h,v){return new fl(l,h,v)},bs=gi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var h="leaflet-control-zoom",v=Ot("div",h+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,h+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,h+"-out",v,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,h,v,T,k){var $=Ot("a",v,T);return $.innerHTML=l,$.href="#",$.title=h,$.setAttribute("role","button"),$.setAttribute("aria-label",h),Es($),gt($,"click",Si),gt($,"click",k,this),gt($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var l=this._map,h="leaflet-disabled";vn(this._zoomInButton,h),vn(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(It(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(It(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Nt.mergeOptions({zoomControl:!0}),Nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bs,this.addControl(this.zoomControl))});var $a=function(l){return new bs(l)},Qa=gi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var h="leaflet-control-scale",v=Ot("div",h),T=this.options;return this._addScales(T,h+"-line",v),l.on(T.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),v},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,h,v){l.metric&&(this._mScale=Ot("div",h,v)),l.imperial&&(this._iScale=Ot("div",h,v))},_update:function(){var l=this._map,h=l.getSize().y/2,v=l.distance(l.containerPointToLatLng([0,h]),l.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(v)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var h=this._getRoundNum(l),v=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,v,h/l)},_updateImperial:function(l){var h=l*3.2808399,v,T,k;h>5280?(v=h/5280,T=this._getRoundNum(v),this._updateScale(this._iScale,T+" mi",T/v)):(k=this._getRoundNum(h),this._updateScale(this._iScale,k+" ft",k/h))},_updateScale:function(l,h,v){l.style.width=Math.round(this.options.maxWidth*v)+"px",l.innerHTML=h},_getRoundNum:function(l){var h=Math.pow(10,(Math.floor(l)+"").length-1),v=l/h;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,h*v}}),Ya=function(l){return new Qa(l)},su='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',js=gi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?su+" ":"")+"Leaflet</a>"},initialize:function(l){O(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),Es(this._container);for(var h in l._layers)l._layers[h].getAttribution&&this.addAttribution(l._layers[h].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var h in this._attributions)this._attributions[h]&&l.push(h);var v=[];this.options.prefix&&v.push(this.options.prefix),l.length&&v.push(l.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Nt.mergeOptions({attributionControl:!0}),Nt.addInitHook(function(){this.options.attributionControl&&new js().addTo(this)});var Ec=function(l){return new js(l)};gi.Layers=fl,gi.Zoom=bs,gi.Scale=Qa,gi.Attribution=js,Ci.layers=yc,Ci.zoom=$a,Ci.scale=Ya,Ci.attribution=Ec;var Zi=ie.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zi.addTo=function(l,h){return l.addHandler(h,this),this};var ga={Events:z},dl=ke.touch?"touchstart mousedown":"mousedown",Ur=G.extend({options:{clickTolerance:3},initialize:function(l,h,v,T){O(this,T),this._element=l,this._dragStartTarget=h||l,this._preventOutline=v},enable:function(){this._enabled||(gt(this._dragStartTarget,dl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ur._dragging===this&&this.finishDrag(!0),on(this._dragStartTarget,dl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Bs(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Ur._dragging===this&&this.finishDrag();return}if(!(Ur._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Ur._dragging=this,this._preventOutline&&Nr(this._element),da(),Ai(),!this._moving)){this.fire("down");var h=l.touches?l.touches[0]:l,v=ns(this._element);this._startPoint=new ae(h.clientX,h.clientY),this._startPos=lr(this._element),this._parentScale=Lr(v);var T=l.type==="mousedown";gt(document,T?"mousemove":"touchmove",this._onMove,this),gt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var h=l.touches&&l.touches.length===1?l.touches[0]:l,v=new ae(h.clientX,h.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,Tn(l),this._moved||(this.fire("dragstart"),this._moved=!0,It(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),It(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),wt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){vn(document.body,"leaflet-dragging"),this._lastTarget&&(vn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),on(document,"mousemove touchmove",this._onMove,this),on(document,"mouseup touchend touchcancel",this._onUp,this),cl(),Dr();var h=this._moved&&this._moving;this._moving=!1,Ur._dragging=!1,h&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function Wa(l,h,v){var T,k=[1,4,2,8],$,oe,ve,Se,Fe,Ye,tt,ot;for($=0,Ye=l.length;$<Ye;$++)l[$]._code=rs(l[$],h);for(ve=0;ve<4;ve++){for(tt=k[ve],T=[],$=0,Ye=l.length,oe=Ye-1;$<Ye;oe=$++)Se=l[$],Fe=l[oe],Se._code&tt?Fe._code&tt||(ot=ai(Fe,Se,tt,h,v),ot._code=rs(ot,h),T.push(ot)):(Fe._code&tt&&(ot=ai(Fe,Se,tt,h,v),ot._code=rs(ot,h),T.push(ot)),T.push(Se));l=T}return l}function zs(l,h){var v,T,k,$,oe,ve,Se,Fe,Ye;if(!l||l.length===0)throw new Error("latlngs not passed");_(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var tt=pe([0,0]),ot=re(l),Rt=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());Rt<1700&&(tt=Xa(l));var Pn=l.length,zn=[];for(v=0;v<Pn;v++){var Ri=pe(l[v]);zn.push(h.project(pe([Ri.lat-tt.lat,Ri.lng-tt.lng])))}for(ve=Se=Fe=0,v=0,T=Pn-1;v<Pn;T=v++)k=zn[v],$=zn[T],oe=k.y*$.x-$.y*k.x,Se+=(k.x+$.x)*oe,Fe+=(k.y+$.y)*oe,ve+=oe*3;ve===0?Ye=zn[0]:Ye=[Se/ve,Fe/ve];var wr=h.unproject(M(Ye));return pe([wr.lat+tt.lat,wr.lng+tt.lng])}function Xa(l){for(var h=0,v=0,T=0,k=0;k<l.length;k++){var $=pe(l[k]);h+=$.lat,v+=$.lng,T++}return pe([h/T,v/T])}var Ja={__proto__:null,clipPolygon:Wa,polygonCenter:zs,centroid:Xa};function pl(l,h){if(!h||!l.length)return l.slice();var v=h*h;return l=ou(l,v),l=au(l,v),l}function eo(l,h,v){return Math.sqrt(Ki(l,h,v,!0))}function Ts(l,h,v){return Ki(l,h,v)}function au(l,h){var v=l.length,T=typeof Uint8Array<"u"?Uint8Array:Array,k=new T(v);k[0]=k[v-1]=1,to(l,k,h,0,v-1);var $,oe=[];for($=0;$<v;$++)k[$]&&oe.push(l[$]);return oe}function to(l,h,v,T,k){var $=0,oe,ve,Se;for(ve=T+1;ve<=k-1;ve++)Se=Ki(l[ve],l[T],l[k],!0),Se>$&&(oe=ve,$=Se);$>v&&(h[oe]=1,to(l,h,v,T,oe),to(l,h,v,oe,k))}function ou(l,h){for(var v=[l[0]],T=1,k=0,$=l.length;T<$;T++)lu(l[T],l[k])>h&&(v.push(l[T]),k=T);return k<$-1&&v.push(l[$-1]),v}var ml;function _a(l,h,v,T,k){var $=T?ml:rs(l,v),oe=rs(h,v),ve,Se,Fe;for(ml=oe;;){if(!($|oe))return[l,h];if($&oe)return!1;ve=$||oe,Se=ai(l,h,ve,v,k),Fe=rs(Se,v),ve===$?(l=Se,$=Fe):(h=Se,oe=Fe)}}function ai(l,h,v,T,k){var $=h.x-l.x,oe=h.y-l.y,ve=T.min,Se=T.max,Fe,Ye;return v&8?(Fe=l.x+$*(Se.y-l.y)/oe,Ye=Se.y):v&4?(Fe=l.x+$*(ve.y-l.y)/oe,Ye=ve.y):v&2?(Fe=Se.x,Ye=l.y+oe*(Se.x-l.x)/$):v&1&&(Fe=ve.x,Ye=l.y+oe*(ve.x-l.x)/$),new ae(Fe,Ye,k)}function rs(l,h){var v=0;return l.x<h.min.x?v|=1:l.x>h.max.x&&(v|=2),l.y<h.min.y?v|=4:l.y>h.max.y&&(v|=8),v}function lu(l,h){var v=h.x-l.x,T=h.y-l.y;return v*v+T*T}function Ki(l,h,v,T){var k=h.x,$=h.y,oe=v.x-k,ve=v.y-$,Se=oe*oe+ve*ve,Fe;return Se>0&&(Fe=((l.x-k)*oe+(l.y-$)*ve)/Se,Fe>1?(k=v.x,$=v.y):Fe>0&&(k+=oe*Fe,$+=ve*Fe)),oe=l.x-k,ve=l.y-$,T?oe*oe+ve*ve:new ae(k,$)}function _(l){return!W(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function I(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_(l)}function N(l,h){var v,T,k,$,oe,ve,Se,Fe;if(!l||l.length===0)throw new Error("latlngs not passed");_(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ye=pe([0,0]),tt=re(l),ot=tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest());ot<1700&&(Ye=Xa(l));var Rt=l.length,Pn=[];for(v=0;v<Rt;v++){var zn=pe(l[v]);Pn.push(h.project(pe([zn.lat-Ye.lat,zn.lng-Ye.lng])))}for(v=0,T=0;v<Rt-1;v++)T+=Pn[v].distanceTo(Pn[v+1])/2;if(T===0)Fe=Pn[0];else for(v=0,$=0;v<Rt-1;v++)if(oe=Pn[v],ve=Pn[v+1],k=oe.distanceTo(ve),$+=k,$>T){Se=($-T)/k,Fe=[ve.x-Se*(ve.x-oe.x),ve.y-Se*(ve.y-oe.y)];break}var Ri=h.unproject(M(Fe));return pe([Ri.lat+Ye.lat,Ri.lng+Ye.lng])}var J={__proto__:null,simplify:pl,pointToSegmentDistance:eo,closestPointOnSegment:Ts,clipSegment:_a,_getEdgeIntersection:ai,_getBitCode:rs,_sqClosestPointOnSegment:Ki,isFlat:_,_flat:I,polylineCenter:N},_e={project:function(l){return new ae(l.lng,l.lat)},unproject:function(l){return new se(l.y,l.x)},bounds:new K([-180,-90],[180,90])},Ce={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var h=Math.PI/180,v=this.R,T=l.lat*h,k=this.R_MINOR/v,$=Math.sqrt(1-k*k),oe=$*Math.sin(T),ve=Math.tan(Math.PI/4-T/2)/Math.pow((1-oe)/(1+oe),$/2);return T=-v*Math.log(Math.max(ve,1e-10)),new ae(l.lng*h*v,T)},unproject:function(l){for(var h=180/Math.PI,v=this.R,T=this.R_MINOR/v,k=Math.sqrt(1-T*T),$=Math.exp(-l.y/v),oe=Math.PI/2-2*Math.atan($),ve=0,Se=.1,Fe;ve<15&&Math.abs(Se)>1e-7;ve++)Fe=k*Math.sin(oe),Fe=Math.pow((1-Fe)/(1+Fe),k/2),Se=Math.PI/2-2*Math.atan($*Fe)-oe,oe+=Se;return new se(oe*h,l.x*h/v)}},Ze={__proto__:null,LonLat:_e,Mercator:Ce,SphericalMercator:je},Yt=s({},Ae,{code:"EPSG:3395",projection:Ce,transformation:function(){var l=.5/(Math.PI*Ce.R);return Ke(l,.5,-l,.5)}()}),Zn=s({},Ae,{code:"EPSG:4326",projection:_e,transformation:Ke(1/180,1,-1/180,.5)}),Wt=s({},Me,{projection:_e,transformation:Ke(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,h){var v=h.lng-l.lng,T=h.lat-l.lat;return Math.sqrt(v*v+T*T)},infinite:!0});Me.Earth=Ae,Me.EPSG3395=Yt,Me.EPSG3857=qe,Me.EPSG900913=de,Me.EPSG4326=Zn,Me.Simple=Wt;var pn=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[p(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[p(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var h=l.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var v=this.getEvents();h.on(v,this),this.once("remove",function(){h.off(v,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Nt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(l);return this._layers[h]?this:(this._layers[h]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var h=p(l);return this._layers[h]?(this._loaded&&l.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return p(l)in this._layers},eachLayer:function(l,h){for(var v in this._layers)l.call(h,this._layers[v]);return this},_addLayers:function(l){l=l?W(l)?l:[l]:[];for(var h=0,v=l.length;h<v;h++)this.addLayer(l[h])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[p(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var h=p(l);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,h=-1/0,v=this._getZoomSpan();for(var T in this._zoomBoundLayers){var k=this._zoomBoundLayers[T].options;l=k.minZoom===void 0?l:Math.min(l,k.minZoom),h=k.maxZoom===void 0?h:Math.max(h,k.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=l===1/0?void 0:l,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var On=pn.extend({initialize:function(l,h){O(this,h),this._layers={};var v,T;if(l)for(v=0,T=l.length;v<T;v++)this.addLayer(l[v])},addLayer:function(l){var h=this.getLayerId(l);return this._layers[h]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var h=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(l){var h=typeof l=="number"?l:this.getLayerId(l);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var h=Array.prototype.slice.call(arguments,1),v,T;for(v in this._layers)T=this._layers[v],T[l]&&T[l].apply(T,h);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,h){for(var v in this._layers)l.call(h,this._layers[v]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return p(l)}}),As=function(l,h){return new On(l,h)},xn=On.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),On.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),On.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new B;for(var h in this._layers){var v=this._layers[h];l.extend(v.getBounds?v.getBounds():v.getLatLng())}return l}}),ss=function(l,h){return new xn(l,h)},as=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){O(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,h){var v=this._getIconUrl(l);if(!v){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(v,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(T,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(l,h){var v=this.options,T=v[h+"Size"];typeof T=="number"&&(T=[T,T]);var k=M(T),$=M(h==="shadow"&&v.shadowAnchor||v.iconAnchor||k&&k.divideBy(2,!0));l.className="leaflet-marker-"+h+" "+(v.className||""),$&&(l.style.marginLeft=-$.x+"px",l.style.marginTop=-$.y+"px"),k&&(l.style.width=k.x+"px",l.style.height=k.y+"px")},_createImg:function(l,h){return h=h||document.createElement("img"),h.src=l,h},_getIconUrl:function(l){return ke.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function uu(l){return new as(l)}var no=as.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof no.imagePath!="string"&&(no.imagePath=this._detectIconPath()),(this.options.imagePath||no.imagePath)+as.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var h=function(v,T,k){var $=T.exec(v);return $&&$[k]};return l=h(l,/^url\((['"])?(.+)\1\)$/,2),l&&h(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Ot("div","leaflet-default-icon-path",document.body),h=cn(l,"background-image")||cn(l,"backgroundImage");if(document.body.removeChild(l),h=this._stripUrl(h),h)return h;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),wc=Zi.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Ur(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),It(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var h=this._marker,v=h._map,T=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,$=lr(h._icon),oe=v.getPixelBounds(),ve=v.getPixelOrigin(),Se=Y(oe.min._subtract(ve).add(k),oe.max._subtract(ve).subtract(k));if(!Se.contains($)){var Fe=M((Math.max(Se.max.x,$.x)-Se.max.x)/(oe.max.x-Se.max.x)-(Math.min(Se.min.x,$.x)-Se.min.x)/(oe.min.x-Se.min.x),(Math.max(Se.max.y,$.y)-Se.max.y)/(oe.max.y-Se.max.y)-(Math.min(Se.min.y,$.y)-Se.min.y)/(oe.min.y-Se.min.y)).multiplyBy(T);v.panBy(Fe,{animate:!1}),this._draggable._newPos._add(Fe),this._draggable._startPos._add(Fe),wt(h._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=V(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,l)))},_onDrag:function(l){var h=this._marker,v=h._shadow,T=lr(h._icon),k=h._map.layerPointToLatLng(T);v&&wt(v,T),h._latlng=k,l.latlng=k,l.oldLatLng=this._oldLatLng,h.fire("move",l).fire("drag",l)},_onDragEnd:function(l){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),io=pn.extend({options:{icon:new no,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,h){O(this,h),this._latlng=pe(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var h=this._latlng;return this._latlng=pe(l),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=l.icon.createIcon(this._icon),T=!1;v!==this._icon&&(this._icon&&this._removeIcon(),T=!0,l.title&&(v.title=l.title),v.tagName==="IMG"&&(v.alt=l.alt||"")),It(v,h),l.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(v,"focus",this._panOnFocus,this);var k=l.icon.createShadow(this._shadow),$=!1;k!==this._shadow&&(this._removeShadow(),$=!0),k&&(It(k,h),k.alt=""),this._shadow=k,l.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&$&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&on(this._icon,"focus",this._panOnFocus,this),hn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&hn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&wt(this._icon,l),this._shadow&&wt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(It(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wc)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wc(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&kn(this._icon,l),this._shadow&&kn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var h=this.options.icon.options,v=h.iconSize?M(h.iconSize):M(0,0),T=h.iconAnchor?M(h.iconAnchor):M(0,0);l.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:v.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bc(l,h){return new io(l,h)}var Ss=pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return O(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gl=Ss.extend({options:{fill:!0,radius:10},initialize:function(l,h){O(this,h),this._latlng=pe(l),this._radius=this.options.radius},setLatLng:function(l){var h=this._latlng;return this._latlng=pe(l),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var h=l&&l.radius||this._radius;return Ss.prototype.setStyle.call(this,l),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,h=this._radiusY||l,v=this._clickTolerance(),T=[l+v,h+v];this._pxBounds=new K(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _f(l,h){return new gl(l,h)}var Tc=gl.extend({initialize:function(l,h,v){if(typeof h=="number"&&(h=s({},v,{radius:h})),O(this,h),this._latlng=pe(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Ss.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,v=this._map,T=v.options.crs;if(T.distance===Ae.distance){var k=Math.PI/180,$=this._mRadius/Ae.R/k,oe=v.project([h+$,l]),ve=v.project([h-$,l]),Se=oe.add(ve).divideBy(2),Fe=v.unproject(Se).lat,Ye=Math.acos((Math.cos($*k)-Math.sin(h*k)*Math.sin(Fe*k))/(Math.cos(h*k)*Math.cos(Fe*k)))/k;(isNaN(Ye)||Ye===0)&&(Ye=$/Math.cos(Math.PI/180*h)),this._point=Se.subtract(v.getPixelOrigin()),this._radius=isNaN(Ye)?0:Se.x-v.project([Fe,l-Ye]).x,this._radiusY=Se.y-oe.y}else{var tt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(tt).x}this._updateBounds()}});function Tm(l,h,v){return new Tc(l,h,v)}var Cs=Ss.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,h){O(this,h),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var h=1/0,v=null,T=Ki,k,$,oe=0,ve=this._parts.length;oe<ve;oe++)for(var Se=this._parts[oe],Fe=1,Ye=Se.length;Fe<Ye;Fe++){k=Se[Fe-1],$=Se[Fe];var tt=T(l,k,$,!0);tt<h&&(h=tt,v=T(l,k,$))}return v&&(v.distance=Math.sqrt(h)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return N(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,h){return h=h||this._defaultShape(),l=pe(l),h.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new B,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return _(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var h=[],v=_(l),T=0,k=l.length;T<k;T++)v?(h[T]=pe(l[T]),this._bounds.extend(h[T])):h[T]=this._convertLatLngs(l[T]);return h},_project:function(){var l=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),h=new ae(l,l);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(l,h,v){var T=l[0]instanceof se,k=l.length,$,oe;if(T){for(oe=[],$=0;$<k;$++)oe[$]=this._map.latLngToLayerPoint(l[$]),v.extend(oe[$]);h.push(oe)}else for($=0;$<k;$++)this._projectLatlngs(l[$],h,v)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,v,T,k,$,oe,ve,Se;for(v=0,k=0,$=this._rings.length;v<$;v++)for(Se=this._rings[v],T=0,oe=Se.length;T<oe-1;T++)ve=_a(Se[T],Se[T+1],l,T,!0),ve&&(h[k]=h[k]||[],h[k].push(ve[0]),(ve[1]!==Se[T+1]||T===oe-2)&&(h[k].push(ve[1]),k++))}},_simplifyPoints:function(){for(var l=this._parts,h=this.options.smoothFactor,v=0,T=l.length;v<T;v++)l[v]=pl(l[v],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,h){var v,T,k,$,oe,ve,Se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(v=0,$=this._parts.length;v<$;v++)for(ve=this._parts[v],T=0,oe=ve.length,k=oe-1;T<oe;k=T++)if(!(!h&&T===0)&&eo(l,ve[k],ve[T])<=Se)return!0;return!1}});function Am(l,h){return new Cs(l,h)}Cs._flat=I;var ro=Cs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var h=Cs.prototype._convertLatLngs.call(this,l),v=h.length;return v>=2&&h[0]instanceof se&&h[0].equals(h[v-1])&&h.pop(),h},_setLatLngs:function(l){Cs.prototype._setLatLngs.call(this,l),_(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,h=this.options.weight,v=new ae(h,h);if(l=new K(l.min.subtract(v),l.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,k=this._rings.length,$;T<k;T++)$=Wa(this._rings[T],l,!0),$.length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var h=!1,v,T,k,$,oe,ve,Se,Fe;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for($=0,Se=this._parts.length;$<Se;$++)for(v=this._parts[$],oe=0,Fe=v.length,ve=Fe-1;oe<Fe;ve=oe++)T=v[oe],k=v[ve],T.y>l.y!=k.y>l.y&&l.x<(k.x-T.x)*(l.y-T.y)/(k.y-T.y)+T.x&&(h=!h);return h||Cs.prototype._containsPoint.call(this,l,!0)}});function cr(l,h){return new ro(l,h)}var hr=xn.extend({initialize:function(l,h){O(this,h),this._layers={},l&&this.addData(l)},addData:function(l){var h=W(l)?l:l.features,v,T,k;if(h){for(v=0,T=h.length;v<T;v++)k=h[v],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var $=this.options;if($.filter&&!$.filter(l))return this;var oe=_l(l,$);return oe?(oe.feature=so(l),oe.defaultOptions=oe.options,this.resetStyle(oe),$.onEachFeature&&$.onEachFeature(l,oe),this.addLayer(oe)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=s({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(h){this._setLayerStyle(h,l)},this)},_setLayerStyle:function(l,h){l.setStyle&&(typeof h=="function"&&(h=h(l.feature)),l.setStyle(h))}});function _l(l,h){var v=l.type==="Feature"?l.geometry:l,T=v?v.coordinates:null,k=[],$=h&&h.pointToLayer,oe=h&&h.coordsToLatLng||cu,ve,Se,Fe,Ye;if(!T&&!v)return null;switch(v.type){case"Point":return ve=oe(T),Ac($,l,ve,h);case"MultiPoint":for(Fe=0,Ye=T.length;Fe<Ye;Fe++)ve=oe(T[Fe]),k.push(Ac($,l,ve,h));return new xn(k);case"LineString":case"MultiLineString":return Se=vl(T,v.type==="LineString"?0:1,oe),new Cs(Se,h);case"Polygon":case"MultiPolygon":return Se=vl(T,v.type==="Polygon"?1:2,oe),new ro(Se,h);case"GeometryCollection":for(Fe=0,Ye=v.geometries.length;Fe<Ye;Fe++){var tt=_l({geometry:v.geometries[Fe],type:"Feature",properties:l.properties},h);tt&&k.push(tt)}return new xn(k);case"FeatureCollection":for(Fe=0,Ye=v.features.length;Fe<Ye;Fe++){var ot=_l(v.features[Fe],h);ot&&k.push(ot)}return new xn(k);default:throw new Error("Invalid GeoJSON object.")}}function Ac(l,h,v,T){return l?l(h,v):new io(v,T&&T.markersInheritOptions&&T)}function cu(l){return new se(l[1],l[0],l[2])}function vl(l,h,v){for(var T=[],k=0,$=l.length,oe;k<$;k++)oe=h?vl(l[k],h-1,v):(v||cu)(l[k]),T.push(oe);return T}function yl(l,h){return l=pe(l),l.alt!==void 0?[w(l.lng,h),w(l.lat,h),w(l.alt,h)]:[w(l.lng,h),w(l.lat,h)]}function hu(l,h,v,T){for(var k=[],$=0,oe=l.length;$<oe;$++)k.push(h?hu(l[$],_(l[$])?0:h-1,v,T):yl(l[$],T));return!h&&v&&k.length>0&&k.push(k[0].slice()),k}function Br(l,h){return l.feature?s({},l.feature,{geometry:h}):so(h)}function so(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var va={toGeoJSON:function(l){return Br(this,{type:"Point",coordinates:yl(this.getLatLng(),l)})}};io.include(va),Tc.include(va),gl.include(va),Cs.include({toGeoJSON:function(l){var h=!_(this._latlngs),v=hu(this._latlngs,h?1:0,!1,l);return Br(this,{type:(h?"Multi":"")+"LineString",coordinates:v})}}),ro.include({toGeoJSON:function(l){var h=!_(this._latlngs),v=h&&!_(this._latlngs[0]),T=hu(this._latlngs,v?2:h?1:0,!0,l);return h||(T=[T]),Br(this,{type:(v?"Multi":"")+"Polygon",coordinates:T})}}),On.include({toMultiPoint:function(l){var h=[];return this.eachLayer(function(v){h.push(v.toGeoJSON(l).geometry.coordinates)}),Br(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(l){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(l);var v=h==="GeometryCollection",T=[];return this.eachLayer(function(k){if(k.toGeoJSON){var $=k.toGeoJSON(l);if(v)T.push($.geometry);else{var oe=so($);oe.type==="FeatureCollection"?T.push.apply(T,oe.features):T.push(oe)}}}),v?Br(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function fu(l,h){return new hr(l,h)}var vf=fu,os=pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,h,v){this._url=l,this._bounds=re(h),O(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(It(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){hn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&ts(this._image),this},bringToBack:function(){return this._map&&Us(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=re(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",h=this._image=l?this._url:Ot("img");if(It(h,"leaflet-image-layer"),this._zoomAnimated&&It(h,"leaflet-zoom-animated"),this.options.className&&It(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(l){var h=this._map.getZoomScale(l.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Ni(this._image,v,h)},_reset:function(){var l=this._image,h=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=h.getSize();wt(l,h.min),l.style.width=v.x+"px",l.style.height=v.y+"px"},_updateOpacity:function(){kn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),ao=function(l,h,v){return new os(l,h,v)},du=os.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",h=this._image=l?this._url:Ot("video");if(It(h,"leaflet-image-layer"),this._zoomAnimated&&It(h,"leaflet-zoom-animated"),this.options.className&&It(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onloadeddata=c(this.fire,this,"load"),l){for(var v=h.getElementsByTagName("source"),T=[],k=0;k<v.length;k++)T.push(v[k].src);this._url=v.length>0?T:[h.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var oe=Ot("source");oe.src=this._url[$],h.appendChild(oe)}}});function yf(l,h,v){return new du(l,h,v)}var Hs=os.extend({_initImage:function(){var l=this._image=this._url;It(l,"leaflet-image-layer"),this._zoomAnimated&&It(l,"leaflet-zoom-animated"),this.options.className&&It(l,this.options.className),l.onselectstart=E,l.onmousemove=E}});function Ef(l,h,v){return new Hs(l,h,v)}var Fr=pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,h){l&&(l instanceof se||W(l))?(this._latlng=pe(l),O(this,h)):(O(this,l),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&kn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&kn(this._container,1),this.bringToFront(),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(kn(this._container,0),this._removeTimeout=setTimeout(c(hn,void 0,this._container),200)):hn(this._container),this.options.interactive&&(vn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=pe(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ts(this._container),this},bringToBack:function(){return this._map&&Us(this._container),this},_prepareOpen:function(l){var h=this._source;if(!h._map)return!1;if(h instanceof xn){h=null;var v=this._source._layers;for(var T in v)if(v[T]._map){h=v[T];break}if(!h)return!1;this._source=h}if(!l)if(h.getCenter)l=h.getCenter();else if(h.getLatLng)l=h.getLatLng();else if(h.getBounds)l=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")l.innerHTML=h;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),h=M(this.options.offset),v=this._getAnchor();this._zoomAnimated?wt(this._container,l.add(v)):h=h.add(l).add(v);var T=this._containerBottom=-h.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=T+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});Nt.include({_initOverlay:function(l,h,v,T){var k=h;return k instanceof l||(k=new l(T).setContent(h)),v&&k.setLatLng(v),k}}),pn.include({_initOverlay:function(l,h,v,T){var k=v;return k instanceof l?(O(k,T),k._source=this):(k=h&&!T?h:new l(T,this),k.setContent(v)),k}});var El=Fr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Fr.prototype.openOn.call(this,l)},onAdd:function(l){Fr.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ss||this._source.on("preclick",Gi))},onRemove:function(l){Fr.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ss||this._source.off("preclick",Gi))},getEvents:function(){var l=Fr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",h=this._container=Ot("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Ot("div",l+"-content-wrapper",h);if(this._contentNode=Ot("div",l+"-content",v),Es(h),Vr(this._contentNode),gt(h,"contextmenu",Gi),this._tipContainer=Ot("div",l+"-tip-container",h),this._tip=Ot("div",l+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Ot("a",l+"-close-button",h);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',gt(T,"click",function(k){Tn(k),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var v=l.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),h.width=v+1+"px",h.whiteSpace="",h.height="";var T=l.offsetHeight,k=this.options.maxHeight,$="leaflet-popup-scrolled";k&&T>k?(h.height=k+"px",It(l,$)):vn(l,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),v=this._getAnchor();wt(this._container,h.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,h=parseInt(cn(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+h,T=this._containerWidth,k=new ae(this._containerLeft,-v-this._containerBottom);k._add(lr(this._container));var $=l.layerPointToContainerPoint(k),oe=M(this.options.autoPanPadding),ve=M(this.options.autoPanPaddingTopLeft||oe),Se=M(this.options.autoPanPaddingBottomRight||oe),Fe=l.getSize(),Ye=0,tt=0;$.x+T+Se.x>Fe.x&&(Ye=$.x+T-Fe.x+Se.x),$.x-Ye-ve.x<0&&(Ye=$.x-ve.x),$.y+v+Se.y>Fe.y&&(tt=$.y+v-Fe.y+Se.y),$.y-tt-ve.y<0&&(tt=$.y-ve.y),(Ye||tt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Ye,tt]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Sm=function(l,h){return new El(l,h)};Nt.mergeOptions({closePopupOnClick:!0}),Nt.include({openPopup:function(l,h,v){return this._initOverlay(El,l,h,v).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),pn.include({bindPopup:function(l,h){return this._popup=this._initOverlay(El,this._popup,l,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof xn||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){Si(l);var h=l.layer||l.target;if(this._popup._source===h&&!(h instanceof Ss)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=h,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var pu=Fr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Fr.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Fr.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Fr.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",h=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var h,v,T=this._map,k=this._container,$=T.latLngToContainerPoint(T.getCenter()),oe=T.layerPointToContainerPoint(l),ve=this.options.direction,Se=k.offsetWidth,Fe=k.offsetHeight,Ye=M(this.options.offset),tt=this._getAnchor();ve==="top"?(h=Se/2,v=Fe):ve==="bottom"?(h=Se/2,v=0):ve==="center"?(h=Se/2,v=Fe/2):ve==="right"?(h=0,v=Fe/2):ve==="left"?(h=Se,v=Fe/2):oe.x<$.x?(ve="right",h=0,v=Fe/2):(ve="left",h=Se+(Ye.x+tt.x)*2,v=Fe/2),l=l.subtract(M(h,v,!0)).add(Ye).add(tt),vn(k,"leaflet-tooltip-right"),vn(k,"leaflet-tooltip-left"),vn(k,"leaflet-tooltip-top"),vn(k,"leaflet-tooltip-bottom"),It(k,"leaflet-tooltip-"+ve),wt(k,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&kn(this._container,l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(h)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cm=function(l,h){return new pu(l,h)};Nt.include({openTooltip:function(l,h,v){return this._initOverlay(pu,l,h,v).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),pn.include({bindTooltip:function(l,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pu,this._tooltip,l,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var h=l?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[h](v),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof xn||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&(gt(h,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),gt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var h=l.latlng,v,T;this._tooltip.options.sticky&&l.originalEvent&&(v=this._map.mouseEventToContainerPoint(l.originalEvent),T=this._map.containerPointToLayerPoint(v),h=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(h)}});var Sc=as.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var h=l&&l.tagName==="DIV"?l:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Gn(h),h.appendChild(v.html)):h.innerHTML=v.html!==!1?v.html:"",v.bgPos){var T=M(v.bgPos);h.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function wf(l){return new Sc(l)}as.Default=no;var ya=pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){O(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),hn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ts(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Us(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof ae?l:new ae(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var h=this.getPane().children,v=-l(-1/0,1/0),T=0,k=h.length,$;T<k;T++)$=h[T].style.zIndex,h[T]!==this._container&&$&&(v=l(v,+$));isFinite(v)&&(this.options.zIndex=v+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){kn(this._container,this.options.opacity);var l=+new Date,h=!1,v=!1;for(var T in this._tiles){var k=this._tiles[T];if(!(!k.current||!k.loaded)){var $=Math.min(1,(l-k.loaded)/200);kn(k.el,$),$<1?h=!0:(k.active?v=!0:this._onOpaqueTile(k),k.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),h&&(H(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,h=this.options.maxZoom;if(l!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===l?(this._levels[v].el.style.zIndex=h-Math.abs(l-v),this._onUpdateLevel(v)):(hn(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var T=this._levels[l],k=this._map;return T||(T=this._levels[l]={},T.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=h,T.origin=k.project(k.unproject(k.getPixelOrigin()),l).round(),T.zoom=l,this._setZoomTransform(T,k.getCenter(),k.getZoom()),E(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var l,h,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)h=this._tiles[l],h.retain=h.current;for(l in this._tiles)if(h=this._tiles[l],h.current&&!h.active){var T=h.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var h in this._tiles)this._tiles[h].coords.z===l&&this._removeTile(h)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)hn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,h,v,T){var k=Math.floor(l/2),$=Math.floor(h/2),oe=v-1,ve=new ae(+k,+$);ve.z=+oe;var Se=this._tileCoordsToKey(ve),Fe=this._tiles[Se];return Fe&&Fe.active?(Fe.retain=!0,!0):(Fe&&Fe.loaded&&(Fe.retain=!0),oe>T?this._retainParent(k,$,oe,T):!1)},_retainChildren:function(l,h,v,T){for(var k=2*l;k<2*l+2;k++)for(var $=2*h;$<2*h+2;$++){var oe=new ae(k,$);oe.z=v+1;var ve=this._tileCoordsToKey(oe),Se=this._tiles[ve];if(Se&&Se.active){Se.retain=!0;continue}else Se&&Se.loaded&&(Se.retain=!0);v+1<T&&this._retainChildren(k,$,v+1,T)}},_resetView:function(l){var h=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var h=this.options;return h.minNativeZoom!==void 0&&l<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<l?h.maxNativeZoom:l},_setView:function(l,h,v,T){var k=Math.round(h);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var $=this.options.updateWhenZooming&&k!==this._tileZoom;(!T||$)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(l),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(l,h)},_setZoomTransforms:function(l,h){for(var v in this._levels)this._setZoomTransform(this._levels[v],l,h)},_setZoomTransform:function(l,h,v){var T=this._map.getZoomScale(v,l.zoom),k=l.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(h,v)).round();ke.any3d?Ni(l.el,k,T):wt(l.el,k)},_resetGrid:function(){var l=this._map,h=l.options.crs,v=this._tileSize=this.getTileSize(),T=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,h.wrapLng[0]],T).x/v.x),Math.ceil(l.project([0,h.wrapLng[1]],T).x/v.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([h.wrapLat[0],0],T).y/v.x),Math.ceil(l.project([h.wrapLat[1],0],T).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var h=this._map,v=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),T=h.getZoomScale(v,this._tileZoom),k=h.project(l,this._tileZoom).floor(),$=h.getSize().divideBy(T*2);return new K(k.subtract($),k.add($))},_update:function(l){var h=this._map;if(h){var v=this._clampZoom(h.getZoom());if(l===void 0&&(l=h.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(l),k=this._pxBoundsToTileRange(T),$=k.getCenter(),oe=[],ve=this.options.keepBuffer,Se=new K(k.getBottomLeft().subtract([ve,-ve]),k.getTopRight().add([ve,-ve]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Fe in this._tiles){var Ye=this._tiles[Fe].coords;(Ye.z!==this._tileZoom||!Se.contains(new ae(Ye.x,Ye.y)))&&(this._tiles[Fe].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(l,v);return}for(var tt=k.min.y;tt<=k.max.y;tt++)for(var ot=k.min.x;ot<=k.max.x;ot++){var Rt=new ae(ot,tt);if(Rt.z=this._tileZoom,!!this._isValidTile(Rt)){var Pn=this._tiles[this._tileCoordsToKey(Rt)];Pn?Pn.current=!0:oe.push(Rt)}}if(oe.sort(function(Ri,wr){return Ri.distanceTo($)-wr.distanceTo($)}),oe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zn=document.createDocumentFragment();for(ot=0;ot<oe.length;ot++)this._addTile(oe[ot],zn);this._level.el.appendChild(zn)}}}},_isValidTile:function(l){var h=this._map.options.crs;if(!h.infinite){var v=this._globalTileRange;if(!h.wrapLng&&(l.x<v.min.x||l.x>v.max.x)||!h.wrapLat&&(l.y<v.min.y||l.y>v.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(l);return re(this.options.bounds).overlaps(T)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var h=this._map,v=this.getTileSize(),T=l.scaleBy(v),k=T.add(v),$=h.unproject(T,l.z),oe=h.unproject(k,l.z);return[$,oe]},_tileCoordsToBounds:function(l){var h=this._tileCoordsToNwSe(l),v=new B(h[0],h[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var h=l.split(":"),v=new ae(+h[0],+h[1]);return v.z=+h[2],v},_removeTile:function(l){var h=this._tiles[l];h&&(hn(h.el),delete this._tiles[l],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){It(l,"leaflet-tile");var h=this.getTileSize();l.style.width=h.x+"px",l.style.height=h.y+"px",l.onselectstart=E,l.onmousemove=E,ke.ielt9&&this.options.opacity<1&&kn(l,this.options.opacity)},_addTile:function(l,h){var v=this._getTilePos(l),T=this._tileCoordsToKey(l),k=this.createTile(this._wrapCoords(l),c(this._tileReady,this,l));this._initTile(k),this.createTile.length<2&&V(c(this._tileReady,this,l,null,k)),wt(k,v),this._tiles[T]={el:k,coords:l,current:!0},h.appendChild(k),this.fire("tileloadstart",{tile:k,coords:l})},_tileReady:function(l,h,v){h&&this.fire("tileerror",{error:h,tile:v,coords:l});var T=this._tileCoordsToKey(l);v=this._tiles[T],v&&(v.loaded=+new Date,this._map._fadeAnimated?(kn(v.el,0),H(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),h||(It(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var h=new ae(this._wrapX?g(l.x,this._wrapX):l.x,this._wrapY?g(l.y,this._wrapY):l.y);return h.z=l.z,h},_pxBoundsToTileRange:function(l){var h=this.getTileSize();return new K(l.min.unscaleBy(h).floor(),l.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function jr(l){return new ya(l)}var Ea=ya.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,h){this._url=l,h=O(this,h),h.detectRetina&&ke.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,h){return this._url===l&&h===void 0&&(h=!0),this._url=l,h||this.redraw(),this},createTile:function(l,h){var v=document.createElement("img");return gt(v,"load",c(this._tileOnLoad,this,h,v)),gt(v,"error",c(this._tileOnError,this,h,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(l),v},getTileUrl:function(l){var h={r:ke.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-l.y;this.options.tms&&(h.y=v),h["-y"]=v}return te(this._url,s(h,this.options))},_tileOnLoad:function(l,h){ke.ielt9?setTimeout(c(l,this,null,h),0):l(null,h)},_tileOnError:function(l,h,v){var T=this.options.errorTileUrl;T&&h.getAttribute("src")!==T&&(h.src=T),l(v,h)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,h=this.options.maxZoom,v=this.options.zoomReverse,T=this.options.zoomOffset;return v&&(l=h-l),l+T},_getSubdomain:function(l){var h=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var l,h;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(h=this._tiles[l].el,h.onload=E,h.onerror=E,!h.complete)){h.src=ne;var v=this._tiles[l].coords;hn(h),delete this._tiles[l],this.fire("tileabort",{tile:h,coords:v})}},_removeTile:function(l){var h=this._tiles[l];if(h)return h.el.setAttribute("src",ne),ya.prototype._removeTile.call(this,l)},_tileReady:function(l,h,v){if(!(!this._map||v&&v.getAttribute("src")===ne))return ya.prototype._tileReady.call(this,l,h,v)}});function fr(l,h){return new Ea(l,h)}var dr=Ea.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,h){this._url=l;var v=s({},this.defaultWmsParams);for(var T in h)T in this.options||(v[T]=h[T]);h=O(this,h);var k=h.detectRetina&&ke.retina?2:1,$=this.getTileSize();v.width=$.x*k,v.height=$.y*k,this.wmsParams=v},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Ea.prototype.onAdd.call(this,l)},getTileUrl:function(l){var h=this._tileCoordsToNwSe(l),v=this._crs,T=Y(v.project(h[0]),v.project(h[1])),k=T.min,$=T.max,oe=(this._wmsVersion>=1.3&&this._crs===Zn?[k.y,k.x,$.y,$.x]:[k.x,k.y,$.x,$.y]).join(","),ve=Ea.prototype.getTileUrl.call(this,l);return ve+D(this.wmsParams,ve,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+oe},setParams:function(l,h){return s(this.wmsParams,l),h||this.redraw(),this}});function oo(l,h){return new dr(l,h)}Ea.WMS=dr,fr.wms=oo;var zr=pn.extend({options:{padding:.1},initialize:function(l){O(this,l),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),It(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,h){var v=this._map.getZoomScale(h,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,h),$=T.multiplyBy(-v).add(k).subtract(this._map._getNewPixelOrigin(l,h));ke.any3d?Ni(this._container,$,v):wt(this._container,$)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,h=this._map.getSize(),v=this._map.containerPointToLayerPoint(h.multiplyBy(-l)).round();this._bounds=new K(v,v.add(h.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wl=zr.extend({options:{tolerance:0},getEvents:function(){var l=zr.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");gt(l,"mousemove",this._onMouseMove,this),gt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,hn(this._container),on(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var h in this._layers)l=this._layers[h],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var l=this._bounds,h=this._container,v=l.getSize(),T=ke.retina?2:1;wt(h,l.min),h.width=T*v.x,h.height=T*v.y,h.style.width=v.x+"px",h.style.height=v.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[p(l)]=l;var h=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var h=l._order,v=h.next,T=h.prev;v?v.prev=T:this._drawLast=T,T?T.next=v:this._drawFirst=v,delete l._order,delete this._layers[p(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var h=l.options.dashArray.split(/[, ]+/),v=[],T,k;for(k=0;k<h.length;k++){if(T=Number(h[k]),isNaN(T))return;v.push(T)}l.options._dashArray=v}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var h=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(l._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(l._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var h=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,h=this._redrawBounds;if(this._ctx.save(),h){var v=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)l=T.layer,(!h||l._pxBounds&&l._pxBounds.intersects(h))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,h){if(this._drawing){var v,T,k,$,oe=l._parts,ve=oe.length,Se=this._ctx;if(ve){for(Se.beginPath(),v=0;v<ve;v++){for(T=0,k=oe[v].length;T<k;T++)$=oe[v][T],Se[T?"lineTo":"moveTo"]($.x,$.y);h&&Se.closePath()}this._fillStroke(Se,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var h=l._point,v=this._ctx,T=Math.max(Math.round(l._radius),1),k=(Math.max(Math.round(l._radiusY),1)||T)/T;k!==1&&(v.save(),v.scale(1,k)),v.beginPath(),v.arc(h.x,h.y/k,T,0,Math.PI*2,!1),k!==1&&v.restore(),this._fillStroke(v,l)}},_fillStroke:function(l,h){var v=h.options;v.fill&&(l.globalAlpha=v.fillOpacity,l.fillStyle=v.fillColor||v.color,l.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(l.setLineDash&&l.setLineDash(h.options&&h.options._dashArray||[]),l.globalAlpha=v.opacity,l.lineWidth=v.weight,l.strokeStyle=v.color,l.lineCap=v.lineCap,l.lineJoin=v.lineJoin,l.stroke())},_onClick:function(l){for(var h=this._map.mouseEventToLayerPoint(l),v,T,k=this._drawFirst;k;k=k.next)v=k.layer,v.options.interactive&&v._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(v))&&(T=v);this._fireEvent(T?[T]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,h)}},_handleMouseOut:function(l){var h=this._hoveredLayer;h&&(vn(this._container,"leaflet-interactive"),this._fireEvent([h],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,h){if(!this._mouseHoverThrottled){for(var v,T,k=this._drawFirst;k;k=k.next)v=k.layer,v.options.interactive&&v._containsPoint(h)&&(T=v);T!==this._hoveredLayer&&(this._handleMouseOut(l),T&&(It(this._container,"leaflet-interactive"),this._fireEvent([T],l,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,h,v){this._map._fireDOMEvent(h,v||h.type,l)},_bringToFront:function(l){var h=l._order;if(h){var v=h.next,T=h.prev;if(v)v.prev=T;else return;T?T.next=v:v&&(this._drawFirst=v),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(l)}},_bringToBack:function(l){var h=l._order;if(h){var v=h.next,T=h.prev;if(T)T.next=v;else return;v?v.prev=T:T&&(this._drawLast=T),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(l)}}});function bl(l){return ke.canvas?new wl(l):null}var wa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),lo={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zr.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var h=l._container=wa("shape");It(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",l._path=wa("path"),h.appendChild(l._path),this._updateStyle(l),this._layers[p(l)]=l},_addPath:function(l){var h=l._container;this._container.appendChild(h),l.options.interactive&&l.addInteractiveTarget(h)},_removePath:function(l){var h=l._container;hn(h),l.removeInteractiveTarget(h),delete this._layers[p(l)]},_updateStyle:function(l){var h=l._stroke,v=l._fill,T=l.options,k=l._container;k.stroked=!!T.stroke,k.filled=!!T.fill,T.stroke?(h||(h=l._stroke=wa("stroke")),k.appendChild(h),h.weight=T.weight+"px",h.color=T.color,h.opacity=T.opacity,T.dashArray?h.dashStyle=W(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=T.lineCap.replace("butt","flat"),h.joinstyle=T.lineJoin):h&&(k.removeChild(h),l._stroke=null),T.fill?(v||(v=l._fill=wa("fill")),k.appendChild(v),v.color=T.fillColor||T.color,v.opacity=T.fillOpacity):v&&(k.removeChild(v),l._fill=null)},_updateCircle:function(l){var h=l._point.round(),v=Math.round(l._radius),T=Math.round(l._radiusY||v);this._setPath(l,l._empty()?"M0 0":"AL "+h.x+","+h.y+" "+v+","+T+" 0,"+65535*360)},_setPath:function(l,h){l._path.v=h},_bringToFront:function(l){ts(l._container)},_bringToBack:function(l){Us(l._container)}},Tl=ke.vml?wa:Ie,qs=zr.extend({_initContainer:function(){this._container=Tl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){hn(this._container),on(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var l=this._bounds,h=l.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,v.setAttribute("width",h.x),v.setAttribute("height",h.y)),wt(v,l.min),v.setAttribute("viewBox",[l.min.x,l.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(l){var h=l._path=Tl("path");l.options.className&&It(h,l.options.className),l.options.interactive&&It(h,"leaflet-interactive"),this._updateStyle(l),this._layers[p(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){hn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[p(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var h=l._path,v=l.options;h&&(v.stroke?(h.setAttribute("stroke",v.color),h.setAttribute("stroke-opacity",v.opacity),h.setAttribute("stroke-width",v.weight),h.setAttribute("stroke-linecap",v.lineCap),h.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?h.setAttribute("stroke-dasharray",v.dashArray):h.removeAttribute("stroke-dasharray"),v.dashOffset?h.setAttribute("stroke-dashoffset",v.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),v.fill?(h.setAttribute("fill",v.fillColor||v.color),h.setAttribute("fill-opacity",v.fillOpacity),h.setAttribute("fill-rule",v.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(l,h){this._setPath(l,xe(l._parts,h))},_updateCircle:function(l){var h=l._point,v=Math.max(Math.round(l._radius),1),T=Math.max(Math.round(l._radiusY),1)||v,k="a"+v+","+T+" 0 1,0 ",$=l._empty()?"M0 0":"M"+(h.x-v)+","+h.y+k+v*2+",0 "+k+-v*2+",0 ";this._setPath(l,$)},_setPath:function(l,h){l._path.setAttribute("d",h)},_bringToFront:function(l){ts(l._path)},_bringToBack:function(l){Us(l._path)}});ke.vml&&qs.include(lo);function ba(l){return ke.svg||ke.vml?new qs(l):null}Nt.include({getRenderer:function(l){var h=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var h=this._paneRenderers[l];return h===void 0&&(h=this._createRenderer({pane:l}),this._paneRenderers[l]=h),h},_createRenderer:function(l){return this.options.preferCanvas&&bl(l)||ba(l)}});var bf=ro.extend({initialize:function(l,h){ro.prototype.initialize.call(this,this._boundsToLatLngs(l),h)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=re(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function pr(l,h){return new bf(l,h)}qs.create=Tl,qs.pointsToPath=xe,hr.geometryToLayer=_l,hr.coordsToLatLng=cu,hr.coordsToLatLngs=vl,hr.latLngToCoords=yl,hr.latLngsToCoords=hu,hr.getFeature=Br,hr.asFeature=so,Nt.mergeOptions({boxZoom:!0});var mu=Zi.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){hn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ai(),da(),this._startPoint=this._map.mouseEventToContainerPoint(l),gt(document,{contextmenu:Si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),It(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var h=new K(this._point,this._startPoint),v=h.getSize();wt(this._box,h.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(hn(this._box),vn(this._container,"leaflet-crosshair")),Dr(),cl(),on(document,{contextmenu:Si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Nt.addInitHook("addHandler","boxZoom",mu),Nt.mergeOptions({doubleClickZoom:!0});var ls=Zi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var h=this._map,v=h.getZoom(),T=h.options.zoomDelta,k=l.originalEvent.shiftKey?v-T:v+T;h.options.doubleClickZoom==="center"?h.setZoom(k):h.setZoomAround(l.containerPoint,k)}});Nt.addInitHook("addHandler","doubleClickZoom",ls),Nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cc=Zi.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Ur(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}It(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vn(this._map._container,"leaflet-grab"),vn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=re(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var h=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(h),this._prunePositions(h)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,h){return l-(l-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;l.x<h.min.x&&(l.x=this._viscousLimit(l.x,h.min.x)),l.y<h.min.y&&(l.y=this._viscousLimit(l.y,h.min.y)),l.x>h.max.x&&(l.x=this._viscousLimit(l.x,h.max.x)),l.y>h.max.y&&(l.y=this._viscousLimit(l.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,h=Math.round(l/2),v=this._initialWorldOffset,T=this._draggable._newPos.x,k=(T-h+v)%l+h-v,$=(T+h+v)%l-h-v,oe=Math.abs(k+v)<Math.abs($+v)?k:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=oe},_onDragEnd:function(l){var h=this._map,v=h.options,T=!v.inertia||l.noInertia||this._times.length<2;if(h.fire("dragend",l),T)h.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),$=(this._lastTime-this._times[0])/1e3,oe=v.easeLinearity,ve=k.multiplyBy(oe/$),Se=ve.distanceTo([0,0]),Fe=Math.min(v.inertiaMaxSpeed,Se),Ye=ve.multiplyBy(Fe/Se),tt=Fe/(v.inertiaDeceleration*oe),ot=Ye.multiplyBy(-tt/2).round();!ot.x&&!ot.y?h.fire("moveend"):(ot=h._limitOffset(ot,h.options.maxBounds),V(function(){h.panBy(ot,{duration:tt,easeLinearity:oe,noMoveStart:!0,animate:!0})}))}}});Nt.addInitHook("addHandler","dragging",Cc),Nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Al=Zi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),gt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),on(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,h=document.documentElement,v=l.scrollTop||h.scrollTop,T=l.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(T,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var h=this._panKeys={},v=this.keyCodes,T,k;for(T=0,k=v.left.length;T<k;T++)h[v.left[T]]=[-1*l,0];for(T=0,k=v.right.length;T<k;T++)h[v.right[T]]=[l,0];for(T=0,k=v.down.length;T<k;T++)h[v.down[T]]=[0,l];for(T=0,k=v.up.length;T<k;T++)h[v.up[T]]=[0,-1*l]},_setZoomDelta:function(l){var h=this._zoomKeys={},v=this.keyCodes,T,k;for(T=0,k=v.zoomIn.length;T<k;T++)h[v.zoomIn[T]]=l;for(T=0,k=v.zoomOut.length;T<k;T++)h[v.zoomOut[T]]=-l},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){on(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var h=l.keyCode,v=this._map,T;if(h in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(T=this._panKeys[h],l.shiftKey&&(T=M(T).multiplyBy(3)),v.options.maxBounds&&(T=v._limitOffset(M(T),v.options.maxBounds)),v.options.worldCopyJump){var k=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(T)));v.panTo(k)}else v.panBy(T)}else if(h in this._zoomKeys)v.setZoom(v.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Si(l)}}});Nt.addInitHook("addHandler","keyboard",Al),Nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Gs=Zi.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){on(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var h=pa(l),v=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var T=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),T),Si(l)},_performZoom:function(){var l=this._map,h=l.getZoom(),v=this._map.options.zoomSnap||0;l._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,$=v?Math.ceil(k/v)*v:k,oe=l._limitZoom(h+(this._delta>0?$:-$))-h;this._delta=0,this._startTime=null,oe&&(l.options.scrollWheelZoom==="center"?l.setZoom(h+oe):l.setZoomAround(this._lastMousePos,h+oe))}});Nt.addInitHook("addHandler","scrollWheelZoom",Gs);var Rc=600;Nt.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var gu=Zi.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var h=l.touches[0];this._startPos=this._newPos=new ae(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",Tn),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Rc),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){on(document,"touchend",Tn),on(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),on(document,"touchend touchcancel contextmenu",this._cancel,this),on(document,"touchmove",this._onMove,this)},_onMove:function(l){var h=l.touches[0];this._newPos=new ae(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,h){var v=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});v._simulated=!0,h.target.dispatchEvent(v)}});Nt.addInitHook("addHandler","tapHold",gu),Nt.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var Ta=Zi.extend({addHooks:function(){It(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vn(this._map._container,"leaflet-touch-zoom"),on(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming)){var v=h.mouseEventToContainerPoint(l.touches[0]),T=h.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(v.add(T)._divideBy(2))),this._startDist=v.distanceTo(T),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),Tn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var h=this._map,v=h.mouseEventToContainerPoint(l.touches[0]),T=h.mouseEventToContainerPoint(l.touches[1]),k=v.distanceTo(T)/this._startDist;if(this._zoom=h.getScaleZoom(k,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&k<1||this._zoom>h.getMaxZoom()&&k>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var $=v._add(T)._divideBy(2)._subtract(this._centerPoint);if(k===1&&$.x===0&&$.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var oe=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(oe,this,!0),Tn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),on(document,"touchmove",this._onTouchMove,this),on(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Nt.addInitHook("addHandler","touchZoom",Ta),Nt.BoxZoom=mu,Nt.DoubleClickZoom=ls,Nt.Drag=Cc,Nt.Keyboard=Al,Nt.ScrollWheelZoom=Gs,Nt.TapHold=gu,Nt.TouchZoom=Ta,t.Bounds=K,t.Browser=ke,t.CRS=Me,t.Canvas=wl,t.Circle=Tc,t.CircleMarker=gl,t.Class=ie,t.Control=gi,t.DivIcon=Sc,t.DivOverlay=Fr,t.DomEvent=ru,t.DomUtil=hl,t.Draggable=Ur,t.Evented=G,t.FeatureGroup=xn,t.GeoJSON=hr,t.GridLayer=ya,t.Handler=Zi,t.Icon=as,t.ImageOverlay=os,t.LatLng=se,t.LatLngBounds=B,t.Layer=pn,t.LayerGroup=On,t.LineUtil=J,t.Map=Nt,t.Marker=io,t.Mixin=ga,t.Path=Ss,t.Point=ae,t.PolyUtil=Ja,t.Polygon=ro,t.Polyline=Cs,t.Popup=El,t.PosAnimation=ma,t.Projection=Ze,t.Rectangle=bf,t.Renderer=zr,t.SVG=qs,t.SVGOverlay=Hs,t.TileLayer=Ea,t.Tooltip=pu,t.Transformation=Ue,t.Util=U,t.VideoOverlay=du,t.bind=c,t.bounds=Y,t.canvas=bl,t.circle=Tm,t.circleMarker=_f,t.control=Ci,t.divIcon=wf,t.extend=s,t.featureGroup=ss,t.geoJSON=fu,t.geoJson=vf,t.gridLayer=jr,t.icon=uu,t.imageOverlay=ao,t.latLng=pe,t.latLngBounds=re,t.layerGroup=As,t.map=is,t.marker=bc,t.point=M,t.polygon=cr,t.polyline=Am,t.popup=Sm,t.rectangle=pr,t.setOptions=O,t.stamp=p,t.svg=ba,t.svgOverlay=Ef,t.tileLayer=fr,t.tooltip=Cm,t.transformation=Ke,t.version=i,t.videoOverlay=yf;var uo=window.L;t.noConflict=function(){return window.L=uo,this},window.L=t})}(Ah,Ah.exports)),Ah.exports}var pf=HV();const e0=lc(pf);function t0(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function n0(n,e){return e==null?function(i,s){const o=he.useRef(void 0);return o.current||(o.current=n(i,s)),o}:function(i,s){const o=he.useRef(void 0);o.current||(o.current=n(i,s));const c=he.useRef(i),{instance:f}=o.current;return he.useEffect(function(){c.current!==i&&(e(f,i,c.current),c.current=i)},[f,i,e]),o}}function qV(n,e){he.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function qC(n){return function(t){const i=zC(),s=n(Jy(t,i),i);return jC(i.map,t.attribution),HC(s.current,t.eventHandlers),qV(s.current,i),s}}function GV(n,e){const t=n0(n,e),i=qC(t);return UV(i)}function ZV(n,e){const t=n0(n),i=jV(t,e);return BV(i)}function KV(n,e){const t=n0(n,e),i=qC(t);return FV(i)}function $V(n,e,t){const{opacity:i,zIndex:s}=e;i!=null&&i!==t.opacity&&n.setOpacity(i),s!=null&&s!==t.zIndex&&n.setZIndex(s)}function QV({bounds:n,boundsOptions:e,center:t,children:i,className:s,id:o,placeholder:c,style:f,whenReady:p,zoom:m,...g},E){const[w]=he.useState({className:s,id:o,style:f}),[C,R]=he.useState(null),O=he.useRef(void 0);he.useImperativeHandle(E,()=>C?.map??null,[C]);const D=he.useCallback(te=>{if(te!==null&&!O.current){const W=new pf.Map(te,g);O.current=W,t!=null&&m!=null?W.setView(t,m):n!=null&&W.fitBounds(n,e),p!=null&&W.whenReady(p),R(LV(W))}},[]);he.useEffect(()=>()=>{C?.map.remove()},[C]);const j=C?mn.createElement(Xy,{value:C},i):c??null;return mn.createElement("div",{...w,ref:D},j)}const YV=he.forwardRef(QV),WV=GV(function({position:e,...t},i){const s=new pf.Marker(e,t);return t0(s,VV(i,{overlayContainer:s}))},function(e,t,i){t.position!==i.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==i.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==i.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==i.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),XV=ZV(function(e,t){const i=new pf.Popup(e,t.overlayContainer);return t0(i,t)},function(e,t,{position:i},s){he.useEffect(function(){const{instance:c}=e;function f(m){m.popup===c&&(c.update(),s(!0))}function p(m){m.popup===c&&s(!1)}return t.map.on({popupopen:f,popupclose:p}),t.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(t.map)):t.overlayContainer.bindPopup(c),function(){t.map.off({popupopen:f,popupclose:p}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(c)}},[e,t,s,i])}),JV=KV(function({url:e,...t},i){const s=new pf.TileLayer(e,Jy(t,i));return t0(s,i)},function(e,t,i){$V(e,t,i);const{url:s}=t;s!=null&&s!==i.url&&e.setUrl(s)}),eU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",tU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",nU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",k_=n=>{const e=`
    <svg viewBox="0 0 24 24" width="32" height="32" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"
            fill="${n}"/>
    </svg>`;return new e0.DivIcon({html:e,className:"leaflet-div-icon",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},CT={pendente:k_("#f97316"),aguardando_resposta:k_("#3b82f6"),confirmado:k_("#22c55e")};delete e0.Icon.Default.prototype._getIconUrl;e0.Icon.Default.mergeOptions({iconRetinaUrl:eU,iconUrl:tU,shadowUrl:nU});function iU({solicitacoes:n=[]}){const e=[-14.235,-51.9253];return x.jsx("div",{className:"leaflet-container",style:{height:"450px",width:"100%",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:x.jsxs(YV,{center:e,zoom:4,style:{height:"100%",width:"100%"},children:[x.jsx(JV,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map(t=>t.latitude&&t.longitude&&CT[t.status]?x.jsx(WV,{position:[t.latitude,t.longitude],icon:CT[t.status],children:x.jsxs(XV,{children:[x.jsx("strong",{children:"Cliente:"})," ",t.cliente," ",x.jsx("br",{}),x.jsx("strong",{children:"Endereço:"})," ",t.endereco?.logradouro,", ",t.endereco?.numero," ",x.jsx("br",{}),x.jsx("strong",{children:"Status:"})," ",t.status]})},t.id):null)]})})}function RT(){const[n,e]=he.useState(""),[t,i]=he.useState([]),[s,o]=he.useState(!0),[c,f]=he.useState(0);return he.useEffect(()=>{const p=rD(AC,m=>{e(m?m.email:"")});return()=>p()},[]),he.useEffect(()=>{const p=["pendente","aguardando_resposta","confirmado"],m=ja(ti,"solicitacoes"),g=Gh(m,Ep("status","in",p)),E=iC(g,w=>{const C=[];let R=0;const O=new Date,D=new Date(O.getFullYear(),O.getMonth(),1);w.forEach(j=>{const te={...j.data(),id:j.id};C.push(te),te.dataSolicitacao&&typeof te.dataSolicitacao.toDate=="function"&&te.dataSolicitacao.toDate()>=D&&typeof te.valorServicoBruto=="number"&&(R+=te.valorServicoBruto)}),i(C),f(R),o(!1)},w=>{console.error("Erro ao buscar dados do dashboard: ",w),o(!1)});return()=>E()},[]),x.jsxs("div",{className:"dashboard-container",children:[x.jsxs("header",{className:"dashboard-header",children:[x.jsxs("h1",{className:"dashboard-welcome",children:["Olá, ",n||"Gestor","!"]}),x.jsx("p",{children:"Aqui está um resumo da sua operação hoje."})]}),s?x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"150px"},children:x.jsx(Kh,{size:32,className:"animate-spin"})}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"kpi-grid",children:[x.jsxs("div",{className:"kpi-card",children:[x.jsx("div",{className:"kpi-icon",style:{backgroundColor:"#e0f2fe"},children:x.jsx(CC,{size:24,color:"#0ea5e9"})}),x.jsxs("div",{className:"kpi-info",children:[x.jsx("div",{className:"kpi-value",children:t.length}),x.jsx("div",{className:"kpi-title",children:"Serviços Ativos"})]})]}),x.jsxs("div",{className:"kpi-card",children:[x.jsx("div",{className:"kpi-icon",style:{backgroundColor:"#dcfce7"},children:x.jsx(C5,{size:24,color:"#22c55e"})}),x.jsxs("div",{className:"kpi-info",children:[x.jsx("div",{className:"kpi-value",children:c.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),x.jsx("div",{className:"kpi-title",children:"Custo (Mês Atual)"})]})]}),x.jsxs("div",{className:"kpi-card",children:[x.jsx("div",{className:"kpi-icon",style:{backgroundColor:"#fef3c7"},children:x.jsx(iV,{size:24,color:"#f59e0b"})}),x.jsxs("div",{className:"kpi-info",children:[x.jsx("div",{className:"kpi-value",children:"4.8"}),x.jsx("div",{className:"kpi-title",children:"Avaliação Média"})]})]})]}),x.jsxs("div",{style:{marginTop:"2.5rem"},children:[x.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#333"},children:"Mapa de Operações"}),x.jsxs("div",{className:"map-legend",style:{display:"flex",gap:"20px",marginBottom:"1rem",flexWrap:"wrap"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx("span",{style:{height:"15px",width:"15px",backgroundColor:"#f97316",borderRadius:"50%"}}),x.jsx("span",{children:"Pendente"})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx("span",{style:{height:"15px",width:"15px",backgroundColor:"#3b82f6",borderRadius:"50%"}}),x.jsx("span",{children:"Aguardando Resposta"})]}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[x.jsx("span",{style:{height:"15px",width:"15px",backgroundColor:"#22c55e",borderRadius:"50%"}}),x.jsx("span",{children:"Confirmado"})]})]}),x.jsx(iU,{solicitacoes:t})]})]})]})}function GC({isOpen:n,onClose:e,onConfirm:t,title:i,children:s}){return n?x.jsx("div",{className:"confirm-modal-overlay",children:x.jsxs("div",{className:"confirm-modal-content",children:[x.jsxs("div",{className:"confirm-modal-header",children:[x.jsx($y,{size:24,className:"confirm-modal-icon"}),x.jsx("h2",{className:"confirm-modal-title",children:i})]}),x.jsx("div",{className:"confirm-modal-body",children:s}),x.jsxs("div",{className:"confirm-modal-footer",children:[x.jsx("button",{onClick:e,className:"confirm-modal-btn cancel-btn",children:"Cancelar"}),x.jsx("button",{onClick:t,className:"confirm-modal-btn confirm-btn",children:"Confirmar Exclusão"})]})]})}):null}const xT={nome:"",cnh:"",telefone:"",placa:""};function rU(){const[n,e]=he.useState([]),[t,i]=he.useState(!1),[s,o]=he.useState(xT),[c,f]=he.useState(null),[p,m]=he.useState(!1),[g,E]=he.useState(null),w=ja(ti,"frota"),C=async()=>{const q=(await Zh(w)).docs.map(Z=>({...Z.data(),id:Z.id}));e(q)};he.useEffect(()=>{C()},[]);const R=ne=>{const{id:q,value:Z}=ne.target;o(A=>({...A,[q]:Z}))},O=()=>{o(xT),f(null),i(!0)},D=ne=>{o({nome:ne.nome,cnh:ne.cnh,telefone:ne.telefone,placa:ne.placa}),f(ne.id),i(!0)},j=async ne=>{if(ne.preventDefault(),c){const q=ps(ti,"frota",c);await Oh(q,s)}else await om(w,s);C(),i(!1)},te=ne=>{E(ne),m(!0)},W=async()=>{if(g){const ne=ps(ti,"frota",g.id);await nC(ne),C(),m(!1),E(null)}},ee=()=>{i(!1)};return x.jsxs("div",{children:[x.jsxs("div",{className:"frota-header",children:[x.jsx("h1",{className:"frota-title",children:"Minha Frota"}),x.jsxs("button",{className:"add-button",onClick:O,children:[x.jsx(Ky,{size:20}),"Adicionar Membro"]})]}),x.jsx("div",{className:"table-container",children:x.jsxs("table",{className:"frota-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Motorista"}),x.jsx("th",{children:"CNH"}),x.jsx("th",{children:"Telefone"}),x.jsx("th",{children:"Placa do Veículo"}),x.jsx("th",{children:"Ações"})]})}),x.jsx("tbody",{children:n.map(ne=>x.jsxs("tr",{children:[x.jsx("td",{children:ne.nome}),x.jsx("td",{children:ne.cnh}),x.jsx("td",{children:ne.telefone}),x.jsx("td",{children:ne.placa}),x.jsx("td",{children:x.jsxs("div",{className:"action-buttons",children:[x.jsx("button",{title:"Editar",onClick:()=>D(ne),children:x.jsx(IC,{size:18,color:"#0056b3"})}),x.jsx("button",{title:"Excluir",onClick:()=>te(ne),children:x.jsx(kC,{size:18,color:"#dc3545"})})]})})]},ne.id))})]})}),x.jsx(ec,{isOpen:t,onClose:ee,title:c?"Editar Membro":"Adicionar Novo Membro",children:x.jsxs("form",{onSubmit:j,className:"modal-form",children:[x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"nome",children:"Nome Completo"})," ",x.jsx("input",{id:"nome",type:"text",value:s.nome,onChange:R,required:!0})," "]}),x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"cnh",children:"CNH"})," ",x.jsx("input",{id:"cnh",type:"text",value:s.cnh,onChange:R,required:!0})," "]}),x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"telefone",children:"Telefone"})," ",x.jsx("input",{id:"telefone",type:"text",value:s.telefone,onChange:R,required:!0})," "]}),x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"placa",children:"Placa do Veículo"})," ",x.jsx("input",{id:"placa",type:"text",value:s.placa,onChange:R,required:!0})," "]}),x.jsxs("div",{style:{marginTop:"1rem",textAlign:"right"},children:[" ",x.jsxs("button",{type:"submit",className:"add-button",children:[" ",c?"Salvar Alterações":"Adicionar Membro"," "]})," "]})]})}),x.jsxs(GC,{isOpen:p,onClose:()=>m(!1),onConfirm:W,title:"Confirmar Exclusão",children:[x.jsx("p",{children:"Você tem certeza que deseja excluir o membro da frota permanentemente?"}),g&&x.jsx("p",{className:"membro-destaque",children:g.nome})]})]})}var O_={exports:{}},P_,IT;function sU(){if(IT)return P_;IT=1;function n(Q){return Q&&typeof Q=="object"&&"default"in Q?Q.default:Q}var e=n(uc()),t=Dv();function i(Q,M){for(var K=Object.getOwnPropertyNames(M),Y=0;Y<K.length;Y++){var B=K[Y],re=Object.getOwnPropertyDescriptor(M,B);re&&re.configurable&&Q[B]===void 0&&Object.defineProperty(Q,B,re)}return Q}function s(){return(s=Object.assign||function(Q){for(var M=1;M<arguments.length;M++){var K=arguments[M];for(var Y in K)Object.prototype.hasOwnProperty.call(K,Y)&&(Q[Y]=K[Y])}return Q}).apply(this,arguments)}function o(Q,M){Q.prototype=Object.create(M.prototype),i(Q.prototype.constructor=Q,M)}function c(Q,M){if(Q==null)return{};var K,Y,B={},re=Object.keys(Q);for(Y=0;Y<re.length;Y++)K=re[Y],0<=M.indexOf(K)||(B[K]=Q[K]);return B}function f(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}var p=function(Q,M,K,Y,B,re,se,pe){if(!Q){var Me;if(M===void 0)Me=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Ae=[K,Y,B,re,se,pe],Ne=0;(Me=new Error(M.replace(/%s/g,function(){return Ae[Ne++]}))).name="Invariant Violation"}throw Me.framesToPop=1,Me}},m=p;function g(Q,M,K){if("selectionStart"in Q&&"selectionEnd"in Q)Q.selectionStart=M,Q.selectionEnd=K;else{var Y=Q.createTextRange();Y.collapse(!0),Y.moveStart("character",M),Y.moveEnd("character",K-M),Y.select()}}function E(Q){var M=0,K=0;if("selectionStart"in Q&&"selectionEnd"in Q)M=Q.selectionStart,K=Q.selectionEnd;else{var Y=document.selection.createRange();Y.parentElement()===Q&&(M=-Y.moveStart("character",-Q.value.length),K=-Y.moveEnd("character",-Q.value.length))}return{start:M,end:K,length:K-M}}var w={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},C="_";function R(Q,M,K){var Y="",B="",re=null,se=[];if(M===void 0&&(M=C),K==null&&(K=w),!Q||typeof Q!="string")return{maskChar:M,formatChars:K,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var pe=!1;return Q.split("").forEach(function(Me){pe=!pe&&Me==="\\"||(pe||!K[Me]?(se.push(Y.length),Y.length===se.length-1&&(B+=Me)):re=Y.length+1,Y+=Me,!1)}),{maskChar:M,formatChars:K,prefix:B,mask:Y,lastEditablePosition:re,permanents:se}}function O(Q,M){return Q.permanents.indexOf(M)!==-1}function D(Q,M,K){var Y=Q.mask,B=Q.formatChars;if(!K)return!1;if(O(Q,M))return Y[M]===K;var re=B[Y[M]];return new RegExp(re).test(K)}function j(Q,M){return M.split("").every(function(K,Y){return O(Q,Y)||!D(Q,Y,K)})}function te(Q,M){var K=Q.maskChar,Y=Q.prefix;if(!K){for(;M.length>Y.length&&O(Q,M.length-1);)M=M.slice(0,M.length-1);return M.length}for(var B=Y.length,re=M.length;re>=Y.length;re--){var se=M[re];if(!O(Q,re)&&D(Q,re,se)){B=re+1;break}}return B}function W(Q,M){return te(Q,M)===Q.mask.length}function ee(Q,M){var K=Q.maskChar,Y=Q.mask,B=Q.prefix;if(!K){for((M=q(Q,"",M,0)).length<B.length&&(M=B);M.length<Y.length&&O(Q,M.length);)M+=Y[M.length];return M}if(M)return q(Q,ee(Q,""),M,0);for(var re=0;re<Y.length;re++)O(Q,re)?M+=Y[re]:M+=K;return M}function ne(Q,M,K,Y){var B=K+Y,re=Q.maskChar,se=Q.mask,pe=Q.prefix,Me=M.split("");if(re)return Me.map(function(Ne,je){return je<K||B<=je?Ne:O(Q,je)?se[je]:re}).join("");for(var Ae=B;Ae<Me.length;Ae++)O(Q,Ae)&&(Me[Ae]="");return K=Math.max(pe.length,K),Me.splice(K,B-K),M=Me.join(""),ee(Q,M)}function q(Q,M,K,Y){var B=Q.mask,re=Q.maskChar,se=Q.prefix,pe=K.split(""),Me=W(Q,M);return!re&&Y>M.length&&(M+=B.slice(M.length,Y)),pe.every(function(Ae){for(;Ke=Ae,O(Q,Ue=Y)&&Ke!==B[Ue];){if(Y>=M.length&&(M+=B[Y]),Ne=Ae,je=Y,re&&O(Q,je)&&Ne===re)return!0;if(++Y>=B.length)return!1}var Ne,je,Ue,Ke;return!D(Q,Y,Ae)&&Ae!==re||(Y<M.length?M=re||Me||Y<se.length?M.slice(0,Y)+Ae+M.slice(Y+1):(M=M.slice(0,Y)+Ae+M.slice(Y),ee(Q,M)):re||(M+=Ae),++Y<B.length)}),M}function Z(Q,M,K,Y){var B=Q.mask,re=Q.maskChar,se=K.split(""),pe=Y;return se.every(function(Me){for(;Ne=Me,O(Q,Ae=Y)&&Ne!==B[Ae];)if(++Y>=B.length)return!1;var Ae,Ne;return(D(Q,Y,Me)||Me===re)&&Y++,Y<B.length}),Y-pe}function A(Q,M){for(var K=M;0<=K;--K)if(!O(Q,K))return K;return null}function S(Q,M){for(var K=Q.mask,Y=M;Y<K.length;++Y)if(!O(Q,Y))return Y;return null}function P(Q){return Q||Q===0?Q+"":""}function V(Q,M,K,Y,B){var re=Q.mask,se=Q.prefix,pe=Q.lastEditablePosition,Me=M,Ae="",Ne=0,je=0,Ue=Math.min(B.start,K.start);return K.end>B.start?je=(Ne=Z(Q,Y,Ae=Me.slice(B.start,K.end),Ue))?B.length:0:Me.length<Y.length&&(je=Y.length-Me.length),Me=Y,je&&(je===1&&!B.length&&(Ue=B.start===K.start?S(Q,K.start):A(Q,K.start)),Me=ne(Q,Me,Ue,je)),Me=q(Q,Me,Ae,Ue),(Ue+=Ne)>=re.length?Ue=re.length:Ue<se.length&&!Ne?Ue=se.length:Ue>=se.length&&Ue<pe&&Ne&&(Ue=S(Q,Ue)),Ae||(Ae=null),{value:Me=ee(Q,Me),enteredString:Ae,selection:{start:Ue,end:Ue}}}function H(){var Q=new RegExp("windows","i"),M=new RegExp("phone","i"),K=navigator.userAgent;return Q.test(K)&&M.test(K)}function U(Q){return typeof Q=="function"}function ie(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function ce(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function z(Q){return(ce()?ie():function(){return setTimeout(Q,1e3/60)})(Q)}function G(Q){(ce()||clearTimeout)(Q)}var ae=function(Q){function M(Y){var B=Q.call(this,Y)||this;B.focused=!1,B.mounted=!1,B.previousSelection=null,B.selectionDeferId=null,B.saveSelectionLoopDeferId=null,B.saveSelectionLoop=function(){B.previousSelection=B.getSelection(),B.saveSelectionLoopDeferId=z(B.saveSelectionLoop)},B.runSaveSelectionLoop=function(){B.saveSelectionLoopDeferId===null&&B.saveSelectionLoop()},B.stopSaveSelectionLoop=function(){B.saveSelectionLoopDeferId!==null&&(G(B.saveSelectionLoopDeferId),B.saveSelectionLoopDeferId=null,B.previousSelection=null)},B.getInputDOMNode=function(){if(!B.mounted)return null;var qe=t.findDOMNode(f(f(B))),de=typeof window<"u"&&qe instanceof window.Element;if(qe&&!de)return null;if(qe.nodeName!=="INPUT"&&(qe=qe.querySelector("input")),!qe)throw new Error("react-input-mask: inputComponent doesn't contain input node");return qe},B.getInputValue=function(){var qe=B.getInputDOMNode();return qe?qe.value:null},B.setInputValue=function(qe){var de=B.getInputDOMNode();de&&(B.value=qe,de.value=qe)},B.setCursorToEnd=function(){var qe=te(B.maskOptions,B.value),de=S(B.maskOptions,qe);de!==null&&B.setCursorPosition(de)},B.setSelection=function(qe,de,Ie){Ie===void 0&&(Ie={});var xe=B.getInputDOMNode(),ze=B.isFocused();xe&&ze&&(Ie.deferred||g(xe,qe,de),B.selectionDeferId!==null&&G(B.selectionDeferId),B.selectionDeferId=z(function(){B.selectionDeferId=null,g(xe,qe,de)}),B.previousSelection={start:qe,end:de,length:Math.abs(de-qe)})},B.getSelection=function(){return E(B.getInputDOMNode())},B.getCursorPosition=function(){return B.getSelection().start},B.setCursorPosition=function(qe){B.setSelection(qe,qe)},B.isFocused=function(){return B.focused},B.getBeforeMaskedValueChangeConfig=function(){var qe=B.maskOptions,de=qe.mask,Ie=qe.maskChar,xe=qe.permanents,ze=qe.formatChars;return{mask:de,maskChar:Ie,permanents:xe,alwaysShowMask:!!B.props.alwaysShowMask,formatChars:ze}},B.isInputAutofilled=function(qe,de,Ie,xe){var ze=B.getInputDOMNode();try{if(ze.matches(":-webkit-autofill"))return!0}catch{}return!B.focused||xe.end<Ie.length&&de.end===qe.length},B.onChange=function(qe){var de=f(f(B)).beforePasteState,Ie=f(f(B)).previousSelection,xe=B.props.beforeMaskedValueChange,ze=B.getInputValue(),He=B.value,Qe=B.getSelection();B.isInputAutofilled(ze,Qe,He,Ie)&&(He=ee(B.maskOptions,""),Ie={start:0,end:0,length:0}),de&&(Ie=de.selection,He=de.value,Qe={start:Ie.start+ze.length,end:Ie.start+ze.length,length:0},ze=He.slice(0,Ie.start)+ze+He.slice(Ie.end),B.beforePasteState=null);var at=V(B.maskOptions,ze,Qe,He,Ie),At=at.enteredString,pt=at.selection,Et=at.value;if(U(xe)){var lt=xe({value:Et,selection:pt},{value:He,selection:Ie},At,B.getBeforeMaskedValueChangeConfig());Et=lt.value,pt=lt.selection}B.setInputValue(Et),U(B.props.onChange)&&B.props.onChange(qe),B.isWindowsPhoneBrowser?B.setSelection(pt.start,pt.end,{deferred:!0}):B.setSelection(pt.start,pt.end)},B.onFocus=function(qe){var de=B.props.beforeMaskedValueChange,Ie=B.maskOptions,xe=Ie.mask,ze=Ie.prefix;if(B.focused=!0,B.mounted=!0,xe){if(B.value)te(B.maskOptions,B.value)<B.maskOptions.mask.length&&B.setCursorToEnd();else{var He=ee(B.maskOptions,ze),Qe=ee(B.maskOptions,He),at=te(B.maskOptions,Qe),At=S(B.maskOptions,at),pt={start:At,end:At};if(U(de)){var Et=de({value:Qe,selection:pt},{value:B.value,selection:null},null,B.getBeforeMaskedValueChangeConfig());Qe=Et.value,pt=Et.selection}var lt=Qe!==B.getInputValue();lt&&B.setInputValue(Qe),lt&&U(B.props.onChange)&&B.props.onChange(qe),B.setSelection(pt.start,pt.end)}B.runSaveSelectionLoop()}U(B.props.onFocus)&&B.props.onFocus(qe)},B.onBlur=function(qe){var de=B.props.beforeMaskedValueChange,Ie=B.maskOptions.mask;if(B.stopSaveSelectionLoop(),B.focused=!1,Ie&&!B.props.alwaysShowMask&&j(B.maskOptions,B.value)){var xe="";U(de)&&(xe=de({value:xe,selection:null},{value:B.value,selection:B.previousSelection},null,B.getBeforeMaskedValueChangeConfig()).value);var ze=xe!==B.getInputValue();ze&&B.setInputValue(xe),ze&&U(B.props.onChange)&&B.props.onChange(qe)}U(B.props.onBlur)&&B.props.onBlur(qe)},B.onMouseDown=function(qe){if(!B.focused&&document.addEventListener){B.mouseDownX=qe.clientX,B.mouseDownY=qe.clientY,B.mouseDownTime=new Date().getTime();var de=function Ie(xe){if(document.removeEventListener("mouseup",Ie),B.focused){var ze=Math.abs(xe.clientX-B.mouseDownX),He=Math.abs(xe.clientY-B.mouseDownY),Qe=Math.max(ze,He),at=new Date().getTime()-B.mouseDownTime;(Qe<=10&&at<=200||Qe<=5&&at<=300)&&B.setCursorToEnd()}};document.addEventListener("mouseup",de)}U(B.props.onMouseDown)&&B.props.onMouseDown(qe)},B.onPaste=function(qe){U(B.props.onPaste)&&B.props.onPaste(qe),qe.defaultPrevented||(B.beforePasteState={value:B.getInputValue(),selection:B.getSelection()},B.setInputValue(""))},B.handleRef=function(qe){B.props.children==null&&U(B.props.inputRef)&&B.props.inputRef(qe)};var re=Y.mask,se=Y.maskChar,pe=Y.formatChars,Me=Y.alwaysShowMask,Ae=Y.beforeMaskedValueChange,Ne=Y.defaultValue,je=Y.value;B.maskOptions=R(re,se,pe),Ne==null&&(Ne=""),je==null&&(je=Ne);var Ue=P(je);if(B.maskOptions.mask&&(Me||Ue)&&(Ue=ee(B.maskOptions,Ue),U(Ae))){var Ke=Y.value;Y.value==null&&(Ke=Ne),Ue=Ae({value:Ue,selection:null},{value:Ke=P(Ke),selection:null},null,B.getBeforeMaskedValueChangeConfig()).value}return B.value=Ue,B}o(M,Q);var K=M.prototype;return K.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=H(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},K.componentDidUpdate=function(){var Y=this.previousSelection,B=this.props,re=B.beforeMaskedValueChange,se=B.alwaysShowMask,pe=B.mask,Me=B.maskChar,Ae=B.formatChars,Ne=this.maskOptions,je=se||this.isFocused(),Ue=this.props.value!=null,Ke=Ue?P(this.props.value):this.value,qe=Y?Y.start:null;if(this.maskOptions=R(pe,Me,Ae),this.maskOptions.mask){!Ne.mask&&this.isFocused()&&this.runSaveSelectionLoop();var de=this.maskOptions.mask&&this.maskOptions.mask!==Ne.mask;if(Ne.mask||Ue||(Ke=this.getInputValue()),(de||this.maskOptions.mask&&(Ke||je))&&(Ke=ee(this.maskOptions,Ke)),de){var Ie=te(this.maskOptions,Ke);(qe===null||Ie<qe)&&(qe=W(this.maskOptions,Ke)?Ie:S(this.maskOptions,Ie))}!this.maskOptions.mask||!j(this.maskOptions,Ke)||je||Ue&&this.props.value||(Ke="");var xe={start:qe,end:qe};if(U(re)){var ze=re({value:Ke,selection:xe},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());Ke=ze.value,xe=ze.selection}this.value=Ke;var He=this.getInputValue()!==this.value;He?(this.setInputValue(this.value),this.forceUpdate()):de&&this.forceUpdate();var Qe=!1;xe.start!=null&&xe.end!=null&&(Qe=!Y||Y.start!==xe.start||Y.end!==xe.end),(Qe||He)&&this.setSelection(xe.start,xe.end)}else Ne.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},K.componentWillUnmount=function(){this.mounted=!1,this.selectionDeferId!==null&&G(this.selectionDeferId),this.stopSaveSelectionLoop()},K.render=function(){var Y,B=this.props,re=(B.mask,B.alwaysShowMask,B.maskChar,B.formatChars,B.inputRef,B.beforeMaskedValueChange,B.children),se=c(B,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(re){U(re)||m(!1);var pe=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],Me=s({},se);pe.forEach(function(Ne){return delete Me[Ne]}),Y=re(Me),pe.filter(function(Ne){return Y.props[Ne]!=null&&Y.props[Ne]!==se[Ne]}).length&&m(!1)}else Y=e.createElement("input",s({ref:this.handleRef},se));var Ae={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(se.disabled||se.readOnly||(Ae.onChange=this.onChange,Ae.onPaste=this.onPaste,Ae.onMouseDown=this.onMouseDown),se.value!=null&&(Ae.value=this.value)),Y=e.cloneElement(Y,Ae)},M}(e.Component);return P_=ae,P_}var kT;function aU(){return kT||(kT=1,O_.exports=sU()),O_.exports}var oU=aU();const lU=lc(oU);var uU=Object.defineProperty,Sp=Object.getOwnPropertySymbols,ZC=Object.prototype.hasOwnProperty,KC=Object.prototype.propertyIsEnumerable,OT=(n,e,t)=>e in n?uU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cv=(n,e)=>{for(var t in e||(e={}))ZC.call(e,t)&&OT(n,t,e[t]);if(Sp)for(var t of Sp(e))KC.call(e,t)&&OT(n,t,e[t]);return n},Rv=(n,e)=>{var t={};for(var i in n)ZC.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Sp)for(var i of Sp(n))e.indexOf(i)<0&&KC.call(n,i)&&(t[i]=n[i]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Wl;(n=>{const e=class Kt{constructor(p,m,g,E){if(this.version=p,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],p<Kt.MIN_VERSION||p>Kt.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let w=[];for(let R=0;R<this.size;R++)w.push(!1);for(let R=0;R<this.size;R++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(g);if(this.drawCodewords(C),E==-1){let R=1e9;for(let O=0;O<8;O++){this.applyMask(O),this.drawFormatBits(O);const D=this.getPenaltyScore();D<R&&(E=O,R=D),this.applyMask(O)}}s(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(p,m){const g=n.QrSegment.makeSegments(p);return Kt.encodeSegments(g,m)}static encodeBinary(p,m){const g=n.QrSegment.makeBytes(p);return Kt.encodeSegments([g],m)}static encodeSegments(p,m,g=1,E=40,w=-1,C=!0){if(!(Kt.MIN_VERSION<=g&&g<=E&&E<=Kt.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let R,O;for(R=g;;R++){const W=Kt.getNumDataCodewords(R,m)*8,ee=c.getTotalBits(p,R);if(ee<=W){O=ee;break}if(R>=E)throw new RangeError("Data too long")}for(const W of[Kt.Ecc.MEDIUM,Kt.Ecc.QUARTILE,Kt.Ecc.HIGH])C&&O<=Kt.getNumDataCodewords(R,W)*8&&(m=W);let D=[];for(const W of p){t(W.mode.modeBits,4,D),t(W.numChars,W.mode.numCharCountBits(R),D);for(const ee of W.getData())D.push(ee)}s(D.length==O);const j=Kt.getNumDataCodewords(R,m)*8;s(D.length<=j),t(0,Math.min(4,j-D.length),D),t(0,(8-D.length%8)%8,D),s(D.length%8==0);for(let W=236;D.length<j;W^=253)t(W,8,D);let te=[];for(;te.length*8<D.length;)te.push(0);return D.forEach((W,ee)=>te[ee>>>3]|=W<<7-(ee&7)),new Kt(R,m,te,w)}getModule(p,m){return 0<=p&&p<this.size&&0<=m&&m<this.size&&this.modules[m][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),m=p.length;for(let g=0;g<m;g++)for(let E=0;E<m;E++)g==0&&E==0||g==0&&E==m-1||g==m-1&&E==0||this.drawAlignmentPattern(p[g],p[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const m=this.errorCorrectionLevel.formatBits<<3|p;let g=m;for(let w=0;w<10;w++)g=g<<1^(g>>>9)*1335;const E=(m<<10|g)^21522;s(E>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(E,w));this.setFunctionModule(8,7,i(E,6)),this.setFunctionModule(8,8,i(E,7)),this.setFunctionModule(7,8,i(E,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(E,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(E,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(E,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let g=0;g<12;g++)p=p<<1^(p>>>11)*7973;const m=this.version<<12|p;s(m>>>18==0);for(let g=0;g<18;g++){const E=i(m,g),w=this.size-11+g%3,C=Math.floor(g/3);this.setFunctionModule(w,C,E),this.setFunctionModule(C,w,E)}}drawFinderPattern(p,m){for(let g=-4;g<=4;g++)for(let E=-4;E<=4;E++){const w=Math.max(Math.abs(E),Math.abs(g)),C=p+E,R=m+g;0<=C&&C<this.size&&0<=R&&R<this.size&&this.setFunctionModule(C,R,w!=2&&w!=4)}}drawAlignmentPattern(p,m){for(let g=-2;g<=2;g++)for(let E=-2;E<=2;E++)this.setFunctionModule(p+E,m+g,Math.max(Math.abs(E),Math.abs(g))!=1)}setFunctionModule(p,m,g){this.modules[m][p]=g,this.isFunction[m][p]=!0}addEccAndInterleave(p){const m=this.version,g=this.errorCorrectionLevel;if(p.length!=Kt.getNumDataCodewords(m,g))throw new RangeError("Invalid argument");const E=Kt.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m],w=Kt.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m],C=Math.floor(Kt.getNumRawDataModules(m)/8),R=E-C%E,O=Math.floor(C/E);let D=[];const j=Kt.reedSolomonComputeDivisor(w);for(let W=0,ee=0;W<E;W++){let ne=p.slice(ee,ee+O-w+(W<R?0:1));ee+=ne.length;const q=Kt.reedSolomonComputeRemainder(ne,j);W<R&&ne.push(0),D.push(ne.concat(q))}let te=[];for(let W=0;W<D[0].length;W++)D.forEach((ee,ne)=>{(W!=O-w||ne>=R)&&te.push(ee[W])});return s(te.length==C),te}drawCodewords(p){if(p.length!=Math.floor(Kt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let E=0;E<this.size;E++)for(let w=0;w<2;w++){const C=g-w,O=(g+1&2)==0?this.size-1-E:E;!this.isFunction[O][C]&&m<p.length*8&&(this.modules[O][C]=i(p[m>>>3],7-(m&7)),m++)}}s(m==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let g=0;g<this.size;g++){let E;switch(p){case 0:E=(g+m)%2==0;break;case 1:E=m%2==0;break;case 2:E=g%3==0;break;case 3:E=(g+m)%3==0;break;case 4:E=(Math.floor(g/3)+Math.floor(m/2))%2==0;break;case 5:E=g*m%2+g*m%3==0;break;case 6:E=(g*m%2+g*m%3)%2==0;break;case 7:E=((g+m)%2+g*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][g]&&E&&(this.modules[m][g]=!this.modules[m][g])}}getPenaltyScore(){let p=0;for(let w=0;w<this.size;w++){let C=!1,R=0,O=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[w][D]==C?(R++,R==5?p+=Kt.PENALTY_N1:R>5&&p++):(this.finderPenaltyAddHistory(R,O),C||(p+=this.finderPenaltyCountPatterns(O)*Kt.PENALTY_N3),C=this.modules[w][D],R=1);p+=this.finderPenaltyTerminateAndCount(C,R,O)*Kt.PENALTY_N3}for(let w=0;w<this.size;w++){let C=!1,R=0,O=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[D][w]==C?(R++,R==5?p+=Kt.PENALTY_N1:R>5&&p++):(this.finderPenaltyAddHistory(R,O),C||(p+=this.finderPenaltyCountPatterns(O)*Kt.PENALTY_N3),C=this.modules[D][w],R=1);p+=this.finderPenaltyTerminateAndCount(C,R,O)*Kt.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let C=0;C<this.size-1;C++){const R=this.modules[w][C];R==this.modules[w][C+1]&&R==this.modules[w+1][C]&&R==this.modules[w+1][C+1]&&(p+=Kt.PENALTY_N2)}let m=0;for(const w of this.modules)m=w.reduce((C,R)=>C+(R?1:0),m);const g=this.size*this.size,E=Math.ceil(Math.abs(m*20-g*10)/g)-1;return s(0<=E&&E<=9),p+=E*Kt.PENALTY_N4,s(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let g=[6];for(let E=this.size-7;g.length<p;E-=m)g.splice(1,0,E);return g}}static getNumRawDataModules(p){if(p<Kt.MIN_VERSION||p>Kt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*p+128)*p+64;if(p>=2){const g=Math.floor(p/7)+2;m-=(25*g-10)*g-55,p>=7&&(m-=36)}return s(208<=m&&m<=29648),m}static getNumDataCodewords(p,m){return Math.floor(Kt.getNumRawDataModules(p)/8)-Kt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p]*Kt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let m=[];for(let E=0;E<p-1;E++)m.push(0);m.push(1);let g=1;for(let E=0;E<p;E++){for(let w=0;w<m.length;w++)m[w]=Kt.reedSolomonMultiply(m[w],g),w+1<m.length&&(m[w]^=m[w+1]);g=Kt.reedSolomonMultiply(g,2)}return m}static reedSolomonComputeRemainder(p,m){let g=m.map(E=>0);for(const E of p){const w=E^g.shift();g.push(0),m.forEach((C,R)=>g[R]^=Kt.reedSolomonMultiply(C,w))}return g}static reedSolomonMultiply(p,m){if(p>>>8||m>>>8)throw new RangeError("Byte out of range");let g=0;for(let E=7;E>=0;E--)g=g<<1^(g>>>7)*285,g^=(m>>>E&1)*p;return s(g>>>8==0),g}finderPenaltyCountPatterns(p){const m=p[1];s(m<=this.size*3);const g=m>0&&p[2]==m&&p[3]==m*3&&p[4]==m&&p[5]==m;return(g&&p[0]>=m*4&&p[6]>=m?1:0)+(g&&p[6]>=m*4&&p[0]>=m?1:0)}finderPenaltyTerminateAndCount(p,m,g){return p&&(this.finderPenaltyAddHistory(m,g),m=0),m+=this.size,this.finderPenaltyAddHistory(m,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(p,m){m[0]==0&&(p+=this.size),m.pop(),m.unshift(p)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(f,p,m){if(p<0||p>31||f>>>p)throw new RangeError("Value out of range");for(let g=p-1;g>=0;g--)m.push(f>>>g&1)}function i(f,p){return(f>>>p&1)!=0}function s(f){if(!f)throw new Error("Assertion error")}const o=class $n{constructor(p,m,g){if(this.mode=p,this.numChars=m,this.bitData=g,m<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(p){let m=[];for(const g of p)t(g,8,m);return new $n($n.Mode.BYTE,p.length,m)}static makeNumeric(p){if(!$n.isNumeric(p))throw new RangeError("String contains non-numeric characters");let m=[];for(let g=0;g<p.length;){const E=Math.min(p.length-g,3);t(parseInt(p.substring(g,g+E),10),E*3+1,m),g+=E}return new $n($n.Mode.NUMERIC,p.length,m)}static makeAlphanumeric(p){if(!$n.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],g;for(g=0;g+2<=p.length;g+=2){let E=$n.ALPHANUMERIC_CHARSET.indexOf(p.charAt(g))*45;E+=$n.ALPHANUMERIC_CHARSET.indexOf(p.charAt(g+1)),t(E,11,m)}return g<p.length&&t($n.ALPHANUMERIC_CHARSET.indexOf(p.charAt(g)),6,m),new $n($n.Mode.ALPHANUMERIC,p.length,m)}static makeSegments(p){return p==""?[]:$n.isNumeric(p)?[$n.makeNumeric(p)]:$n.isAlphanumeric(p)?[$n.makeAlphanumeric(p)]:[$n.makeBytes($n.toUtf8ByteArray(p))]}static makeEci(p){let m=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)t(p,8,m);else if(p<16384)t(2,2,m),t(p,14,m);else if(p<1e6)t(6,3,m),t(p,21,m);else throw new RangeError("ECI assignment value out of range");return new $n($n.Mode.ECI,0,m)}static isNumeric(p){return $n.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return $n.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,m){let g=0;for(const E of p){const w=E.mode.numCharCountBits(m);if(E.numChars>=1<<w)return 1/0;g+=4+w+E.bitData.length}return g}static toUtf8ByteArray(p){p=encodeURI(p);let m=[];for(let g=0;g<p.length;g++)p.charAt(g)!="%"?m.push(p.charCodeAt(g)):(m.push(parseInt(p.substring(g+1,g+3),16)),g+=2);return m}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=o;n.QrSegment=o})(Wl||(Wl={}));(n=>{(e=>{const t=class{constructor(s,o){this.ordinal=s,this.formatBits=o}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(Wl||(Wl={}));(n=>{(e=>{const t=class{constructor(s,o){this.modeBits=s,this.numBitsCharCount=o}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(Wl||(Wl={}));var Ku=Wl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var cU={L:Ku.QrCode.Ecc.LOW,M:Ku.QrCode.Ecc.MEDIUM,Q:Ku.QrCode.Ecc.QUARTILE,H:Ku.QrCode.Ecc.HIGH},$C=128,QC="L",YC="#FFFFFF",WC="#000000",XC=!1,JC=1,hU=4,fU=0,dU=.1;function eR(n,e=0){const t=[];return n.forEach(function(i,s){let o=null;i.forEach(function(c,f){if(!c&&o!==null){t.push(`M${o+e} ${s+e}h${f-o}v1H${o+e}z`),o=null;return}if(f===i.length-1){if(!c)return;o===null?t.push(`M${f+e},${s+e} h1v1H${f+e}z`):t.push(`M${o+e},${s+e} h${f+1-o}v1H${o+e}z`);return}c&&o===null&&(o=f)})}),t.join("")}function tR(n,e){return n.slice().map((t,i)=>i<e.y||i>=e.y+e.h?t:t.map((s,o)=>o<e.x||o>=e.x+e.w?s:!1))}function pU(n,e,t,i){if(i==null)return null;const s=n.length+t*2,o=Math.floor(e*dU),c=s/e,f=(i.width||o)*c,p=(i.height||o)*c,m=i.x==null?n.length/2-f/2:i.x*c,g=i.y==null?n.length/2-p/2:i.y*c,E=i.opacity==null?1:i.opacity;let w=null;if(i.excavate){let R=Math.floor(m),O=Math.floor(g),D=Math.ceil(f+m-R),j=Math.ceil(p+g-O);w={x:R,y:O,w:D,h:j}}const C=i.crossOrigin;return{x:m,y:g,h:p,w:f,excavation:w,opacity:E,crossOrigin:C}}function mU(n,e){return e!=null?Math.max(Math.floor(e),0):n?hU:fU}function nR({value:n,level:e,minVersion:t,includeMargin:i,marginSize:s,imageSettings:o,size:c,boostLevel:f}){let p=mn.useMemo(()=>{const R=(Array.isArray(n)?n:[n]).reduce((O,D)=>(O.push(...Ku.QrSegment.makeSegments(D)),O),[]);return Ku.QrCode.encodeSegments(R,cU[e],t,void 0,void 0,f)},[n,e,t,f]);const{cells:m,margin:g,numCells:E,calculatedImageSettings:w}=mn.useMemo(()=>{let C=p.getModules();const R=mU(i,s),O=C.length+R*2,D=pU(C,c,R,o);return{cells:C,margin:R,numCells:O,calculatedImageSettings:D}},[p,c,o,i,s]);return{qrcode:p,margin:g,cells:m,numCells:E,calculatedImageSettings:w}}var gU=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),_U=mn.forwardRef(function(e,t){const i=e,{value:s,size:o=$C,level:c=QC,bgColor:f=YC,fgColor:p=WC,includeMargin:m=XC,minVersion:g=JC,boostLevel:E,marginSize:w,imageSettings:C}=i,O=Rv(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:D}=O,j=Rv(O,["style"]),te=C?.src,W=mn.useRef(null),ee=mn.useRef(null),ne=mn.useCallback(ie=>{W.current=ie,typeof t=="function"?t(ie):t&&(t.current=ie)},[t]),[q,Z]=mn.useState(!1),{margin:A,cells:S,numCells:P,calculatedImageSettings:V}=nR({value:s,level:c,minVersion:g,boostLevel:E,includeMargin:m,marginSize:w,imageSettings:C,size:o});mn.useEffect(()=>{if(W.current!=null){const ie=W.current,ce=ie.getContext("2d");if(!ce)return;let z=S;const G=ee.current,ae=V!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;ae&&V.excavation!=null&&(z=tR(S,V.excavation));const Q=window.devicePixelRatio||1;ie.height=ie.width=o*Q;const M=o/P*Q;ce.scale(M,M),ce.fillStyle=f,ce.fillRect(0,0,P,P),ce.fillStyle=p,gU?ce.fill(new Path2D(eR(z,A))):S.forEach(function(K,Y){K.forEach(function(B,re){B&&ce.fillRect(re+A,Y+A,1,1)})}),V&&(ce.globalAlpha=V.opacity),ae&&ce.drawImage(G,V.x+A,V.y+A,V.w,V.h)}}),mn.useEffect(()=>{Z(!1)},[te]);const H=Cv({height:o,width:o},D);let U=null;return te!=null&&(U=mn.createElement("img",{src:te,key:te,style:{display:"none"},onLoad:()=>{Z(!0)},ref:ee,crossOrigin:V?.crossOrigin})),mn.createElement(mn.Fragment,null,mn.createElement("canvas",Cv({style:H,height:o,width:o,ref:ne,role:"img"},j)),U)});_U.displayName="QRCodeCanvas";var iR=mn.forwardRef(function(e,t){const i=e,{value:s,size:o=$C,level:c=QC,bgColor:f=YC,fgColor:p=WC,includeMargin:m=XC,minVersion:g=JC,boostLevel:E,title:w,marginSize:C,imageSettings:R}=i,O=Rv(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:D,cells:j,numCells:te,calculatedImageSettings:W}=nR({value:s,level:c,minVersion:g,boostLevel:E,includeMargin:m,marginSize:C,imageSettings:R,size:o});let ee=j,ne=null;R!=null&&W!=null&&(W.excavation!=null&&(ee=tR(j,W.excavation)),ne=mn.createElement("image",{href:R.src,height:W.h,width:W.w,x:W.x+D,y:W.y+D,preserveAspectRatio:"none",opacity:W.opacity,crossOrigin:W.crossOrigin}));const q=eR(ee,D);return mn.createElement("svg",Cv({height:o,width:o,viewBox:`0 0 ${te} ${te}`,ref:t,role:"img"},O),!!w&&mn.createElement("title",null,w),mn.createElement("path",{fill:f,d:`M0,0 h${te}v${te}H0z`,shapeRendering:"crispEdges"}),mn.createElement("path",{fill:p,d:q,shapeRendering:"crispEdges"}),ne)});iR.displayName="QRCodeSVG";const PT=(n,e)=>n?e==="cpf"?n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.***.***-$4"):e==="rg"?n.replace(/(\d{2})(\d{3})(\d{3})(\d{1})/,"$1.***.***-$4"):n:"N/A";function vU({solicitacao:n,trabalhador:e}){if(!n||!e)return x.jsx("div",{className:"cartao-os-loading",children:"Carregando dados do Ticket..."});const t=`https://verificar.chapaamigo.com.br/servico/${n.id}`,i=iR,s=`OS-${n.id.slice(-6).toUpperCase()}`;return i?x.jsxs("div",{id:"cartao-os-para-exportar",className:"cartao-os-container",children:[x.jsxs("header",{className:"cartao-os-header",children:[x.jsx("h2",{children:"TICKET DE SERVIÇO"}),x.jsxs("div",{className:"cartao-os-os",children:[x.jsx(U5,{size:16}),x.jsx("span",{children:s})]})]}),x.jsxs("section",{className:"cartao-os-secao-solicitante",children:[x.jsx("div",{className:"solicitante-icone",children:x.jsx(v5,{size:40})}),x.jsxs("div",{className:"solicitante-info",children:[x.jsx("span",{className:"solicitante-label",children:"SOLICITADO POR"}),x.jsx("h3",{className:"solicitante-nome",children:n?.cliente||"Cliente não informado"})]})]}),x.jsxs("section",{className:"cartao-os-secao-trabalhador",children:[x.jsx("div",{className:"trabalhador-avatar",children:e?.fotoURL?x.jsx("img",{src:e.fotoURL,alt:e.nomeCompleto}):x.jsx(Qy,{size:60})}),x.jsxs("div",{className:"trabalhador-info",children:[x.jsx("span",{className:"trabalhador-label",children:"Trabalhador"}),x.jsx("h3",{className:"trabalhador-nome",children:e?.nomeCompleto}),x.jsxs("div",{className:"trabalhador-docs",children:[x.jsxs("span",{children:[x.jsx("strong",{children:"CPF:"})," ",PT(e?.cpf,"cpf")]}),x.jsxs("span",{children:[x.jsx("strong",{children:"RG:"})," ",PT(e?.rg,"rg")]})]})]})]}),x.jsxs("section",{className:"cartao-os-secao",children:[x.jsxs("h4",{children:[x.jsx(CC,{size:14})," Detalhes da Operação"]}),x.jsxs("div",{className:"detalhe-item-cartao-os",children:[x.jsx("span",{className:"detalhe-label",children:"LOCAL DE APRESENTAÇÃO"}),x.jsx("p",{children:n?.local||"Não informado"})]}),x.jsxs("div",{className:"detalhe-item-cartao-os",children:[x.jsx("span",{className:"detalhe-label",children:"DESCRIÇÃO DO SERVIÇO"}),x.jsx("p",{children:n?.descricaoServico||"Não informado"})]})]}),x.jsxs("section",{className:"cartao-os-secao",children:[x.jsxs("h4",{children:[x.jsx(xC,{size:14})," Requisitos e Equipamentos (EPIs)"]}),x.jsx("p",{className:"requisitos-texto-cartao-os",children:n?.requisitos||"Nenhum requisito específico."})]}),n?.advertencia&&x.jsxs("section",{className:"cartao-os-secao advertencia",children:[x.jsxs("h4",{children:[x.jsx($y,{size:14})," Advertência Importante"]}),x.jsx("p",{children:n.advertencia})]}),x.jsxs("footer",{className:"cartao-os-footer",children:[x.jsx("div",{className:"qr-code-placeholder",children:x.jsx(i,{value:t,size:80,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})}),x.jsxs("div",{className:"plataforma-info",children:[x.jsx("span",{children:"Operação gerenciada pela"}),x.jsx("p",{children:"Plataforma Chapa Amigo"})]})]})]}):x.jsx("div",{children:"Erro ao carregar o componente de QR Code."})}function rR(n,e){return function(){return n.apply(e,arguments)}}const{toString:yU}=Object.prototype,{getPrototypeOf:i0}=Object,{iterator:mm,toStringTag:sR}=Symbol,gm=(n=>e=>{const t=yU.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ls=n=>(n=n.toLowerCase(),e=>gm(e)===n),_m=n=>e=>typeof e===n,{isArray:_c}=Array,Qh=_m("undefined");function EU(n){return n!==null&&!Qh(n)&&n.constructor!==null&&!Qh(n.constructor)&&kr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const aR=Ls("ArrayBuffer");function wU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&aR(n.buffer),e}const bU=_m("string"),kr=_m("function"),oR=_m("number"),vm=n=>n!==null&&typeof n=="object",TU=n=>n===!0||n===!1,Gd=n=>{if(gm(n)!=="object")return!1;const e=i0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sR in n)&&!(mm in n)},AU=Ls("Date"),SU=Ls("File"),CU=Ls("Blob"),RU=Ls("FileList"),xU=n=>vm(n)&&kr(n.pipe),IU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||kr(n.append)&&((e=gm(n))==="formdata"||e==="object"&&kr(n.toString)&&n.toString()==="[object FormData]"))},kU=Ls("URLSearchParams"),[OU,PU,MU,DU]=["ReadableStream","Request","Response","Headers"].map(Ls),NU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),_c(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),c=o.length;let f;for(i=0;i<c;i++)f=o[i],e.call(null,n[f],f,n)}}function lR(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const Fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uR=n=>!Qh(n)&&n!==Fl;function xv(){const{caseless:n}=uR(this)&&this||{},e={},t=(i,s)=>{const o=n&&lR(e,s)||s;Gd(e[o])&&Gd(i)?e[o]=xv(e[o],i):Gd(i)?e[o]=xv({},i):_c(i)?e[o]=i.slice():e[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&mf(arguments[i],t);return e}const LU=(n,e,t,{allOwnKeys:i}={})=>(mf(e,(s,o)=>{t&&kr(s)?n[o]=rR(s,t):n[o]=s},{allOwnKeys:i}),n),VU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),UU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},BU=(n,e,t,i)=>{let s,o,c;const f={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)c=s[o],(!i||i(c,n,e))&&!f[c]&&(e[c]=n[c],f[c]=!0);n=t!==!1&&i0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},FU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},jU=n=>{if(!n)return null;if(_c(n))return n;let e=n.length;if(!oR(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},zU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&i0(Uint8Array)),HU=(n,e)=>{const i=(n&&n[mm]).call(n);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},qU=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},GU=Ls("HTMLFormElement"),ZU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),MT=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),KU=Ls("RegExp"),cR=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};mf(t,(s,o)=>{let c;(c=e(s,o,n))!==!1&&(i[o]=c||s)}),Object.defineProperties(n,i)},$U=n=>{cR(n,(e,t)=>{if(kr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(kr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},QU=(n,e)=>{const t={},i=s=>{s.forEach(o=>{t[o]=!0})};return _c(n)?i(n):i(String(n).split(e)),t},YU=()=>{},WU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function XU(n){return!!(n&&kr(n.append)&&n[sR]==="FormData"&&n[mm])}const JU=n=>{const e=new Array(10),t=(i,s)=>{if(vm(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const o=_c(i)?[]:{};return mf(i,(c,f)=>{const p=t(c,s+1);!Qh(p)&&(o[f]=p)}),e[s]=void 0,o}}return i};return t(n,0)},eB=Ls("AsyncFunction"),tB=n=>n&&(vm(n)||kr(n))&&kr(n.then)&&kr(n.catch),hR=((n,e)=>n?setImmediate:e?((t,i)=>(Fl.addEventListener("message",({source:s,data:o})=>{s===Fl&&o===t&&i.length&&i.shift()()},!1),s=>{i.push(s),Fl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",kr(Fl.postMessage)),nB=typeof queueMicrotask<"u"?queueMicrotask.bind(Fl):typeof process<"u"&&process.nextTick||hR,iB=n=>n!=null&&kr(n[mm]),Re={isArray:_c,isArrayBuffer:aR,isBuffer:EU,isFormData:IU,isArrayBufferView:wU,isString:bU,isNumber:oR,isBoolean:TU,isObject:vm,isPlainObject:Gd,isReadableStream:OU,isRequest:PU,isResponse:MU,isHeaders:DU,isUndefined:Qh,isDate:AU,isFile:SU,isBlob:CU,isRegExp:KU,isFunction:kr,isStream:xU,isURLSearchParams:kU,isTypedArray:zU,isFileList:RU,forEach:mf,merge:xv,extend:LU,trim:NU,stripBOM:VU,inherits:UU,toFlatObject:BU,kindOf:gm,kindOfTest:Ls,endsWith:FU,toArray:jU,forEachEntry:HU,matchAll:qU,isHTMLForm:GU,hasOwnProperty:MT,hasOwnProp:MT,reduceDescriptors:cR,freezeMethods:$U,toObjectSet:QU,toCamelCase:ZU,noop:YU,toFiniteNumber:WU,findKey:lR,global:Fl,isContextDefined:uR,isSpecCompliantForm:XU,toJSONObject:JU,isAsyncFn:eB,isThenable:tB,setImmediate:hR,asap:nB,isIterable:iB};function Dt(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}Re.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const fR=Dt.prototype,dR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{dR[n]={value:n}});Object.defineProperties(Dt,dR);Object.defineProperty(fR,"isAxiosError",{value:!0});Dt.from=(n,e,t,i,s,o)=>{const c=Object.create(fR);return Re.toFlatObject(n,c,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),Dt.call(c,n.message,e,t,i,s),c.cause=n,c.name=n.name,o&&Object.assign(c,o),c};const rB=null;function Iv(n){return Re.isPlainObject(n)||Re.isArray(n)}function pR(n){return Re.endsWith(n,"[]")?n.slice(0,-2):n}function DT(n,e,t){return n?n.concat(e).map(function(s,o){return s=pR(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function sB(n){return Re.isArray(n)&&!n.some(Iv)}const aB=Re.toFlatObject(Re,{},null,function(e){return/^is[A-Z]/.test(e)});function ym(n,e,t){if(!Re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,D){return!Re.isUndefined(D[O])});const i=t.metaTokens,s=t.visitor||g,o=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(e);if(!Re.isFunction(s))throw new TypeError("visitor must be a function");function m(R){if(R===null)return"";if(Re.isDate(R))return R.toISOString();if(Re.isBoolean(R))return R.toString();if(!p&&Re.isBlob(R))throw new Dt("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(R)||Re.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function g(R,O,D){let j=R;if(R&&!D&&typeof R=="object"){if(Re.endsWith(O,"{}"))O=i?O:O.slice(0,-2),R=JSON.stringify(R);else if(Re.isArray(R)&&sB(R)||(Re.isFileList(R)||Re.endsWith(O,"[]"))&&(j=Re.toArray(R)))return O=pR(O),j.forEach(function(W,ee){!(Re.isUndefined(W)||W===null)&&e.append(c===!0?DT([O],ee,o):c===null?O:O+"[]",m(W))}),!1}return Iv(R)?!0:(e.append(DT(D,O,o),m(R)),!1)}const E=[],w=Object.assign(aB,{defaultVisitor:g,convertValue:m,isVisitable:Iv});function C(R,O){if(!Re.isUndefined(R)){if(E.indexOf(R)!==-1)throw Error("Circular reference detected in "+O.join("."));E.push(R),Re.forEach(R,function(j,te){(!(Re.isUndefined(j)||j===null)&&s.call(e,j,Re.isString(te)?te.trim():te,O,w))===!0&&C(j,O?O.concat(te):[te])}),E.pop()}}if(!Re.isObject(n))throw new TypeError("data must be an object");return C(n),e}function NT(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function r0(n,e){this._pairs=[],n&&ym(n,this,e)}const mR=r0.prototype;mR.append=function(e,t){this._pairs.push([e,t])};mR.toString=function(e){const t=e?function(i){return e.call(this,i,NT)}:NT;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function oB(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gR(n,e,t){if(!e)return n;const i=t&&t.encode||oB;Re.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=Re.isURLSearchParams(e)?e.toString():new r0(e,t).toString(i),o){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class LT{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,function(i){i!==null&&e(i)})}}const _R={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lB=typeof URLSearchParams<"u"?URLSearchParams:r0,uB=typeof FormData<"u"?FormData:null,cB=typeof Blob<"u"?Blob:null,hB={isBrowser:!0,classes:{URLSearchParams:lB,FormData:uB,Blob:cB},protocols:["http","https","file","blob","url","data"]},s0=typeof window<"u"&&typeof document<"u",kv=typeof navigator=="object"&&navigator||void 0,fB=s0&&(!kv||["ReactNative","NativeScript","NS"].indexOf(kv.product)<0),dB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pB=s0&&window.location.href||"http://localhost",mB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:s0,hasStandardBrowserEnv:fB,hasStandardBrowserWebWorkerEnv:dB,navigator:kv,origin:pB},Symbol.toStringTag,{value:"Module"})),er={...mB,...hB};function gB(n,e){return ym(n,new er.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,o){return er.isNode&&Re.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function _B(n){return Re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vB(n){const e={},t=Object.keys(n);let i;const s=t.length;let o;for(i=0;i<s;i++)o=t[i],e[o]=n[o];return e}function vR(n){function e(t,i,s,o){let c=t[o++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),p=o>=t.length;return c=!c&&Re.isArray(s)?s.length:c,p?(Re.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!f):((!s[c]||!Re.isObject(s[c]))&&(s[c]=[]),e(t,i,s[c],o)&&Re.isArray(s[c])&&(s[c]=vB(s[c])),!f)}if(Re.isFormData(n)&&Re.isFunction(n.entries)){const t={};return Re.forEachEntry(n,(i,s)=>{e(_B(i),s,t,0)}),t}return null}function yB(n,e,t){if(Re.isString(n))try{return(e||JSON.parse)(n),Re.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const gf={transitional:_R,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,o=Re.isObject(e);if(o&&Re.isHTMLForm(e)&&(e=new FormData(e)),Re.isFormData(e))return s?JSON.stringify(vR(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e)||Re.isReadableStream(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return gB(e,this.formSerializer).toString();if((f=Re.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ym(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),yB(e)):e}],transformResponse:[function(e){const t=this.transitional||gf.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Re.isResponse(e)||Re.isReadableStream(e))return e;if(e&&Re.isString(e)&&(i&&!this.responseType||s)){const c=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?Dt.from(f,Dt.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],n=>{gf.headers[n]={}});const EB=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wB=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(c){s=c.indexOf(":"),t=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!t||e[t]&&EB[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},VT=Symbol("internals");function ph(n){return n&&String(n).trim().toLowerCase()}function Zd(n){return n===!1||n==null?n:Re.isArray(n)?n.map(Zd):String(n)}function bB(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const TB=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function M_(n,e,t,i,s){if(Re.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!Re.isString(e)){if(Re.isString(i))return e.indexOf(i)!==-1;if(Re.isRegExp(i))return i.test(e)}}function AB(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function SB(n,e){const t=Re.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,o,c){return this[i].call(this,e,s,o,c)},configurable:!0})})}let Or=class{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function o(f,p,m){const g=ph(p);if(!g)throw new Error("header name must be a non-empty string");const E=Re.findKey(s,g);(!E||s[E]===void 0||m===!0||m===void 0&&s[E]!==!1)&&(s[E||p]=Zd(f))}const c=(f,p)=>Re.forEach(f,(m,g)=>o(m,g,p));if(Re.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(Re.isString(e)&&(e=e.trim())&&!TB(e))c(wB(e),t);else if(Re.isObject(e)&&Re.isIterable(e)){let f={},p,m;for(const g of e){if(!Re.isArray(g))throw TypeError("Object iterator must return a key-value pair");f[m=g[0]]=(p=f[m])?Re.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}c(f,t)}else e!=null&&o(t,e,i);return this}get(e,t){if(e=ph(e),e){const i=Re.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return bB(s);if(Re.isFunction(t))return t.call(this,s,i);if(Re.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ph(e),e){const i=Re.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||M_(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function o(c){if(c=ph(c),c){const f=Re.findKey(i,c);f&&(!t||M_(i,i[f],f,t))&&(delete i[f],s=!0)}}return Re.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const o=t[i];(!e||M_(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,i={};return Re.forEach(this,(s,o)=>{const c=Re.findKey(i,o);if(c){t[c]=Zd(s),delete t[o];return}const f=e?AB(o):String(o).trim();f!==o&&delete t[o],t[f]=Zd(s),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Re.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&Re.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[VT]=this[VT]={accessors:{}}).accessors,s=this.prototype;function o(c){const f=ph(c);i[f]||(SB(s,c),i[f]=!0)}return Re.isArray(e)?e.forEach(o):o(e),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(Or.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Re.freezeMethods(Or);function D_(n,e){const t=this||gf,i=e||t,s=Or.from(i.headers);let o=i.data;return Re.forEach(n,function(f){o=f.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function yR(n){return!!(n&&n.__CANCEL__)}function vc(n,e,t){Dt.call(this,n??"canceled",Dt.ERR_CANCELED,e,t),this.name="CanceledError"}Re.inherits(vc,Dt,{__CANCEL__:!0});function ER(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Dt("Request failed with status code "+t.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function CB(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function RB(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,o=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),g=i[o];c||(c=m),t[s]=p,i[s]=m;let E=o,w=0;for(;E!==s;)w+=t[E++],E=E%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),m-c<e)return;const C=g&&m-g;return C?Math.round(w*1e3/C):void 0}}function xB(n,e){let t=0,i=1e3/e,s,o;const c=(m,g=Date.now())=>{t=g,s=null,o&&(clearTimeout(o),o=null),n.apply(null,m)};return[(...m)=>{const g=Date.now(),E=g-t;E>=i?c(m,g):(s=m,o||(o=setTimeout(()=>{o=null,c(s)},i-E)))},()=>s&&c(s)]}const Cp=(n,e,t=3)=>{let i=0;const s=RB(50,250);return xB(o=>{const c=o.loaded,f=o.lengthComputable?o.total:void 0,p=c-i,m=s(p),g=c<=f;i=c;const E={loaded:c,total:f,progress:f?c/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&g?(f-c)/m:void 0,event:o,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(E)},t)},UT=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},BT=n=>(...e)=>Re.asap(()=>n(...e)),IB=er.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,er.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,kB=er.hasStandardBrowserEnv?{write(n,e,t,i,s,o){const c=[n+"="+encodeURIComponent(e)];Re.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),Re.isString(i)&&c.push("path="+i),Re.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OB(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function PB(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function wR(n,e,t){let i=!OB(e);return n&&(i||t==!1)?PB(n,e):e}const FT=n=>n instanceof Or?{...n}:n;function Xl(n,e){e=e||{};const t={};function i(m,g,E,w){return Re.isPlainObject(m)&&Re.isPlainObject(g)?Re.merge.call({caseless:w},m,g):Re.isPlainObject(g)?Re.merge({},g):Re.isArray(g)?g.slice():g}function s(m,g,E,w){if(Re.isUndefined(g)){if(!Re.isUndefined(m))return i(void 0,m,E,w)}else return i(m,g,E,w)}function o(m,g){if(!Re.isUndefined(g))return i(void 0,g)}function c(m,g){if(Re.isUndefined(g)){if(!Re.isUndefined(m))return i(void 0,m)}else return i(void 0,g)}function f(m,g,E){if(E in e)return i(m,g);if(E in n)return i(void 0,m)}const p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(m,g,E)=>s(FT(m),FT(g),E,!0)};return Re.forEach(Object.keys(Object.assign({},n,e)),function(g){const E=p[g]||s,w=E(n[g],e[g],g);Re.isUndefined(w)&&E!==f||(t[g]=w)}),t}const bR=n=>{const e=Xl({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:c,auth:f}=e;e.headers=c=Or.from(c),e.url=gR(wR(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(Re.isFormData(t)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...g]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...g].join("; "))}}if(er.hasStandardBrowserEnv&&(i&&Re.isFunction(i)&&(i=i(e)),i||i!==!1&&IB(e.url))){const m=s&&o&&kB.read(o);m&&c.set(s,m)}return e},MB=typeof XMLHttpRequest<"u",DB=MB&&function(n){return new Promise(function(t,i){const s=bR(n);let o=s.data;const c=Or.from(s.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=s,g,E,w,C,R;function O(){C&&C(),R&&R(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function j(){if(!D)return;const W=Or.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ne={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:W,config:n,request:D};ER(function(Z){t(Z),O()},function(Z){i(Z),O()},ne),D=null}"onloadend"in D?D.onloadend=j:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(j)},D.onabort=function(){D&&(i(new Dt("Request aborted",Dt.ECONNABORTED,n,D)),D=null)},D.onerror=function(){i(new Dt("Network Error",Dt.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let ee=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ne=s.transitional||_R;s.timeoutErrorMessage&&(ee=s.timeoutErrorMessage),i(new Dt(ee,ne.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,n,D)),D=null},o===void 0&&c.setContentType(null),"setRequestHeader"in D&&Re.forEach(c.toJSON(),function(ee,ne){D.setRequestHeader(ne,ee)}),Re.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),f&&f!=="json"&&(D.responseType=s.responseType),m&&([w,R]=Cp(m,!0),D.addEventListener("progress",w)),p&&D.upload&&([E,C]=Cp(p),D.upload.addEventListener("progress",E),D.upload.addEventListener("loadend",C)),(s.cancelToken||s.signal)&&(g=W=>{D&&(i(!W||W.type?new vc(null,n,D):W),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const te=CB(s.url);if(te&&er.protocols.indexOf(te)===-1){i(new Dt("Unsupported protocol "+te+":",Dt.ERR_BAD_REQUEST,n));return}D.send(o||null)})},NB=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const o=function(m){if(!s){s=!0,f();const g=m instanceof Error?m:this.reason;i.abort(g instanceof Dt?g:new vc(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,o(new Dt(`timeout ${e} of ms exceeded`,Dt.ETIMEDOUT))},e);const f=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),n=null)};n.forEach(m=>m.addEventListener("abort",o));const{signal:p}=i;return p.unsubscribe=()=>Re.asap(f),p}},LB=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},VB=async function*(n,e){for await(const t of UB(n))yield*LB(t,e)},UB=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},jT=(n,e,t,i)=>{const s=VB(n,e);let o=0,c,f=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:g}=await s.next();if(m){f(),p.close();return}let E=g.byteLength;if(t){let w=o+=E;t(w)}p.enqueue(new Uint8Array(g))}catch(m){throw f(m),m}},cancel(p){return f(p),s.return()}},{highWaterMark:2})},Em=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TR=Em&&typeof ReadableStream=="function",BB=Em&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),AR=(n,...e)=>{try{return!!n(...e)}catch{return!1}},FB=TR&&AR(()=>{let n=!1;const e=new Request(er.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),zT=64*1024,Ov=TR&&AR(()=>Re.isReadableStream(new Response("").body)),Rp={stream:Ov&&(n=>n.body)};Em&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rp[e]&&(Rp[e]=Re.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Dt(`Response type '${e}' is not supported`,Dt.ERR_NOT_SUPPORT,i)})})})(new Response);const jB=async n=>{if(n==null)return 0;if(Re.isBlob(n))return n.size;if(Re.isSpecCompliantForm(n))return(await new Request(er.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(n)||Re.isArrayBuffer(n))return n.byteLength;if(Re.isURLSearchParams(n)&&(n=n+""),Re.isString(n))return(await BB(n)).byteLength},zB=async(n,e)=>{const t=Re.toFiniteNumber(n.getContentLength());return t??jB(e)},HB=Em&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:o,timeout:c,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:g,withCredentials:E="same-origin",fetchOptions:w}=bR(n);m=m?(m+"").toLowerCase():"text";let C=NB([s,o&&o.toAbortSignal()],c),R;const O=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let D;try{if(p&&FB&&t!=="get"&&t!=="head"&&(D=await zB(g,i))!==0){let ne=new Request(e,{method:"POST",body:i,duplex:"half"}),q;if(Re.isFormData(i)&&(q=ne.headers.get("content-type"))&&g.setContentType(q),ne.body){const[Z,A]=UT(D,Cp(BT(p)));i=jT(ne.body,zT,Z,A)}}Re.isString(E)||(E=E?"include":"omit");const j="credentials"in Request.prototype;R=new Request(e,{...w,signal:C,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:j?E:void 0});let te=await fetch(R,w);const W=Ov&&(m==="stream"||m==="response");if(Ov&&(f||W&&O)){const ne={};["status","statusText","headers"].forEach(S=>{ne[S]=te[S]});const q=Re.toFiniteNumber(te.headers.get("content-length")),[Z,A]=f&&UT(q,Cp(BT(f),!0))||[];te=new Response(jT(te.body,zT,Z,()=>{A&&A(),O&&O()}),ne)}m=m||"text";let ee=await Rp[Re.findKey(Rp,m)||"text"](te,n);return!W&&O&&O(),await new Promise((ne,q)=>{ER(ne,q,{data:ee,headers:Or.from(te.headers),status:te.status,statusText:te.statusText,config:n,request:R})})}catch(j){throw O&&O(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Dt("Network Error",Dt.ERR_NETWORK,n,R),{cause:j.cause||j}):Dt.from(j,j&&j.code,n,R)}}),Pv={http:rB,xhr:DB,fetch:HB};Re.forEach(Pv,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const HT=n=>`- ${n}`,qB=n=>Re.isFunction(n)||n===null||n===!1,SR={getAdapter:n=>{n=Re.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let o=0;o<e;o++){t=n[o];let c;if(i=t,!qB(t)&&(i=Pv[(c=String(t)).toLowerCase()],i===void 0))throw new Dt(`Unknown adapter '${c}'`);if(i)break;s[c||"#"+o]=i}if(!i){const o=Object.entries(s).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(HT).join(`
`):" "+HT(o[0]):"as no adapter specified";throw new Dt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Pv};function N_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new vc(null,n)}function qT(n){return N_(n),n.headers=Or.from(n.headers),n.data=D_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),SR.getAdapter(n.adapter||gf.adapter)(n).then(function(i){return N_(n),i.data=D_.call(n,n.transformResponse,i),i.headers=Or.from(i.headers),i},function(i){return yR(i)||(N_(n),i&&i.response&&(i.response.data=D_.call(n,n.transformResponse,i.response),i.response.headers=Or.from(i.response.headers))),Promise.reject(i)})}const CR="1.10.0",wm={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{wm[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const GT={};wm.transitional=function(e,t,i){function s(o,c){return"[Axios v"+CR+"] Transitional option '"+o+"'"+c+(i?". "+i:"")}return(o,c,f)=>{if(e===!1)throw new Dt(s(c," has been removed"+(t?" in "+t:"")),Dt.ERR_DEPRECATED);return t&&!GT[c]&&(GT[c]=!0,console.warn(s(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,f):!0}};wm.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function GB(n,e,t){if(typeof n!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const o=i[s],c=e[o];if(c){const f=n[o],p=f===void 0||c(f,o,n);if(p!==!0)throw new Dt("option "+o+" must be "+p,Dt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Dt("Unknown option "+o,Dt.ERR_BAD_OPTION)}}const Kd={assertOptions:GB,validators:wm},Ws=Kd.validators;let Gl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new LT,response:new LT}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Xl(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:o}=t;i!==void 0&&Kd.assertOptions(i,{silentJSONParsing:Ws.transitional(Ws.boolean),forcedJSONParsing:Ws.transitional(Ws.boolean),clarifyTimeoutError:Ws.transitional(Ws.boolean)},!1),s!=null&&(Re.isFunction(s)?t.paramsSerializer={serialize:s}:Kd.assertOptions(s,{encode:Ws.function,serialize:Ws.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Kd.assertOptions(t,{baseUrl:Ws.spelling("baseURL"),withXsrfToken:Ws.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&Re.merge(o.common,o[t.method]);o&&Re.forEach(["delete","get","head","post","put","patch","common"],R=>{delete o[R]}),t.headers=Or.concat(c,o);const f=[];let p=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(p=p&&O.synchronous,f.unshift(O.fulfilled,O.rejected))});const m=[];this.interceptors.response.forEach(function(O){m.push(O.fulfilled,O.rejected)});let g,E=0,w;if(!p){const R=[qT.bind(this),void 0];for(R.unshift.apply(R,f),R.push.apply(R,m),w=R.length,g=Promise.resolve(t);E<w;)g=g.then(R[E++],R[E++]);return g}w=f.length;let C=t;for(E=0;E<w;){const R=f[E++],O=f[E++];try{C=R(C)}catch(D){O.call(this,D);break}}try{g=qT.call(this,C)}catch(R){return Promise.reject(R)}for(E=0,w=m.length;E<w;)g=g.then(m[E++],m[E++]);return g}getUri(e){e=Xl(this.defaults,e);const t=wR(e.baseURL,e.url,e.allowAbsoluteUrls);return gR(t,e.params,e.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(e){Gl.prototype[e]=function(t,i){return this.request(Xl(i||{},{method:e,url:t,data:(i||{}).data}))}});Re.forEach(["post","put","patch"],function(e){function t(i){return function(o,c,f){return this.request(Xl(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Gl.prototype[e]=t(),Gl.prototype[e+"Form"]=t(!0)});let ZB=class RR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const c=new Promise(f=>{i.subscribe(f),o=f}).then(s);return c.cancel=function(){i.unsubscribe(o)},c},e(function(o,c,f){i.reason||(i.reason=new vc(o,c,f),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new RR(function(s){e=s}),cancel:e}}};function KB(n){return function(t){return n.apply(null,t)}}function $B(n){return Re.isObject(n)&&n.isAxiosError===!0}const Mv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mv).forEach(([n,e])=>{Mv[e]=n});function xR(n){const e=new Gl(n),t=rR(Gl.prototype.request,e);return Re.extend(t,Gl.prototype,e,{allOwnKeys:!0}),Re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return xR(Xl(n,s))},t}const ri=xR(gf);ri.Axios=Gl;ri.CanceledError=vc;ri.CancelToken=ZB;ri.isCancel=yR;ri.VERSION=CR;ri.toFormData=ym;ri.AxiosError=Dt;ri.Cancel=ri.CanceledError;ri.all=function(e){return Promise.all(e)};ri.spread=KB;ri.isAxiosError=$B;ri.mergeConfig=Xl;ri.AxiosHeaders=Or;ri.formToJSON=n=>vR(Re.isHTMLForm(n)?new FormData(n):n);ri.getAdapter=SR.getAdapter;ri.HttpStatusCode=Mv;ri.default=ri;const{Axios:R8,AxiosError:x8,CanceledError:I8,isCancel:k8,CancelToken:O8,VERSION:P8,all:M8,Cancel:D8,isAxiosError:N8,spread:L8,toFormData:V8,AxiosHeaders:U8,HttpStatusCode:B8,formToJSON:F8,getAdapter:j8,mergeConfig:z8}=ri,QB=({onClose:n})=>{const e={cliente:"",veiculo:"",descricaoServico:"",estabelecimento:"",endereco:{cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""},dataServico:"",periodoInicio:"Manhã (08:00 - 12:00)",outroHorario:"",prazoTermino:"",valorServicoBruto:"",formaPagamento:"PIX",requisitos:{"Uso de botas/calçado de segurança":!1,"Uso de óculos de proteção":!1,"Uso de colete refletivo":!1,"Uso de capacete":!1,"Uso de cinta ergonômica":!1,"Uso de luvas":!1,"Levar documento original":!1,"Proibido uso de celular":!1},termosAceitos:!1},[t,i]=he.useState(e),[s,o]=he.useState(!1),c=R=>{const{name:O,value:D}=R.target;i(j=>({...j,[O]:D}))},f=R=>{const{name:O,value:D}=R.target;i(j=>({...j,endereco:{...j.endereco,[O]:D}}))},p=async R=>{const O=R.target.value.replace(/\D/g,"");if(f({target:{name:"cep",value:R.target.value}}),O.length===8)try{const{data:D}=await ri.get(`https://viacep.com.br/ws/${O}/json/`);D.erro||i(j=>({...j,endereco:{...j.endereco,logradouro:D.logradouro,bairro:D.bairro,cidade:D.localidade,estado:D.uf}}))}catch(D){console.error("Erro ao buscar CEP:",D)}},m=R=>{const{name:O,checked:D}=R.target;i(j=>({...j,requisitos:{...j.requisitos,[O]:D}}))},g=R=>{const{value:O}=R.target,D=O.replace(/[R$\.,]/g,"");i(j=>({...j,valorServicoBruto:D}))},E=t.formaPagamento==="Pagamento pela Plataforma",w=E&&!t.termosAceitos,C=async R=>{if(R.preventDefault(),w){alert("Você deve aceitar os termos e condições para pagamentos via plataforma.");return}o(!0);try{const O=parseFloat(t.valorServicoBruto)/100||0,D=t.dataServico?nn.fromDate(new Date(t.dataServico)):nn.now(),j=t.prazoTermino?nn.fromDate(new Date(t.prazoTermino)):null,te={...t,valorServicoBruto:O,dataSolicitacao:D,prazoTermino:j,status:"pendente",timestampCriacao:nn.now()};await om(ja(ti,"solicitacoes"),te),alert("Ordem de Serviço criada com sucesso!"),n()}catch(O){console.error("Erro ao criar Ordem de Serviço: ",O),alert("Falha ao criar a Ordem de Serviço. Tente novamente.")}finally{o(!1)}};return x.jsxs("form",{onSubmit:C,children:[x.jsxs("div",{className:"form-grid",children:[x.jsxs("div",{className:"form-section",children:[x.jsx("h4",{className:"form-section-title",children:"Informações Gerais"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Cliente / Veículo"}),x.jsx("input",{type:"text",name:"cliente",value:t.cliente,onChange:c,required:!0,placeholder:"Nome do Cliente ou Empresa"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Descrição do Serviço"}),x.jsx("textarea",{name:"descricaoServico",value:t.descricaoServico,onChange:c,rows:"3",required:!0,placeholder:"Ex: Carga e descarga de caixas..."})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsx("h4",{className:"form-section-title",children:"Endereço do Serviço"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Estabelecimento (Opcional)"}),x.jsx("input",{type:"text",name:"estabelecimento",value:t.estabelecimento,onChange:c,placeholder:"Ex: Hypermercado Vende Mais"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"CEP"}),x.jsx("input",{type:"text",name:"cep",value:t.endereco.cep,onChange:p,maxLength:"9",placeholder:"Digite o CEP"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Rua / Logradouro"}),x.jsx("input",{type:"text",name:"logradouro",value:t.endereco.logradouro,onChange:f,required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Número"}),x.jsx("input",{type:"text",name:"numero",value:t.endereco.numero,onChange:f,required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Bairro"}),x.jsx("input",{type:"text",name:"bairro",value:t.endereco.bairro,onChange:f,required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Cidade"}),x.jsx("input",{type:"text",name:"cidade",value:t.endereco.cidade,onChange:f,required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Estado"}),x.jsx("input",{type:"text",name:"estado",value:t.endereco.estado,onChange:f,required:!0,maxLength:"2"})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsx("h4",{className:"form-section-title",children:"Data e Hora"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Data e Hora do Serviço"}),x.jsx("input",{type:"datetime-local",name:"dataServico",value:t.dataServico,onChange:c,required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Período de Início"}),x.jsxs("div",{className:"horario-outro-group",children:[x.jsxs("select",{name:"periodoInicio",value:t.periodoInicio,onChange:c,children:[x.jsx("option",{children:"Manhã (08:00 - 12:00)"}),x.jsx("option",{children:"Tarde (13:00 - 18:00)"}),x.jsx("option",{children:"Noite (19:00 - 22:00)"}),x.jsx("option",{children:"Outro"})]}),t.periodoInicio==="Outro"&&x.jsx("input",{type:"text",name:"outroHorario",placeholder:"Digite o horário",value:t.outroHorario,onChange:c})]})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Prazo para Término (Opcional)"}),x.jsx("input",{type:"datetime-local",name:"prazoTermino",value:t.prazoTermino,onChange:c})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsx("h4",{className:"form-section-title",children:"Detalhes Financeiros"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Valor Ofertado"}),x.jsx(lU,{mask:"R$ 99.999,99",maskChar:null,value:t.valorServicoBruto,onChange:g,children:R=>x.jsx("input",{...R,type:"text",placeholder:"R$ 0,00",required:!0})})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Forma de Pagamento"}),x.jsxs("select",{name:"formaPagamento",value:t.formaPagamento,onChange:c,children:[x.jsx("option",{children:"PIX"}),x.jsx("option",{children:"Dinheiro no Ato"}),x.jsx("option",{children:"Pagamento pela Plataforma"})]})]})]}),x.jsxs("div",{className:"form-section",style:{gridColumn:"1 / -1"},children:[x.jsx("h4",{className:"form-section-title",children:"Requisitos e Advertências"}),x.jsx("div",{className:"requisitos-container",children:Object.keys(t.requisitos).map(R=>x.jsxs("div",{className:"requisito-item",children:[x.jsx("input",{type:"checkbox",id:R,name:R,checked:t.requisitos[R],onChange:m}),x.jsx("label",{htmlFor:R,children:R.replace(/_/g," ")})]},R))})]}),x.jsx("div",{className:"form-section",style:{gridColumn:"1 / -1"},children:x.jsxs("div",{className:`termos-container ${E?"":"disabled"}`,children:[x.jsx("input",{type:"checkbox",id:"termosAceitos",name:"termosAceitos",checked:t.termosAceitos,onChange:R=>i(O=>({...O,termosAceitos:R.target.checked})),disabled:!E}),x.jsx("label",{htmlFor:"termosAceitos",children:"Li e aceito os termos e condições de pagamento pela Plataforma."})]})})]}),x.jsxs("div",{className:"form-actions",children:[x.jsx("button",{type:"button",className:"cancel-button",onClick:n,children:"Cancelar"}),x.jsx("button",{type:"submit",className:"submit-os-button",disabled:s||w,children:s?x.jsx(Kh,{className:"animate-spin"}):"Criar Ordem de Serviço"})]})]})};function YB(){const[n,e]=he.useState([]),[t,i]=he.useState(!0),[s,o]=he.useState(!1),[c,f]=he.useState(!1),[p,m]=he.useState(null),[g,E]=he.useState([]),[w,C]=he.useState(!1),[R,O]=he.useState(!1),[D,j]=he.useState(null),[te,W]=he.useState(""),[ee,ne]=he.useState(!1),q={"São Paulo (Capital)":["SP (Capital)"],"SP (Capital)":["São Paulo (Capital)"]},Z=K=>{switch(K){case"pendente":return{icon:x.jsx(M5,{size:16}),text:"Pendente",color:"text-yellow-500"};case"aguardando_resposta":return{icon:x.jsx(F5,{size:16}),text:"Aguardando Resposta",color:"text-cyan-500"};case"confirmado":return{icon:x.jsx(_T,{size:16}),text:"Chapa Confirmado",color:"text-green-500"};case"finalizado":return{icon:x.jsx(_T,{size:16}),text:"Serviço Finalizado",color:"text-blue-500"};case"cancelado":return{icon:x.jsx(Av,{size:16}),text:"Cancelado",color:"text-red-500"};case"arquivado":return{icon:x.jsx(Hd,{size:16}),text:"Arquivado",color:"text-gray-400"};default:return{icon:x.jsx(RC,{size:16}),text:"Status Desconhecido",color:"text-gray-500"}}},A=i5(s5,"enviarConviteOS");he.useEffect(()=>{i(!0);const K=ja(ti,"solicitacoes"),B=Gh(K,Ep("status","in",["pendente","aguardando_resposta","confirmado","finalizado","cancelado"]),J2("timestampCriacao","desc")),re=iC(B,se=>{const pe=se.docs.map(Me=>({...Me.data(),id:Me.id}));e(pe),i(!1)},se=>{console.error("Erro ao escutar atualizações de solicitações: ",se),i(!1)});return()=>re()},[]);const S=async(K=null,Y="")=>{C(!0),E([]);try{const B=ja(ti,"chapas_b2b"),re=Gh(B,Ep("status","==","Disponível")),pe=(await Zh(re)).docs.map(Ae=>({...Ae.data(),id:Ae.id}));let Me=[];if(Y){const Ae=Y.toLowerCase();Me=pe.filter(Ne=>Ne.nomeCompleto.toLowerCase().includes(Ae))}else if(K){const Ae=[K,...q[K]||[]];Me=pe.filter(Ne=>Ae.some(je=>Ne.regiao?.includes(je)))}else Me=pe;E(Me)}catch(B){console.error("Erro ao buscar trabalhadores:",B)}finally{C(!1)}},P=K=>{m(K),o(!0),K.status==="pendente"&&S(K.endereco.cidade)},V=K=>{W(K.target.value)},H=K=>{K.preventDefault(),S(null,te)},U=()=>{W(""),p&&S(p.endereco.cidade)},ie=async K=>{if(!K.chapaAlocadoId)return;j(null);const Y=ps(ti,"chapas_b2b",K.chapaAlocadoId),B=await w3(Y);B.exists()?(j(B.data()),m(K),O(!0)):alert("Não foi possível encontrar os dados do trabalhador alocado.")},ce=()=>{o(!1),m(null),E([]),W("")},z=()=>{O(!1),m(null),j(null)},G=async K=>{if(!p||!K){alert("Erro: Solicitação ou trabalhador não selecionado.");return}ne(!0);try{const Y=ps(ti,"solicitacoes",p.id);await Oh(Y,{status:"aguardando_resposta"});const B={chapaId:K.id,nomeChapa:K.nomeCompleto,telefoneChapa:K.telefone,idOS:p.id,solicitacaoData:p};await A(B),alert(`Convite via WhatsApp enviado para ${K.nomeCompleto}!`),ce()}catch(Y){console.error("Erro ao enviar convite: ",Y),alert(`Ocorreu um erro ao tentar enviar o convite: ${Y.message}`);const B=ps(ti,"solicitacoes",p.id);await Oh(B,{status:"pendente"})}finally{ne(!1)}},ae=async K=>{if(K.chapaAlocadoId&&window.confirm(`Tem certeza que deseja finalizar este serviço e liberar o trabalhador ${K.chapaAlocadoNome}?`))try{const Y=sC(ti),B=ps(ti,"solicitacoes",K.id);Y.update(B,{status:"finalizado",timestampFim:nn.now()});const re=ps(ti,"chapas_b2b",K.chapaAlocadoId);Y.update(re,{status:"Disponível"}),await Y.commit()}catch(Y){console.error("Erro ao finalizar serviço: ",Y)}},Q=async K=>{if(window.confirm("Tem certeza que deseja arquivar este serviço?"))try{const Y=ps(ti,"solicitacoes",K);await Oh(Y,{status:"arquivado"})}catch(Y){console.error("Erro ao arquivar serviço:",Y),alert("Ocorreu um erro ao tentar arquivar o serviço.")}},M=()=>{window.print()};return x.jsxs("div",{children:[x.jsxs("div",{className:"solicitacoes-header",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"solicitacoes-title",children:"Mesa de Operações"}),x.jsx("p",{className:"solicitacoes-subtitle",children:"Visão geral de todas as solicitações de serviço dos clientes."})]}),x.jsx("button",{className:"new-os-button",onClick:()=>f(!0),children:"+ Criar Nova Ordem de Serviço"})]}),x.jsx("div",{className:"table-container",children:x.jsxs("table",{className:"solicitacoes-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Cliente / Trabalhador"}),x.jsx("th",{children:"Datas"}),x.jsx("th",{children:"Status"}),x.jsx("th",{children:"Ações"})]})}),x.jsx("tbody",{children:t?x.jsx("tr",{children:x.jsxs("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:[x.jsx(Kh,{size:24,className:"animate-spin inline-block mr-2"})," Carregando..."]})}):n.length>0?n.map(K=>{const Y=Z(K.status);return x.jsxs("tr",{children:[x.jsxs("td",{children:[x.jsx("div",{style:{fontWeight:600},children:K.cliente}),K.chapaAlocadoNome&&x.jsxs("div",{style:{fontSize:"0.8rem",color:"#6b7280",marginTop:"4px"},children:[x.jsx("span",{style:{fontWeight:500},children:"Alocado:"})," ",K.chapaAlocadoNome]})]}),x.jsx("td",{children:x.jsxs("div",{className:"datas-cell",children:[x.jsxs("span",{children:[x.jsx("strong",{children:"Serviço:"})," ",K.dataSolicitacao?.toDate().toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})||"N/A"]}),K.timestampFim&&x.jsxs("span",{children:[x.jsx("strong",{children:"Finalizado:"})," ",K.timestampFim.toDate().toLocaleDateString("pt-BR")]})]})}),x.jsx("td",{children:x.jsxs("div",{className:`status-cell ${Y.color}`,children:[Y.icon,x.jsx("span",{children:Y.text})]})}),x.jsx("td",{children:x.jsxs("div",{className:"acoes-cell",children:[K.status==="pendente"&&x.jsx("button",{className:"view-details-button",onClick:()=>P(K),children:" Encontrar Chapa "}),K.status==="aguardando_resposta"&&x.jsx("button",{className:"view-details-button-disabled",disabled:!0,children:" Aguardando... "}),K.status==="confirmado"&&x.jsxs(x.Fragment,{children:[" ",x.jsx("button",{className:"view-details-button",onClick:()=>P(K),children:" Ver Detalhes "})," ",x.jsxs("button",{className:"ticket-button",onClick:()=>ie(K),children:[" ",x.jsx(vT,{size:16})," Ver Ticket "]})," ",x.jsx("button",{className:"finish-button",onClick:()=>ae(K),children:" Finalizar "})," "]}),K.status==="finalizado"&&x.jsxs(x.Fragment,{children:[" ",x.jsx("button",{className:"view-details-button",onClick:()=>P(K),children:" Ver Detalhes "})," ",x.jsxs("button",{className:"ticket-button",onClick:()=>ie(K),children:[" ",x.jsx(vT,{size:16})," Ver Ticket "]})," ",x.jsxs("button",{className:"archive-button",onClick:()=>Q(K.id),children:[" ",x.jsx(Hd,{size:16})," Arquivar "]})," "]}),K.status==="cancelado"&&x.jsxs(x.Fragment,{children:[" ",x.jsx("button",{className:"view-details-button",onClick:()=>P(K),children:" Ver Detalhes "})," ",x.jsxs("button",{className:"archive-button",onClick:()=>Q(K.id),children:[" ",x.jsx(Hd,{size:16})," Arquivar "]})," "]})]})})]},K.id)}):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Nenhuma solicitação ativa encontrada."})})})]})}),x.jsx(ec,{isOpen:c,onClose:()=>f(!1),title:"Criar Nova Ordem de Serviço",children:x.jsx(QB,{onClose:()=>f(!1)})}),x.jsx(ec,{isOpen:s,onClose:ce,title:p?.status==="pendente"?"Encontrar Trabalhador":"Detalhes do Serviço",children:p?.status!=="pendente"?x.jsxs("div",{children:[x.jsxs("div",{className:"printable-area documento-gala-container",children:[x.jsxs("header",{className:"gala-header",children:[x.jsx("img",{src:"/images/logochapa.svg",alt:"Chapa Amigo Empresas",className:"gala-logo"}),x.jsxs("div",{className:"gala-title",children:[x.jsx("h2",{children:"Documento de Serviço"}),x.jsxs("p",{children:["OS #",p?.id.substring(0,8).toUpperCase()]})]})]}),x.jsxs("section",{className:"gala-section",children:[x.jsx("h3",{className:"gala-section-title",children:"Detalhes da Operação"}),x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Cliente:"}),x.jsx("span",{className:"gala-dado",children:p?.cliente})]}),x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Local:"}),x.jsx("span",{className:"gala-dado",children:`${p?.endereco?.logradouro}, ${p?.endereco?.numero} - ${p?.endereco?.bairro}, ${p?.endereco?.cidade}-${p?.endereco?.estado}`})]}),p?.chapaAlocadoNome&&x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Trabalhador:"}),x.jsx("span",{className:"gala-dado alocado",children:p?.chapaAlocadoNome})]})]}),x.jsxs("section",{className:"gala-section",children:[x.jsx("h3",{className:"gala-section-title",children:"Escopo do Serviço"}),x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Descrição:"}),x.jsx("span",{className:"gala-dado descricao",children:p?.descricaoServico})]}),p?.requisitos&&x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Requisitos:"}),x.jsx("span",{className:"gala-dado",children:p?.requisitos})]})]}),x.jsxs("section",{className:"gala-section",children:[x.jsx("h3",{className:"gala-section-title",children:"Informações Financeiras e Temporais"}),x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Valor Ofertado:"}),x.jsxs("span",{className:"gala-dado",children:["R$ ",p?.valorServicoBruto?.toFixed(2).replace(".",",")]})]}),x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Pagamento:"}),x.jsx("span",{className:"gala-dado",children:p?.formaPagamento})]}),x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Solicitado em:"}),x.jsx("span",{className:"gala-dado",children:p?.dataSolicitacao.toDate().toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})})]}),p?.timestampFim&&x.jsxs("div",{className:"gala-item",children:[x.jsx("span",{className:"gala-label",children:"Fim do Serviço:"}),x.jsx("span",{className:"gala-dado",children:p?.timestampFim.toDate().toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})})]})]}),x.jsx("footer",{className:"gala-footer",children:"Documento gerado por Chapa Amigo Empresas"})]}),x.jsx("div",{className:"modal-footer-actions",style:{justifyContent:"flex-end",paddingTop:"1rem"},children:x.jsxs("button",{onClick:M,className:"print-button",children:[x.jsx(X5,{size:16})," Imprimir / Salvar PDF"]})})]}):x.jsx("div",{className:"curadoria-container",children:x.jsxs("div",{className:"curadoria-coluna",children:[x.jsx("h3",{children:"Buscar Trabalhadores"}),x.jsxs("div",{className:"search-container",children:[x.jsxs("form",{onSubmit:H,className:"search-form",children:[x.jsxs("div",{className:"search-input-wrapper",children:[x.jsx(eV,{size:18,className:"search-icon"}),x.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:te,onChange:V})]}),x.jsx("button",{type:"submit",children:"Buscar"})]}),x.jsxs("button",{onClick:U,className:"clear-search-button",children:[x.jsx(PC,{size:14})," Limpar e ver sugestões"]})]}),w?x.jsx("p",{style:{textAlign:"center",flexGrow:1},children:"Buscando..."}):x.jsx("div",{className:"lista-sugeridos",children:g.length>0?g.map(K=>x.jsxs("div",{className:"sugerido-item",children:[x.jsxs("div",{className:"sugerido-info",children:[K.fotoURL?x.jsx("img",{src:K.fotoURL,alt:K.nomeCompleto,className:"sugerido-avatar"}):x.jsx("div",{className:"user-avatar",style:{width:"40px",height:"40px"},children:x.jsx(Qy,{size:18})}),x.jsxs("div",{children:[x.jsx("span",{className:"sugerido-nome",children:K.nomeCompleto}),x.jsx("span",{className:"sugerido-regiao",children:K.regiao})]})]}),x.jsx("button",{className:"alocar-btn",onClick:()=>G(K),disabled:ee,children:ee?x.jsx(Kh,{size:16,className:"animate-spin"}):"Alocar"})]},K.id)):x.jsx("p",{style:{textAlign:"center",padding:"1rem"},children:"Nenhum trabalhador encontrado."})})]})})}),x.jsx(ec,{isOpen:R,onClose:z,title:"Ticket de Serviço",children:x.jsx(vU,{solicitacao:p,trabalhador:D})})]})}var $d={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var WB=$d.exports,ZT;function XB(){return ZT||(ZT=1,function(n,e){((t,i)=>{n.exports=i()})(WB,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s,o=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,f={},p=0,m={};function g(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var P=ne(S);P.chunkSize=parseInt(P.chunkSize),S.step||S.chunk||(P.chunkSize=null),this._handle=new O(P),(this._handle.streamer=this)._config=P}).call(this,A),this.parseChunk=function(S,P){var V=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<V){let U=this._config.newline;U||(H=this._config.quoteChar||'"',U=this._handle.guessLineEndings(S,H)),S=[...S.split(U).slice(V)].join(U)}this.isFirstChunk&&Z(this._config.beforeFirstChunk)&&(H=this._config.beforeFirstChunk(S))!==void 0&&(S=H),this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+S,H=(this._partialLine="",this._handle.parse(V,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=H.meta.cursor,V=(this._finished||(this._partialLine=V.substring(S-this._baseIndex),this._baseIndex=S),H&&H.data&&(this._rowCount+=H.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:H,workerId:m.WORKER_ID,finished:V});else if(Z(this._config.chunk)&&!P){if(this._config.chunk(H,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=H=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(H.data),this._completeResults.errors=this._completeResults.errors.concat(H.errors),this._completeResults.meta=H.meta),this._completed||!V||!Z(this._config.complete)||H&&H.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),V||H&&H.meta.paused||this._nextChunk(),H}this._halted=!0},this._sendError=function(S){Z(this._config.error)?this._config.error(S):c&&this._config.error&&i.postMessage({workerId:m.WORKER_ID,error:S,finished:!1})}}function E(A){var S;(A=A||{}).chunkSize||(A.chunkSize=m.RemoteChunkSize),g.call(this,A),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),o||(S.onload=q(this._chunkLoaded,this),S.onerror=q(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var P,V=this._config.downloadRequestHeaders;for(P in V)S.setRequestHeader(P,V[P])}var H;this._config.chunkSize&&(H=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+H));try{S.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}o&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(P){P=S.statusText||P,this._sendError(new Error(P))}}function w(A){(A=A||{}).chunkSize||(A.chunkSize=m.LocalChunkSize),g.call(this,A);var S,P,V=typeof FileReader<"u";this.stream=function(H){this._input=H,P=H.slice||H.webkitSlice||H.mozSlice,V?((S=new FileReader).onload=q(this._chunkLoaded,this),S.onerror=q(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var H=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),H=P.call(H,this._start,U)),S.readAsText(H,this._config.encoding));V||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(H){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(H.target.result)},this._chunkError=function(){this._sendError(S.error)}}function C(A){var S;g.call(this,A=A||{}),this.stream=function(P){return S=P,this._nextChunk()},this._nextChunk=function(){var P,V;if(!this._finished)return P=this._config.chunkSize,S=P?(V=S.substring(0,P),S.substring(P)):(V=S,""),this._finished=!S,this.parseChunk(V)}}function R(A){g.call(this,A=A||{});var S=[],P=!0,V=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(H){this._input=H,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){V&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):P=!0},this._streamData=q(function(H){try{S.push(typeof H=="string"?H:H.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(U){this._streamError(U)}},this),this._streamError=q(function(H){this._streamCleanUp(),this._sendError(H)},this),this._streamEnd=q(function(){this._streamCleanUp(),V=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function O(A){var S,P,V,H,U=Math.pow(2,53),ie=-U,ce=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,ae=0,Q=0,M=!1,K=!1,Y=[],B={data:[],errors:[],meta:{}};function re(Ae){return A.skipEmptyLines==="greedy"?Ae.join("").trim()==="":Ae.length===1&&Ae[0].length===0}function se(){if(B&&V&&(Me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),V=!1),A.skipEmptyLines&&(B.data=B.data.filter(function(Ke){return!re(Ke)})),pe()){let Ke=function(qe,de){Z(A.transformHeader)&&(qe=A.transformHeader(qe,de)),Y.push(qe)};var Ue=Ke;if(B)if(Array.isArray(B.data[0])){for(var Ae=0;pe()&&Ae<B.data.length;Ae++)B.data[Ae].forEach(Ke);B.data.splice(0,1)}else B.data.forEach(Ke)}function Ne(Ke,qe){for(var de=A.header?{}:[],Ie=0;Ie<Ke.length;Ie++){var xe=Ie,ze=Ke[Ie],ze=((He,Qe)=>(at=>(A.dynamicTypingFunction&&A.dynamicTyping[at]===void 0&&(A.dynamicTyping[at]=A.dynamicTypingFunction(at)),(A.dynamicTyping[at]||A.dynamicTyping)===!0))(He)?Qe==="true"||Qe==="TRUE"||Qe!=="false"&&Qe!=="FALSE"&&((at=>{if(ce.test(at)&&(at=parseFloat(at),ie<at&&at<U))return 1})(Qe)?parseFloat(Qe):z.test(Qe)?new Date(Qe):Qe===""?null:Qe):Qe)(xe=A.header?Ie>=Y.length?"__parsed_extra":Y[Ie]:xe,ze=A.transform?A.transform(ze,xe):ze);xe==="__parsed_extra"?(de[xe]=de[xe]||[],de[xe].push(ze)):de[xe]=ze}return A.header&&(Ie>Y.length?Me("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+Ie,Q+qe):Ie<Y.length&&Me("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+Ie,Q+qe)),de}var je;B&&(A.header||A.dynamicTyping||A.transform)&&(je=1,!B.data.length||Array.isArray(B.data[0])?(B.data=B.data.map(Ne),je=B.data.length):B.data=Ne(B.data,0),A.header&&B.meta&&(B.meta.fields=Y),Q+=je)}function pe(){return A.header&&Y.length===0}function Me(Ae,Ne,je,Ue){Ae={type:Ae,code:Ne,message:je},Ue!==void 0&&(Ae.row=Ue),B.errors.push(Ae)}Z(A.step)&&(H=A.step,A.step=function(Ae){B=Ae,pe()?se():(se(),B.data.length!==0&&(ae+=Ae.data.length,A.preview&&ae>A.preview?P.abort():(B.data=B.data[0],H(B,G))))}),this.parse=function(Ae,Ne,je){var Ue=A.quoteChar||'"',Ue=(A.newline||(A.newline=this.guessLineEndings(Ae,Ue)),V=!1,A.delimiter?Z(A.delimiter)&&(A.delimiter=A.delimiter(Ae),B.meta.delimiter=A.delimiter):((Ue=((Ke,qe,de,Ie,xe)=>{var ze,He,Qe,at;xe=xe||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var At=0;At<xe.length;At++){for(var pt,Et=xe[At],lt=0,en=0,rt=0,st=(Qe=void 0,new j({comments:Ie,delimiter:Et,newline:qe,preview:10}).parse(Ke)),xt=0;xt<st.data.length;xt++)de&&re(st.data[xt])?rt++:(pt=st.data[xt].length,en+=pt,Qe===void 0?Qe=pt:0<pt&&(lt+=Math.abs(pt-Qe),Qe=pt));0<st.data.length&&(en/=st.data.length-rt),(He===void 0||lt<=He)&&(at===void 0||at<en)&&1.99<en&&(He=lt,ze=Et,at=en)}return{successful:!!(A.delimiter=ze),bestDelimiter:ze}})(Ae,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=Ue.bestDelimiter:(V=!0,A.delimiter=m.DefaultDelimiter),B.meta.delimiter=A.delimiter),ne(A));return A.preview&&A.header&&Ue.preview++,S=Ae,P=new j(Ue),B=P.parse(S,Ne,je),se(),M?{meta:{paused:!0}}:B||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,P.abort(),S=Z(A.chunk)?"":S.substring(P.getCharIndex())},this.resume=function(){G.streamer._halted?(M=!1,G.streamer.parseChunk(S,!0)):setTimeout(G.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,P.abort(),B.meta.aborted=!0,Z(A.complete)&&A.complete(B),S=""},this.guessLineEndings=function(Ke,Ue){Ke=Ke.substring(0,1048576);var Ue=new RegExp(D(Ue)+"([^]*?)"+D(Ue),"gm"),je=(Ke=Ke.replace(Ue,"")).split("\r"),Ue=Ke.split(`
`),Ke=1<Ue.length&&Ue[0].length<je[0].length;if(je.length===1||Ke)return`
`;for(var qe=0,de=0;de<je.length;de++)je[de][0]===`
`&&qe++;return qe>=je.length/2?`\r
`:"\r"}}function D(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(A){var S=(A=A||{}).delimiter,P=A.newline,V=A.comments,H=A.step,U=A.preview,ie=A.fastMode,ce=null,z=!1,G=A.quoteChar==null?'"':A.quoteChar,ae=G;if(A.escapeChar!==void 0&&(ae=A.escapeChar),(typeof S!="string"||-1<m.BAD_DELIMITERS.indexOf(S))&&(S=","),V===S)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<m.BAD_DELIMITERS.indexOf(V))&&(V=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var Q=0,M=!1;this.parse=function(K,Y,B){if(typeof K!="string")throw new Error("Input must be a string");var re=K.length,se=S.length,pe=P.length,Me=V.length,Ae=Z(H),Ne=[],je=[],Ue=[],Ke=Q=0;if(!K)return lt();if(ie||ie!==!1&&K.indexOf(G)===-1){for(var qe=K.split(P),de=0;de<qe.length;de++){if(Ue=qe[de],Q+=Ue.length,de!==qe.length-1)Q+=P.length;else if(B)return lt();if(!V||Ue.substring(0,Me)!==V){if(Ae){if(Ne=[],at(Ue.split(S)),en(),M)return lt()}else at(Ue.split(S));if(U&&U<=de)return Ne=Ne.slice(0,U),lt(!0)}}return lt()}for(var Ie=K.indexOf(S,Q),xe=K.indexOf(P,Q),ze=new RegExp(D(ae)+D(G),"g"),He=K.indexOf(G,Q);;)if(K[Q]===G)for(He=Q,Q++;;){if((He=K.indexOf(G,He+1))===-1)return B||je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:Q}),pt();if(He===re-1)return pt(K.substring(Q,He).replace(ze,G));if(G===ae&&K[He+1]===ae)He++;else if(G===ae||He===0||K[He-1]!==ae){Ie!==-1&&Ie<He+1&&(Ie=K.indexOf(S,He+1));var Qe=At((xe=xe!==-1&&xe<He+1?K.indexOf(P,He+1):xe)===-1?Ie:Math.min(Ie,xe));if(K.substr(He+1+Qe,se)===S){Ue.push(K.substring(Q,He).replace(ze,G)),K[Q=He+1+Qe+se]!==G&&(He=K.indexOf(G,Q)),Ie=K.indexOf(S,Q),xe=K.indexOf(P,Q);break}if(Qe=At(xe),K.substring(He+1+Qe,He+1+Qe+pe)===P){if(Ue.push(K.substring(Q,He).replace(ze,G)),Et(He+1+Qe+pe),Ie=K.indexOf(S,Q),He=K.indexOf(G,Q),Ae&&(en(),M))return lt();if(U&&Ne.length>=U)return lt(!0);break}je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:Q}),He++}}else if(V&&Ue.length===0&&K.substring(Q,Q+Me)===V){if(xe===-1)return lt();Q=xe+pe,xe=K.indexOf(P,Q),Ie=K.indexOf(S,Q)}else if(Ie!==-1&&(Ie<xe||xe===-1))Ue.push(K.substring(Q,Ie)),Q=Ie+se,Ie=K.indexOf(S,Q);else{if(xe===-1)break;if(Ue.push(K.substring(Q,xe)),Et(xe+pe),Ae&&(en(),M))return lt();if(U&&Ne.length>=U)return lt(!0)}return pt();function at(rt){Ne.push(rt),Ke=Q}function At(rt){var st=0;return st=rt!==-1&&(rt=K.substring(He+1,rt))&&rt.trim()===""?rt.length:st}function pt(rt){return B||(rt===void 0&&(rt=K.substring(Q)),Ue.push(rt),Q=re,at(Ue),Ae&&en()),lt()}function Et(rt){Q=rt,at(Ue),Ue=[],xe=K.indexOf(P,Q)}function lt(rt){if(A.header&&!Y&&Ne.length&&!z){var st=Ne[0],xt=Object.create(null),sn=new Set(st);let wn=!1;for(let an=0;an<st.length;an++){let Qt=st[an];if(xt[Qt=Z(A.transformHeader)?A.transformHeader(Qt,an):Qt]){let _n,bn=xt[Qt];for(;_n=Qt+"_"+bn,bn++,sn.has(_n););sn.add(_n),st[an]=_n,xt[Qt]++,wn=!0,(ce=ce===null?{}:ce)[_n]=Qt}else xt[Qt]=1,st[an]=Qt;sn.add(Qt)}wn&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:Ne,errors:je,meta:{delimiter:S,linebreak:P,aborted:M,truncated:!!rt,cursor:Ke+(Y||0),renamedHeaders:ce}}}function en(){H(lt()),Ne=[],je=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return Q}}function te(A){var S=A.data,P=f[S.workerId],V=!1;if(S.error)P.userError(S.error,S.file);else if(S.results&&S.results.data){var H={abort:function(){V=!0,W(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ee,resume:ee};if(Z(P.userStep)){for(var U=0;U<S.results.data.length&&(P.userStep({data:S.results.data[U],errors:S.results.errors,meta:S.results.meta},H),!V);U++);delete S.results}else Z(P.userChunk)&&(P.userChunk(S.results,H,S.file),delete S.results)}S.finished&&!V&&W(S.workerId,S.results)}function W(A,S){var P=f[A];Z(P.userComplete)&&P.userComplete(S),P.terminate(),delete f[A]}function ee(){throw new Error("Not implemented.")}function ne(A){if(typeof A!="object"||A===null)return A;var S,P=Array.isArray(A)?[]:{};for(S in A)P[S]=ne(A[S]);return P}function q(A,S){return function(){A.apply(S,arguments)}}function Z(A){return typeof A=="function"}return m.parse=function(A,S){var P=(S=S||{}).dynamicTyping||!1;if(Z(P)&&(S.dynamicTypingFunction=P,P={}),S.dynamicTyping=P,S.transform=!!Z(S.transform)&&S.transform,!S.worker||!m.WORKERS_SUPPORTED)return P=null,m.NODE_STREAM_INPUT,typeof A=="string"?(A=(V=>V.charCodeAt(0)!==65279?V:V.slice(1))(A),P=new(S.download?E:C)(S)):A.readable===!0&&Z(A.read)&&Z(A.on)?P=new R(S):(i.File&&A instanceof File||A instanceof Object)&&(P=new w(S)),P.stream(A);(P=(()=>{var V;return!!m.WORKERS_SUPPORTED&&(V=(()=>{var H=i.URL||i.webkitURL||null,U=t.toString();return m.BLOB_URL||(m.BLOB_URL=H.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(V=new i.Worker(V)).onmessage=te,V.id=p++,f[V.id]=V)})()).userStep=S.step,P.userChunk=S.chunk,P.userComplete=S.complete,P.userError=S.error,S.step=Z(S.step),S.chunk=Z(S.chunk),S.complete=Z(S.complete),S.error=Z(S.error),delete S.worker,P.postMessage({input:A,config:S,workerId:P.id})},m.unparse=function(A,S){var P=!1,V=!0,H=",",U=`\r
`,ie='"',ce=ie+ie,z=!1,G=null,ae=!1,Q=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||m.BAD_DELIMITERS.filter(function(Y){return S.delimiter.indexOf(Y)!==-1}).length||(H=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(P=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(z=S.skipEmptyLines),typeof S.newline=="string"&&(U=S.newline),typeof S.quoteChar=="string"&&(ie=S.quoteChar),typeof S.header=="boolean"&&(V=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");G=S.columns}S.escapeChar!==void 0&&(ce=S.escapeChar+ie),S.escapeFormulae instanceof RegExp?ae=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(ae=/^[=+\-@\t\r].*$/)}})(),new RegExp(D(ie),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return M(null,A,z);if(typeof A[0]=="object")return M(G||Object.keys(A[0]),A,z)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||G),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),M(A.fields||[],A.data||[],z);throw new Error("Unable to serialize unrecognized input");function M(Y,B,re){var se="",pe=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof B=="string"&&(B=JSON.parse(B)),Array.isArray(Y)&&0<Y.length),Me=!Array.isArray(B[0]);if(pe&&V){for(var Ae=0;Ae<Y.length;Ae++)0<Ae&&(se+=H),se+=K(Y[Ae],Ae);0<B.length&&(se+=U)}for(var Ne=0;Ne<B.length;Ne++){var je=(pe?Y:B[Ne]).length,Ue=!1,Ke=pe?Object.keys(B[Ne]).length===0:B[Ne].length===0;if(re&&!pe&&(Ue=re==="greedy"?B[Ne].join("").trim()==="":B[Ne].length===1&&B[Ne][0].length===0),re==="greedy"&&pe){for(var qe=[],de=0;de<je;de++){var Ie=Me?Y[de]:de;qe.push(B[Ne][Ie])}Ue=qe.join("").trim()===""}if(!Ue){for(var xe=0;xe<je;xe++){0<xe&&!Ke&&(se+=H);var ze=pe&&Me?Y[xe]:xe;se+=K(B[Ne][ze],xe)}Ne<B.length-1&&(!re||0<je&&!Ke)&&(se+=U)}}return se}function K(Y,B){var re,se;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(se=!1,ae&&typeof Y=="string"&&ae.test(Y)&&(Y="'"+Y,se=!0),re=Y.toString().replace(Q,ce),(se=se||P===!0||typeof P=="function"&&P(Y,B)||Array.isArray(P)&&P[B]||((pe,Me)=>{for(var Ae=0;Ae<Me.length;Ae++)if(-1<pe.indexOf(Me[Ae]))return!0;return!1})(re,m.BAD_DELIMITERS)||-1<re.indexOf(H)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?ie+re+ie:re)}},m.RECORD_SEP="",m.UNIT_SEP="",m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!o&&!!i.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=j,m.ParserHandle=O,m.NetworkStreamer=E,m.FileStreamer=w,m.StringStreamer=C,m.ReadableStreamStreamer=R,i.jQuery&&((s=i.jQuery).fn.parse=function(A){var S=A.config||{},P=[];return this.each(function(U){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var ie=0;ie<this.files.length;ie++)P.push({file:this.files[ie],inputElem:this,instanceConfig:s.extend({},S)})}),V(),this;function V(){if(P.length===0)Z(A.complete)&&A.complete();else{var U,ie,ce,z,G=P[0];if(Z(A.before)){var ae=A.before(G.file,G.inputElem);if(typeof ae=="object"){if(ae.action==="abort")return U="AbortError",ie=G.file,ce=G.inputElem,z=ae.reason,void(Z(A.error)&&A.error({name:U},ie,ce,z));if(ae.action==="skip")return void H();typeof ae.config=="object"&&(G.instanceConfig=s.extend(G.instanceConfig,ae.config))}else if(ae==="skip")return void H()}var Q=G.instanceConfig.complete;G.instanceConfig.complete=function(M){Z(Q)&&Q(M,G.file,G.inputElem),H()},m.parse(G.file,G.instanceConfig)}}function H(){P.splice(0,1),V()}}),c&&(i.onmessage=function(A){A=A.data,m.WORKER_ID===void 0&&A&&(m.WORKER_ID=A.workerId),typeof A.input=="string"?i.postMessage({workerId:m.WORKER_ID,results:m.parse(A.input,A.config),finished:!0}):(i.File&&A.input instanceof File||A.input instanceof Object)&&(A=m.parse(A.input,A.config))&&i.postMessage({workerId:m.WORKER_ID,results:A,finished:!0})}),(E.prototype=Object.create(g.prototype)).constructor=E,(w.prototype=Object.create(g.prototype)).constructor=w,(C.prototype=Object.create(C.prototype)).constructor=C,(R.prototype=Object.create(g.prototype)).constructor=R,m})}($d)),$d.exports}var JB=XB();const e8=lc(JB);function t8(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(i){if(i!=="default"&&!(i in n)){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})}),Object.freeze(n)}function IR(n,e){return new Promise(function(t,i){let s;return n8(n).then(function(o){try{return s=o,t(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(c){return i(c)}},i)})}const n8=n=>new Promise((e,t)=>{const i=new FileReader;i.addEventListener("load",({target:{result:s}})=>{const o=new DataView(s);let c=0;if(o.getUint16(c)!==65496)return t("not a valid JPEG");for(c+=2;;){const f=o.getUint16(c);if(f===65498)break;const p=o.getUint16(c+2);if(f===65505&&o.getUint32(c+4)===1165519206){const m=c+10;let g;switch(o.getUint16(m)){case 18761:g=!0;break;case 19789:g=!1;break;default:return t("TIFF header contains invalid endian")}if(o.getUint16(m+2,g)!==42)return t("TIFF header contains invalid version");const E=o.getUint32(m+4,g),w=m+E+2+12*o.getUint16(m+E,g);for(let C=m+E+2;C<w;C+=12)if(o.getUint16(C,g)==274){if(o.getUint16(C+2,g)!==3)return t("Orientation data type is invalid");if(o.getUint32(C+4,g)!==1)return t("Orientation data count is invalid");o.setUint16(C+8,1,g);break}return e(s.slice(c,c+2+p))}c+=2+p}return e(new Blob)}),i.readAsArrayBuffer(n)});var xp={},i8={get exports(){return xp},set exports(n){xp=n}};(function(n){var e,t,i={};i8.exports=i,i.parse=function(s,o){for(var c=i.bin.readUshort,f=i.bin.readUint,p=0,m={},g=new Uint8Array(s),E=g.length-4;f(g,E)!=101010256;)E--;p=E,p+=4;var w=c(g,p+=4);c(g,p+=2);var C=f(g,p+=2),R=f(g,p+=4);p+=4,p=R;for(var O=0;O<w;O++){f(g,p),p+=4,p+=4,p+=4,f(g,p+=4),C=f(g,p+=4);var D=f(g,p+=4),j=c(g,p+=4),te=c(g,p+2),W=c(g,p+4);p+=6;var ee=f(g,p+=8);p+=4,p+=j+te+W,i._readLocal(g,ee,m,C,D,o)}return m},i._readLocal=function(s,o,c,f,p,m){var g=i.bin.readUshort,E=i.bin.readUint;E(s,o),g(s,o+=4),g(s,o+=2);var w=g(s,o+=2);E(s,o+=2),E(s,o+=4),o+=4;var C=g(s,o+=8),R=g(s,o+=2);o+=2;var O=i.bin.readUTF8(s,o,C);if(o+=C,o+=R,m)c[O]={size:p,csize:f};else{var D=new Uint8Array(s.buffer,o);if(w==0)c[O]=new Uint8Array(D.buffer.slice(o,o+f));else{if(w!=8)throw"unknown compression method: "+w;var j=new Uint8Array(p);i.inflateRaw(D,j),c[O]=j}}},i.inflateRaw=function(s,o){return i.F.inflate(s,o)},i.inflate=function(s,o){return s[0],s[1],i.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),o)},i.deflate=function(s,o){o==null&&(o={level:6});var c=0,f=new Uint8Array(50+Math.floor(1.1*s.length));f[c]=120,f[c+1]=156,c+=2,c=i.F.deflateRaw(s,f,c,o.level);var p=i.adler(s,0,s.length);return f[c+0]=p>>>24&255,f[c+1]=p>>>16&255,f[c+2]=p>>>8&255,f[c+3]=p>>>0&255,new Uint8Array(f.buffer,0,c+4)},i.deflateRaw=function(s,o){o==null&&(o={level:6});var c=new Uint8Array(50+Math.floor(1.1*s.length)),f=i.F.deflateRaw(s,c,f,o.level);return new Uint8Array(c.buffer,0,f)},i.encode=function(s,o){o==null&&(o=!1);var c=0,f=i.bin.writeUint,p=i.bin.writeUshort,m={};for(var g in s){var E=!i._noNeed(g)&&!o,w=s[g],C=i.crc.crc(w,0,w.length);m[g]={cpr:E,usize:w.length,crc:C,file:E?i.deflateRaw(w):w}}for(var g in m)c+=m[g].file.length+30+46+2*i.bin.sizeUTF8(g);c+=22;var R=new Uint8Array(c),O=0,D=[];for(var g in m){var j=m[g];D.push(O),O=i._writeHeader(R,O,g,j,0)}var te=0,W=O;for(var g in m)j=m[g],D.push(O),O=i._writeHeader(R,O,g,j,1,D[te++]);var ee=O-W;return f(R,O,101010256),O+=4,p(R,O+=4,te),p(R,O+=2,te),f(R,O+=2,ee),f(R,O+=4,W),O+=4,O+=2,R.buffer},i._noNeed=function(s){var o=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},i._writeHeader=function(s,o,c,f,p,m){var g=i.bin.writeUint,E=i.bin.writeUshort,w=f.file;return g(s,o,p==0?67324752:33639248),o+=4,p==1&&(o+=2),E(s,o,20),E(s,o+=2,0),E(s,o+=2,f.cpr?8:0),g(s,o+=2,0),g(s,o+=4,f.crc),g(s,o+=4,w.length),g(s,o+=4,f.usize),E(s,o+=4,i.bin.sizeUTF8(c)),E(s,o+=2,0),o+=2,p==1&&(o+=2,o+=2,g(s,o+=6,m),o+=4),o+=i.bin.writeUTF8(s,o,c),p==0&&(s.set(w,o),o+=w.length),o},i.crc={table:function(){for(var s=new Uint32Array(256),o=0;o<256;o++){for(var c=o,f=0;f<8;f++)1&c?c=3988292384^c>>>1:c>>>=1;s[o]=c}return s}(),update:function(s,o,c,f){for(var p=0;p<f;p++)s=i.crc.table[255&(s^o[c+p])]^s>>>8;return s},crc:function(s,o,c){return 4294967295^i.crc.update(4294967295,s,o,c)}},i.adler=function(s,o,c){for(var f=1,p=0,m=o,g=o+c;m<g;){for(var E=Math.min(m+5552,g);m<E;)p+=f+=s[m++];f%=65521,p%=65521}return p<<16|f},i.bin={readUshort:function(s,o){return s[o]|s[o+1]<<8},writeUshort:function(s,o,c){s[o]=255&c,s[o+1]=c>>8&255},readUint:function(s,o){return 16777216*s[o+3]+(s[o+2]<<16|s[o+1]<<8|s[o])},writeUint:function(s,o,c){s[o]=255&c,s[o+1]=c>>8&255,s[o+2]=c>>16&255,s[o+3]=c>>24&255},readASCII:function(s,o,c){for(var f="",p=0;p<c;p++)f+=String.fromCharCode(s[o+p]);return f},writeASCII:function(s,o,c){for(var f=0;f<c.length;f++)s[o+f]=c.charCodeAt(f)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,o,c){for(var f,p="",m=0;m<c;m++)p+="%"+i.bin.pad(s[o+m].toString(16));try{f=decodeURIComponent(p)}catch{return i.bin.readASCII(s,o,c)}return f},writeUTF8:function(s,o,c){for(var f=c.length,p=0,m=0;m<f;m++){var g=c.charCodeAt(m);if((4294967168&g)==0)s[o+p]=g,p++;else if((4294965248&g)==0)s[o+p]=192|g>>6,s[o+p+1]=128|g>>0&63,p+=2;else if((4294901760&g)==0)s[o+p]=224|g>>12,s[o+p+1]=128|g>>6&63,s[o+p+2]=128|g>>0&63,p+=3;else{if((4292870144&g)!=0)throw"e";s[o+p]=240|g>>18,s[o+p+1]=128|g>>12&63,s[o+p+2]=128|g>>6&63,s[o+p+3]=128|g>>0&63,p+=4}}return p},sizeUTF8:function(s){for(var o=s.length,c=0,f=0;f<o;f++){var p=s.charCodeAt(f);if((4294967168&p)==0)c++;else if((4294965248&p)==0)c+=2;else if((4294901760&p)==0)c+=3;else{if((4292870144&p)!=0)throw"e";c+=4}}return c}},i.F={},i.F.deflateRaw=function(s,o,c,f){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],m=i.F.U,g=i.F._goodIndex;i.F._hash;var E=i.F._putsE,w=0,C=c<<3,R=0,O=s.length;if(f==0){for(;w<O;)E(o,C,w+(V=Math.min(65535,O-w))==O?1:0),C=i.F._copyExact(s,w,V,o,C+8),w+=V;return C>>>3}var D=m.lits,j=m.strt,te=m.prev,W=0,ee=0,ne=0,q=0,Z=0,A=0;for(O>2&&(j[A=i.F._hash(s,0)]=0),w=0;w<O;w++){if(Z=A,w+1<O-2){A=i.F._hash(s,w+1);var S=w+1&32767;te[S]=j[A],j[A]=S}if(R<=w){(W>14e3||ee>26697)&&O-w>100&&(R<w&&(D[W]=w-R,W+=2,R=w),C=i.F._writeBlock(w==O-1||R==O?1:0,D,W,q,s,ne,w-ne,o,C),W=ee=q=0,ne=w);var P=0;w<O-2&&(P=i.F._bestMatch(s,w,te,Z,Math.min(p[2],O-w),p[3]));var V=P>>>16,H=65535&P;if(P!=0){H=65535&P;var U=g(V=P>>>16,m.of0);m.lhst[257+U]++;var ie=g(H,m.df0);m.dhst[ie]++,q+=m.exb[U]+m.dxb[ie],D[W]=V<<23|w-R,D[W+1]=H<<16|U<<8|ie,W+=2,R=w+V}else m.lhst[s[w]]++;ee++}}for(ne==w&&s.length!=0||(R<w&&(D[W]=w-R,W+=2,R=w),C=i.F._writeBlock(1,D,W,q,s,ne,w-ne,o,C),W=0,ee=0,W=ee=q=0,ne=w);(7&C)!=0;)C++;return C>>>3},i.F._bestMatch=function(s,o,c,f,p,m){var g=32767&o,E=c[g],w=g-E+32768&32767;if(E==g||f!=i.F._hash(s,o-w))return 0;for(var C=0,R=0,O=Math.min(32767,o);w<=O&&--m!=0&&E!=g;){if(C==0||s[o+C]==s[o+C-w]){var D=i.F._howLong(s,o,w);if(D>C){if(R=w,(C=D)>=p)break;w+2<D&&(D=w+2);for(var j=0,te=0;te<D-2;te++){var W=o-w+te+32768&32767,ee=W-c[W]+32768&32767;ee>j&&(j=ee,E=W)}}}w+=(g=E)-(E=c[g])+32768&32767}return C<<16|R},i.F._howLong=function(s,o,c){if(s[o]!=s[o-c]||s[o+1]!=s[o+1-c]||s[o+2]!=s[o+2-c])return 0;var f=o,p=Math.min(s.length,o+258);for(o+=3;o<p&&s[o]==s[o-c];)o++;return o-f},i.F._hash=function(s,o){return(s[o]<<8|s[o+1])+(s[o+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(s,o,c,f,p,m,g,E,w){var C,R,O,D,j,te,W,ee,ne,q=i.F.U,Z=i.F._putsF,A=i.F._putsE;q.lhst[256]++,R=(C=i.F.getTrees())[0],O=C[1],D=C[2],j=C[3],te=C[4],W=C[5],ee=C[6],ne=C[7];var S=32+((w+3&7)==0?0:8-(w+3&7))+(g<<3),P=f+i.F.contSize(q.fltree,q.lhst)+i.F.contSize(q.fdtree,q.dhst),V=f+i.F.contSize(q.ltree,q.lhst)+i.F.contSize(q.dtree,q.dhst);V+=14+3*W+i.F.contSize(q.itree,q.ihst)+(2*q.ihst[16]+3*q.ihst[17]+7*q.ihst[18]);for(var H=0;H<286;H++)q.lhst[H]=0;for(H=0;H<30;H++)q.dhst[H]=0;for(H=0;H<19;H++)q.ihst[H]=0;var U=S<P&&S<V?0:P<V?1:2;if(Z(E,w,s),Z(E,w+1,U),w+=3,U==0){for(;(7&w)!=0;)w++;w=i.F._copyExact(p,m,g,E,w)}else{var ie,ce;if(U==1&&(ie=q.fltree,ce=q.fdtree),U==2){i.F.makeCodes(q.ltree,R),i.F.revCodes(q.ltree,R),i.F.makeCodes(q.dtree,O),i.F.revCodes(q.dtree,O),i.F.makeCodes(q.itree,D),i.F.revCodes(q.itree,D),ie=q.ltree,ce=q.dtree,A(E,w,j-257),A(E,w+=5,te-1),A(E,w+=5,W-4),w+=4;for(var z=0;z<W;z++)A(E,w+3*z,q.itree[1+(q.ordr[z]<<1)]);w+=3*W,w=i.F._codeTiny(ee,q.itree,E,w),w=i.F._codeTiny(ne,q.itree,E,w)}for(var G=m,ae=0;ae<c;ae+=2){for(var Q=o[ae],M=Q>>>23,K=G+(8388607&Q);G<K;)w=i.F._writeLit(p[G++],ie,E,w);if(M!=0){var Y=o[ae+1],B=Y>>16,re=Y>>8&255,se=255&Y;A(E,w=i.F._writeLit(257+re,ie,E,w),M-q.of0[re]),w+=q.exb[re],Z(E,w=i.F._writeLit(se,ce,E,w),B-q.df0[se]),w+=q.dxb[se],G+=M}}w=i.F._writeLit(256,ie,E,w)}return w},i.F._copyExact=function(s,o,c,f,p){var m=p>>>3;return f[m]=c,f[m+1]=c>>>8,f[m+2]=255-f[m],f[m+3]=255-f[m+1],m+=4,f.set(new Uint8Array(s.buffer,o,c),m),p+(c+4<<3)},i.F.getTrees=function(){for(var s=i.F.U,o=i.F._hufTree(s.lhst,s.ltree,15),c=i.F._hufTree(s.dhst,s.dtree,15),f=[],p=i.F._lenCodes(s.ltree,f),m=[],g=i.F._lenCodes(s.dtree,m),E=0;E<f.length;E+=2)s.ihst[f[E]]++;for(E=0;E<m.length;E+=2)s.ihst[m[E]]++;for(var w=i.F._hufTree(s.ihst,s.itree,7),C=19;C>4&&s.itree[1+(s.ordr[C-1]<<1)]==0;)C--;return[o,c,w,p,g,C,f,m]},i.F.getSecond=function(s){for(var o=[],c=0;c<s.length;c+=2)o.push(s[c+1]);return o},i.F.nonZero=function(s){for(var o="",c=0;c<s.length;c+=2)s[c+1]!=0&&(o+=(c>>1)+",");return o},i.F.contSize=function(s,o){for(var c=0,f=0;f<o.length;f++)c+=o[f]*s[1+(f<<1)];return c},i.F._codeTiny=function(s,o,c,f){for(var p=0;p<s.length;p+=2){var m=s[p],g=s[p+1];f=i.F._writeLit(m,o,c,f);var E=m==16?2:m==17?3:7;m>15&&(i.F._putsE(c,f,g,E),f+=E)}return f},i.F._lenCodes=function(s,o){for(var c=s.length;c!=2&&s[c-1]==0;)c-=2;for(var f=0;f<c;f+=2){var p=s[f+1],m=f+3<c?s[f+3]:-1,g=f+5<c?s[f+5]:-1,E=f==0?-1:s[f-1];if(p==0&&m==p&&g==p){for(var w=f+5;w+2<c&&s[w+2]==p;)w+=2;(C=Math.min(w+1-f>>>1,138))<11?o.push(17,C-3):o.push(18,C-11),f+=2*C-2}else if(p==E&&m==p&&g==p){for(w=f+5;w+2<c&&s[w+2]==p;)w+=2;var C=Math.min(w+1-f>>>1,6);o.push(16,C-3),f+=2*C-2}else o.push(p,0)}return c>>>1},i.F._hufTree=function(s,o,c){var f=[],p=s.length,m=o.length,g=0;for(g=0;g<m;g+=2)o[g]=0,o[g+1]=0;for(g=0;g<p;g++)s[g]!=0&&f.push({lit:g,f:s[g]});var E=f.length,w=f.slice(0);if(E==0)return 0;if(E==1){var C=f[0].lit;return w=C==0?1:0,o[1+(C<<1)]=1,o[1+(w<<1)]=1,1}f.sort(function(ee,ne){return ee.f-ne.f});var R=f[0],O=f[1],D=0,j=1,te=2;for(f[0]={lit:-1,f:R.f+O.f,l:R,r:O,d:0};j!=E-1;)R=D!=j&&(te==E||f[D].f<f[te].f)?f[D++]:f[te++],O=D!=j&&(te==E||f[D].f<f[te].f)?f[D++]:f[te++],f[j++]={lit:-1,f:R.f+O.f,l:R,r:O};var W=i.F.setDepth(f[j-1],0);for(W>c&&(i.F.restrictDepth(w,c,W),W=c),g=0;g<E;g++)o[1+(w[g].lit<<1)]=w[g].d;return W},i.F.setDepth=function(s,o){return s.lit!=-1?(s.d=o,o):Math.max(i.F.setDepth(s.l,o+1),i.F.setDepth(s.r,o+1))},i.F.restrictDepth=function(s,o,c){var f=0,p=1<<c-o,m=0;for(s.sort(function(E,w){return w.d==E.d?E.f-w.f:w.d-E.d}),f=0;f<s.length&&s[f].d>o;f++){var g=s[f].d;s[f].d=o,m+=p-(1<<c-g)}for(m>>>=c-o;m>0;)(g=s[f].d)<o?(s[f].d++,m-=1<<o-g-1):f++;for(;f>=0;f--)s[f].d==o&&m<0&&(s[f].d--,m++);m!=0&&console.log("debt left")},i.F._goodIndex=function(s,o){var c=0;return o[16|c]<=s&&(c|=16),o[8|c]<=s&&(c|=8),o[4|c]<=s&&(c|=4),o[2|c]<=s&&(c|=2),o[1|c]<=s&&(c|=1),c},i.F._writeLit=function(s,o,c,f){return i.F._putsF(c,f,o[s<<1]),f+o[1+(s<<1)]},i.F.inflate=function(s,o){var c=Uint8Array;if(s[0]==3&&s[1]==0)return o||new c(0);var f=i.F,p=f._bitsF,m=f._bitsE,g=f._decodeTiny,E=f.makeCodes,w=f.codes2map,C=f._get17,R=f.U,O=o==null;O&&(o=new c(s.length>>>2<<3));for(var D,j,te=0,W=0,ee=0,ne=0,q=0,Z=0,A=0,S=0,P=0;te==0;)if(te=p(s,P,1),W=p(s,P+1,2),P+=3,W!=0){if(O&&(o=i.F._check(o,S+(1<<17))),W==1&&(D=R.flmap,j=R.fdmap,Z=511,A=31),W==2){ee=m(s,P,5)+257,ne=m(s,P+5,5)+1,q=m(s,P+10,4)+4,P+=14;for(var V=0;V<38;V+=2)R.itree[V]=0,R.itree[V+1]=0;var H=1;for(V=0;V<q;V++){var U=m(s,P+3*V,3);R.itree[1+(R.ordr[V]<<1)]=U,U>H&&(H=U)}P+=3*q,E(R.itree,H),w(R.itree,H,R.imap),D=R.lmap,j=R.dmap,P=g(R.imap,(1<<H)-1,ee+ne,s,P,R.ttree);var ie=f._copyOut(R.ttree,0,ee,R.ltree);Z=(1<<ie)-1;var ce=f._copyOut(R.ttree,ee,ne,R.dtree);A=(1<<ce)-1,E(R.ltree,ie),w(R.ltree,ie,D),E(R.dtree,ce),w(R.dtree,ce,j)}for(;;){var z=D[C(s,P)&Z];P+=15&z;var G=z>>>4;if(!(G>>>8))o[S++]=G;else{if(G==256)break;var ae=S+G-254;if(G>264){var Q=R.ldef[G-257];ae=S+(Q>>>3)+m(s,P,7&Q),P+=7&Q}var M=j[C(s,P)&A];P+=15&M;var K=M>>>4,Y=R.ddef[K],B=(Y>>>4)+p(s,P,15&Y);for(P+=15&Y,O&&(o=i.F._check(o,S+(1<<17)));S<ae;)o[S]=o[S++-B],o[S]=o[S++-B],o[S]=o[S++-B],o[S]=o[S++-B];S=ae}}}else{(7&P)!=0&&(P+=8-(7&P));var re=4+(P>>>3),se=s[re-4]|s[re-3]<<8;O&&(o=i.F._check(o,S+se)),o.set(new c(s.buffer,s.byteOffset+re,se),S),P=re+se<<3,S+=se}return o.length==S?o:o.slice(0,S)},i.F._check=function(s,o){var c=s.length;if(o<=c)return s;var f=new Uint8Array(Math.max(c<<1,o));return f.set(s,0),f},i.F._decodeTiny=function(s,o,c,f,p,m){for(var g=i.F._bitsE,E=i.F._get17,w=0;w<c;){var C=s[E(f,p)&o];p+=15&C;var R=C>>>4;if(R<=15)m[w]=R,w++;else{var O=0,D=0;R==16?(D=3+g(f,p,2),p+=2,O=m[w-1]):R==17?(D=3+g(f,p,3),p+=3):R==18&&(D=11+g(f,p,7),p+=7);for(var j=w+D;w<j;)m[w]=O,w++}}return p},i.F._copyOut=function(s,o,c,f){for(var p=0,m=0,g=f.length>>>1;m<c;){var E=s[m+o];f[m<<1]=0,f[1+(m<<1)]=E,E>p&&(p=E),m++}for(;m<g;)f[m<<1]=0,f[1+(m<<1)]=0,m++;return p},i.F.makeCodes=function(s,o){for(var c,f,p,m,g=i.F.U,E=s.length,w=g.bl_count,C=0;C<=o;C++)w[C]=0;for(C=1;C<E;C+=2)w[s[C]]++;var R=g.next_code;for(c=0,w[0]=0,f=1;f<=o;f++)c=c+w[f-1]<<1,R[f]=c;for(p=0;p<E;p+=2)(m=s[p+1])!=0&&(s[p]=R[m],R[m]++)},i.F.codes2map=function(s,o,c){for(var f=s.length,p=i.F.U.rev15,m=0;m<f;m+=2)if(s[m+1]!=0)for(var g=m>>1,E=s[m+1],w=g<<4|E,C=o-E,R=s[m]<<C,O=R+(1<<C);R!=O;)c[p[R]>>>15-o]=w,R++},i.F.revCodes=function(s,o){for(var c=i.F.U.rev15,f=15-o,p=0;p<s.length;p+=2){var m=s[p]<<o-s[p+1];s[p]=c[m]>>>f}},i.F._putsE=function(s,o,c){c<<=7&o;var f=o>>>3;s[f]|=c,s[f+1]|=c>>>8},i.F._putsF=function(s,o,c){c<<=7&o;var f=o>>>3;s[f]|=c,s[f+1]|=c>>>8,s[f+2]|=c>>>16},i.F._bitsE=function(s,o,c){return(s[o>>>3]|s[1+(o>>>3)]<<8)>>>(7&o)&(1<<c)-1},i.F._bitsF=function(s,o,c){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)&(1<<c)-1},i.F._get17=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16)>>>(7&o)},i.F._get25=function(s,o){return(s[o>>>3]|s[1+(o>>>3)]<<8|s[2+(o>>>3)]<<16|s[3+(o>>>3)]<<24)>>>(7&o)},i.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=i.F.U,o=0;o<32768;o++){var c=o;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,s.rev15[o]=(c>>>16|c<<16)>>>17}function f(p,m,g){for(;m--!=0;)p.push(0,g)}for(o=0;o<32;o++)s.ldef[o]=s.of0[o]<<3|s.exb[o],s.ddef[o]=s.df0[o]<<4|s.dxb[o];f(s.fltree,144,8),f(s.fltree,112,9),f(s.fltree,24,7),f(s.fltree,8,8),i.F.makeCodes(s.fltree,9),i.F.codes2map(s.fltree,9,s.flmap),i.F.revCodes(s.fltree,9),f(s.fdtree,32,5),i.F.makeCodes(s.fdtree,5),i.F.codes2map(s.fdtree,5,s.fdmap),i.F.revCodes(s.fdtree,5),f(s.itree,19,0),f(s.ltree,286,0),f(s.dtree,30,0),f(s.ttree,320,0)}()})();var r8=t8({__proto__:null,default:xp},[xp]);const Os=function(){var n={nextZero(g,E){for(;g[E]!=0;)E++;return E},readUshort:(g,E)=>g[E]<<8|g[E+1],writeUshort(g,E,w){g[E]=w>>8&255,g[E+1]=255&w},readUint:(g,E)=>16777216*g[E]+(g[E+1]<<16|g[E+2]<<8|g[E+3]),writeUint(g,E,w){g[E]=w>>24&255,g[E+1]=w>>16&255,g[E+2]=w>>8&255,g[E+3]=255&w},readASCII(g,E,w){let C="";for(let R=0;R<w;R++)C+=String.fromCharCode(g[E+R]);return C},writeASCII(g,E,w){for(let C=0;C<w.length;C++)g[E+C]=w.charCodeAt(C)},readBytes(g,E,w){const C=[];for(let R=0;R<w;R++)C.push(g[E+R]);return C},pad:g=>g.length<2?`0${g}`:g,readUTF8(g,E,w){let C,R="";for(let O=0;O<w;O++)R+=`%${n.pad(g[E+O].toString(16))}`;try{C=decodeURIComponent(R)}catch{return n.readASCII(g,E,w)}return C}};function e(g,E,w,C){const R=E*w,O=o(C),D=Math.ceil(E*O/8),j=new Uint8Array(4*R),te=new Uint32Array(j.buffer),{ctype:W}=C,{depth:ee}=C,ne=n.readUshort;if(W==6){const Q=R<<2;if(ee==8)for(var q=0;q<Q;q+=4)j[q]=g[q],j[q+1]=g[q+1],j[q+2]=g[q+2],j[q+3]=g[q+3];if(ee==16)for(q=0;q<Q;q++)j[q]=g[q<<1]}else if(W==2){const Q=C.tabs.tRNS;if(Q==null){if(ee==8)for(q=0;q<R;q++){var Z=3*q;te[q]=255<<24|g[Z+2]<<16|g[Z+1]<<8|g[Z]}if(ee==16)for(q=0;q<R;q++)Z=6*q,te[q]=255<<24|g[Z+4]<<16|g[Z+2]<<8|g[Z]}else{var A=Q[0];const M=Q[1],K=Q[2];if(ee==8)for(q=0;q<R;q++){var S=q<<2;Z=3*q,te[q]=255<<24|g[Z+2]<<16|g[Z+1]<<8|g[Z],g[Z]==A&&g[Z+1]==M&&g[Z+2]==K&&(j[S+3]=0)}if(ee==16)for(q=0;q<R;q++)S=q<<2,Z=6*q,te[q]=255<<24|g[Z+4]<<16|g[Z+2]<<8|g[Z],ne(g,Z)==A&&ne(g,Z+2)==M&&ne(g,Z+4)==K&&(j[S+3]=0)}}else if(W==3){const Q=C.tabs.PLTE,M=C.tabs.tRNS,K=M?M.length:0;if(ee==1)for(var P=0;P<w;P++){var V=P*D,H=P*E;for(q=0;q<E;q++){S=H+q<<2;var U=3*(ie=g[V+(q>>3)]>>7-((7&q)<<0)&1);j[S]=Q[U],j[S+1]=Q[U+1],j[S+2]=Q[U+2],j[S+3]=ie<K?M[ie]:255}}if(ee==2)for(P=0;P<w;P++)for(V=P*D,H=P*E,q=0;q<E;q++)S=H+q<<2,U=3*(ie=g[V+(q>>2)]>>6-((3&q)<<1)&3),j[S]=Q[U],j[S+1]=Q[U+1],j[S+2]=Q[U+2],j[S+3]=ie<K?M[ie]:255;if(ee==4)for(P=0;P<w;P++)for(V=P*D,H=P*E,q=0;q<E;q++)S=H+q<<2,U=3*(ie=g[V+(q>>1)]>>4-((1&q)<<2)&15),j[S]=Q[U],j[S+1]=Q[U+1],j[S+2]=Q[U+2],j[S+3]=ie<K?M[ie]:255;if(ee==8)for(q=0;q<R;q++){var ie;S=q<<2,U=3*(ie=g[q]),j[S]=Q[U],j[S+1]=Q[U+1],j[S+2]=Q[U+2],j[S+3]=ie<K?M[ie]:255}}else if(W==4){if(ee==8)for(q=0;q<R;q++){S=q<<2;var ce=g[z=q<<1];j[S]=ce,j[S+1]=ce,j[S+2]=ce,j[S+3]=g[z+1]}if(ee==16)for(q=0;q<R;q++){var z;S=q<<2,ce=g[z=q<<2],j[S]=ce,j[S+1]=ce,j[S+2]=ce,j[S+3]=g[z+2]}}else if(W==0)for(A=C.tabs.tRNS?C.tabs.tRNS:-1,P=0;P<w;P++){const Q=P*D,M=P*E;if(ee==1)for(var G=0;G<E;G++){var ae=(ce=255*(g[Q+(G>>>3)]>>>7-(7&G)&1))==255*A?0:255;te[M+G]=ae<<24|ce<<16|ce<<8|ce}else if(ee==2)for(G=0;G<E;G++)ae=(ce=85*(g[Q+(G>>>2)]>>>6-((3&G)<<1)&3))==85*A?0:255,te[M+G]=ae<<24|ce<<16|ce<<8|ce;else if(ee==4)for(G=0;G<E;G++)ae=(ce=17*(g[Q+(G>>>1)]>>>4-((1&G)<<2)&15))==17*A?0:255,te[M+G]=ae<<24|ce<<16|ce<<8|ce;else if(ee==8)for(G=0;G<E;G++)ae=(ce=g[Q+G])==A?0:255,te[M+G]=ae<<24|ce<<16|ce<<8|ce;else if(ee==16)for(G=0;G<E;G++)ce=g[Q+(G<<1)],ae=ne(g,Q+(G<<1))==A?0:255,te[M+G]=ae<<24|ce<<16|ce<<8|ce}return j}function t(g,E,w,C){const R=o(g),O=Math.ceil(w*R/8),D=new Uint8Array((O+1+g.interlace)*C);return E=g.tabs.CgBI?s(E,D):i(E,D),g.interlace==0?E=c(E,g,0,w,C):g.interlace==1&&(E=function(te,W){const ee=W.width,ne=W.height,q=o(W),Z=q>>3,A=Math.ceil(ee*q/8),S=new Uint8Array(ne*A);let P=0;const V=[0,0,4,0,2,0,1],H=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],ie=[8,8,4,4,2,2,1];let ce=0;for(;ce<7;){const G=U[ce],ae=ie[ce];let Q=0,M=0,K=V[ce];for(;K<ne;)K+=G,M++;let Y=H[ce];for(;Y<ee;)Y+=ae,Q++;const B=Math.ceil(Q*q/8);c(te,W,P,Q,M);let re=0,se=V[ce];for(;se<ne;){let pe=H[ce],Me=P+re*B<<3;for(;pe<ee;){var z;if(q==1&&(z=(z=te[Me>>3])>>7-(7&Me)&1,S[se*A+(pe>>3)]|=z<<7-((7&pe)<<0)),q==2&&(z=(z=te[Me>>3])>>6-(7&Me)&3,S[se*A+(pe>>2)]|=z<<6-((3&pe)<<1)),q==4&&(z=(z=te[Me>>3])>>4-(7&Me)&15,S[se*A+(pe>>1)]|=z<<4-((1&pe)<<2)),q>=8){const Ae=se*A+pe*Z;for(let Ne=0;Ne<Z;Ne++)S[Ae+Ne]=te[(Me>>3)+Ne]}Me+=q,pe+=ae}re++,se+=G}Q*M!=0&&(P+=M*(1+B)),ce+=1}return S}(E,g)),E}function i(g,E){return s(new Uint8Array(g.buffer,2,g.length-6),E)}var s=function(){const g={H:{}};return g.H.N=function(E,w){const C=Uint8Array;let R,O,D=0,j=0,te=0,W=0,ee=0,ne=0,q=0,Z=0,A=0;if(E[0]==3&&E[1]==0)return w||new C(0);const S=g.H,P=S.b,V=S.e,H=S.R,U=S.n,ie=S.A,ce=S.Z,z=S.m,G=w==null;for(G&&(w=new C(E.length>>>2<<5));D==0;)if(D=P(E,A,1),j=P(E,A+1,2),A+=3,j!=0){if(G&&(w=g.H.W(w,Z+(1<<17))),j==1&&(R=z.J,O=z.h,ne=511,q=31),j==2){te=V(E,A,5)+257,W=V(E,A+5,5)+1,ee=V(E,A+10,4)+4,A+=14;let Q=1;for(var ae=0;ae<38;ae+=2)z.Q[ae]=0,z.Q[ae+1]=0;for(ae=0;ae<ee;ae++){const Y=V(E,A+3*ae,3);z.Q[1+(z.X[ae]<<1)]=Y,Y>Q&&(Q=Y)}A+=3*ee,U(z.Q,Q),ie(z.Q,Q,z.u),R=z.w,O=z.d,A=H(z.u,(1<<Q)-1,te+W,E,A,z.v);const M=S.V(z.v,0,te,z.C);ne=(1<<M)-1;const K=S.V(z.v,te,W,z.D);q=(1<<K)-1,U(z.C,M),ie(z.C,M,R),U(z.D,K),ie(z.D,K,O)}for(;;){const Q=R[ce(E,A)&ne];A+=15&Q;const M=Q>>>4;if(!(M>>>8))w[Z++]=M;else{if(M==256)break;{let K=Z+M-254;if(M>264){const pe=z.q[M-257];K=Z+(pe>>>3)+V(E,A,7&pe),A+=7&pe}const Y=O[ce(E,A)&q];A+=15&Y;const B=Y>>>4,re=z.c[B],se=(re>>>4)+P(E,A,15&re);for(A+=15&re;Z<K;)w[Z]=w[Z++-se],w[Z]=w[Z++-se],w[Z]=w[Z++-se],w[Z]=w[Z++-se];Z=K}}}}else{(7&A)!=0&&(A+=8-(7&A));const Q=4+(A>>>3),M=E[Q-4]|E[Q-3]<<8;G&&(w=g.H.W(w,Z+M)),w.set(new C(E.buffer,E.byteOffset+Q,M),Z),A=Q+M<<3,Z+=M}return w.length==Z?w:w.slice(0,Z)},g.H.W=function(E,w){const C=E.length;if(w<=C)return E;const R=new Uint8Array(C<<1);return R.set(E,0),R},g.H.R=function(E,w,C,R,O,D){const j=g.H.e,te=g.H.Z;let W=0;for(;W<C;){const ee=E[te(R,O)&w];O+=15&ee;const ne=ee>>>4;if(ne<=15)D[W]=ne,W++;else{let q=0,Z=0;ne==16?(Z=3+j(R,O,2),O+=2,q=D[W-1]):ne==17?(Z=3+j(R,O,3),O+=3):ne==18&&(Z=11+j(R,O,7),O+=7);const A=W+Z;for(;W<A;)D[W]=q,W++}}return O},g.H.V=function(E,w,C,R){let O=0,D=0;const j=R.length>>>1;for(;D<C;){const te=E[D+w];R[D<<1]=0,R[1+(D<<1)]=te,te>O&&(O=te),D++}for(;D<j;)R[D<<1]=0,R[1+(D<<1)]=0,D++;return O},g.H.n=function(E,w){const C=g.H.m,R=E.length;let O,D,j,te;const W=C.j;for(var ee=0;ee<=w;ee++)W[ee]=0;for(ee=1;ee<R;ee+=2)W[E[ee]]++;const ne=C.K;for(O=0,W[0]=0,D=1;D<=w;D++)O=O+W[D-1]<<1,ne[D]=O;for(j=0;j<R;j+=2)te=E[j+1],te!=0&&(E[j]=ne[te],ne[te]++)},g.H.A=function(E,w,C){const R=E.length,O=g.H.m.r;for(let D=0;D<R;D+=2)if(E[D+1]!=0){const j=D>>1,te=E[D+1],W=j<<4|te,ee=w-te;let ne=E[D]<<ee;const q=ne+(1<<ee);for(;ne!=q;)C[O[ne]>>>15-w]=W,ne++}},g.H.l=function(E,w){const C=g.H.m.r,R=15-w;for(let O=0;O<E.length;O+=2){const D=E[O]<<w-E[O+1];E[O]=C[D]>>>R}},g.H.M=function(E,w,C){C<<=7&w;const R=w>>>3;E[R]|=C,E[R+1]|=C>>>8},g.H.I=function(E,w,C){C<<=7&w;const R=w>>>3;E[R]|=C,E[R+1]|=C>>>8,E[R+2]|=C>>>16},g.H.e=function(E,w,C){return(E[w>>>3]|E[1+(w>>>3)]<<8)>>>(7&w)&(1<<C)-1},g.H.b=function(E,w,C){return(E[w>>>3]|E[1+(w>>>3)]<<8|E[2+(w>>>3)]<<16)>>>(7&w)&(1<<C)-1},g.H.Z=function(E,w){return(E[w>>>3]|E[1+(w>>>3)]<<8|E[2+(w>>>3)]<<16)>>>(7&w)},g.H.i=function(E,w){return(E[w>>>3]|E[1+(w>>>3)]<<8|E[2+(w>>>3)]<<16|E[3+(w>>>3)]<<24)>>>(7&w)},g.H.m=function(){const E=Uint16Array,w=Uint32Array;return{K:new E(16),j:new E(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new E(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new w(32),J:new E(512),_:[],h:new E(32),$:[],w:new E(32768),C:[],v:[],d:new E(32768),D:[],u:new E(512),Q:[],r:new E(32768),s:new w(286),Y:new w(30),a:new w(19),t:new w(15e3),k:new E(65536),g:new E(32768)}}(),function(){const E=g.H.m;for(var w=0;w<32768;w++){let R=w;R=(2863311530&R)>>>1|(1431655765&R)<<1,R=(3435973836&R)>>>2|(858993459&R)<<2,R=(4042322160&R)>>>4|(252645135&R)<<4,R=(4278255360&R)>>>8|(16711935&R)<<8,E.r[w]=(R>>>16|R<<16)>>>17}function C(R,O,D){for(;O--!=0;)R.push(0,D)}for(w=0;w<32;w++)E.q[w]=E.S[w]<<3|E.T[w],E.c[w]=E.p[w]<<4|E.z[w];C(E._,144,8),C(E._,112,9),C(E._,24,7),C(E._,8,8),g.H.n(E._,9),g.H.A(E._,9,E.J),g.H.l(E._,9),C(E.$,32,5),g.H.n(E.$,5),g.H.A(E.$,5,E.h),g.H.l(E.$,5),C(E.Q,19,0),C(E.C,286,0),C(E.D,30,0),C(E.v,320,0)}(),g.H.N}();function o(g){return[1,null,3,1,2,null,4][g.ctype]*g.depth}function c(g,E,w,C,R){let O=o(E);const D=Math.ceil(C*O/8);let j,te;O=Math.ceil(O/8);let W=g[w],ee=0;if(W>1&&(g[w]=[0,0,1][W-2]),W==3)for(ee=O;ee<D;ee++)g[ee+1]=g[ee+1]+(g[ee+1-O]>>>1)&255;for(let ne=0;ne<R;ne++)if(j=w+ne*D,te=j+ne+1,W=g[te-1],ee=0,W==0)for(;ee<D;ee++)g[j+ee]=g[te+ee];else if(W==1){for(;ee<O;ee++)g[j+ee]=g[te+ee];for(;ee<D;ee++)g[j+ee]=g[te+ee]+g[j+ee-O]}else if(W==2)for(;ee<D;ee++)g[j+ee]=g[te+ee]+g[j+ee-D];else if(W==3){for(;ee<O;ee++)g[j+ee]=g[te+ee]+(g[j+ee-D]>>>1);for(;ee<D;ee++)g[j+ee]=g[te+ee]+(g[j+ee-D]+g[j+ee-O]>>>1)}else{for(;ee<O;ee++)g[j+ee]=g[te+ee]+f(0,g[j+ee-D],0);for(;ee<D;ee++)g[j+ee]=g[te+ee]+f(g[j+ee-O],g[j+ee-D],g[j+ee-O-D])}return g}function f(g,E,w){const C=g+E-w,R=C-g,O=C-E,D=C-w;return R*R<=O*O&&R*R<=D*D?g:O*O<=D*D?E:w}function p(g,E,w){w.width=n.readUint(g,E),E+=4,w.height=n.readUint(g,E),E+=4,w.depth=g[E],E++,w.ctype=g[E],E++,w.compress=g[E],E++,w.filter=g[E],E++,w.interlace=g[E],E++}function m(g,E,w,C,R,O,D,j,te){const W=Math.min(E,R),ee=Math.min(w,O);let ne=0,q=0;for(let ce=0;ce<ee;ce++)for(let z=0;z<W;z++)if(D>=0&&j>=0?(ne=ce*E+z<<2,q=(j+ce)*R+D+z<<2):(ne=(-j+ce)*E-D+z<<2,q=ce*R+z<<2),te==0)C[q]=g[ne],C[q+1]=g[ne+1],C[q+2]=g[ne+2],C[q+3]=g[ne+3];else if(te==1){var Z=g[ne+3]*.00392156862745098,A=g[ne]*Z,S=g[ne+1]*Z,P=g[ne+2]*Z,V=C[q+3]*(1/255),H=C[q]*V,U=C[q+1]*V,ie=C[q+2]*V;const G=1-Z,ae=Z+V*G,Q=ae==0?0:1/ae;C[q+3]=255*ae,C[q+0]=(A+H*G)*Q,C[q+1]=(S+U*G)*Q,C[q+2]=(P+ie*G)*Q}else if(te==2)Z=g[ne+3],A=g[ne],S=g[ne+1],P=g[ne+2],V=C[q+3],H=C[q],U=C[q+1],ie=C[q+2],Z==V&&A==H&&S==U&&P==ie?(C[q]=0,C[q+1]=0,C[q+2]=0,C[q+3]=0):(C[q]=A,C[q+1]=S,C[q+2]=P,C[q+3]=Z);else if(te==3){if(Z=g[ne+3],A=g[ne],S=g[ne+1],P=g[ne+2],V=C[q+3],H=C[q],U=C[q+1],ie=C[q+2],Z==V&&A==H&&S==U&&P==ie)continue;if(Z<220&&V>20)return!1}return!0}return{decode:function(E){const w=new Uint8Array(E);let C=8;const R=n,O=R.readUshort,D=R.readUint,j={tabs:{},frames:[]},te=new Uint8Array(w.length);let W,ee=0,ne=0;const q=[137,80,78,71,13,10,26,10];for(var Z=0;Z<8;Z++)if(w[Z]!=q[Z])throw"The input is not a PNG file!";for(;C<w.length;){const ce=R.readUint(w,C);C+=4;const z=R.readASCII(w,C,4);if(C+=4,z=="IHDR")p(w,C,j);else if(z=="iCCP"){for(var A=C;w[A]!=0;)A++;R.readASCII(w,C,A-C),w[A+1];const G=w.slice(A+2,C+ce);let ae=null;try{ae=i(G)}catch{ae=s(G)}j.tabs[z]=ae}else if(z=="CgBI")j.tabs[z]=w.slice(C,C+4);else if(z=="IDAT"){for(Z=0;Z<ce;Z++)te[ee+Z]=w[C+Z];ee+=ce}else if(z=="acTL")j.tabs[z]={num_frames:D(w,C),num_plays:D(w,C+4)},W=new Uint8Array(w.length);else if(z=="fcTL"){ne!=0&&((ie=j.frames[j.frames.length-1]).data=t(j,W.slice(0,ne),ie.rect.width,ie.rect.height),ne=0);const G={x:D(w,C+12),y:D(w,C+16),width:D(w,C+4),height:D(w,C+8)};let ae=O(w,C+22);ae=O(w,C+20)/(ae==0?100:ae);const Q={rect:G,delay:Math.round(1e3*ae),dispose:w[C+24],blend:w[C+25]};j.frames.push(Q)}else if(z=="fdAT"){for(Z=0;Z<ce-4;Z++)W[ne+Z]=w[C+Z+4];ne+=ce-4}else if(z=="pHYs")j.tabs[z]=[R.readUint(w,C),R.readUint(w,C+4),w[C+8]];else if(z=="cHRM")for(j.tabs[z]=[],Z=0;Z<8;Z++)j.tabs[z].push(R.readUint(w,C+4*Z));else if(z=="tEXt"||z=="zTXt"){j.tabs[z]==null&&(j.tabs[z]={});var S=R.nextZero(w,C),P=R.readASCII(w,C,S-C),V=C+ce-S-1;if(z=="tEXt")U=R.readASCII(w,S+1,V);else{var H=i(w.slice(S+2,S+2+V));U=R.readUTF8(H,0,H.length)}j.tabs[z][P]=U}else if(z=="iTXt"){j.tabs[z]==null&&(j.tabs[z]={}),S=0,A=C,S=R.nextZero(w,A),P=R.readASCII(w,A,S-A);const G=w[A=S+1];var U;w[A+1],A+=2,S=R.nextZero(w,A),R.readASCII(w,A,S-A),A=S+1,S=R.nextZero(w,A),R.readUTF8(w,A,S-A),V=ce-((A=S+1)-C),G==0?U=R.readUTF8(w,A,V):(H=i(w.slice(A,A+V)),U=R.readUTF8(H,0,H.length)),j.tabs[z][P]=U}else if(z=="PLTE")j.tabs[z]=R.readBytes(w,C,ce);else if(z=="hIST"){const G=j.tabs.PLTE.length/3;for(j.tabs[z]=[],Z=0;Z<G;Z++)j.tabs[z].push(O(w,C+2*Z))}else if(z=="tRNS")j.ctype==3?j.tabs[z]=R.readBytes(w,C,ce):j.ctype==0?j.tabs[z]=O(w,C):j.ctype==2&&(j.tabs[z]=[O(w,C),O(w,C+2),O(w,C+4)]);else if(z=="gAMA")j.tabs[z]=R.readUint(w,C)/1e5;else if(z=="sRGB")j.tabs[z]=w[C];else if(z=="bKGD")j.ctype==0||j.ctype==4?j.tabs[z]=[O(w,C)]:j.ctype==2||j.ctype==6?j.tabs[z]=[O(w,C),O(w,C+2),O(w,C+4)]:j.ctype==3&&(j.tabs[z]=w[C]);else if(z=="IEND")break;C+=ce,R.readUint(w,C),C+=4}var ie;return ne!=0&&((ie=j.frames[j.frames.length-1]).data=t(j,W.slice(0,ne),ie.rect.width,ie.rect.height)),j.data=t(j,te,j.width,j.height),delete j.compress,delete j.interlace,delete j.filter,j},toRGBA8:function(E){const w=E.width,C=E.height;if(E.tabs.acTL==null)return[e(E.data,w,C,E).buffer];const R=[];E.frames[0].data==null&&(E.frames[0].data=E.data);const O=w*C*4,D=new Uint8Array(O),j=new Uint8Array(O),te=new Uint8Array(O);for(let ee=0;ee<E.frames.length;ee++){const ne=E.frames[ee],q=ne.rect.x,Z=ne.rect.y,A=ne.rect.width,S=ne.rect.height,P=e(ne.data,A,S,E);if(ee!=0)for(var W=0;W<O;W++)te[W]=D[W];if(ne.blend==0?m(P,A,S,D,w,C,q,Z,0):ne.blend==1&&m(P,A,S,D,w,C,q,Z,1),R.push(D.buffer.slice(0)),ne.dispose!=0){if(ne.dispose==1)m(j,A,S,D,w,C,q,Z,0);else if(ne.dispose==2)for(W=0;W<O;W++)D[W]=te[W]}}return R},_paeth:f,_copyTile:m,_bin:n}}();(function(){const{_copyTile:n}=Os,{_bin:e}=Os,t=Os._paeth;var i={table:function(){const A=new Uint32Array(256);for(let S=0;S<256;S++){let P=S;for(let V=0;V<8;V++)1&P?P=3988292384^P>>>1:P>>>=1;A[S]=P}return A}(),update(A,S,P,V){for(let H=0;H<V;H++)A=i.table[255&(A^S[P+H])]^A>>>8;return A},crc:(A,S,P)=>4294967295^i.update(4294967295,A,S,P)};function s(A,S,P,V){S[P]+=A[0]*V>>4,S[P+1]+=A[1]*V>>4,S[P+2]+=A[2]*V>>4,S[P+3]+=A[3]*V>>4}function o(A){return Math.max(0,Math.min(255,A))}function c(A,S){const P=A[0]-S[0],V=A[1]-S[1],H=A[2]-S[2],U=A[3]-S[3];return P*P+V*V+H*H+U*U}function f(A,S,P,V,H,U,ie){ie==null&&(ie=1);const ce=V.length,z=[];for(var G=0;G<ce;G++){const se=V[G];z.push([se>>>0&255,se>>>8&255,se>>>16&255,se>>>24&255])}for(G=0;G<ce;G++){let se=4294967295;for(var ae=0,Q=0;Q<ce;Q++){var M=c(z[G],z[Q]);Q!=G&&M<se&&(se=M,ae=Q)}}const K=new Uint32Array(H.buffer),Y=new Int16Array(S*P*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(G=0;G<B.length;G++)B[G]=255*((B[G]+.5)/16-.5);for(let se=0;se<P;se++)for(let pe=0;pe<S;pe++){var re;G=4*(se*S+pe),ie!=2?re=[o(A[G]+Y[G]),o(A[G+1]+Y[G+1]),o(A[G+2]+Y[G+2]),o(A[G+3]+Y[G+3])]:(M=B[4*(3&se)+(3&pe)],re=[o(A[G]+M),o(A[G+1]+M),o(A[G+2]+M),o(A[G+3]+M)]),ae=0;let Me=16777215;for(Q=0;Q<ce;Q++){const je=c(re,z[Q]);je<Me&&(Me=je,ae=Q)}const Ae=z[ae],Ne=[re[0]-Ae[0],re[1]-Ae[1],re[2]-Ae[2],re[3]-Ae[3]];ie==1&&(pe!=S-1&&s(Ne,Y,G+4,7),se!=P-1&&(pe!=0&&s(Ne,Y,G+4*S-4,3),s(Ne,Y,G+4*S,5),pe!=S-1&&s(Ne,Y,G+4*S+4,1))),U[G>>2]=ae,K[G>>2]=V[ae]}}function p(A,S,P,V,H){H==null&&(H={});const{crc:U}=i,ie=e.writeUint,ce=e.writeUshort,z=e.writeASCII;let G=8;const ae=A.frames.length>1;let Q,M=!1,K=33+(ae?20:0);if(H.sRGB!=null&&(K+=13),H.pHYs!=null&&(K+=21),H.iCCP!=null&&(Q=pako.deflate(H.iCCP),K+=21+Q.length+4),A.ctype==3){for(var Y=A.plte.length,B=0;B<Y;B++)A.plte[B]>>>24!=255&&(M=!0);K+=8+3*Y+4+(M?8+1*Y+4:0)}for(var re=0;re<A.frames.length;re++)ae&&(K+=38),K+=(Ae=A.frames[re]).cimg.length+12,re!=0&&(K+=4);K+=12;const se=new Uint8Array(K),pe=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)se[B]=pe[B];if(ie(se,G,13),G+=4,z(se,G,"IHDR"),G+=4,ie(se,G,S),G+=4,ie(se,G,P),G+=4,se[G]=A.depth,G++,se[G]=A.ctype,G++,se[G]=0,G++,se[G]=0,G++,se[G]=0,G++,ie(se,G,U(se,G-17,17)),G+=4,H.sRGB!=null&&(ie(se,G,1),G+=4,z(se,G,"sRGB"),G+=4,se[G]=H.sRGB,G++,ie(se,G,U(se,G-5,5)),G+=4),H.iCCP!=null){const Ne=13+Q.length;ie(se,G,Ne),G+=4,z(se,G,"iCCP"),G+=4,z(se,G,"ICC profile"),G+=11,G+=2,se.set(Q,G),G+=Q.length,ie(se,G,U(se,G-(Ne+4),Ne+4)),G+=4}if(H.pHYs!=null&&(ie(se,G,9),G+=4,z(se,G,"pHYs"),G+=4,ie(se,G,H.pHYs[0]),G+=4,ie(se,G,H.pHYs[1]),G+=4,se[G]=H.pHYs[2],G++,ie(se,G,U(se,G-13,13)),G+=4),ae&&(ie(se,G,8),G+=4,z(se,G,"acTL"),G+=4,ie(se,G,A.frames.length),G+=4,ie(se,G,H.loop!=null?H.loop:0),G+=4,ie(se,G,U(se,G-12,12)),G+=4),A.ctype==3){for(ie(se,G,3*(Y=A.plte.length)),G+=4,z(se,G,"PLTE"),G+=4,B=0;B<Y;B++){const Ne=3*B,je=A.plte[B],Ue=255&je,Ke=je>>>8&255,qe=je>>>16&255;se[G+Ne+0]=Ue,se[G+Ne+1]=Ke,se[G+Ne+2]=qe}if(G+=3*Y,ie(se,G,U(se,G-3*Y-4,3*Y+4)),G+=4,M){for(ie(se,G,Y),G+=4,z(se,G,"tRNS"),G+=4,B=0;B<Y;B++)se[G+B]=A.plte[B]>>>24&255;G+=Y,ie(se,G,U(se,G-Y-4,Y+4)),G+=4}}let Me=0;for(re=0;re<A.frames.length;re++){var Ae=A.frames[re];ae&&(ie(se,G,26),G+=4,z(se,G,"fcTL"),G+=4,ie(se,G,Me++),G+=4,ie(se,G,Ae.rect.width),G+=4,ie(se,G,Ae.rect.height),G+=4,ie(se,G,Ae.rect.x),G+=4,ie(se,G,Ae.rect.y),G+=4,ce(se,G,V[re]),G+=2,ce(se,G,1e3),G+=2,se[G]=Ae.dispose,G++,se[G]=Ae.blend,G++,ie(se,G,U(se,G-30,30)),G+=4);const Ne=Ae.cimg;ie(se,G,(Y=Ne.length)+(re==0?0:4)),G+=4;const je=G;z(se,G,re==0?"IDAT":"fdAT"),G+=4,re!=0&&(ie(se,G,Me++),G+=4),se.set(Ne,G),G+=Y,ie(se,G,U(se,je,G-je)),G+=4}return ie(se,G,0),G+=4,z(se,G,"IEND"),G+=4,ie(se,G,U(se,G-4,4)),G+=4,se.buffer}function m(A,S,P){for(let V=0;V<A.frames.length;V++){const H=A.frames[V];H.rect.width;const U=H.rect.height,ie=new Uint8Array(U*H.bpl+U);H.cimg=C(H.img,U,H.bpp,H.bpl,ie,S,P)}}function g(A,S,P,V,H){const U=H[0],ie=H[1],ce=H[2],z=H[3],G=H[4],ae=H[5];let Q=6,M=8,K=255;for(var Y=0;Y<A.length;Y++){const xe=new Uint8Array(A[Y]);for(var B=xe.length,re=0;re<B;re+=4)K&=xe[re+3]}const se=K!=255,pe=function(ze,He,Qe,at,At,pt){const Et=[];for(var lt=0;lt<ze.length;lt++){const wn=new Uint8Array(ze[lt]),an=new Uint32Array(wn.buffer);var en;let Qt=0,_n=0,bn=He,Ln=Qe,rr=at?1:0;if(lt!=0){const si=pt||at||lt==1||Et[lt-2].dispose!=0?1:2;let gr=0,_r=1e9;for(let Hi=0;Hi<si;Hi++){var rt=new Uint8Array(ze[lt-1-Hi]);const Pi=new Uint32Array(ze[lt-1-Hi]);let jn=He,di=Qe,Vn=-1,Ei=-1;for(let wi=0;wi<Qe;wi++)for(let ue=0;ue<He;ue++)an[xt=wi*He+ue]!=Pi[xt]&&(ue<jn&&(jn=ue),ue>Vn&&(Vn=ue),wi<di&&(di=wi),wi>Ei&&(Ei=wi));Vn==-1&&(jn=di=Vn=Ei=0),At&&((1&jn)==1&&jn--,(1&di)==1&&di--);const sr=(Vn-jn+1)*(Ei-di+1);sr<_r&&(_r=sr,gr=Hi,Qt=jn,_n=di,bn=Vn-jn+1,Ln=Ei-di+1)}rt=new Uint8Array(ze[lt-1-gr]),gr==1&&(Et[lt-1].dispose=2),en=new Uint8Array(bn*Ln*4),n(rt,He,Qe,en,bn,Ln,-Qt,-_n,0),rr=n(wn,He,Qe,en,bn,Ln,-Qt,-_n,3)?1:0,rr==1?w(wn,He,Qe,en,{x:Qt,y:_n,width:bn,height:Ln}):n(wn,He,Qe,en,bn,Ln,-Qt,-_n,0)}else en=wn.slice(0);Et.push({rect:{x:Qt,y:_n,width:bn,height:Ln},img:en,blend:rr,dispose:0})}if(at)for(lt=0;lt<Et.length;lt++){if((sn=Et[lt]).blend==1)continue;const wn=sn.rect,an=Et[lt-1].rect,Qt=Math.min(wn.x,an.x),_n=Math.min(wn.y,an.y),bn={x:Qt,y:_n,width:Math.max(wn.x+wn.width,an.x+an.width)-Qt,height:Math.max(wn.y+wn.height,an.y+an.height)-_n};Et[lt-1].dispose=1,lt-1!=0&&E(ze,He,Qe,Et,lt-1,bn,At),E(ze,He,Qe,Et,lt,bn,At)}let st=0;if(ze.length!=1)for(var xt=0;xt<Et.length;xt++){var sn;st+=(sn=Et[xt]).rect.width*sn.rect.height}return Et}(A,S,P,U,ie,ce),Me={},Ae=[],Ne=[];if(V!=0){const xe=[];for(re=0;re<pe.length;re++)xe.push(pe[re].img.buffer);const ze=function(At){let pt=0;for(var Et=0;Et<At.length;Et++)pt+=At[Et].byteLength;const lt=new Uint8Array(pt);let en=0;for(Et=0;Et<At.length;Et++){const rt=new Uint8Array(At[Et]),st=rt.length;for(let xt=0;xt<st;xt+=4){let sn=rt[xt],wn=rt[xt+1],an=rt[xt+2];const Qt=rt[xt+3];Qt==0&&(sn=wn=an=0),lt[en+xt]=sn,lt[en+xt+1]=wn,lt[en+xt+2]=an,lt[en+xt+3]=Qt}en+=st}return lt.buffer}(xe),He=O(ze,V);for(re=0;re<He.plte.length;re++)Ae.push(He.plte[re].est.rgba);let Qe=0;for(re=0;re<pe.length;re++){const at=(Ue=pe[re]).img.length;var je=new Uint8Array(He.inds.buffer,Qe>>2,at>>2);Ne.push(je);const At=new Uint8Array(He.abuf,Qe,at);ae&&f(Ue.img,Ue.rect.width,Ue.rect.height,Ae,At,je),Ue.img.set(At),Qe+=at}}else for(Y=0;Y<pe.length;Y++){var Ue=pe[Y];const xe=new Uint32Array(Ue.img.buffer);var Ke=Ue.rect.width;for(B=xe.length,je=new Uint8Array(B),Ne.push(je),re=0;re<B;re++){const ze=xe[re];if(re!=0&&ze==xe[re-1])je[re]=je[re-1];else if(re>Ke&&ze==xe[re-Ke])je[re]=je[re-Ke];else{let He=Me[ze];if(He==null&&(Me[ze]=He=Ae.length,Ae.push(ze),Ae.length>=300))break;je[re]=He}}}const qe=Ae.length;for(qe<=256&&G==0&&(M=qe<=2?1:qe<=4?2:qe<=16?4:8,M=Math.max(M,z)),Y=0;Y<pe.length;Y++){(Ue=pe[Y]).rect.x,Ue.rect.y,Ke=Ue.rect.width;const xe=Ue.rect.height;let ze=Ue.img;new Uint32Array(ze.buffer);let He=4*Ke,Qe=4;if(qe<=256&&G==0){He=Math.ceil(M*Ke/8);var de=new Uint8Array(He*xe);const at=Ne[Y];for(let At=0;At<xe;At++){re=At*He;const pt=At*Ke;if(M==8)for(var Ie=0;Ie<Ke;Ie++)de[re+Ie]=at[pt+Ie];else if(M==4)for(Ie=0;Ie<Ke;Ie++)de[re+(Ie>>1)]|=at[pt+Ie]<<4-4*(1&Ie);else if(M==2)for(Ie=0;Ie<Ke;Ie++)de[re+(Ie>>2)]|=at[pt+Ie]<<6-2*(3&Ie);else if(M==1)for(Ie=0;Ie<Ke;Ie++)de[re+(Ie>>3)]|=at[pt+Ie]<<7-1*(7&Ie)}ze=de,Q=3,Qe=1}else if(se==0&&pe.length==1){de=new Uint8Array(Ke*xe*3);const at=Ke*xe;for(re=0;re<at;re++){const At=3*re,pt=4*re;de[At]=ze[pt],de[At+1]=ze[pt+1],de[At+2]=ze[pt+2]}ze=de,Q=2,Qe=3,He=3*Ke}Ue.img=ze,Ue.bpl=He,Ue.bpp=Qe}return{ctype:Q,depth:M,plte:Ae,frames:pe}}function E(A,S,P,V,H,U,ie){const ce=Uint8Array,z=Uint32Array,G=new ce(A[H-1]),ae=new z(A[H-1]),Q=H+1<A.length?new ce(A[H+1]):null,M=new ce(A[H]),K=new z(M.buffer);let Y=S,B=P,re=-1,se=-1;for(let Me=0;Me<U.height;Me++)for(let Ae=0;Ae<U.width;Ae++){const Ne=U.x+Ae,je=U.y+Me,Ue=je*S+Ne,Ke=K[Ue];Ke==0||V[H-1].dispose==0&&ae[Ue]==Ke&&(Q==null||Q[4*Ue+3]!=0)||(Ne<Y&&(Y=Ne),Ne>re&&(re=Ne),je<B&&(B=je),je>se&&(se=je))}re==-1&&(Y=B=re=se=0),ie&&((1&Y)==1&&Y--,(1&B)==1&&B--),U={x:Y,y:B,width:re-Y+1,height:se-B+1};const pe=V[H];pe.rect=U,pe.blend=1,pe.img=new Uint8Array(U.width*U.height*4),V[H-1].dispose==0?(n(G,S,P,pe.img,U.width,U.height,-U.x,-U.y,0),w(M,S,P,pe.img,U)):n(M,S,P,pe.img,U.width,U.height,-U.x,-U.y,0)}function w(A,S,P,V,H){n(A,S,P,V,H.width,H.height,-H.x,-H.y,2)}function C(A,S,P,V,H,U,ie){const ce=[];let z,G=[0,1,2,3,4];U!=-1?G=[U]:(S*V>5e5||P==1)&&(G=[0]),ie&&(z={level:0});const ae=r8;for(var Q=0;Q<G.length;Q++){for(let Y=0;Y<S;Y++)R(H,A,Y,V,P,G[Q]);ce.push(ae.deflate(H,z))}let M,K=1e9;for(Q=0;Q<ce.length;Q++)ce[Q].length<K&&(M=Q,K=ce[Q].length);return ce[M]}function R(A,S,P,V,H,U){const ie=P*V;let ce=ie+P;if(A[ce]=U,ce++,U==0)if(V<500)for(var z=0;z<V;z++)A[ce+z]=S[ie+z];else A.set(new Uint8Array(S.buffer,ie,V),ce);else if(U==1){for(z=0;z<H;z++)A[ce+z]=S[ie+z];for(z=H;z<V;z++)A[ce+z]=S[ie+z]-S[ie+z-H]+256&255}else if(P==0){for(z=0;z<H;z++)A[ce+z]=S[ie+z];if(U==2)for(z=H;z<V;z++)A[ce+z]=S[ie+z];if(U==3)for(z=H;z<V;z++)A[ce+z]=S[ie+z]-(S[ie+z-H]>>1)+256&255;if(U==4)for(z=H;z<V;z++)A[ce+z]=S[ie+z]-t(S[ie+z-H],0,0)+256&255}else{if(U==2)for(z=0;z<V;z++)A[ce+z]=S[ie+z]+256-S[ie+z-V]&255;if(U==3){for(z=0;z<H;z++)A[ce+z]=S[ie+z]+256-(S[ie+z-V]>>1)&255;for(z=H;z<V;z++)A[ce+z]=S[ie+z]+256-(S[ie+z-V]+S[ie+z-H]>>1)&255}if(U==4){for(z=0;z<H;z++)A[ce+z]=S[ie+z]+256-t(0,S[ie+z-V],0)&255;for(z=H;z<V;z++)A[ce+z]=S[ie+z]+256-t(S[ie+z-H],S[ie+z-V],S[ie+z-H-V])&255}}}function O(A,S){const P=new Uint8Array(A),V=P.slice(0),H=new Uint32Array(V.buffer),U=D(V,S),ie=U[0],ce=U[1],z=P.length,G=new Uint8Array(z>>2);let ae;if(P.length<2e7)for(var Q=0;Q<z;Q+=4)ae=j(ie,M=P[Q]*(1/255),K=P[Q+1]*(1/255),Y=P[Q+2]*(1/255),B=P[Q+3]*(1/255)),G[Q>>2]=ae.ind,H[Q>>2]=ae.est.rgba;else for(Q=0;Q<z;Q+=4){var M=P[Q]*.00392156862745098,K=P[Q+1]*(1/255),Y=P[Q+2]*(1/255),B=P[Q+3]*(1/255);for(ae=ie;ae.left;)ae=te(ae.est,M,K,Y,B)<=0?ae.left:ae.right;G[Q>>2]=ae.ind,H[Q>>2]=ae.est.rgba}return{abuf:V.buffer,inds:G,plte:ce}}function D(A,S,P){P==null&&(P=1e-4);const V=new Uint32Array(A.buffer),H={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};H.bst=ne(A,H.i0,H.i1),H.est=q(H.bst);const U=[H];for(;U.length<S;){let ce=0,z=0;for(var ie=0;ie<U.length;ie++)U[ie].est.L>ce&&(ce=U[ie].est.L,z=ie);if(ce<P)break;const G=U[z],ae=W(A,V,G.i0,G.i1,G.est.e,G.est.eMq255);if(G.i0>=ae||G.i1<=ae){G.est.L=0;continue}const Q={i0:G.i0,i1:ae,bst:null,est:null,tdst:0,left:null,right:null};Q.bst=ne(A,Q.i0,Q.i1),Q.est=q(Q.bst);const M={i0:ae,i1:G.i1,bst:null,est:null,tdst:0,left:null,right:null};for(M.bst={R:[],m:[],N:G.bst.N-Q.bst.N},ie=0;ie<16;ie++)M.bst.R[ie]=G.bst.R[ie]-Q.bst.R[ie];for(ie=0;ie<4;ie++)M.bst.m[ie]=G.bst.m[ie]-Q.bst.m[ie];M.est=q(M.bst),G.left=Q,G.right=M,U[z]=Q,U.push(M)}for(U.sort((ce,z)=>z.bst.N-ce.bst.N),ie=0;ie<U.length;ie++)U[ie].ind=ie;return[H,U]}function j(A,S,P,V,H){if(A.left==null)return A.tdst=function(Q,M,K,Y,B){const re=M-Q[0],se=K-Q[1],pe=Y-Q[2],Me=B-Q[3];return re*re+se*se+pe*pe+Me*Me}(A.est.q,S,P,V,H),A;const U=te(A.est,S,P,V,H);let ie=A.left,ce=A.right;U>0&&(ie=A.right,ce=A.left);const z=j(ie,S,P,V,H);if(z.tdst<=U*U)return z;const G=j(ce,S,P,V,H);return G.tdst<z.tdst?G:z}function te(A,S,P,V,H){const{e:U}=A;return U[0]*S+U[1]*P+U[2]*V+U[3]*H-A.eMq}function W(A,S,P,V,H,U){for(V-=4;P<V;){for(;ee(A,P,H)<=U;)P+=4;for(;ee(A,V,H)>U;)V-=4;if(P>=V)break;const ie=S[P>>2];S[P>>2]=S[V>>2],S[V>>2]=ie,P+=4,V-=4}for(;ee(A,P,H)>U;)P-=4;return P+4}function ee(A,S,P){return A[S]*P[0]+A[S+1]*P[1]+A[S+2]*P[2]+A[S+3]*P[3]}function ne(A,S,P){const V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H=[0,0,0,0],U=P-S>>2;for(let ie=S;ie<P;ie+=4){const ce=A[ie]*.00392156862745098,z=A[ie+1]*(1/255),G=A[ie+2]*(1/255),ae=A[ie+3]*(1/255);H[0]+=ce,H[1]+=z,H[2]+=G,H[3]+=ae,V[0]+=ce*ce,V[1]+=ce*z,V[2]+=ce*G,V[3]+=ce*ae,V[5]+=z*z,V[6]+=z*G,V[7]+=z*ae,V[10]+=G*G,V[11]+=G*ae,V[15]+=ae*ae}return V[4]=V[1],V[8]=V[2],V[9]=V[6],V[12]=V[3],V[13]=V[7],V[14]=V[11],{R:V,m:H,N:U}}function q(A){const{R:S}=A,{m:P}=A,{N:V}=A,H=P[0],U=P[1],ie=P[2],ce=P[3],z=V==0?0:1/V,G=[S[0]-H*H*z,S[1]-H*U*z,S[2]-H*ie*z,S[3]-H*ce*z,S[4]-U*H*z,S[5]-U*U*z,S[6]-U*ie*z,S[7]-U*ce*z,S[8]-ie*H*z,S[9]-ie*U*z,S[10]-ie*ie*z,S[11]-ie*ce*z,S[12]-ce*H*z,S[13]-ce*U*z,S[14]-ce*ie*z,S[15]-ce*ce*z],ae=G,Q=Z;let M=[Math.random(),Math.random(),Math.random(),Math.random()],K=0,Y=0;if(V!=0)for(let re=0;re<16&&(M=Q.multVec(ae,M),Y=Math.sqrt(Q.dot(M,M)),M=Q.sml(1/Y,M),!(re!=0&&Math.abs(Y-K)<1e-9));re++)K=Y;const B=[H*z,U*z,ie*z,ce*z];return{Cov:G,q:B,e:M,L:K,eMq255:Q.dot(Q.sml(255,B),M),eMq:Q.dot(M,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var Z={multVec:(A,S)=>[A[0]*S[0]+A[1]*S[1]+A[2]*S[2]+A[3]*S[3],A[4]*S[0]+A[5]*S[1]+A[6]*S[2]+A[7]*S[3],A[8]*S[0]+A[9]*S[1]+A[10]*S[2]+A[11]*S[3],A[12]*S[0]+A[13]*S[1]+A[14]*S[2]+A[15]*S[3]],dot:(A,S)=>A[0]*S[0]+A[1]*S[1]+A[2]*S[2]+A[3]*S[3],sml:(A,S)=>[A*S[0],A*S[1],A*S[2],A*S[3]]};Os.encode=function(S,P,V,H,U,ie,ce){H==null&&(H=0),ce==null&&(ce=!1);const z=g(S,P,V,H,[!1,!1,!1,0,ce,!1]);return m(z,-1),p(z,P,V,U,ie)},Os.encodeLL=function(S,P,V,H,U,ie,ce,z){const G={ctype:0+(H==1?0:2)+(U==0?0:4),depth:ie,frames:[]},ae=(H+U)*ie,Q=ae*P;for(let M=0;M<S.length;M++)G.frames.push({rect:{x:0,y:0,width:P,height:V},img:new Uint8Array(S[M]),blend:0,dispose:1,bpp:Math.ceil(ae/8),bpl:Math.ceil(Q/8)});return m(G,0,!0),p(G,P,V,ce,z)},Os.encode.compress=g,Os.encode.dither=f,Os.quantize=O,Os.quantize.getKDtree=D,Os.quantize.getNearest=j})();const kR={toArrayBuffer(n,e){const t=n.width,i=n.height,s=t<<2,o=n.getContext("2d").getImageData(0,0,t,i),c=new Uint32Array(o.data.buffer),f=(32*t+31)/32<<2,p=f*i,m=122+p,g=new ArrayBuffer(m),E=new DataView(g),w=1<<20;let C,R,O,D,j=w,te=0,W=0,ee=0;function ne(A){E.setUint16(W,A,!0),W+=2}function q(A){E.setUint32(W,A,!0),W+=4}function Z(A){W+=A}ne(19778),q(m),Z(4),q(122),q(108),q(t),q(-i>>>0),ne(1),ne(32),q(3),q(p),q(2835),q(2835),Z(8),q(16711680),q(65280),q(255),q(4278190080),q(1466527264),function A(){for(;te<i&&j>0;){for(D=122+te*f,C=0;C<s;)j--,R=c[ee++],O=R>>>24,E.setUint32(D+C,R<<8|O),C+=4;te++}ee<c.length?(j=w,setTimeout(A,kR._dly)):e(g)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var Cr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},s8={[Cr.CHROME]:16384,[Cr.FIREFOX]:11180,[Cr.DESKTOP_SAFARI]:16384,[Cr.IE]:8192,[Cr.IOS]:4096,[Cr.ETC]:8192};const a0=typeof window<"u",OR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ip=a0&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),a8=(a0||OR)&&(Ip&&Ip.getOriginalSymbol(window,"File")||typeof File<"u"&&File),PR=(a0||OR)&&(Ip&&Ip.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function o0(n,e,t=Date.now()){return new Promise(i=>{const s=n.split(","),o=s[0].match(/:(.*?);/)[1],c=globalThis.atob(s[1]);let f=c.length;const p=new Uint8Array(f);for(;f--;)p[f]=c.charCodeAt(f);const m=new Blob([p],{type:o});m.name=e,m.lastModified=t,i(m)})}function MR(n){return new Promise((e,t)=>{const i=new PR;i.onload=()=>e(i.result),i.onerror=s=>t(s),i.readAsDataURL(n)})}function DR(n){return new Promise((e,t)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s=>t(s),i.src=n})}function jl(){if(jl.cachedResult!==void 0)return jl.cachedResult;let n=Cr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Cr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Cr.IOS:/Safari/i.test(e)?n=Cr.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Cr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=Cr.IE),jl.cachedResult=n,jl.cachedResult}function NR(n,e){const t=jl(),i=s8[t];let s=n,o=e,c=s*o;const f=s>o?o/s:s/o;for(;c>i*i;){const p=(i+s)/2,m=(i+o)/2;p<m?(o=m,s=m*f):(o=p*f,s=p),c=s*o}return{width:s,height:o}}function bm(n,e){let t,i;try{if(t=new OffscreenCanvas(n,e),i=t.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),i=t.getContext("2d")}return t.width=n,t.height=e,[t,i]}function LR(n,e){const{width:t,height:i}=NR(n.width,n.height),[s,o]=bm(t,i);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,s.width,s.height)),o.drawImage(n,0,0,s.width,s.height),s}function Qd(){return Qd.cachedResult!==void 0||(Qd.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Qd.cachedResult}function kp(n,e={}){return new Promise(function(t,i){let s,o;var c=function(){try{return o=LR(s,e.fileType||n.type),t([s,o])}catch(p){return i(p)}},f=function(p){try{var m=function(g){try{throw g}catch(E){return i(E)}};try{let g;return MR(n).then(function(E){try{return g=E,DR(g).then(function(w){try{return s=w,function(){try{return c()}catch(C){return i(C)}}()}catch(C){return m(C)}},m)}catch(w){return m(w)}},m)}catch(g){m(g)}}catch(g){return i(g)}};try{if(Qd()||[Cr.DESKTOP_SAFARI,Cr.MOBILE_SAFARI].includes(jl()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(p){try{return s=p,c()}catch{return f()}},f)}catch{f()}})}function Op(n,e,t,i,s=1){return new Promise(function(o,c){let f;if(e==="image/png"){let E,w,C;return E=n.getContext("2d"),{data:w}=E.getImageData(0,0,n.width,n.height),C=Os.encode([w.buffer],n.width,n.height,4096*s),f=new Blob([C],{type:e}),f.name=t,f.lastModified=i,p.call(this)}{let E=function(){return p.call(this)};var m=E;if(e==="image/bmp")return new Promise(w=>kR.toBlob(n,w)).then((function(w){try{return f=w,f.name=t,f.lastModified=i,E.call(this)}catch(C){return c(C)}}).bind(this),c);{let w=function(){return E.call(this)};var g=w;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:s}).then((function(C){try{return f=C,f.name=t,f.lastModified=i,w.call(this)}catch(R){return c(R)}}).bind(this),c);{let C;return C=n.toDataURL(e,s),o0(C,t,i).then((function(R){try{return f=R,w.call(this)}catch(O){return c(O)}}).bind(this),c)}}}function p(){return o(f)}})}function Js(n){n.width=0,n.height=0}function $u(){return new Promise(function(n,e){let t,i,s,o;return $u.cachedResult!==void 0?n($u.cachedResult):o0("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return t=c,kp(t).then(function(f){try{return i=f[1],Op(i,t.type,t.name,t.lastModified).then(function(p){try{return s=p,Js(i),kp(s).then(function(m){try{return o=m[0],$u.cachedResult=o.width===1&&o.height===2,n($u.cachedResult)}catch(g){return e(g)}},e)}catch(m){return e(m)}},e)}catch(p){return e(p)}},e)}catch(f){return e(f)}},e)})}function VR(n){return new Promise((e,t)=>{const i=new PR;i.onload=s=>{const o=new DataView(s.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const c=o.byteLength;let f=2;for(;f<c;){if(o.getUint16(f+2,!1)<=8)return e(-1);const p=o.getUint16(f,!1);if(f+=2,p==65505){if(o.getUint32(f+=2,!1)!=1165519206)return e(-1);const m=o.getUint16(f+=6,!1)==18761;f+=o.getUint32(f+4,m);const g=o.getUint16(f,m);f+=2;for(let E=0;E<g;E++)if(o.getUint16(f+12*E,m)==274)return e(o.getUint16(f+12*E+8,m))}else{if((65280&p)!=65280)break;f+=o.getUint16(f,!1)}}return e(-1)},i.onerror=s=>t(s),i.readAsArrayBuffer(n)})}function UR(n,e){const{width:t}=n,{height:i}=n,{maxWidthOrHeight:s}=e;let o,c=n;return isFinite(s)&&(t>s||i>s)&&([c,o]=bm(t,i),t>i?(c.width=s,c.height=i/t*s):(c.width=t/i*s,c.height=s),o.drawImage(n,0,0,c.width,c.height),Js(n)),c}function BR(n,e){const{width:t}=n,{height:i}=n,[s,o]=bm(t,i);switch(e>4&&e<9?(s.width=i,s.height=t):(s.width=t,s.height=i),e){case 2:o.transform(-1,0,0,1,t,0);break;case 3:o.transform(-1,0,0,-1,t,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,t);break;case 8:o.transform(0,-1,1,0,0,t)}return o.drawImage(n,0,0,t,i),Js(n),s}function KT(n,e,t=0){return new Promise(function(i,s){let o,c,f,p,m,g,E,w,C,R,O,D,j,te,W,ee,ne,q,Z,A;function S(V=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=V,e.onProgress(Math.min(o,100))}function P(V){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(V,o),100),e.onProgress(o)}return o=t,c=e.maxIteration||10,f=1024*e.maxSizeMB*1024,S(),kp(n,e).then((function(V){try{return[,p]=V,S(),m=UR(p,e),S(),new Promise(function(H,U){var ie;if(!(ie=e.exifOrientation))return VR(n).then((function(z){try{return ie=z,ce.call(this)}catch(G){return U(G)}}).bind(this),U);function ce(){return H(ie)}return ce.call(this)}).then((function(H){try{return g=H,S(),$u().then((function(U){try{return E=U?m:BR(m,g),S(),w=e.initialQuality||1,C=e.fileType||n.type,Op(E,C,n.name,n.lastModified,w).then((function(ie){try{{let ae=function(){if(c--&&(W>f||W>j)){let M,K;return M=A?.95*Z.width:Z.width,K=A?.95*Z.height:Z.height,[ne,q]=bm(M,K),q.drawImage(Z,0,0,M,K),w*=C==="image/png"?.85:.95,Op(ne,C,n.name,n.lastModified,w).then(function(Y){try{return ee=Y,Js(Z),Z=ne,W=ee.size,P(Math.min(99,Math.floor((te-W)/(te-f)*100))),ae}catch(B){return s(B)}},s)}return[1]},Q=function(){return Js(Z),Js(ne),Js(m),Js(E),Js(p),P(100),i(ee)};var z=ae,G=Q;if(R=ie,S(),O=R.size>f,D=R.size>n.size,!O&&!D)return P(100),i(R);var ce;return j=n.size,te=R.size,W=te,Z=E,A=!e.alwaysKeepResolution&&O,(ce=(function(M){for(;M;){if(M.then)return void M.then(ce,s);try{if(M.pop){if(M.length)return M.pop()?Q.call(this):M;M=ae}else M=M.call(this)}catch(K){return s(K)}}}).bind(this))(ae)}}catch(ae){return s(ae)}}).bind(this),s)}catch(ie){return s(ie)}}).bind(this),s)}catch(U){return s(U)}}).bind(this),s)}catch(H){return s(H)}}).bind(this),s)})}const o8=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let L_;function l8(n,e){return new Promise((t,i)=>{L_||(L_=function(c){const f=[];return f.push(c),URL.createObjectURL(new Blob(f))}(o8));const s=new Worker(L_);s.addEventListener("message",function(c){if(e.signal&&e.signal.aborted)s.terminate();else if(c.data.progress===void 0){if(c.data.error)return i(new Error(c.data.error)),void s.terminate();t(c.data.file),s.terminate()}else e.onProgress(c.data.progress)}),s.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",()=>{i(e.signal.reason),s.terminate()}),s.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Wi(n,e){return new Promise(function(t,i){let s,o,c,f,p,m;if(s={...e},c=0,{onProgress:f}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=C=>{c=C,typeof f=="function"&&f(c)},!(n instanceof Blob||n instanceof a8))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return i(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||m)return KT(n,s).then((function(C){try{return o=C,w.call(this)}catch(R){return i(R)}}).bind(this),i);var g=(function(){try{return w.call(this)}catch(C){return i(C)}}).bind(this),E=function(C){try{return KT(n,s).then(function(R){try{return o=R,g()}catch(O){return i(O)}},i)}catch(R){return i(R)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",l8(n,s).then(function(C){try{return o=C,g()}catch{return E()}},E)}catch{E()}function w(){try{o.name=n.name,o.lastModified=n.lastModified}catch{}try{s.preserveExif&&n.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===n.type)&&(o=IR(n,o))}catch{}return t(o)}})}Wi.getDataUrlFromFile=MR,Wi.getFilefromDataUrl=o0,Wi.loadImage=DR,Wi.drawImageInCanvas=LR,Wi.drawFileInCanvas=kp,Wi.canvasToFile=Op,Wi.getExifOrientation=VR,Wi.handleMaxWidthOrHeight=UR,Wi.followExifOrientation=BR,Wi.cleanupCanvasMemory=Js,Wi.isAutoOrientationInBrowser=$u,Wi.approximateBelowMaximumCanvasSizeOfBrowser=NR,Wi.copyExifWithoutOrientation=IR,Wi.getBrowserName=jl,Wi.version="2.0.2";const $T={nomeCompleto:"",cpf:"",rg:"",telefone:"",status:"Disponível",fotoURL:"",dossieURL:"",dataNascimento:"",tipoChavePix:"",chavePix:""};function u8(){const[n,e]=he.useState([]),[t,i]=he.useState(!0),[s,o]=he.useState(!1),[c,f]=he.useState($T),[p,m]=he.useState(""),[g,E]=he.useState(""),[w,C]=he.useState(""),[R,O]=he.useState([]),[D,j]=he.useState(null),[te,W]=he.useState(!1),[ee,ne]=he.useState(null),[q,Z]=he.useState({foto:null,dossie:null}),A=he.useRef(null),S=ja(ti,"chapas_b2b"),P=async()=>{i(!0);try{const de=Gh(S,J2("dataImportacao","desc")),xe=(await Zh(de)).docs.map(ze=>({...ze.data(),id:ze.id}));e(xe)}catch(de){console.error("Erro ao buscar trabalhadores:",de)}finally{i(!1)}};he.useEffect(()=>{P()},[]),he.useEffect(()=>{const de=w.toLowerCase().trim();if(!n)return;const Ie=n.filter(xe=>(xe.nomeCompleto||"").toLowerCase().includes(de)||(xe.cpf||"").toString().includes(de)||(xe.rg||"").toString().includes(de));O(Ie)},[w,n]),he.useEffect(()=>{c.tipoChavePix==="CPF"&&c.cpf?f(de=>({...de,chavePix:de.cpf})):c.tipoChavePix==="Telefone"&&c.telefone&&f(de=>({...de,chavePix:de.telefone}))},[c.tipoChavePix,c.cpf,c.telefone]);const V=de=>{const{name:Ie,value:xe}=de.target;f(ze=>({...ze,[Ie]:xe}))},H=de=>{if(!de||!de.toDate)return"";const Ie=de.toDate();return new Date(Ie.getTime()-Ie.getTimezoneOffset()*6e4).toISOString().split("T")[0]},U=()=>{j(null),f($T),Z({foto:null,dossie:null}),E(""),o(!0)},ie=de=>{j(de),f({nomeCompleto:de.nomeCompleto||"",cpf:de.cpf||"",rg:de.rg||"",telefone:de.telefone||"",status:de.status||"Disponível",fotoURL:de.fotoURL||"",dossieURL:de.dossieURL||"",dataNascimento:H(de.dataNascimento),tipoChavePix:de.dadosBancarios?.tipoChave||"",chavePix:de.dadosBancarios?.chave||""}),Z({foto:null,dossie:null}),E(""),o(!0)},ce=()=>{o(!1),j(null),Z({foto:null,dossie:null})},z=de=>{if(!de)return null;const Ie=new Date(de),xe=Ie.getTimezoneOffset()*6e4;return nn.fromDate(new Date(Ie.getTime()+xe))},G={11:"SP (Capital)",12:"SP (Vale do Paraíba)",13:"SP (Baixada Santista)",14:"SP (Bauru/Marília)",15:"SP (Sorocaba)",16:"SP (Ribeirão Preto)",17:"SP (São José do Rio Preto)",18:"SP (Presidente Prudente)",19:"SP (Campinas)",21:"RJ (Capital)",22:"RJ (Norte Fluminense)",24:"RJ (Serra/Sul Fluminense)",27:"ES (Vitória e Região)",28:"ES (Sul)",31:"MG (Belo Horizonte)",32:"MG (Juiz de Fora)",33:"MG (Governador Valadares)",34:"MG (Uberlândia)",35:"MG (Sul de Minas)",37:"MG (Centro-Oeste)",38:"MG (Norte de Minas)",41:"PR (Curitiba)",42:"PR (Ponta Grossa)",43:"PR (Londrina)",44:"PR (Maringá)",45:"PR (Foz do Iguaçu)",46:"PR (Sudoeste)",47:"SC (Joinville/Itajaí)",48:"SC (Florianópolis)",49:"SC (Oeste)",51:"RS (Porto Alegre)",53:"RS (Pelotas)",54:"RS (Caxias do Sul)",55:"RS (Central)",61:"DF (Brasília)",62:"GO (Goiânia)",63:"TO (Palmas)",64:"GO (Sudoeste)",65:"MT (Cuiabá)",66:"MT (Norte)",67:"MS (Campo Grande)",68:"AC (Rio Branco)",69:"RO (Porto Velho)",71:"BA (Salvador)",73:"BA (Sul)",74:"BA (Juazeiro)",75:"BA (Feira de Santana)",77:"BA (Oeste)",79:"SE (Aracaju)",81:"PE (Recife)",82:"AL (Maceió)",83:"PB (João Pessoa)",84:"RN (Natal)",85:"CE (Fortaleza)",86:"PI (Teresina)",87:"PE (Sertão)",88:"CE (Interior)",89:"PI (Sudeste)",91:"PA (Belém)",92:"AM (Manaus)",93:"PA (Oeste)",94:"PA (Sudeste)",95:"RR (Boa Vista)",96:"AP (Macapá)",97:"AM (Sudoeste)",98:"MA (São Luís)",99:"MA (Sul)"},ae=de=>{if(!de||typeof de!="string")return"Não identificado";const Ie=de.replace(/\D/g,"");if(Ie.length<2)return"Não identificado";const xe=Ie.substring(0,2);return G[xe]||"Outra Região"},Q=de=>{const Ie=c[de];Ie&&(Z(xe=>({...xe,[de.replace("URL","")]:Ie})),f(xe=>({...xe,[de]:""})))},M=async de=>{if(de)try{const Ie=A_(S_,de);await O6(Ie)}catch(Ie){Ie.code!=="storage/object-not-found"&&console.error("Erro ao excluir arquivo antigo: ",Ie)}},K=async de=>{const Ie=de.target.files[0];if(Ie){c.fotoURL&&Q("fotoURL"),E("Comprimindo...");try{const xe=await Wi(Ie,{maxSizeMB:1,maxWidthOrHeight:800});E("Enviando...");const ze=A_(S_,`fotos_chapas/${Date.now()}_${xe.name}`),He=await hT(ze,xe),Qe=await fT(He.ref);f(at=>({...at,fotoURL:Qe})),E("Foto enviada!")}catch(xe){console.error("Erro no upload: ",xe)}}},Y=async de=>{const Ie=de.target.files[0];if(Ie){c.dossieURL&&Q("dossieURL"),E("Enviando...");try{const xe=A_(S_,`dossies_chapas/${Date.now()}_${Ie.name}`),ze=await hT(xe,Ie),He=await fT(ze.ref);f(Qe=>({...Qe,dossieURL:He})),E("Dossiê enviado!")}catch(xe){console.error("Erro no upload: ",xe)}}},B=async de=>{if(de.preventDefault(),E("Validando dados..."),!c.cpf){alert("Erro: O campo CPF é obrigatório."),E("");return}const Ie=Gh(S,Ep("cpf","==",c.cpf)),xe=await Zh(Ie);let ze=!1;if(xe.empty||(D?xe.forEach(He=>{He.id!==D.id&&(ze=!0)}):ze=!0),ze){alert("Erro: Já existe um trabalhador cadastrado com este CPF."),E("");return}D?await pe():await se()},re=()=>{const{tipoChavePix:de,chavePix:Ie,...xe}=c,ze=z(xe.dataNascimento),He={...xe,dataNascimento:ze,regiao:ae(xe.telefone)};return Ie&&de?He.dadosBancarios={tipoChave:de,chave:Ie}:He.dadosBancarios=null,He},se=async()=>{if(c.nomeCompleto){E("Salvando...");try{await M(q.foto),await M(q.dossie);const de={...re(),dataImportacao:nn.now()};await om(S,de),ce(),P()}catch(de){console.error("Erro ao criar: ",de)}finally{E("")}}},pe=async()=>{if(D?.id){E("Atualizando...");try{await M(q.foto),await M(q.dossie);const de=re(),Ie=ps(ti,"chapas_b2b",D.id);await Oh(Ie,de),ce(),P()}catch(de){console.error("Erro ao atualizar: ",de)}finally{E("")}}},Me=de=>{ne(de),W(!0)},Ae=()=>{ne(null),W(!1)},Ne=async()=>{if(ee){await M(ee.fotoURL),await M(ee.dossieURL);try{await nC(ps(ti,"chapas_b2b",ee.id)),Ae(),P()}catch(de){console.error("Erro ao excluir: ",de)}}},je=()=>{A.current.click()},Ue=de=>de,Ke=de=>{const Ie=de.target.files[0];Ie&&(m("Lendo arquivo..."),e8.parse(Ie,{header:!0,skipEmptyLines:!0,complete:async xe=>{m(`Encontrados ${xe.data.length} registros. Processando...`);const ze=sC(ti);xe.data.forEach(He=>{const Qe=He["Data de Nascimento"]?z(He["Data de Nascimento"].split("/").reverse().join("-")):null,at=He.Telefone?Ue(He.Telefone):"",At={nomeCompleto:He.Nome||"",cpf:He.CPF||"",telefone:at,status:"Disponível",dataNascimento:Qe,regiao:ae(at),dataImportacao:nn.now(),fotoURL:"",dossieURL:""},pt=ps(ja(ti,"chapas_b2b"));ze.set(pt,At)});try{await ze.commit(),m(`Sucesso! ${xe.data.length} trabalhadores importados.`),P()}catch(He){m("Erro ao importar."),console.error("Erro na importação: ",He)}}}))},qe=()=>{switch(c.tipoChavePix){case"CPF":return"000.000.000-00";case"Telefone":return"(00) 00000-0000";default:return}};return x.jsxs("div",{children:[x.jsxs("div",{className:"gestao-header",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"title-with-counter",children:[x.jsx("h1",{className:"gestao-title",children:"Gestão de Trabalhadores"}),!t&&x.jsxs("span",{className:"total-counter",children:[" ",x.jsx(OC,{size:16})," ",n.length," Perfis Cadastrados "]})]}),x.jsx("p",{className:"gestao-subtitle",children:"Adicione e gerencie os Chapas de elite disponíveis para seus clientes."})]}),x.jsxs("div",{className:"action-buttons-group",children:[x.jsx("input",{type:"file",accept:".csv",ref:A,onChange:Ke,style:{display:"none"}}),x.jsxs("button",{className:"import-button-csv",onClick:je,children:[" ",x.jsx(lV,{size:20})," Importar via Planilha "]}),x.jsxs("button",{className:"import-button",onClick:U,children:[" ",x.jsx(Ky,{size:20})," Adicionar Manualmente "]})]})]}),p&&x.jsx("p",{className:"import-status-feedback",children:p}),x.jsxs("div",{className:"filtro-container",children:[" ",x.jsx("input",{type:"text",placeholder:"Buscar por Nome, CPF ou RG...",className:"filtro-input",value:w,onChange:de=>C(de.target.value)})," "]}),x.jsx("div",{className:"table-container",children:x.jsxs("table",{className:"talentos-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Trabalhador"}),x.jsx("th",{children:"Status"}),x.jsx("th",{children:"Telefone / Região"}),x.jsx("th",{children:"Ações"})]})}),x.jsx("tbody",{children:t?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Carregando trabalhadores..."})}):R.length>0?R.map(de=>x.jsxs("tr",{children:[x.jsxs("td",{children:[" ",x.jsxs("div",{className:"user-cell",children:[" ",x.jsxs("div",{className:"user-avatar",children:[" ",de.fotoURL?x.jsx("img",{src:de.fotoURL,alt:de.nomeCompleto,className:"avatar-image"}):x.jsx(Qy,{size:18})," "]})," ",x.jsxs("div",{children:[" ",x.jsx("span",{className:"user-name",children:de.nomeCompleto})," ",x.jsx("span",{className:"user-cpf",children:de.cpf})," "]})," "]})," "]}),x.jsxs("td",{children:[" ",x.jsxs("span",{className:`status-badge status-${(de.status||"disponível").toLowerCase().replace(/ /g,"-")}`,children:[" ",de.status," "]})," "]}),x.jsxs("td",{children:[" ",x.jsxs("div",{className:"contact-cell",children:[" ",x.jsx("span",{children:de.telefone})," ",x.jsx("span",{className:"region-tag",children:de.regiao})," "]})," "]}),x.jsxs("td",{children:[" ",x.jsxs("div",{className:"acoes-cell",children:[" ",x.jsxs("button",{className:"action-button-details",title:de.dossieURL?"Ver Dossiê":"Dossiê não disponível",onClick:()=>de.dossieURL&&window.open(de.dossieURL,"_blank","noopener,noreferrer"),disabled:!de.dossieURL,children:[" ",x.jsx(RC,{size:18})," "]})," ",x.jsxs("button",{className:"action-button-edit",title:"Editar Perfil",onClick:()=>ie(de),children:[" ",x.jsx(IC,{size:18})," "]})," ",x.jsxs("button",{className:"action-button-delete",title:"Excluir Perfil",onClick:()=>Me(de),children:[" ",x.jsx(kC,{size:18})," "]})," "]})," "]})]},de.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Nenhum trabalhador encontrado."})})})]})}),x.jsx(ec,{isOpen:s,onClose:ce,title:D?"Editar Dados do Trabalhador":"Adicionar Novo Trabalhador",children:x.jsxs("form",{onSubmit:B,className:"modal-form",children:[x.jsxs("div",{className:"form-section",children:[x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"nomeCompleto",children:"Nome Completo"})," ",x.jsx("input",{id:"nomeCompleto",name:"nomeCompleto",type:"text",value:c.nomeCompleto,onChange:V,required:!0})," "]}),x.jsxs("div",{className:"form-row",children:[x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"cpf",children:"CPF"})," ",x.jsx(Th,{mask:"000.000.000-00",id:"cpf",name:"cpf",value:c.cpf,onAccept:de=>V({target:{name:"cpf",value:de}}),required:!0})," "]}),x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"rg",children:"RG"})," ",x.jsx(Th,{mask:"00.000.000-0",id:"rg",name:"rg",value:c.rg,onAccept:de=>V({target:{name:"rg",value:de}})})," "]})]}),x.jsxs("div",{className:"form-row",children:[x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"telefone",children:"Telefone"})," ",x.jsx(Th,{mask:"(00) 00000-0000",id:"telefone",name:"telefone",value:c.telefone,onAccept:de=>V({target:{name:"telefone",value:de}}),required:!0})," "]}),x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"dataNascimento",children:"Data de Nascimento"})," ",x.jsx("input",{type:"date",id:"dataNascimento",name:"dataNascimento",value:c.dataNascimento,onChange:V})," "]})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsxs("h3",{className:"form-section-title",children:[" ",x.jsx(m5,{size:20})," Dados de Pagamento (PIX) "]}),x.jsxs("div",{className:"form-row",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"tipoChavePix",children:"Tipo de Chave"}),x.jsxs("select",{id:"tipoChavePix",name:"tipoChavePix",value:c.tipoChavePix,onChange:V,children:[x.jsx("option",{value:"",children:"Nenhum"}),x.jsx("option",{value:"CPF",children:"CPF"}),x.jsx("option",{value:"Telefone",children:"Celular"}),x.jsx("option",{value:"E-mail",children:"E-mail"}),x.jsx("option",{value:"Aleatória",children:"Chave Aleatória"})]})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"chavePix",children:"Chave PIX"}),x.jsx(Th,{mask:qe(),id:"chavePix",name:"chavePix",value:c.chavePix,onAccept:de=>V({target:{name:"chavePix",value:de}}),disabled:!c.tipoChavePix,placeholder:c.tipoChavePix?"":"Selecione um tipo de chave"})]})]})]}),x.jsxs("div",{className:"form-section",children:[x.jsxs("div",{className:"input-group",children:[" ",x.jsx("label",{htmlFor:"status",children:"Status"})," ",x.jsxs("select",{id:"status",name:"status",value:c.status,onChange:V,children:[" ",x.jsx("option",{value:"Disponível",children:"Disponível"})," ",x.jsx("option",{value:"Em Serviço",children:"Em Serviço"})," ",x.jsx("option",{value:"De Férias",children:"De Férias"})," ",x.jsx("option",{value:"Bloqueado",children:"Bloqueado"})," "]})," "]}),x.jsxs("div",{className:"upload-section",children:[x.jsxs("div",{className:"upload-item",children:[x.jsxs("label",{htmlFor:"fotoUpload",className:"upload-button",children:[" ",x.jsx(A5,{size:18})," ",c.fotoURL?"Alterar Foto":"Carregar Foto"," "]}),x.jsx("input",{id:"fotoUpload",type:"file",accept:"image/*",onChange:K,style:{display:"none"}}),c.fotoURL&&x.jsxs("div",{className:"file-feedback",children:[" ",x.jsx("img",{src:c.fotoURL,alt:"Preview",className:"upload-preview"})," ",x.jsx("button",{type:"button",onClick:()=>Q("fotoURL"),className:"remove-file-btn",children:x.jsx(Av,{size:16})})," "]})]}),x.jsxs("div",{className:"upload-item",children:[x.jsxs("label",{htmlFor:"dossieUpload",className:"upload-button",children:[" ",x.jsx(Y5,{size:18})," ",c.dossieURL?"Alterar Dossiê":"Carregar Dossiê"," "]}),x.jsx("input",{id:"dossieUpload",type:"file",accept:".pdf",onChange:Y,style:{display:"none"}}),c.dossieURL&&x.jsxs("div",{className:"file-feedback",children:[" ",x.jsx("span",{children:"PDF Carregado"})," ",x.jsx("button",{type:"button",onClick:()=>Q("dossieURL"),className:"remove-file-btn",children:x.jsx(Av,{size:16})})," "]})]})]})]}),g&&x.jsx("p",{className:"upload-progress-feedback",children:g}),x.jsxs("div",{className:"form-actions",children:[x.jsx("button",{type:"button",className:"cancel-button",onClick:ce,children:"Cancelar"}),x.jsx("button",{type:"submit",className:"add-button",children:D?"Salvar Alterações":"Salvar Trabalhador"})]})]})}),x.jsxs(GC,{isOpen:te,onClose:Ae,onConfirm:Ne,title:"Confirmar Exclusão",children:[x.jsxs("p",{children:["Você tem certeza que deseja excluir o trabalhador ",x.jsx("strong",{children:ee?.nomeCompleto}),"?"]})," ",x.jsx("p",{children:"Esta ação não pode ser desfeita."})]})]})}var Bu={},V_,QT;function FR(){return QT||(QT=1,V_={L:1,M:0,Q:3,H:2}),V_}var U_,YT;function jR(){return YT||(YT=1,U_={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),U_}var B_,WT;function c8(){if(WT)return B_;WT=1;var n=jR();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var i=0;i<this.data.length;i++)t.put(this.data.charCodeAt(i),8)}},B_=e,B_}var F_,XT;function h8(){if(XT)return F_;XT=1;var n=FR();function e(t,i){this.totalCount=t,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,i){var s=e.getRsBlockTable(t,i);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var o=s.length/3,c=new Array,f=0;f<o;f++)for(var p=s[f*3+0],m=s[f*3+1],g=s[f*3+2],E=0;E<p;E++)c.push(new e(m,g));return c},e.getRsBlockTable=function(t,i){switch(i){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},F_=e,F_}var j_,JT;function f8(){if(JT)return j_;JT=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i++)this.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},j_=n,j_}var z_,eA;function zR(){if(eA)return z_;eA=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return z_=n,z_}var H_,tA;function HR(){if(tA)return H_;tA=1;var n=zR();function e(t,i){if(t.length==null)throw new Error(t.length+"/"+i);for(var s=0;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+i);for(var o=0;o<t.length-s;o++)this.num[o]=t[o+s]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var i=new Array(this.getLength()+t.getLength()-1),s=0;s<this.getLength();s++)for(var o=0;o<t.getLength();o++)i[s+o]^=n.gexp(n.glog(this.get(s))+n.glog(t.get(o)));return new e(i,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var i=n.glog(this.get(0))-n.glog(t.get(0)),s=new Array(this.getLength()),o=0;o<this.getLength();o++)s[o]=this.get(o);for(var o=0;o<t.getLength();o++)s[o]^=n.gexp(n.glog(t.get(o))+i);return new e(s,0).mod(t)}},H_=e,H_}var q_,nA;function d8(){if(nA)return q_;nA=1;var n=jR(),e=HR(),t=zR(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(o){for(var c=o<<10;s.getBCHDigit(c)-s.getBCHDigit(s.G15)>=0;)c^=s.G15<<s.getBCHDigit(c)-s.getBCHDigit(s.G15);return(o<<10|c)^s.G15_MASK},getBCHTypeNumber:function(o){for(var c=o<<12;s.getBCHDigit(c)-s.getBCHDigit(s.G18)>=0;)c^=s.G18<<s.getBCHDigit(c)-s.getBCHDigit(s.G18);return o<<12|c},getBCHDigit:function(o){for(var c=0;o!=0;)c++,o>>>=1;return c},getPatternPosition:function(o){return s.PATTERN_POSITION_TABLE[o-1]},getMask:function(o,c,f){switch(o){case i.PATTERN000:return(c+f)%2==0;case i.PATTERN001:return c%2==0;case i.PATTERN010:return f%3==0;case i.PATTERN011:return(c+f)%3==0;case i.PATTERN100:return(Math.floor(c/2)+Math.floor(f/3))%2==0;case i.PATTERN101:return c*f%2+c*f%3==0;case i.PATTERN110:return(c*f%2+c*f%3)%2==0;case i.PATTERN111:return(c*f%3+(c+f)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}},getErrorCorrectPolynomial:function(o){for(var c=new e([1],0),f=0;f<o;f++)c=c.multiply(new e([1,t.gexp(f)],0));return c},getLengthInBits:function(o,c){if(1<=c&&c<10)switch(o){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(c<27)switch(o){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else if(c<41)switch(o){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}else throw new Error("type:"+c)},getLostPoint:function(o){for(var c=o.getModuleCount(),f=0,p=0;p<c;p++)for(var m=0;m<c;m++){for(var g=0,E=o.isDark(p,m),w=-1;w<=1;w++)if(!(p+w<0||c<=p+w))for(var C=-1;C<=1;C++)m+C<0||c<=m+C||w==0&&C==0||E==o.isDark(p+w,m+C)&&g++;g>5&&(f+=3+g-5)}for(var p=0;p<c-1;p++)for(var m=0;m<c-1;m++){var R=0;o.isDark(p,m)&&R++,o.isDark(p+1,m)&&R++,o.isDark(p,m+1)&&R++,o.isDark(p+1,m+1)&&R++,(R==0||R==4)&&(f+=3)}for(var p=0;p<c;p++)for(var m=0;m<c-6;m++)o.isDark(p,m)&&!o.isDark(p,m+1)&&o.isDark(p,m+2)&&o.isDark(p,m+3)&&o.isDark(p,m+4)&&!o.isDark(p,m+5)&&o.isDark(p,m+6)&&(f+=40);for(var m=0;m<c;m++)for(var p=0;p<c-6;p++)o.isDark(p,m)&&!o.isDark(p+1,m)&&o.isDark(p+2,m)&&o.isDark(p+3,m)&&o.isDark(p+4,m)&&!o.isDark(p+5,m)&&o.isDark(p+6,m)&&(f+=40);for(var O=0,m=0;m<c;m++)for(var p=0;p<c;p++)o.isDark(p,m)&&O++;var D=Math.abs(100*O/c/c-50)/5;return f+=D*10,f}};return q_=s,q_}var G_,iA;function p8(){if(iA)return G_;iA=1;var n=c8(),e=h8(),t=f8(),i=d8(),s=HR();function o(f,p){this.typeNumber=f,this.errorCorrectLevel=p,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=o.prototype;return c.addData=function(f){var p=new n(f);this.dataList.push(p),this.dataCache=null},c.isDark=function(f,p){if(f<0||this.moduleCount<=f||p<0||this.moduleCount<=p)throw new Error(f+","+p);return this.modules[f][p]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var f=1;for(f=1;f<40;f++){for(var p=e.getRSBlocks(f,this.errorCorrectLevel),m=new t,g=0,E=0;E<p.length;E++)g+=p[E].dataCount;for(var E=0;E<this.dataList.length;E++){var w=this.dataList[E];m.put(w.mode,4),m.put(w.getLength(),i.getLengthInBits(w.mode,f)),w.write(m)}if(m.getLengthInBits()<=g*8)break}this.typeNumber=f}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(f,p){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++)this.modules[m][g]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(f,p),this.typeNumber>=7&&this.setupTypeNumber(f),this.dataCache==null&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,p)},c.setupPositionProbePattern=function(f,p){for(var m=-1;m<=7;m++)if(!(f+m<=-1||this.moduleCount<=f+m))for(var g=-1;g<=7;g++)p+g<=-1||this.moduleCount<=p+g||(0<=m&&m<=6&&(g==0||g==6)||0<=g&&g<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=g&&g<=4?this.modules[f+m][p+g]=!0:this.modules[f+m][p+g]=!1)},c.getBestMaskPattern=function(){for(var f=0,p=0,m=0;m<8;m++){this.makeImpl(!0,m);var g=i.getLostPoint(this);(m==0||f>g)&&(f=g,p=m)}return p},c.createMovieClip=function(f,p,m){var g=f.createEmptyMovieClip(p,m),E=1;this.make();for(var w=0;w<this.modules.length;w++)for(var C=w*E,R=0;R<this.modules[w].length;R++){var O=R*E,D=this.modules[w][R];D&&(g.beginFill(0,100),g.moveTo(O,C),g.lineTo(O+E,C),g.lineTo(O+E,C+E),g.lineTo(O,C+E),g.endFill())}return g},c.setupTimingPattern=function(){for(var f=8;f<this.moduleCount-8;f++)this.modules[f][6]==null&&(this.modules[f][6]=f%2==0);for(var p=8;p<this.moduleCount-8;p++)this.modules[6][p]==null&&(this.modules[6][p]=p%2==0)},c.setupPositionAdjustPattern=function(){for(var f=i.getPatternPosition(this.typeNumber),p=0;p<f.length;p++)for(var m=0;m<f.length;m++){var g=f[p],E=f[m];if(this.modules[g][E]==null)for(var w=-2;w<=2;w++)for(var C=-2;C<=2;C++)w==-2||w==2||C==-2||C==2||w==0&&C==0?this.modules[g+w][E+C]=!0:this.modules[g+w][E+C]=!1}},c.setupTypeNumber=function(f){for(var p=i.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var g=!f&&(p>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=g}for(var m=0;m<18;m++){var g=!f&&(p>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=g}},c.setupTypeInfo=function(f,p){for(var m=this.errorCorrectLevel<<3|p,g=i.getBCHTypeInfo(m),E=0;E<15;E++){var w=!f&&(g>>E&1)==1;E<6?this.modules[E][8]=w:E<8?this.modules[E+1][8]=w:this.modules[this.moduleCount-15+E][8]=w}for(var E=0;E<15;E++){var w=!f&&(g>>E&1)==1;E<8?this.modules[8][this.moduleCount-E-1]=w:E<9?this.modules[8][15-E-1+1]=w:this.modules[8][15-E-1]=w}this.modules[this.moduleCount-8][8]=!f},c.mapData=function(f,p){for(var m=-1,g=this.moduleCount-1,E=7,w=0,C=this.moduleCount-1;C>0;C-=2)for(C==6&&C--;;){for(var R=0;R<2;R++)if(this.modules[g][C-R]==null){var O=!1;w<f.length&&(O=(f[w]>>>E&1)==1);var D=i.getMask(p,g,C-R);D&&(O=!O),this.modules[g][C-R]=O,E--,E==-1&&(w++,E=7)}if(g+=m,g<0||this.moduleCount<=g){g-=m,m=-m;break}}},o.PAD0=236,o.PAD1=17,o.createData=function(f,p,m){for(var g=e.getRSBlocks(f,p),E=new t,w=0;w<m.length;w++){var C=m[w];E.put(C.mode,4),E.put(C.getLength(),i.getLengthInBits(C.mode,f)),C.write(E)}for(var R=0,w=0;w<g.length;w++)R+=g[w].dataCount;if(E.getLengthInBits()>R*8)throw new Error("code length overflow. ("+E.getLengthInBits()+">"+R*8+")");for(E.getLengthInBits()+4<=R*8&&E.put(0,4);E.getLengthInBits()%8!=0;)E.putBit(!1);for(;!(E.getLengthInBits()>=R*8||(E.put(o.PAD0,8),E.getLengthInBits()>=R*8));)E.put(o.PAD1,8);return o.createBytes(E,g)},o.createBytes=function(f,p){for(var m=0,g=0,E=0,w=new Array(p.length),C=new Array(p.length),R=0;R<p.length;R++){var O=p[R].dataCount,D=p[R].totalCount-O;g=Math.max(g,O),E=Math.max(E,D),w[R]=new Array(O);for(var j=0;j<w[R].length;j++)w[R][j]=255&f.buffer[j+m];m+=O;var te=i.getErrorCorrectPolynomial(D),W=new s(w[R],te.getLength()-1),ee=W.mod(te);C[R]=new Array(te.getLength()-1);for(var j=0;j<C[R].length;j++){var ne=j+ee.getLength()-C[R].length;C[R][j]=ne>=0?ee.get(ne):0}}for(var q=0,j=0;j<p.length;j++)q+=p[j].totalCount;for(var Z=new Array(q),A=0,j=0;j<g;j++)for(var R=0;R<p.length;R++)j<w[R].length&&(Z[A++]=w[R][j]);for(var j=0;j<E;j++)for(var R=0;R<p.length;R++)j<C[R].length&&(Z[A++]=C[R][j]);return Z},G_=o,G_}var Id={},rA;function m8(){if(rA)return Id;rA=1,Object.defineProperty(Id,"__esModule",{value:!0});var n=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var E=arguments[g];for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(m[w]=E[w])}return m},e=Wy(),t=o(e),i=uc(),s=o(i);function o(m){return m&&m.__esModule?m:{default:m}}function c(m,g){var E={};for(var w in m)g.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(m,w)&&(E[w]=m[w]);return E}var f={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},p=(0,i.forwardRef)(function(m,g){var E=m.bgColor,w=m.bgD,C=m.fgD,R=m.fgColor,O=m.size,D=m.title,j=m.viewBoxSize,te=m.xmlns,W=te===void 0?"http://www.w3.org/2000/svg":te,ee=c(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",n({},ee,{height:O,ref:g,viewBox:"0 0 "+j+" "+j,width:O,xmlns:W}),D?s.default.createElement("title",null,D):null,s.default.createElement("path",{d:w,fill:E}),s.default.createElement("path",{d:C,fill:R}))});return p.displayName="QRCodeSvg",p.propTypes=f,Id.default=p,Id}var sA;function g8(){if(sA)return Bu;sA=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.QRCode=void 0;var n=Object.assign||function(O){for(var D=1;D<arguments.length;D++){var j=arguments[D];for(var te in j)Object.prototype.hasOwnProperty.call(j,te)&&(O[te]=j[te])}return O},e=Wy(),t=E(e),i=FR(),s=E(i),o=p8(),c=E(o),f=uc(),p=E(f),m=m8(),g=E(m);function E(O){return O&&O.__esModule?O:{default:O}}function w(O,D){var j={};for(var te in O)D.indexOf(te)>=0||Object.prototype.hasOwnProperty.call(O,te)&&(j[te]=O[te]);return j}var C={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},R=(0,f.forwardRef)(function(O,D){var j=O.bgColor,te=j===void 0?"#FFFFFF":j,W=O.fgColor,ee=W===void 0?"#000000":W,ne=O.level,q=ne===void 0?"L":ne,Z=O.size,A=Z===void 0?256:Z,S=O.value,P=w(O,["bgColor","fgColor","level","size","value"]),V=new c.default(-1,s.default[q]);V.addData(S),V.make();var H=V.modules;return p.default.createElement(g.default,n({},P,{bgColor:te,bgD:H.map(function(U,ie){return U.map(function(ce,z){return ce?"":"M "+z+" "+ie+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:ee,fgD:H.map(function(U,ie){return U.map(function(ce,z){return ce?"M "+z+" "+ie+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:D,size:A,viewBoxSize:H.length}))});return Bu.QRCode=R,R.displayName="QRCode",R.propTypes=C,Bu.default=R,Bu}g8();const _8=uO([{path:"/login",element:x.jsx(DV,{})},{path:"/",element:x.jsx(MV,{}),errorElement:x.jsx("div",{className:"error-page",children:"Ocorreu um erro inesperado."}),children:[{index:!0,element:x.jsx(RT,{})},{path:"dashboard",element:x.jsx(RT,{})},{path:"frota",element:x.jsx(rU,{})},{path:"operacoes",element:x.jsx(YB,{})},{path:"talentos",element:x.jsx(u8,{})}]}]);dI.createRoot(document.getElementById("root")).render(x.jsx(mn.StrictMode,{children:x.jsx(EO,{router:_8})}));
