(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Ph(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bg={exports:{}},Gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function IR(){if(sE)return Gc;sE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Gc.Fragment=e,Gc.jsx=t,Gc.jsxs=t,Gc}var aE;function kR(){return aE||(aE=1,bg.exports=IR()),bg.exports}var I=kR(),Ag={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function MR(){if(oE)return Dt;oE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,N={};function q(j,ne,ae){this.props=j,this.context=ne,this.refs=N,this.updater=ae||C}q.prototype.isReactComponent={},q.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},q.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=q.prototype;function J(j,ne,ae){this.props=j,this.context=ne,this.refs=N,this.updater=ae||C}var Q=J.prototype=new H;Q.constructor=J,x(Q,q.prototype),Q.isPureReactComponent=!0;var $=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function G(j,ne,ae,ie,he,le){return ae=le.ref,{$$typeof:n,type:j,key:ne,ref:ae!==void 0?ae:null,props:le}}function A(j,ne){return G(j.type,ne,void 0,void 0,void 0,j.props)}function S(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function M(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return ne[ae]})}var D=/\/+/g;function z(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):ne.toString(36)}function V(){}function X(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(V,V):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ue(j,ne,ae,ie,he){var le=typeof j;(le==="undefined"||le==="boolean")&&(j=null);var Ee=!1;if(j===null)Ee=!0;else switch(le){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(j.$$typeof){case n:case e:Ee=!0;break;case _:return Ee=j._init,ue(Ee(j._payload),ne,ae,ie,he)}}if(Ee)return he=he(j),Ee=ie===""?"."+z(j,0):ie,$(he)?(ae="",Ee!=null&&(ae=Ee.replace(D,"$&/")+"/"),ue(he,ne,ae,"",function(Fe){return Fe})):he!=null&&(S(he)&&(he=A(he,ae+(he.key==null||j&&j.key===he.key?"":(""+he.key).replace(D,"$&/")+"/")+Ee)),ne.push(he)),1;Ee=0;var Ze=ie===""?".":ie+":";if($(j))for(var De=0;De<j.length;De++)ie=j[De],le=Ze+z(ie,De),Ee+=ue(ie,ne,ae,le,he);else if(De=w(j),typeof De=="function")for(j=De.call(j),De=0;!(ie=j.next()).done;)ie=ie.value,le=Ze+z(ie,De++),Ee+=ue(ie,ne,ae,le,he);else if(le==="object"){if(typeof j.then=="function")return ue(X(j),ne,ae,ie,he);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function B(j,ne,ae){if(j==null)return j;var ie=[],he=0;return ue(j,ie,"","",function(le){return ne.call(ae,le,he++)}),ie}function P(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var W=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ee(){}return Dt.Children={map:B,forEach:function(j,ne,ae){B(j,function(){ne.apply(this,arguments)},ae)},count:function(j){var ne=0;return B(j,function(){ne++}),ne},toArray:function(j){return B(j,function(ne){return ne})||[]},only:function(j){if(!S(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Dt.Component=q,Dt.Fragment=t,Dt.Profiler=s,Dt.PureComponent=J,Dt.StrictMode=i,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return te.H.useMemoCache(j)}},Dt.cache=function(j){return function(){return j.apply(null,arguments)}},Dt.cloneElement=function(j,ne,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ie=x({},j.props),he=j.key,le=void 0;if(ne!=null)for(Ee in ne.ref!==void 0&&(le=void 0),ne.key!==void 0&&(he=""+ne.key),ne)!F.call(ne,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ne.ref===void 0||(ie[Ee]=ne[Ee]);var Ee=arguments.length-2;if(Ee===1)ie.children=ae;else if(1<Ee){for(var Ze=Array(Ee),De=0;De<Ee;De++)Ze[De]=arguments[De+2];ie.children=Ze}return G(j.type,he,void 0,void 0,le,ie)},Dt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Dt.createElement=function(j,ne,ae){var ie,he={},le=null;if(ne!=null)for(ie in ne.key!==void 0&&(le=""+ne.key),ne)F.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=ne[ie]);var Ee=arguments.length-2;if(Ee===1)he.children=ae;else if(1<Ee){for(var Ze=Array(Ee),De=0;De<Ee;De++)Ze[De]=arguments[De+2];he.children=Ze}if(j&&j.defaultProps)for(ie in Ee=j.defaultProps,Ee)he[ie]===void 0&&(he[ie]=Ee[ie]);return G(j,le,void 0,void 0,null,he)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(j){return{$$typeof:d,render:j}},Dt.isValidElement=S,Dt.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:P}},Dt.memo=function(j,ne){return{$$typeof:m,type:j,compare:ne===void 0?null:ne}},Dt.startTransition=function(j){var ne=te.T,ae={};te.T=ae;try{var ie=j(),he=te.S;he!==null&&he(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ee,W)}catch(le){W(le)}finally{te.T=ne}},Dt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Dt.use=function(j){return te.H.use(j)},Dt.useActionState=function(j,ne,ae){return te.H.useActionState(j,ne,ae)},Dt.useCallback=function(j,ne){return te.H.useCallback(j,ne)},Dt.useContext=function(j){return te.H.useContext(j)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(j,ne){return te.H.useDeferredValue(j,ne)},Dt.useEffect=function(j,ne,ae){var ie=te.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(j,ne)},Dt.useId=function(){return te.H.useId()},Dt.useImperativeHandle=function(j,ne,ae){return te.H.useImperativeHandle(j,ne,ae)},Dt.useInsertionEffect=function(j,ne){return te.H.useInsertionEffect(j,ne)},Dt.useLayoutEffect=function(j,ne){return te.H.useLayoutEffect(j,ne)},Dt.useMemo=function(j,ne){return te.H.useMemo(j,ne)},Dt.useOptimistic=function(j,ne){return te.H.useOptimistic(j,ne)},Dt.useReducer=function(j,ne,ae){return te.H.useReducer(j,ne,ae)},Dt.useRef=function(j){return te.H.useRef(j)},Dt.useState=function(j){return te.H.useState(j)},Dt.useSyncExternalStore=function(j,ne,ae){return te.H.useSyncExternalStore(j,ne,ae)},Dt.useTransition=function(){return te.H.useTransition()},Dt.version="19.1.0",Dt}var lE;function Oh(){return lE||(lE=1,Ag.exports=MR()),Ag.exports}var ce=Oh();const dn=Ph(ce);var Sg={exports:{}},Zc={},Cg={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function PR(){return uE||(uE=1,function(n){function e(B,P){var W=B.length;B.push(P);e:for(;0<W;){var ee=W-1>>>1,j=B[ee];if(0<s(j,P))B[ee]=P,B[W]=j,W=ee;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var P=B[0],W=B.pop();if(W!==P){B[0]=W;e:for(var ee=0,j=B.length,ne=j>>>1;ee<ne;){var ae=2*(ee+1)-1,ie=B[ae],he=ae+1,le=B[he];if(0>s(ie,W))he<j&&0>s(le,ie)?(B[ee]=le,B[he]=W,ee=he):(B[ee]=ie,B[ae]=W,ee=ae);else if(he<j&&0>s(le,W))B[ee]=le,B[he]=W,ee=he;else break e}}return P}function s(B,P){var W=B.sortIndex-P.sortIndex;return W!==0?W:B.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],_=1,E=null,w=3,C=!1,x=!1,N=!1,q=!1,H=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var P=t(m);P!==null;){if(P.callback===null)i(m);else if(P.startTime<=B)i(m),P.sortIndex=P.expirationTime,e(p,P);else break;P=t(m)}}function te(B){if(N=!1,$(B),!x)if(t(p)!==null)x=!0,F||(F=!0,z());else{var P=t(m);P!==null&&ue(te,P.startTime-B)}}var F=!1,G=-1,A=5,S=-1;function M(){return q?!0:!(n.unstable_now()-S<A)}function D(){if(q=!1,F){var B=n.unstable_now();S=B;var P=!0;try{e:{x=!1,N&&(N=!1,J(G),G=-1),C=!0;var W=w;try{t:{for($(B),E=t(p);E!==null&&!(E.expirationTime>B&&M());){var ee=E.callback;if(typeof ee=="function"){E.callback=null,w=E.priorityLevel;var j=ee(E.expirationTime<=B);if(B=n.unstable_now(),typeof j=="function"){E.callback=j,$(B),P=!0;break t}E===t(p)&&i(p),$(B)}else i(p);E=t(p)}if(E!==null)P=!0;else{var ne=t(m);ne!==null&&ue(te,ne.startTime-B),P=!1}}break e}finally{E=null,w=W,C=!1}P=void 0}}finally{P?z():F=!1}}}var z;if(typeof Q=="function")z=function(){Q(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=D,z=function(){X.postMessage(null)}}else z=function(){H(D,0)};function ue(B,P){G=H(function(){B(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(B){switch(w){case 1:case 2:case 3:var P=3;break;default:P=w}var W=w;w=P;try{return B()}finally{w=W}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(B,P){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=w;w=B;try{return P()}finally{w=W}},n.unstable_scheduleCallback=function(B,P,W){var ee=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,B){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=W+j,B={id:_++,callback:P,priorityLevel:B,startTime:W,expirationTime:j,sortIndex:-1},W>ee?(B.sortIndex=W,e(m,B),t(p)===null&&B===t(m)&&(N?(J(G),G=-1):N=!0,ue(te,W-ee))):(B.sortIndex=j,e(p,B),x||C||(x=!0,F||(F=!0,z()))),B},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(B){var P=w;return function(){var W=w;w=P;try{return B.apply(this,arguments)}finally{w=W}}}}(Rg)),Rg}var cE;function OR(){return cE||(cE=1,Cg.exports=PR()),Cg.exports}var xg={exports:{}},Zi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function DR(){if(hE)return Zi;hE=1;var n=Oh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,m,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:p,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zi.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,_)},Zi.flushSync=function(p){var m=c.T,_=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=_,i.d.f()}},Zi.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Zi.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Zi.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,E=d(_,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:C}):_==="script"&&i.d.X(p,{crossOrigin:E,integrity:w,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zi.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Zi.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,E=d(_,m.crossOrigin);i.d.L(p,_,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zi.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Zi.requestFormReset=function(p){i.d.r(p)},Zi.unstable_batchedUpdates=function(p,m){return p(m)},Zi.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},Zi.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zi.version="19.1.0",Zi}var fE;function tb(){if(fE)return xg.exports;fE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xg.exports=DR(),xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function NR(){if(dE)return Zc;dE=1;var n=OR(),e=Oh(),t=tb();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,f=a;;){var y=u.return;if(y===null)break;var T=y.alternate;if(T===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===T.child){for(T=y.child;T;){if(T===u)return d(y),r;if(T===f)return d(y),a;T=T.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=T;else{for(var U=!1,K=y.child;K;){if(K===u){U=!0,u=y,f=T;break}if(K===f){U=!0,f=y,u=T;break}K=K.sibling}if(!U){for(K=T.child;K;){if(K===u){U=!0,u=T,f=y;break}if(K===f){U=!0,f=T,u=y;break}K=K.sibling}if(!U)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function X(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case q:return"Profiler";case N:return"StrictMode";case te:return"Suspense";case F:return"SuspenseList";case S:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case Q:return(r.displayName||"Context")+".Provider";case J:return(r._context.displayName||"Context")+".Consumer";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return a=r.displayName||null,a!==null?a:X(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return X(r(a))}catch{}}return null}var ue=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ee=[],j=-1;function ne(r){return{current:r}}function ae(r){0>j||(r.current=ee[j],ee[j]=null,j--)}function ie(r,a){j++,ee[j]=r.current,r.current=a}var he=ne(null),le=ne(null),Ee=ne(null),Ze=ne(null);function De(r,a){switch(ie(Ee,a),ie(le,r),ie(he,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?O1(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=O1(a),r=D1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(he),ie(he,r)}function Fe(){ae(he),ae(le),ae(Ee)}function je(r){r.memoizedState!==null&&ie(Ze,r);var a=he.current,u=D1(a,r.type);a!==u&&(ie(le,r),ie(he,u))}function ze(r){le.current===r&&(ae(he),ae(le)),Ze.current===r&&(ae(Ze),zc._currentValue=W)}var et=Object.prototype.hasOwnProperty,kt=n.unstable_scheduleCallback,Te=n.unstable_cancelCallback,Ne=n.unstable_shouldYield,Le=n.unstable_requestPaint,He=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,rt=n.unstable_ImmediatePriority,dt=n.unstable_UserBlockingPriority,It=n.unstable_NormalPriority,Pt=n.unstable_LowPriority,Mt=n.unstable_IdlePriority,ct=n.log,Xt=n.unstable_setDisableYieldValue,tt=null,nt=null;function bt(r){if(typeof ct=="function"&&Xt(r),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(tt,r)}catch{}}var tn=Math.clz32?Math.clz32:Kt,yn=Math.log,nn=Math.LN2;function Kt(r){return r>>>=0,r===0?32:31-(yn(r)/nn|0)|0}var mn=256,En=4194304;function Dn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function er(r,a,u){var f=r.pendingLanes;if(f===0)return 0;var y=0,T=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var K=f&134217727;return K!==0?(f=K&~T,f!==0?y=Dn(f):(U&=K,U!==0?y=Dn(U):u||(u=K&~r,u!==0&&(y=Dn(u))))):(K=f&~T,K!==0?y=Dn(K):U!==0?y=Dn(U):u||(u=f&~r,u!==0&&(y=Dn(u)))),y===0?0:a!==0&&a!==y&&(a&T)===0&&(T=y&-y,u=a&-a,T>=u||T===32&&(u&4194048)!==0)?a:y}function ti(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function fr(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dr(){var r=mn;return mn<<=1,(mn&4194048)===0&&(mn=256),r}function zi(){var r=En;return En<<=1,(En&62914560)===0&&(En=4194304),r}function Ii(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function Bn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ci(r,a,u,f,y,T){var U=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var K=r.entanglements,se=r.expirationTimes,ye=r.hiddenUpdates;for(u=U&~u;0<u;){var Re=31-tn(u),Me=1<<Re;K[Re]=0,se[Re]=-1;var we=ye[Re];if(we!==null)for(ye[Re]=null,Re=0;Re<we.length;Re++){var be=we[Re];be!==null&&(be.lane&=-536870913)}u&=~Me}f!==0&&Nn(r,f,0),T!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=T&~(U&~a))}function Nn(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-tn(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function _i(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var f=31-tn(u),y=1<<f;y&a|r[f]&a&&(r[f]|=a),u&=~y}}function tr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function vi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function oe(){var r=P.p;return r!==0?r:(r=window.event,r===void 0?32:J1(r.type))}function pe(r,a){var u=P.p;try{return P.p=r,a()}finally{P.p=u}}var ve=Math.random().toString(36).slice(2),ke="__reactFiber$"+ve,Ve="__reactProps$"+ve,Ke="__reactContainer$"+ve,Xe="__reactEvents$"+ve,Ce="__reactListeners$"+ve,$e="__reactHandles$"+ve,Ye="__reactResources$"+ve,ht="__reactMarker$"+ve;function ot(r){delete r[ke],delete r[Ve],delete r[Xe],delete r[Ce],delete r[$e]}function pt(r){var a=r[ke];if(a)return a;for(var u=r.parentNode;u;){if(a=u[Ke]||u[ke]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=U1(r);r!==null;){if(u=r[ke])return u;r=U1(r)}return a}r=u,u=r.parentNode}return null}function Nt(r){if(r=r[ke]||r[Ke]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ft(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Jt(r){var a=r[Ye];return a||(a=r[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function jt(r){r[ht]=!0}var Lt=new Set,pr={};function Yn(r,a){yi(r,a),yi(r+"Capture",a)}function yi(r,a){for(pr[r]=a,r=0;r<a.length;r++)Lt.add(a[r])}var hi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nr={},ir={};function ks(r){return et.call(ir,r)?!0:et.call(nr,r)?!1:hi.test(r)?ir[r]=!0:(nr[r]=!0,!1)}function Ei(r,a,u){if(ks(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function ki(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function Et(r,a,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+f)}}var Ln,fi;function Mi(r){if(Ln===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Ln=a&&a[1]||"",fi=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+r+fi}var Cr=!1;function on(r,a){if(!r||Cr)return"";Cr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(be){var we=be}Reflect.construct(r,[],Me)}else{try{Me.call()}catch(be){we=be}r.call(Me.prototype)}}else{try{throw Error()}catch(be){we=be}(Me=r())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(be){if(be&&we&&typeof be.stack=="string")return[be.stack,we.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=f.DetermineComponentFrameRoot(),U=T[0],K=T[1];if(U&&K){var se=U.split(`
`),ye=K.split(`
`);for(y=f=0;f<se.length&&!se[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ye.length&&!ye[y].includes("DetermineComponentFrameRoot");)y++;if(f===se.length||y===ye.length)for(f=se.length-1,y=ye.length-1;1<=f&&0<=y&&se[f]!==ye[y];)y--;for(;1<=f&&0<=y;f--,y--)if(se[f]!==ye[y]){if(f!==1||y!==1)do if(f--,y--,0>y||se[f]!==ye[y]){var Re=`
`+se[f].replace(" at new "," at ");return r.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",r.displayName)),Re}while(1<=f&&0<=y);break}}}finally{Cr=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Mi(u):""}function Ct(r){switch(r.tag){case 26:case 27:case 5:return Mi(r.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return on(r.type,!1);case 11:return on(r.type.render,!1);case 1:return on(r.type,!0);case 31:return Mi("Activity");default:return""}}function ln(r){try{var a="";do a+=Ct(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yr(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ms(r){var a=Yr(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,T=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(U){f=""+U,T.call(this,U)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(U){f=""+U},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ps(r){r._valueTracker||(r._valueTracker=Ms(r))}function At(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return r&&(f=Yr(r)?r.checked?"true":"false":r.value),r=f,r!==u?(a.setValue(r),!0):!1}function gn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var tl=/[\n"\\]/g;function On(r){return r.replace(tl,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xn(r,a,u,f,y,T,U,K){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),a!=null?U==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Hn(a)):r.value!==""+Hn(a)&&(r.value=""+Hn(a)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),a!=null?Rr(r,U,Hn(a)):u!=null?Rr(r,U,Hn(u)):f!=null&&r.removeAttribute("value"),y==null&&T!=null&&(r.defaultChecked=!!T),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?r.name=""+Hn(K):r.removeAttribute("name")}function ra(r,a,u,f,y,T,U,K){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.type=T),a!=null||u!=null){if(!(T!=="submit"&&T!=="reset"||a!=null))return;u=u!=null?""+Hn(u):"",a=a!=null?""+Hn(a):u,K||a===r.value||(r.value=a),r.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=K?r.checked:!!f,r.defaultChecked=!!f,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U)}function Rr(r,a,u){a==="number"&&gn(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Pi(r,a,u,f){if(r=r.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=a.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Hn(u),a=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function _t(r,a,u){if(a!=null&&(a=""+Hn(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+Hn(u):""}function rr(r,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(ue(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Hn(a),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function wi(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function La(r,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,u):typeof u!="number"||u===0||xr.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function fs(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&u[y]!==f&&La(r,y,f)}else for(var T in a)a.hasOwnProperty(T)&&La(r,T,a[T])}function sa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Va=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(r){return Va.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ir=null;function Oi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $r=null,kr=null;function il(r){var a=Nt(r);if(a&&(r=a.stateNode)){var u=r[Ve]||null;e:switch(r=a.stateNode,a.type){case"input":if(xn(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+On(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==r&&f.form===r.form){var y=f[Ve]||null;if(!y)throw Error(i(90));xn(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===r.form&&At(f)}break e;case"textarea":_t(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Pi(r,!!u.multiple,a,!1)}}}var ft=!1;function sr(r,a,u){if(ft)return r(a,u);ft=!0;try{var f=r(a);return f}finally{if(ft=!1,($r!==null||kr!==null)&&(Df(),$r&&(a=$r,r=kr,kr=$r=null,il(a),r)))for(a=0;a<r.length;a++)il(r[a])}}function rn(r,a){var u=r.stateNode;if(u===null)return null;var f=u[Ve]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(mr)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Fi=!1}var gr=null,ji=null,Mr=null;function ps(){if(Mr)return Mr;var r,a=ji,u=a.length,f,y="value"in gr?gr.value:gr.textContent,T=y.length;for(r=0;r<u&&a[r]===y[r];r++);var U=u-r;for(f=1;f<=U&&a[u-f]===y[T-f];f++);return Mr=y.slice(r,1<f?1-f:void 0)}function wn(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ti(){return!0}function Ua(){return!1}function $n(r){function a(u,f,y,T,U){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=T,this.target=U,this.currentTarget=null;for(var K in r)r.hasOwnProperty(K)&&(u=r[K],this[K]=u?u(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ti:Ua,this.isPropagationStopped=Ua,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),a}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=$n(un),ms=_({},un,{view:0,detail:0}),Kl=$n(ms),oa,Ot,Wr,di=_({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wr&&(Wr&&r.type==="mousemove"?(oa=r.screenX-Wr.screenX,Ot=r.screenY-Wr.screenY):Ot=oa=0,Wr=r),oa)},movementY:function(r){return"movementY"in r?r.movementY:Ot}}),bi=$n(di),rl=_({},di,{dataTransfer:0}),ic=$n(rl),gs=_({},ms,{relatedTarget:0}),Ba=$n(gs),za=_({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=$n(za),Ql=_({},un,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ds=$n(Ql),rc=_({},un,{data:0}),Hi=$n(rc),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ja(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Pr[r])?!!a[r]:!1}function Ns(){return ja}var Ha=_({},ms,{key:function(r){if(r.key){var a=la[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=wn(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(r){return r.type==="keypress"?wn(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wn(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qa=$n(Ha),al=_({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ga=$n(al),_s=_({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Yl=$n(_s),Za=_({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),$l=$n(Za),ol=_({},di,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=$n(ol),ni=_({},un,{newState:0,oldState:0}),Xr=$n(ni),Wl=[9,13,27,32],qi=mr&&"CompositionEvent"in window,g=null;mr&&"documentMode"in document&&(g=document.documentMode);var R=mr&&"TextEvent"in window&&!g,O=mr&&(!qi||g&&8<g&&11>=g),Y=" ",me=!1;function Se(r,a){switch(r){case"keyup":return Wl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Be(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qt=!1;function qn(r,a){switch(r){case"compositionend":return Be(a);case"keypress":return a.which!==32?null:(me=!0,Y);case"textInput":return r=a.data,r===Y&&me?null:r;default:return null}}function Yt(r,a){if(Qt)return r==="compositionend"||!qi&&Se(r,a)?(r=ps(),Mr=ji=gr=null,Qt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return O&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!fn[r.type]:a==="textarea"}function vs(r,a,u,f){$r?kr?kr.push(f):kr=[f]:$r=f,a=zf(a,"onChange"),0<a.length&&(u=new aa("onChange","change",null,u,f),r.push({event:u,listeners:a}))}var Cn=null,Jr=null;function es(r){x1(r,0)}function Xl(r){var a=Ft(r);if(At(a))return r}function Ka(r,a){if(r==="change")return a}var sc=!1;if(mr){var Qa;if(mr){var ac="oninput"in document;if(!ac){var ys=document.createElement("div");ys.setAttribute("oninput","return;"),ac=typeof ys.oninput=="function"}Qa=ac}else Qa=!1;sc=Qa&&(!document.documentMode||9<document.documentMode)}function ll(){Cn&&(Cn.detachEvent("onpropertychange",Xh),Jr=Cn=null)}function Xh(r){if(r.propertyName==="value"&&Xl(Jr)){var a=[];vs(a,Jr,r,Oi(r)),sr(es,a)}}function oc(r,a,u){r==="focusin"?(ll(),Cn=a,Jr=u,Cn.attachEvent("onpropertychange",Xh)):r==="focusout"&&ll()}function Kp(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xl(Jr)}function Es(r,a){if(r==="click")return Xl(a)}function Qp(r,a){if(r==="input"||r==="change")return Xl(a)}function Ya(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ar=typeof Object.is=="function"?Object.is:Ya;function or(r,a){if(ar(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!et.call(a,y)||!ar(r[y],a[y]))return!1}return!0}function ul(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lc(r,a){var u=ul(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=a&&f>=a)return{node:u,offset:a-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ul(u)}}function Jl(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Jl(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function cl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=gn(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=gn(r.document)}return a}function hl(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var eu=mr&&"documentMode"in document&&11>=document.documentMode,Or=null,$a=null,ca=null,tu=!1;function Jh(r,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tu||Or==null||Or!==gn(f)||(f=Or,"selectionStart"in f&&hl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ca&&or(ca,f)||(ca=f,f=zf($a,"onSelect"),0<f.length&&(a=new aa("onSelect","select",null,a,u),r.push({event:a,listeners:f}),a.target=Or)))}function ts(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Wa={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},nu={},ef={};mr&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Ls(r){if(nu[r])return nu[r];if(!Wa[r])return r;var a=Wa[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in ef)return nu[r]=a[u];return r}var tf=Ls("animationend"),Dr=Ls("animationiteration"),fl=Ls("animationstart"),Yp=Ls("transitionrun"),iu=Ls("transitionstart"),$p=Ls("transitioncancel"),uc=Ls("transitionend"),nf=new Map,ha="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ha.push("scrollEnd");function Nr(r,a){nf.set(r,a),Yn(a,[r])}var fa=new WeakMap;function lr(r,a){if(typeof r=="object"&&r!==null){var u=fa.get(r);return u!==void 0?u:(a={value:r,source:a,stack:ln(a)},fa.set(r,a),a)}return{value:r,source:a,stack:ln(a)}}var ur=[],Xa=0,Lr=0;function dl(){for(var r=Xa,a=Lr=Xa=0;a<r;){var u=ur[a];ur[a++]=null;var f=ur[a];ur[a++]=null;var y=ur[a];ur[a++]=null;var T=ur[a];if(ur[a++]=null,f!==null&&y!==null){var U=f.pending;U===null?y.next=y:(y.next=U.next,U.next=y),f.pending=y}T!==0&&ml(u,y,T)}}function pl(r,a,u,f){ur[Xa++]=r,ur[Xa++]=a,ur[Xa++]=u,ur[Xa++]=f,Lr|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function da(r,a,u,f){return pl(r,a,u,f),Vs(r)}function Ja(r,a){return pl(r,null,null,a),Vs(r)}function ml(r,a,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var y=!1,T=r.return;T!==null;)T.childLanes|=u,f=T.alternate,f!==null&&(f.childLanes|=u),T.tag===22&&(r=T.stateNode,r===null||r._visibility&1||(y=!0)),r=T,T=T.return;return r.tag===3?(T=r.stateNode,y&&a!==null&&(y=31-tn(u),r=T.hiddenUpdates,f=r[y],f===null?r[y]=[a]:f.push(a),a.lane=u|536870912),T):null}function Vs(r){if(50<Pc)throw Pc=0,Km=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var pa={};function rf(r,a,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(r,a,u,f){return new rf(r,a,u,f)}function ru(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ns(r,a){var u=r.alternate;return u===null?(u=cr(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function cc(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function gl(r,a,u,f,y,T){var U=0;if(f=r,typeof r=="function")ru(r)&&(U=1);else if(typeof r=="string")U=gR(r,u,he.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case S:return r=cr(31,u,a,y),r.elementType=S,r.lanes=T,r;case x:return Us(u.children,y,T,a);case N:U=8,y|=24;break;case q:return r=cr(12,u,a,y|2),r.elementType=q,r.lanes=T,r;case te:return r=cr(13,u,a,y),r.elementType=te,r.lanes=T,r;case F:return r=cr(19,u,a,y),r.elementType=F,r.lanes=T,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:case Q:U=10;break e;case J:U=9;break e;case $:U=11;break e;case G:U=14;break e;case A:U=16,f=null;break e}U=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=cr(U,u,a,y),a.elementType=r,a.type=f,a.lanes=T,a}function Us(r,a,u,f){return r=cr(7,r,f,a),r.lanes=u,r}function hc(r,a,u){return r=cr(6,r,null,a),r.lanes=u,r}function su(r,a,u){return a=cr(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ma=[],eo=0,o=null,h=0,v=[],b=0,k=null,Z=1,re="";function ge(r,a){ma[eo++]=h,ma[eo++]=o,o=r,h=a}function Ae(r,a,u){v[b++]=Z,v[b++]=re,v[b++]=k,k=r;var f=Z;r=re;var y=32-tn(f)-1;f&=~(1<<y),u+=1;var T=32-tn(a)+y;if(30<T){var U=y-y%5;T=(f&(1<<U)-1).toString(32),f>>=U,y-=U,Z=1<<32-tn(a)+y|u<<y|f,re=T+r}else Z=1<<T|u<<y|f,re=r}function Oe(r){r.return!==null&&(ge(r,1),Ae(r,1,0))}function Ge(r){for(;r===o;)o=ma[--eo],ma[eo]=null,h=ma[--eo],ma[eo]=null;for(;r===k;)k=v[--b],v[b]=null,re=v[--b],v[b]=null,Z=v[--b],v[b]=null}var We=null,it=null,Tt=!1,kn=null,zn=!1,Ai=Error(i(519));function _r(r){var a=Error(i(418,""));throw no(lr(a,r)),Ai}function sf(r){var a=r.stateNode,u=r.type,f=r.memoizedProps;switch(a[ke]=r,a[Ve]=f,u){case"dialog":qt("cancel",a),qt("close",a);break;case"iframe":case"object":case"embed":qt("load",a);break;case"video":case"audio":for(u=0;u<Dc.length;u++)qt(Dc[u],a);break;case"source":qt("error",a);break;case"img":case"image":case"link":qt("error",a),qt("load",a);break;case"details":qt("toggle",a);break;case"input":qt("invalid",a),ra(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ps(a);break;case"select":qt("invalid",a);break;case"textarea":qt("invalid",a),rr(a,f.value,f.defaultValue,f.children),Ps(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||P1(a.textContent,u)?(f.popover!=null&&(qt("beforetoggle",a),qt("toggle",a)),f.onScroll!=null&&qt("scroll",a),f.onScrollEnd!=null&&qt("scrollend",a),f.onClick!=null&&(a.onclick=Ff),a=!0):a=!1,a||_r(r)}function af(r){for(We=r.return;We;)switch(We.tag){case 5:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:We=We.return}}function _l(r){if(r!==We)return!1;if(!Tt)return af(r),Tt=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||ug(r.type,r.memoizedProps)),u=!u),u&&it&&_r(r),af(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){it=As(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}it=null}}else a===27?(a=it,vo(r.type)?(r=dg,dg=null,it=r):it=a):it=We?As(r.stateNode.nextSibling):null;return!0}function to(){it=We=null,Tt=!1}function of(){var r=kn;return r!==null&&(Er===null?Er=r:Er.push.apply(Er,r),kn=null),r}function no(r){kn===null?kn=[r]:kn.push(r)}var Vn=ne(null),is=null,ws=null;function Bs(r,a,u){ie(Vn,a._currentValue),a._currentValue=u}function Ts(r){r._currentValue=Vn.current,ae(Vn)}function vl(r,a,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===u)break;r=r.return}}function au(r,a,u,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var T=y.dependencies;if(T!==null){var U=y.child;T=T.firstContext;e:for(;T!==null;){var K=T;T=y;for(var se=0;se<a.length;se++)if(K.context===a[se]){T.lanes|=u,K=T.alternate,K!==null&&(K.lanes|=u),vl(T.return,u,r),f||(U=null);break e}T=K.next}}else if(y.tag===18){if(U=y.return,U===null)throw Error(i(341));U.lanes|=u,T=U.alternate,T!==null&&(T.lanes|=u),vl(U,u,r),U=null}else U=y.child;if(U!==null)U.return=y;else for(U=y;U!==null;){if(U===r){U=null;break}if(y=U.sibling,y!==null){y.return=U.return,U=y;break}U=U.return}y=U}}function yl(r,a,u,f){r=null;for(var y=a,T=!1;y!==null;){if(!T){if((y.flags&524288)!==0)T=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var U=y.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var K=y.type;ar(y.pendingProps.value,U.value)||(r!==null?r.push(K):r=[K])}}else if(y===Ze.current){if(U=y.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(zc):r=[zc])}y=y.return}r!==null&&au(a,r,u,f),a.flags|=262144}function lf(r){for(r=r.firstContext;r!==null;){if(!ar(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function El(r){is=r,ws=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gi(r){return vy(is,r)}function uf(r,a){return is===null&&El(r),vy(r,a)}function vy(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},ws===null){if(r===null)throw Error(i(308));ws=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ws=ws.next=a;return u}var mC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},gC=n.unstable_scheduleCallback,_C=n.unstable_NormalPriority,pi={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wp(){return{controller:new mC,data:new Map,refCount:0}}function fc(r){r.refCount--,r.refCount===0&&gC(_C,function(){r.controller.abort()})}var dc=null,Xp=0,ou=0,lu=null;function vC(r,a){if(dc===null){var u=dc=[];Xp=0,ou=eg(),lu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Xp++,a.then(yy,yy),a}function yy(){if(--Xp===0&&dc!==null){lu!==null&&(lu.status="fulfilled");var r=dc;dc=null,ou=0,lu=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function yC(r,a){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var Ey=B.S;B.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&vC(r,a),Ey!==null&&Ey(r,a)};var wl=ne(null);function Jp(){var r=wl.current;return r!==null?r:Mn.pooledCache}function cf(r,a){a===null?ie(wl,wl.current):ie(wl,a.pool)}function wy(){var r=Jp();return r===null?null:{parent:pi._currentValue,pool:r}}var pc=Error(i(460)),Ty=Error(i(474)),hf=Error(i(542)),em={then:function(){}};function by(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ff(){}function Ay(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(ff,ff),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Cy(r),r;default:if(typeof a.status=="string")a.then(ff,ff);else{if(r=Mn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Cy(r),r}throw mc=a,pc}}var mc=null;function Sy(){if(mc===null)throw Error(i(459));var r=mc;return mc=null,r}function Cy(r){if(r===pc||r===hf)throw Error(i(483))}var io=!1;function tm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ro(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function so(r,a,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(_n&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=Vs(r),ml(r,null,u),a}return pl(r,f,a,u),Vs(r)}function gc(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,_i(r,u)}}function im(r,a){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var U={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};T===null?y=T=U:T=T.next=U,u=u.next}while(u!==null);T===null?y=T=a:T=T.next=a}else y=T=a;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:T,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var rm=!1;function _c(){if(rm){var r=lu;if(r!==null)throw r}}function vc(r,a,u,f){rm=!1;var y=r.updateQueue;io=!1;var T=y.firstBaseUpdate,U=y.lastBaseUpdate,K=y.shared.pending;if(K!==null){y.shared.pending=null;var se=K,ye=se.next;se.next=null,U===null?T=ye:U.next=ye,U=se;var Re=r.alternate;Re!==null&&(Re=Re.updateQueue,K=Re.lastBaseUpdate,K!==U&&(K===null?Re.firstBaseUpdate=ye:K.next=ye,Re.lastBaseUpdate=se))}if(T!==null){var Me=y.baseState;U=0,Re=ye=se=null,K=T;do{var we=K.lane&-536870913,be=we!==K.lane;if(be?(sn&we)===we:(f&we)===we){we!==0&&we===ou&&(rm=!0),Re!==null&&(Re=Re.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var wt=r,mt=K;we=a;var An=u;switch(mt.tag){case 1:if(wt=mt.payload,typeof wt=="function"){Me=wt.call(An,Me,we);break e}Me=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=mt.payload,we=typeof wt=="function"?wt.call(An,Me,we):wt,we==null)break e;Me=_({},Me,we);break e;case 2:io=!0}}we=K.callback,we!==null&&(r.flags|=64,be&&(r.flags|=8192),be=y.callbacks,be===null?y.callbacks=[we]:be.push(we))}else be={lane:we,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Re===null?(ye=Re=be,se=Me):Re=Re.next=be,U|=we;if(K=K.next,K===null){if(K=y.shared.pending,K===null)break;be=K,K=be.next,be.next=null,y.lastBaseUpdate=be,y.shared.pending=null}}while(!0);Re===null&&(se=Me),y.baseState=se,y.firstBaseUpdate=ye,y.lastBaseUpdate=Re,T===null&&(y.shared.lanes=0),po|=U,r.lanes=U,r.memoizedState=Me}}function Ry(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function xy(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Ry(u[r],a)}var uu=ne(null),df=ne(0);function Iy(r,a){r=Ta,ie(df,r),ie(uu,a),Ta=r|a.baseLanes}function sm(){ie(df,Ta),ie(uu,uu.current)}function am(){Ta=df.current,ae(uu),ae(df)}var ao=0,Ut=null,Tn=null,ii=null,pf=!1,cu=!1,Tl=!1,mf=0,yc=0,hu=null,EC=0;function Wn(){throw Error(i(321))}function om(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!ar(r[u],a[u]))return!1;return!0}function lm(r,a,u,f,y,T){return ao=T,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=r===null||r.memoizedState===null?f0:d0,Tl=!1,T=u(f,y),Tl=!1,cu&&(T=My(a,u,f,y)),ky(r),T}function ky(r){B.H=wf;var a=Tn!==null&&Tn.next!==null;if(ao=0,ii=Tn=Ut=null,pf=!1,yc=0,hu=null,a)throw Error(i(300));r===null||Si||(r=r.dependencies,r!==null&&lf(r)&&(Si=!0))}function My(r,a,u,f){Ut=r;var y=0;do{if(cu&&(hu=null),yc=0,cu=!1,25<=y)throw Error(i(301));if(y+=1,ii=Tn=null,r.updateQueue!=null){var T=r.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}B.H=RC,T=a(u,f)}while(cu);return T}function wC(){var r=B.H,a=r.useState()[0];return a=typeof a.then=="function"?Ec(a):a,r=r.useState()[0],(Tn!==null?Tn.memoizedState:null)!==r&&(Ut.flags|=1024),a}function um(){var r=mf!==0;return mf=0,r}function cm(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function hm(r){if(pf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pf=!1}ao=0,ii=Tn=Ut=null,cu=!1,yc=mf=0,hu=null}function vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?Ut.memoizedState=ii=r:ii=ii.next=r,ii}function ri(){if(Tn===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=Tn.next;var a=ii===null?Ut.memoizedState:ii.next;if(a!==null)ii=a,Tn=r;else{if(r===null)throw Ut.alternate===null?Error(i(467)):Error(i(310));Tn=r,r={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},ii===null?Ut.memoizedState=ii=r:ii=ii.next=r}return ii}function fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(r){var a=yc;return yc+=1,hu===null&&(hu=[]),r=Ay(hu,r,a),a=Ut,(ii===null?a.memoizedState:ii.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?f0:d0),r}function gf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ec(r);if(r.$$typeof===Q)return Gi(r)}throw Error(i(438,String(r)))}function dm(r){var a=null,u=Ut.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=Ut.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=fm(),Ut.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),f=0;f<r;f++)u[f]=M;return a.index++,u}function ga(r,a){return typeof a=="function"?a(r):a}function _f(r){var a=ri();return pm(a,Tn,r)}function pm(r,a,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=r.baseQueue,T=f.pending;if(T!==null){if(y!==null){var U=y.next;y.next=T.next,T.next=U}a.baseQueue=y=T,f.pending=null}if(T=r.baseState,y===null)r.memoizedState=T;else{a=y.next;var K=U=null,se=null,ye=a,Re=!1;do{var Me=ye.lane&-536870913;if(Me!==ye.lane?(sn&Me)===Me:(ao&Me)===Me){var we=ye.revertLane;if(we===0)se!==null&&(se=se.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Me===ou&&(Re=!0);else if((ao&we)===we){ye=ye.next,we===ou&&(Re=!0);continue}else Me={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},se===null?(K=se=Me,U=T):se=se.next=Me,Ut.lanes|=we,po|=we;Me=ye.action,Tl&&u(T,Me),T=ye.hasEagerState?ye.eagerState:u(T,Me)}else we={lane:Me,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},se===null?(K=se=we,U=T):se=se.next=we,Ut.lanes|=Me,po|=Me;ye=ye.next}while(ye!==null&&ye!==a);if(se===null?U=T:se.next=K,!ar(T,r.memoizedState)&&(Si=!0,Re&&(u=lu,u!==null)))throw u;r.memoizedState=T,r.baseState=U,r.baseQueue=se,f.lastRenderedState=T}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function mm(r){var a=ri(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,y=u.pending,T=a.memoizedState;if(y!==null){u.pending=null;var U=y=y.next;do T=r(T,U.action),U=U.next;while(U!==y);ar(T,a.memoizedState)||(Si=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),u.lastRenderedState=T}return[T,f]}function Py(r,a,u){var f=Ut,y=ri(),T=Tt;if(T){if(u===void 0)throw Error(i(407));u=u()}else u=a();var U=!ar((Tn||y).memoizedState,u);U&&(y.memoizedState=u,Si=!0),y=y.queue;var K=Ny.bind(null,f,y,r);if(wc(2048,8,K,[r]),y.getSnapshot!==a||U||ii!==null&&ii.memoizedState.tag&1){if(f.flags|=2048,fu(9,vf(),Dy.bind(null,f,y,u,a),null),Mn===null)throw Error(i(349));T||(ao&124)!==0||Oy(f,a,u)}return u}function Oy(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Ut.updateQueue,a===null?(a=fm(),Ut.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function Dy(r,a,u,f){a.value=u,a.getSnapshot=f,Ly(a)&&Vy(r)}function Ny(r,a,u){return u(function(){Ly(a)&&Vy(r)})}function Ly(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!ar(r,u)}catch{return!0}}function Vy(r){var a=Ja(r,2);a!==null&&Fr(a,r,2)}function gm(r){var a=vr();if(typeof r=="function"){var u=r;if(r=u(),Tl){bt(!0);try{u()}finally{bt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:r},a}function Uy(r,a,u,f){return r.baseState=u,pm(r,Tn,typeof f=="function"?f:ga)}function TC(r,a,u,f,y){if(Ef(r))throw Error(i(485));if(r=a.action,r!==null){var T={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){T.listeners.push(U)}};B.T!==null?u(!0):T.isTransition=!1,f(T),u=a.pending,u===null?(T.next=a.pending=T,By(a,T)):(T.next=u.next,a.pending=u.next=T)}}function By(r,a){var u=a.action,f=a.payload,y=r.state;if(a.isTransition){var T=B.T,U={};B.T=U;try{var K=u(y,f),se=B.S;se!==null&&se(U,K),zy(r,a,K)}catch(ye){_m(r,a,ye)}finally{B.T=T}}else try{T=u(y,f),zy(r,a,T)}catch(ye){_m(r,a,ye)}}function zy(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Fy(r,a,f)},function(f){return _m(r,a,f)}):Fy(r,a,u)}function Fy(r,a,u){a.status="fulfilled",a.value=u,jy(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,By(r,u)))}function _m(r,a,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,jy(a),a=a.next;while(a!==f)}r.action=null}function jy(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Hy(r,a){return a}function qy(r,a){if(Tt){var u=Mn.formState;if(u!==null){e:{var f=Ut;if(Tt){if(it){t:{for(var y=it,T=zn;y.nodeType!==8;){if(!T){y=null;break t}if(y=As(y.nextSibling),y===null){y=null;break t}}T=y.data,y=T==="F!"||T==="F"?y:null}if(y){it=As(y.nextSibling),f=y.data==="F!";break e}}_r(f)}f=!1}f&&(a=u[0])}}return u=vr(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:a},u.queue=f,u=u0.bind(null,Ut,f),f.dispatch=u,f=gm(!1),T=Tm.bind(null,Ut,!1,f.queue),f=vr(),y={state:a,dispatch:null,action:r,pending:null},f.queue=y,u=TC.bind(null,Ut,y,T,u),y.dispatch=u,f.memoizedState=r,[a,u,!1]}function Gy(r){var a=ri();return Zy(a,Tn,r)}function Zy(r,a,u){if(a=pm(r,a,Hy)[0],r=_f(ga)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Ec(a)}catch(U){throw U===pc?hf:U}else f=a;a=ri();var y=a.queue,T=y.dispatch;return u!==a.memoizedState&&(Ut.flags|=2048,fu(9,vf(),bC.bind(null,y,u),null)),[f,T,r]}function bC(r,a){r.action=a}function Ky(r){var a=ri(),u=Tn;if(u!==null)return Zy(a,u,r);ri(),a=a.memoizedState,u=ri();var f=u.queue.dispatch;return u.memoizedState=r,[a,f,!1]}function fu(r,a,u,f){return r={tag:r,create:u,deps:f,inst:a,next:null},a=Ut.updateQueue,a===null&&(a=fm(),Ut.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,a.lastEffect=r),r}function vf(){return{destroy:void 0,resource:void 0}}function Qy(){return ri().memoizedState}function yf(r,a,u,f){var y=vr();f=f===void 0?null:f,Ut.flags|=r,y.memoizedState=fu(1|a,vf(),u,f)}function wc(r,a,u,f){var y=ri();f=f===void 0?null:f;var T=y.memoizedState.inst;Tn!==null&&f!==null&&om(f,Tn.memoizedState.deps)?y.memoizedState=fu(a,T,u,f):(Ut.flags|=r,y.memoizedState=fu(1|a,T,u,f))}function Yy(r,a){yf(8390656,8,r,a)}function $y(r,a){wc(2048,8,r,a)}function Wy(r,a){return wc(4,2,r,a)}function Xy(r,a){return wc(4,4,r,a)}function Jy(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function e0(r,a,u){u=u!=null?u.concat([r]):null,wc(4,4,Jy.bind(null,a,r),u)}function vm(){}function t0(r,a){var u=ri();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&om(a,f[1])?f[0]:(u.memoizedState=[r,a],r)}function n0(r,a){var u=ri();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&om(a,f[1]))return f[0];if(f=r(),Tl){bt(!0);try{r()}finally{bt(!1)}}return u.memoizedState=[f,a],f}function ym(r,a,u){return u===void 0||(ao&1073741824)!==0?r.memoizedState=a:(r.memoizedState=u,r=s1(),Ut.lanes|=r,po|=r,u)}function i0(r,a,u,f){return ar(u,a)?u:uu.current!==null?(r=ym(r,u,f),ar(r,a)||(Si=!0),r):(ao&42)===0?(Si=!0,r.memoizedState=u):(r=s1(),Ut.lanes|=r,po|=r,a)}function r0(r,a,u,f,y){var T=P.p;P.p=T!==0&&8>T?T:8;var U=B.T,K={};B.T=K,Tm(r,!1,a,u);try{var se=y(),ye=B.S;if(ye!==null&&ye(K,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Re=yC(se,f);Tc(r,a,Re,zr(r))}else Tc(r,a,f,zr(r))}catch(Me){Tc(r,a,{then:function(){},status:"rejected",reason:Me},zr())}finally{P.p=T,B.T=U}}function AC(){}function Em(r,a,u,f){if(r.tag!==5)throw Error(i(476));var y=s0(r).queue;r0(r,y,a,W,u===null?AC:function(){return a0(r),u(f)})}function s0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:W},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function a0(r){var a=s0(r).next.queue;Tc(r,a,{},zr())}function wm(){return Gi(zc)}function o0(){return ri().memoizedState}function l0(){return ri().memoizedState}function SC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=zr();r=ro(u);var f=so(a,r,u);f!==null&&(Fr(f,a,u),gc(f,a,u)),a={cache:Wp()},r.payload=a;return}a=a.return}}function CC(r,a,u){var f=zr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ef(r)?c0(a,u):(u=da(r,a,u,f),u!==null&&(Fr(u,r,f),h0(u,a,f)))}function u0(r,a,u){var f=zr();Tc(r,a,u,f)}function Tc(r,a,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ef(r))c0(a,y);else{var T=r.alternate;if(r.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var U=a.lastRenderedState,K=T(U,u);if(y.hasEagerState=!0,y.eagerState=K,ar(K,U))return pl(r,a,y,0),Mn===null&&dl(),!1}catch{}finally{}if(u=da(r,a,y,f),u!==null)return Fr(u,r,f),h0(u,a,f),!0}return!1}function Tm(r,a,u,f){if(f={lane:2,revertLane:eg(),action:f,hasEagerState:!1,eagerState:null,next:null},Ef(r)){if(a)throw Error(i(479))}else a=da(r,u,f,2),a!==null&&Fr(a,r,2)}function Ef(r){var a=r.alternate;return r===Ut||a!==null&&a===Ut}function c0(r,a){cu=pf=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function h0(r,a,u){if((u&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,_i(r,u)}}var wf={readContext:Gi,use:gf,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn},f0={readContext:Gi,use:gf,useCallback:function(r,a){return vr().memoizedState=[r,a===void 0?null:a],r},useContext:Gi,useEffect:Yy,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,yf(4194308,4,Jy.bind(null,a,r),u)},useLayoutEffect:function(r,a){return yf(4194308,4,r,a)},useInsertionEffect:function(r,a){yf(4,2,r,a)},useMemo:function(r,a){var u=vr();a=a===void 0?null:a;var f=r();if(Tl){bt(!0);try{r()}finally{bt(!1)}}return u.memoizedState=[f,a],f},useReducer:function(r,a,u){var f=vr();if(u!==void 0){var y=u(a);if(Tl){bt(!0);try{u(a)}finally{bt(!1)}}}else y=a;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=CC.bind(null,Ut,r),[f.memoizedState,r]},useRef:function(r){var a=vr();return r={current:r},a.memoizedState=r},useState:function(r){r=gm(r);var a=r.queue,u=u0.bind(null,Ut,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:vm,useDeferredValue:function(r,a){var u=vr();return ym(u,r,a)},useTransition:function(){var r=gm(!1);return r=r0.bind(null,Ut,r.queue,!0,!1),vr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var f=Ut,y=vr();if(Tt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),Mn===null)throw Error(i(349));(sn&124)!==0||Oy(f,a,u)}y.memoizedState=u;var T={value:u,getSnapshot:a};return y.queue=T,Yy(Ny.bind(null,f,T,r),[r]),f.flags|=2048,fu(9,vf(),Dy.bind(null,f,T,u,a),null),u},useId:function(){var r=vr(),a=Mn.identifierPrefix;if(Tt){var u=re,f=Z;u=(f&~(1<<32-tn(f)-1)).toString(32)+u,a=""+a+"R"+u,u=mf++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=EC++,a=""+a+"r"+u.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:wm,useFormState:qy,useActionState:qy,useOptimistic:function(r){var a=vr();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Tm.bind(null,Ut,!0,u),u.dispatch=a,[r,a]},useMemoCache:dm,useCacheRefresh:function(){return vr().memoizedState=SC.bind(null,Ut)}},d0={readContext:Gi,use:gf,useCallback:t0,useContext:Gi,useEffect:$y,useImperativeHandle:e0,useInsertionEffect:Wy,useLayoutEffect:Xy,useMemo:n0,useReducer:_f,useRef:Qy,useState:function(){return _f(ga)},useDebugValue:vm,useDeferredValue:function(r,a){var u=ri();return i0(u,Tn.memoizedState,r,a)},useTransition:function(){var r=_f(ga)[0],a=ri().memoizedState;return[typeof r=="boolean"?r:Ec(r),a]},useSyncExternalStore:Py,useId:o0,useHostTransitionStatus:wm,useFormState:Gy,useActionState:Gy,useOptimistic:function(r,a){var u=ri();return Uy(u,Tn,r,a)},useMemoCache:dm,useCacheRefresh:l0},RC={readContext:Gi,use:gf,useCallback:t0,useContext:Gi,useEffect:$y,useImperativeHandle:e0,useInsertionEffect:Wy,useLayoutEffect:Xy,useMemo:n0,useReducer:mm,useRef:Qy,useState:function(){return mm(ga)},useDebugValue:vm,useDeferredValue:function(r,a){var u=ri();return Tn===null?ym(u,r,a):i0(u,Tn.memoizedState,r,a)},useTransition:function(){var r=mm(ga)[0],a=ri().memoizedState;return[typeof r=="boolean"?r:Ec(r),a]},useSyncExternalStore:Py,useId:o0,useHostTransitionStatus:wm,useFormState:Ky,useActionState:Ky,useOptimistic:function(r,a){var u=ri();return Tn!==null?Uy(u,Tn,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:dm,useCacheRefresh:l0},du=null,bc=0;function Tf(r){var a=bc;return bc+=1,du===null&&(du=[]),Ay(du,r,a)}function Ac(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function bf(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function p0(r){var a=r._init;return a(r._payload)}function m0(r){function a(de,fe){if(r){var _e=de.deletions;_e===null?(de.deletions=[fe],de.flags|=16):_e.push(fe)}}function u(de,fe){if(!r)return null;for(;fe!==null;)a(de,fe),fe=fe.sibling;return null}function f(de){for(var fe=new Map;de!==null;)de.key!==null?fe.set(de.key,de):fe.set(de.index,de),de=de.sibling;return fe}function y(de,fe){return de=ns(de,fe),de.index=0,de.sibling=null,de}function T(de,fe,_e){return de.index=_e,r?(_e=de.alternate,_e!==null?(_e=_e.index,_e<fe?(de.flags|=67108866,fe):_e):(de.flags|=67108866,fe)):(de.flags|=1048576,fe)}function U(de){return r&&de.alternate===null&&(de.flags|=67108866),de}function K(de,fe,_e,Ie){return fe===null||fe.tag!==6?(fe=hc(_e,de.mode,Ie),fe.return=de,fe):(fe=y(fe,_e),fe.return=de,fe)}function se(de,fe,_e,Ie){var Je=_e.type;return Je===x?Re(de,fe,_e.props.children,Ie,_e.key):fe!==null&&(fe.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===A&&p0(Je)===fe.type)?(fe=y(fe,_e.props),Ac(fe,_e),fe.return=de,fe):(fe=gl(_e.type,_e.key,_e.props,null,de.mode,Ie),Ac(fe,_e),fe.return=de,fe)}function ye(de,fe,_e,Ie){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==_e.containerInfo||fe.stateNode.implementation!==_e.implementation?(fe=su(_e,de.mode,Ie),fe.return=de,fe):(fe=y(fe,_e.children||[]),fe.return=de,fe)}function Re(de,fe,_e,Ie,Je){return fe===null||fe.tag!==7?(fe=Us(_e,de.mode,Ie,Je),fe.return=de,fe):(fe=y(fe,_e),fe.return=de,fe)}function Me(de,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=hc(""+fe,de.mode,_e),fe.return=de,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return _e=gl(fe.type,fe.key,fe.props,null,de.mode,_e),Ac(_e,fe),_e.return=de,_e;case C:return fe=su(fe,de.mode,_e),fe.return=de,fe;case A:var Ie=fe._init;return fe=Ie(fe._payload),Me(de,fe,_e)}if(ue(fe)||z(fe))return fe=Us(fe,de.mode,_e,null),fe.return=de,fe;if(typeof fe.then=="function")return Me(de,Tf(fe),_e);if(fe.$$typeof===Q)return Me(de,uf(de,fe),_e);bf(de,fe)}return null}function we(de,fe,_e,Ie){var Je=fe!==null?fe.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Je!==null?null:K(de,fe,""+_e,Ie);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:return _e.key===Je?se(de,fe,_e,Ie):null;case C:return _e.key===Je?ye(de,fe,_e,Ie):null;case A:return Je=_e._init,_e=Je(_e._payload),we(de,fe,_e,Ie)}if(ue(_e)||z(_e))return Je!==null?null:Re(de,fe,_e,Ie,null);if(typeof _e.then=="function")return we(de,fe,Tf(_e),Ie);if(_e.$$typeof===Q)return we(de,fe,uf(de,_e),Ie);bf(de,_e)}return null}function be(de,fe,_e,Ie,Je){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return de=de.get(_e)||null,K(fe,de,""+Ie,Je);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case w:return de=de.get(Ie.key===null?_e:Ie.key)||null,se(fe,de,Ie,Je);case C:return de=de.get(Ie.key===null?_e:Ie.key)||null,ye(fe,de,Ie,Je);case A:var zt=Ie._init;return Ie=zt(Ie._payload),be(de,fe,_e,Ie,Je)}if(ue(Ie)||z(Ie))return de=de.get(_e)||null,Re(fe,de,Ie,Je,null);if(typeof Ie.then=="function")return be(de,fe,_e,Tf(Ie),Je);if(Ie.$$typeof===Q)return be(de,fe,_e,uf(fe,Ie),Je);bf(fe,Ie)}return null}function wt(de,fe,_e,Ie){for(var Je=null,zt=null,at=fe,gt=fe=0,Ri=null;at!==null&&gt<_e.length;gt++){at.index>gt?(Ri=at,at=null):Ri=at.sibling;var cn=we(de,at,_e[gt],Ie);if(cn===null){at===null&&(at=Ri);break}r&&at&&cn.alternate===null&&a(de,at),fe=T(cn,fe,gt),zt===null?Je=cn:zt.sibling=cn,zt=cn,at=Ri}if(gt===_e.length)return u(de,at),Tt&&ge(de,gt),Je;if(at===null){for(;gt<_e.length;gt++)at=Me(de,_e[gt],Ie),at!==null&&(fe=T(at,fe,gt),zt===null?Je=at:zt.sibling=at,zt=at);return Tt&&ge(de,gt),Je}for(at=f(at);gt<_e.length;gt++)Ri=be(at,de,gt,_e[gt],Ie),Ri!==null&&(r&&Ri.alternate!==null&&at.delete(Ri.key===null?gt:Ri.key),fe=T(Ri,fe,gt),zt===null?Je=Ri:zt.sibling=Ri,zt=Ri);return r&&at.forEach(function(bo){return a(de,bo)}),Tt&&ge(de,gt),Je}function mt(de,fe,_e,Ie){if(_e==null)throw Error(i(151));for(var Je=null,zt=null,at=fe,gt=fe=0,Ri=null,cn=_e.next();at!==null&&!cn.done;gt++,cn=_e.next()){at.index>gt?(Ri=at,at=null):Ri=at.sibling;var bo=we(de,at,cn.value,Ie);if(bo===null){at===null&&(at=Ri);break}r&&at&&bo.alternate===null&&a(de,at),fe=T(bo,fe,gt),zt===null?Je=bo:zt.sibling=bo,zt=bo,at=Ri}if(cn.done)return u(de,at),Tt&&ge(de,gt),Je;if(at===null){for(;!cn.done;gt++,cn=_e.next())cn=Me(de,cn.value,Ie),cn!==null&&(fe=T(cn,fe,gt),zt===null?Je=cn:zt.sibling=cn,zt=cn);return Tt&&ge(de,gt),Je}for(at=f(at);!cn.done;gt++,cn=_e.next())cn=be(at,de,gt,cn.value,Ie),cn!==null&&(r&&cn.alternate!==null&&at.delete(cn.key===null?gt:cn.key),fe=T(cn,fe,gt),zt===null?Je=cn:zt.sibling=cn,zt=cn);return r&&at.forEach(function(xR){return a(de,xR)}),Tt&&ge(de,gt),Je}function An(de,fe,_e,Ie){if(typeof _e=="object"&&_e!==null&&_e.type===x&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:e:{for(var Je=_e.key;fe!==null;){if(fe.key===Je){if(Je=_e.type,Je===x){if(fe.tag===7){u(de,fe.sibling),Ie=y(fe,_e.props.children),Ie.return=de,de=Ie;break e}}else if(fe.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===A&&p0(Je)===fe.type){u(de,fe.sibling),Ie=y(fe,_e.props),Ac(Ie,_e),Ie.return=de,de=Ie;break e}u(de,fe);break}else a(de,fe);fe=fe.sibling}_e.type===x?(Ie=Us(_e.props.children,de.mode,Ie,_e.key),Ie.return=de,de=Ie):(Ie=gl(_e.type,_e.key,_e.props,null,de.mode,Ie),Ac(Ie,_e),Ie.return=de,de=Ie)}return U(de);case C:e:{for(Je=_e.key;fe!==null;){if(fe.key===Je)if(fe.tag===4&&fe.stateNode.containerInfo===_e.containerInfo&&fe.stateNode.implementation===_e.implementation){u(de,fe.sibling),Ie=y(fe,_e.children||[]),Ie.return=de,de=Ie;break e}else{u(de,fe);break}else a(de,fe);fe=fe.sibling}Ie=su(_e,de.mode,Ie),Ie.return=de,de=Ie}return U(de);case A:return Je=_e._init,_e=Je(_e._payload),An(de,fe,_e,Ie)}if(ue(_e))return wt(de,fe,_e,Ie);if(z(_e)){if(Je=z(_e),typeof Je!="function")throw Error(i(150));return _e=Je.call(_e),mt(de,fe,_e,Ie)}if(typeof _e.then=="function")return An(de,fe,Tf(_e),Ie);if(_e.$$typeof===Q)return An(de,fe,uf(de,_e),Ie);bf(de,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,fe!==null&&fe.tag===6?(u(de,fe.sibling),Ie=y(fe,_e),Ie.return=de,de=Ie):(u(de,fe),Ie=hc(_e,de.mode,Ie),Ie.return=de,de=Ie),U(de)):u(de,fe)}return function(de,fe,_e,Ie){try{bc=0;var Je=An(de,fe,_e,Ie);return du=null,Je}catch(at){if(at===pc||at===hf)throw at;var zt=cr(29,at,null,de.mode);return zt.lanes=Ie,zt.return=de,zt}finally{}}}var pu=m0(!0),g0=m0(!1),rs=ne(null),zs=null;function oo(r){var a=r.alternate;ie(mi,mi.current&1),ie(rs,r),zs===null&&(a===null||uu.current!==null||a.memoizedState!==null)&&(zs=r)}function _0(r){if(r.tag===22){if(ie(mi,mi.current),ie(rs,r),zs===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(zs=r)}}else lo()}function lo(){ie(mi,mi.current),ie(rs,rs.current)}function _a(r){ae(rs),zs===r&&(zs=null),ae(mi)}var mi=ne(0);function Af(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||fg(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function bm(r,a,u,f){a=r.memoizedState,u=u(f,a),u=u==null?a:_({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Am={enqueueSetState:function(r,a,u){r=r._reactInternals;var f=zr(),y=ro(f);y.payload=a,u!=null&&(y.callback=u),a=so(r,y,f),a!==null&&(Fr(a,r,f),gc(a,r,f))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var f=zr(),y=ro(f);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=so(r,y,f),a!==null&&(Fr(a,r,f),gc(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=zr(),f=ro(u);f.tag=2,a!=null&&(f.callback=a),a=so(r,f,u),a!==null&&(Fr(a,r,u),gc(a,r,u))}};function v0(r,a,u,f,y,T,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,T,U):a.prototype&&a.prototype.isPureReactComponent?!or(u,f)||!or(y,T):!0}function y0(r,a,u,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==r&&Am.enqueueReplaceState(a,a.state,null)}function bl(r,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(r=r.defaultProps){u===a&&(u=_({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}var Sf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function E0(r){Sf(r)}function w0(r){console.error(r)}function T0(r){Sf(r)}function Cf(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function b0(r,a,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Sm(r,a,u){return u=ro(u),u.tag=3,u.payload={element:null},u.callback=function(){Cf(r,a)},u}function A0(r){return r=ro(r),r.tag=3,r}function S0(r,a,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var T=f.value;r.payload=function(){return y(T)},r.callback=function(){b0(a,u,f)}}var U=u.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){b0(a,u,f),typeof y!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var K=f.stack;this.componentDidCatch(f.value,{componentStack:K!==null?K:""})})}function xC(r,a,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&yl(a,u,y,!0),u=rs.current,u!==null){switch(u.tag){case 13:return zs===null?Ym():u.alternate===null&&Gn===0&&(Gn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===em?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Wm(r,f,y)),!1;case 22:return u.flags|=65536,f===em?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Wm(r,f,y)),!1}throw Error(i(435,u.tag))}return Wm(r,f,y),Ym(),!1}if(Tt)return a=rs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==Ai&&(r=Error(i(422),{cause:f}),no(lr(r,u)))):(f!==Ai&&(a=Error(i(423),{cause:f}),no(lr(a,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=lr(f,u),y=Sm(r.stateNode,f,y),im(r,y),Gn!==4&&(Gn=2)),!1;var T=Error(i(520),{cause:f});if(T=lr(T,u),Mc===null?Mc=[T]:Mc.push(T),Gn!==4&&(Gn=2),a===null)return!0;f=lr(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=Sm(u.stateNode,f,r),im(u,r),!1;case 1:if(a=u.type,T=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(mo===null||!mo.has(T))))return u.flags|=65536,y&=-y,u.lanes|=y,y=A0(y),S0(y,r,u,f),im(u,y),!1}u=u.return}while(u!==null);return!1}var C0=Error(i(461)),Si=!1;function Di(r,a,u,f){a.child=r===null?g0(a,null,u,f):pu(a,r.child,u,f)}function R0(r,a,u,f,y){u=u.render;var T=a.ref;if("ref"in f){var U={};for(var K in f)K!=="ref"&&(U[K]=f[K])}else U=f;return El(a),f=lm(r,a,u,U,T,y),K=um(),r!==null&&!Si?(cm(r,a,y),va(r,a,y)):(Tt&&K&&Oe(a),a.flags|=1,Di(r,a,f,y),a.child)}function x0(r,a,u,f,y){if(r===null){var T=u.type;return typeof T=="function"&&!ru(T)&&T.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=T,I0(r,a,T,f,y)):(r=gl(u.type,null,f,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(T=r.child,!Om(r,y)){var U=T.memoizedProps;if(u=u.compare,u=u!==null?u:or,u(U,f)&&r.ref===a.ref)return va(r,a,y)}return a.flags|=1,r=ns(T,f),r.ref=a.ref,r.return=a,a.child=r}function I0(r,a,u,f,y){if(r!==null){var T=r.memoizedProps;if(or(T,f)&&r.ref===a.ref)if(Si=!1,a.pendingProps=f=T,Om(r,y))(r.flags&131072)!==0&&(Si=!0);else return a.lanes=r.lanes,va(r,a,y)}return Cm(r,a,u,f,y)}function k0(r,a,u){var f=a.pendingProps,y=f.children,T=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=T!==null?T.baseLanes|u:u,r!==null){for(y=a.child=r.child,T=0;y!==null;)T=T|y.lanes|y.childLanes,y=y.sibling;a.childLanes=T&~f}else a.childLanes=0,a.child=null;return M0(r,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&cf(a,T!==null?T.cachePool:null),T!==null?Iy(a,T):sm(),_0(a);else return a.lanes=a.childLanes=536870912,M0(r,a,T!==null?T.baseLanes|u:u,u)}else T!==null?(cf(a,T.cachePool),Iy(a,T),lo(),a.memoizedState=null):(r!==null&&cf(a,null),sm(),lo());return Di(r,a,y,u),a.child}function M0(r,a,u,f){var y=Jp();return y=y===null?null:{parent:pi._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},r!==null&&cf(a,null),sm(),_0(a),r!==null&&yl(r,a,f,!0),null}function Rf(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function Cm(r,a,u,f,y){return El(a),u=lm(r,a,u,f,void 0,y),f=um(),r!==null&&!Si?(cm(r,a,y),va(r,a,y)):(Tt&&f&&Oe(a),a.flags|=1,Di(r,a,u,y),a.child)}function P0(r,a,u,f,y,T){return El(a),a.updateQueue=null,u=My(a,f,u,y),ky(r),f=um(),r!==null&&!Si?(cm(r,a,T),va(r,a,T)):(Tt&&f&&Oe(a),a.flags|=1,Di(r,a,u,T),a.child)}function O0(r,a,u,f,y){if(El(a),a.stateNode===null){var T=pa,U=u.contextType;typeof U=="object"&&U!==null&&(T=Gi(U)),T=new u(f,T),a.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Am,a.stateNode=T,T._reactInternals=a,T=a.stateNode,T.props=f,T.state=a.memoizedState,T.refs={},tm(a),U=u.contextType,T.context=typeof U=="object"&&U!==null?Gi(U):pa,T.state=a.memoizedState,U=u.getDerivedStateFromProps,typeof U=="function"&&(bm(a,u,U,f),T.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(U=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),U!==T.state&&Am.enqueueReplaceState(T,T.state,null),vc(a,f,T,y),_c(),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){T=a.stateNode;var K=a.memoizedProps,se=bl(u,K);T.props=se;var ye=T.context,Re=u.contextType;U=pa,typeof Re=="object"&&Re!==null&&(U=Gi(Re));var Me=u.getDerivedStateFromProps;Re=typeof Me=="function"||typeof T.getSnapshotBeforeUpdate=="function",K=a.pendingProps!==K,Re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(K||ye!==U)&&y0(a,T,f,U),io=!1;var we=a.memoizedState;T.state=we,vc(a,f,T,y),_c(),ye=a.memoizedState,K||we!==ye||io?(typeof Me=="function"&&(bm(a,u,Me,f),ye=a.memoizedState),(se=io||v0(a,u,se,f,we,ye,U))?(Re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ye),T.props=f,T.state=ye,T.context=U,f=se):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,nm(r,a),U=a.memoizedProps,Re=bl(u,U),T.props=Re,Me=a.pendingProps,we=T.context,ye=u.contextType,se=pa,typeof ye=="object"&&ye!==null&&(se=Gi(ye)),K=u.getDerivedStateFromProps,(ye=typeof K=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(U!==Me||we!==se)&&y0(a,T,f,se),io=!1,we=a.memoizedState,T.state=we,vc(a,f,T,y),_c();var be=a.memoizedState;U!==Me||we!==be||io||r!==null&&r.dependencies!==null&&lf(r.dependencies)?(typeof K=="function"&&(bm(a,u,K,f),be=a.memoizedState),(Re=io||v0(a,u,Re,f,we,be,se)||r!==null&&r.dependencies!==null&&lf(r.dependencies))?(ye||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,be,se),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,be,se)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||U===r.memoizedProps&&we===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&we===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=be),T.props=f,T.state=be,T.context=se,f=Re):(typeof T.componentDidUpdate!="function"||U===r.memoizedProps&&we===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&we===r.memoizedState||(a.flags|=1024),f=!1)}return T=f,Rf(r,a),f=(a.flags&128)!==0,T||f?(T=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:T.render(),a.flags|=1,r!==null&&f?(a.child=pu(a,r.child,null,y),a.child=pu(a,null,u,y)):Di(r,a,u,y),a.memoizedState=T.state,r=a.child):r=va(r,a,y),r}function D0(r,a,u,f){return to(),a.flags|=256,Di(r,a,u,f),a.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(r){return{baseLanes:r,cachePool:wy()}}function Im(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=ss),r}function N0(r,a,u){var f=a.pendingProps,y=!1,T=(a.flags&128)!==0,U;if((U=T)||(U=r!==null&&r.memoizedState===null?!1:(mi.current&2)!==0),U&&(y=!0,a.flags&=-129),U=(a.flags&32)!==0,a.flags&=-33,r===null){if(Tt){if(y?oo(a):lo(),Tt){var K=it,se;if(se=K){e:{for(se=K,K=zn;se.nodeType!==8;){if(!K){K=null;break e}if(se=As(se.nextSibling),se===null){K=null;break e}}K=se}K!==null?(a.memoizedState={dehydrated:K,treeContext:k!==null?{id:Z,overflow:re}:null,retryLane:536870912,hydrationErrors:null},se=cr(18,null,null,0),se.stateNode=K,se.return=a,a.child=se,We=a,it=null,se=!0):se=!1}se||_r(a)}if(K=a.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return fg(K)?a.lanes=32:a.lanes=536870912,null;_a(a)}return K=f.children,f=f.fallback,y?(lo(),y=a.mode,K=xf({mode:"hidden",children:K},y),f=Us(f,y,u,null),K.return=a,f.return=a,K.sibling=f,a.child=K,y=a.child,y.memoizedState=xm(u),y.childLanes=Im(r,U,u),a.memoizedState=Rm,f):(oo(a),km(a,K))}if(se=r.memoizedState,se!==null&&(K=se.dehydrated,K!==null)){if(T)a.flags&256?(oo(a),a.flags&=-257,a=Mm(r,a,u)):a.memoizedState!==null?(lo(),a.child=r.child,a.flags|=128,a=null):(lo(),y=f.fallback,K=a.mode,f=xf({mode:"visible",children:f.children},K),y=Us(y,K,u,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,pu(a,r.child,null,u),f=a.child,f.memoizedState=xm(u),f.childLanes=Im(r,U,u),a.memoizedState=Rm,a=y);else if(oo(a),fg(K)){if(U=K.nextSibling&&K.nextSibling.dataset,U)var ye=U.dgst;U=ye,f=Error(i(419)),f.stack="",f.digest=U,no({value:f,source:null,stack:null}),a=Mm(r,a,u)}else if(Si||yl(r,a,u,!1),U=(u&r.childLanes)!==0,Si||U){if(U=Mn,U!==null&&(f=u&-u,f=(f&42)!==0?1:tr(f),f=(f&(U.suspendedLanes|u))!==0?0:f,f!==0&&f!==se.retryLane))throw se.retryLane=f,Ja(r,f),Fr(U,r,f),C0;K.data==="$?"||Ym(),a=Mm(r,a,u)}else K.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=se.treeContext,it=As(K.nextSibling),We=a,Tt=!0,kn=null,zn=!1,r!==null&&(v[b++]=Z,v[b++]=re,v[b++]=k,Z=r.id,re=r.overflow,k=a),a=km(a,f.children),a.flags|=4096);return a}return y?(lo(),y=f.fallback,K=a.mode,se=r.child,ye=se.sibling,f=ns(se,{mode:"hidden",children:f.children}),f.subtreeFlags=se.subtreeFlags&65011712,ye!==null?y=ns(ye,y):(y=Us(y,K,u,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,K=r.child.memoizedState,K===null?K=xm(u):(se=K.cachePool,se!==null?(ye=pi._currentValue,se=se.parent!==ye?{parent:ye,pool:ye}:se):se=wy(),K={baseLanes:K.baseLanes|u,cachePool:se}),y.memoizedState=K,y.childLanes=Im(r,U,u),a.memoizedState=Rm,f):(oo(a),u=r.child,r=u.sibling,u=ns(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,r!==null&&(U=a.deletions,U===null?(a.deletions=[r],a.flags|=16):U.push(r)),a.child=u,a.memoizedState=null,u)}function km(r,a){return a=xf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function xf(r,a){return r=cr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Mm(r,a,u){return pu(a,r.child,null,u),r=km(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function L0(r,a,u){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),vl(r.return,a,u)}function Pm(r,a,u,f,y){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=u,T.tailMode=y)}function V0(r,a,u){var f=a.pendingProps,y=f.revealOrder,T=f.tail;if(Di(r,a,f.children,u),f=mi.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&L0(r,u,a);else if(r.tag===19)L0(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(ie(mi,f),y){case"forwards":for(u=a.child,y=null;u!==null;)r=u.alternate,r!==null&&Af(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Pm(a,!1,y,u,T);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&Af(r)===null){a.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}Pm(a,!0,u,null,T);break;case"together":Pm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function va(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),po|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(yl(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=ns(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=ns(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function Om(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&lf(r)))}function IC(r,a,u){switch(a.tag){case 3:De(a,a.stateNode.containerInfo),Bs(a,pi,r.memoizedState.cache),to();break;case 27:case 5:je(a);break;case 4:De(a,a.stateNode.containerInfo);break;case 10:Bs(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(oo(a),a.flags|=128,null):(u&a.child.childLanes)!==0?N0(r,a,u):(oo(a),r=va(r,a,u),r!==null?r.sibling:null);oo(a);break;case 19:var y=(r.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(yl(r,a,u,!1),f=(u&a.childLanes)!==0),y){if(f)return V0(r,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(mi,mi.current),f)break;return null;case 22:case 23:return a.lanes=0,k0(r,a,u);case 24:Bs(a,pi,r.memoizedState.cache)}return va(r,a,u)}function U0(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)Si=!0;else{if(!Om(r,u)&&(a.flags&128)===0)return Si=!1,IC(r,a,u);Si=(r.flags&131072)!==0}else Si=!1,Tt&&(a.flags&1048576)!==0&&Ae(a,h,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var f=a.elementType,y=f._init;if(f=y(f._payload),a.type=f,typeof f=="function")ru(f)?(r=bl(f,r),a.tag=1,a=O0(null,a,f,r,u)):(a.tag=0,a=Cm(null,a,f,r,u));else{if(f!=null){if(y=f.$$typeof,y===$){a.tag=11,a=R0(null,a,f,r,u);break e}else if(y===G){a.tag=14,a=x0(null,a,f,r,u);break e}}throw a=X(f)||f,Error(i(306,a,""))}}return a;case 0:return Cm(r,a,a.type,a.pendingProps,u);case 1:return f=a.type,y=bl(f,a.pendingProps),O0(r,a,f,y,u);case 3:e:{if(De(a,a.stateNode.containerInfo),r===null)throw Error(i(387));f=a.pendingProps;var T=a.memoizedState;y=T.element,nm(r,a),vc(a,f,null,u);var U=a.memoizedState;if(f=U.cache,Bs(a,pi,f),f!==T.cache&&au(a,[pi],u,!0),_c(),f=U.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:U.cache},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){a=D0(r,a,f,u);break e}else if(f!==y){y=lr(Error(i(424)),a),no(y),a=D0(r,a,f,u);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(it=As(r.firstChild),We=a,Tt=!0,kn=null,zn=!0,u=g0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(to(),f===y){a=va(r,a,u);break e}Di(r,a,f,u)}a=a.child}return a;case 26:return Rf(r,a),r===null?(u=j1(a.type,null,a.pendingProps,null))?a.memoizedState=u:Tt||(u=a.type,r=a.pendingProps,f=jf(Ee.current).createElement(u),f[ke]=a,f[Ve]=r,Li(f,u,r),jt(f),a.stateNode=f):a.memoizedState=j1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return je(a),r===null&&Tt&&(f=a.stateNode=B1(a.type,a.pendingProps,Ee.current),We=a,zn=!0,y=it,vo(a.type)?(dg=y,it=As(f.firstChild)):it=y),Di(r,a,a.pendingProps.children,u),Rf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Tt&&((y=f=it)&&(f=iR(f,a.type,a.pendingProps,zn),f!==null?(a.stateNode=f,We=a,it=As(f.firstChild),zn=!1,y=!0):y=!1),y||_r(a)),je(a),y=a.type,T=a.pendingProps,U=r!==null?r.memoizedProps:null,f=T.children,ug(y,T)?f=null:U!==null&&ug(y,U)&&(a.flags|=32),a.memoizedState!==null&&(y=lm(r,a,wC,null,null,u),zc._currentValue=y),Rf(r,a),Di(r,a,f,u),a.child;case 6:return r===null&&Tt&&((r=u=it)&&(u=rR(u,a.pendingProps,zn),u!==null?(a.stateNode=u,We=a,it=null,r=!0):r=!1),r||_r(a)),null;case 13:return N0(r,a,u);case 4:return De(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=pu(a,null,f,u):Di(r,a,f,u),a.child;case 11:return R0(r,a,a.type,a.pendingProps,u);case 7:return Di(r,a,a.pendingProps,u),a.child;case 8:return Di(r,a,a.pendingProps.children,u),a.child;case 12:return Di(r,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Bs(a,a.type,f.value),Di(r,a,f.children,u),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,El(a),y=Gi(y),f=f(y),a.flags|=1,Di(r,a,f,u),a.child;case 14:return x0(r,a,a.type,a.pendingProps,u);case 15:return I0(r,a,a.type,a.pendingProps,u);case 19:return V0(r,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},r===null?(u=xf(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=ns(r.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return k0(r,a,u);case 24:return El(a),f=Gi(pi),r===null?(y=Jp(),y===null&&(y=Mn,T=Wp(),y.pooledCache=T,T.refCount++,T!==null&&(y.pooledCacheLanes|=u),y=T),a.memoizedState={parent:f,cache:y},tm(a),Bs(a,pi,y)):((r.lanes&u)!==0&&(nm(r,a),vc(a,null,null,u),_c()),y=r.memoizedState,T=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Bs(a,pi,f)):(f=T.cache,Bs(a,pi,f),f!==y.cache&&au(a,[pi],u,!0))),Di(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ya(r){r.flags|=4}function B0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!K1(a)){if(a=rs.current,a!==null&&((sn&4194048)===sn?zs!==null:(sn&62914560)!==sn&&(sn&536870912)===0||a!==zs))throw mc=em,Ty;r.flags|=8192}}function If(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?zi():536870912,r.lanes|=a,vu|=a)}function Sc(r,a){if(!Tt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Fn(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(a)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=u,a}function kC(r,a,u){var f=a.pendingProps;switch(Ge(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(a),null;case 1:return Fn(a),null;case 3:return u=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ts(pi),Fe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(_l(a)?ya(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,of())),Fn(a),null;case 26:return u=a.memoizedState,r===null?(ya(a),u!==null?(Fn(a),B0(a,u)):(Fn(a),a.flags&=-16777217)):u?u!==r.memoizedState?(ya(a),Fn(a),B0(a,u)):(Fn(a),a.flags&=-16777217):(r.memoizedProps!==f&&ya(a),Fn(a),a.flags&=-16777217),null;case 27:ze(a),u=Ee.current;var y=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==f&&ya(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Fn(a),null}r=he.current,_l(a)?sf(a):(r=B1(y,f,u),a.stateNode=r,ya(a))}return Fn(a),null;case 5:if(ze(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&ya(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Fn(a),null}if(r=he.current,_l(a))sf(a);else{switch(y=jf(Ee.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}r[ke]=a,r[Ve]=f;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=r;e:switch(Li(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ya(a)}}return Fn(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&ya(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ee.current,_l(a)){if(r=a.stateNode,u=a.memoizedProps,f=null,y=We,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[ke]=a,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||P1(r.nodeValue,u)),r||_r(a)}else r=jf(r).createTextNode(f),r[ke]=a,a.stateNode=r}return Fn(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=_l(a),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[ke]=a}else to(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Fn(a),y=!1}else y=of(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(_a(a),a):(_a(a),null)}if(_a(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var T=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==y&&(f.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),If(a,a.updateQueue),Fn(a),null;case 4:return Fe(),r===null&&rg(a.stateNode.containerInfo),Fn(a),null;case 10:return Ts(a.type),Fn(a),null;case 19:if(ae(mi),y=a.memoizedState,y===null)return Fn(a),null;if(f=(a.flags&128)!==0,T=y.rendering,T===null)if(f)Sc(y,!1);else{if(Gn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(T=Af(r),T!==null){for(a.flags|=128,Sc(y,!1),r=T.updateQueue,a.updateQueue=r,If(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)cc(u,r),u=u.sibling;return ie(mi,mi.current&1|2),a.child}r=r.sibling}y.tail!==null&&He()>Pf&&(a.flags|=128,f=!0,Sc(y,!1),a.lanes=4194304)}else{if(!f)if(r=Af(T),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,If(a,r),Sc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Tt)return Fn(a),null}else 2*He()-y.renderingStartTime>Pf&&u!==536870912&&(a.flags|=128,f=!0,Sc(y,!1),a.lanes=4194304);y.isBackwards?(T.sibling=a.child,a.child=T):(r=y.last,r!==null?r.sibling=T:a.child=T,y.last=T)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=He(),a.sibling=null,r=mi.current,ie(mi,f?r&1|2:r&1),a):(Fn(a),null);case 22:case 23:return _a(a),am(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Fn(a),a.subtreeFlags&6&&(a.flags|=8192)):Fn(a),u=a.updateQueue,u!==null&&If(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),r!==null&&ae(wl),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ts(pi),Fn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function MC(r,a){switch(Ge(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ts(pi),Fe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return ze(a),null;case 13:if(_a(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));to()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ae(mi),null;case 4:return Fe(),null;case 10:return Ts(a.type),null;case 22:case 23:return _a(a),am(),r!==null&&ae(wl),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ts(pi),null;case 25:return null;default:return null}}function z0(r,a){switch(Ge(a),a.tag){case 3:Ts(pi),Fe();break;case 26:case 27:case 5:ze(a);break;case 4:Fe();break;case 13:_a(a);break;case 19:ae(mi);break;case 10:Ts(a.type);break;case 22:case 23:_a(a),am(),r!==null&&ae(wl);break;case 24:Ts(pi)}}function Cc(r,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&r)===r){f=void 0;var T=u.create,U=u.inst;f=T(),U.destroy=f}u=u.next}while(u!==y)}}catch(K){Rn(a,a.return,K)}}function uo(r,a,u){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var T=y.next;f=T;do{if((f.tag&r)===r){var U=f.inst,K=U.destroy;if(K!==void 0){U.destroy=void 0,y=a;var se=u,ye=K;try{ye()}catch(Re){Rn(y,se,Re)}}}f=f.next}while(f!==T)}}catch(Re){Rn(a,a.return,Re)}}function F0(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{xy(a,u)}catch(f){Rn(r,r.return,f)}}}function j0(r,a,u){u.props=bl(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Rn(r,a,f)}}function Rc(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(y){Rn(r,a,y)}}function Fs(r,a){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){Rn(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Rn(r,a,y)}else u.current=null}function H0(r){var a=r.type,u=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){Rn(r,r.return,y)}}function Dm(r,a,u){try{var f=r.stateNode;XC(f,r.type,u,a),f[Ve]=a}catch(y){Rn(r,r.return,y)}}function q0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vo(r.type)||r.tag===4}function Nm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||q0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lm(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Ff));else if(f!==4&&(f===27&&vo(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(Lm(r,a,u),r=r.sibling;r!==null;)Lm(r,a,u),r=r.sibling}function kf(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(f!==4&&(f===27&&vo(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(kf(r,a,u),r=r.sibling;r!==null;)kf(r,a,u),r=r.sibling}function G0(r){var a=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Li(a,f,u),a[ke]=r,a[Ve]=u}catch(T){Rn(r,r.return,T)}}var Ea=!1,Xn=!1,Vm=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,Ci=null;function PC(r,a){if(r=r.containerInfo,og=Qf,r=cl(r),hl(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var U=0,K=-1,se=-1,ye=0,Re=0,Me=r,we=null;t:for(;;){for(var be;Me!==u||y!==0&&Me.nodeType!==3||(K=U+y),Me!==T||f!==0&&Me.nodeType!==3||(se=U+f),Me.nodeType===3&&(U+=Me.nodeValue.length),(be=Me.firstChild)!==null;)we=Me,Me=be;for(;;){if(Me===r)break t;if(we===u&&++ye===y&&(K=U),we===T&&++Re===f&&(se=U),(be=Me.nextSibling)!==null)break;Me=we,we=Me.parentNode}Me=be}u=K===-1||se===-1?null:{start:K,end:se}}else u=null}u=u||{start:0,end:0}}else u=null;for(lg={focusedElem:r,selectionRange:u},Qf=!1,Ci=a;Ci!==null;)if(a=Ci,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Ci=r;else for(;Ci!==null;){switch(a=Ci,T=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&T!==null){r=void 0,u=a,y=T.memoizedProps,T=T.memoizedState,f=u.stateNode;try{var wt=bl(u.type,y,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(wt,T),f.__reactInternalSnapshotBeforeUpdate=r}catch(mt){Rn(u,u.return,mt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)hg(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":hg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Ci=r;break}Ci=a.return}}function K0(r,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:co(r,u),f&4&&Cc(5,u);break;case 1:if(co(r,u),f&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(U){Rn(u,u.return,U)}else{var y=bl(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(U){Rn(u,u.return,U)}}f&64&&F0(u),f&512&&Rc(u,u.return);break;case 3:if(co(r,u),f&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{xy(r,a)}catch(U){Rn(u,u.return,U)}}break;case 27:a===null&&f&4&&G0(u);case 26:case 5:co(r,u),a===null&&f&4&&H0(u),f&512&&Rc(u,u.return);break;case 12:co(r,u);break;case 13:co(r,u),f&4&&$0(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=FC.bind(null,u),sR(r,u))));break;case 22:if(f=u.memoizedState!==null||Ea,!f){a=a!==null&&a.memoizedState!==null||Xn,y=Ea;var T=Xn;Ea=f,(Xn=a)&&!T?ho(r,u,(u.subtreeFlags&8772)!==0):co(r,u),Ea=y,Xn=T}break;case 30:break;default:co(r,u)}}function Q0(r){var a=r.alternate;a!==null&&(r.alternate=null,Q0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ot(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Un=null,yr=!1;function wa(r,a,u){for(u=u.child;u!==null;)Y0(r,a,u),u=u.sibling}function Y0(r,a,u){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(tt,u)}catch{}switch(u.tag){case 26:Xn||Fs(u,a),wa(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Xn||Fs(u,a);var f=Un,y=yr;vo(u.type)&&(Un=u.stateNode,yr=!1),wa(r,a,u),Lc(u.stateNode),Un=f,yr=y;break;case 5:Xn||Fs(u,a);case 6:if(f=Un,y=yr,Un=null,wa(r,a,u),Un=f,yr=y,Un!==null)if(yr)try{(Un.nodeType===9?Un.body:Un.nodeName==="HTML"?Un.ownerDocument.body:Un).removeChild(u.stateNode)}catch(T){Rn(u,a,T)}else try{Un.removeChild(u.stateNode)}catch(T){Rn(u,a,T)}break;case 18:Un!==null&&(yr?(r=Un,V1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),qc(r)):V1(Un,u.stateNode));break;case 4:f=Un,y=yr,Un=u.stateNode.containerInfo,yr=!0,wa(r,a,u),Un=f,yr=y;break;case 0:case 11:case 14:case 15:Xn||uo(2,u,a),Xn||uo(4,u,a),wa(r,a,u);break;case 1:Xn||(Fs(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&j0(u,a,f)),wa(r,a,u);break;case 21:wa(r,a,u);break;case 22:Xn=(f=Xn)||u.memoizedState!==null,wa(r,a,u),Xn=f;break;default:wa(r,a,u)}}function $0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qc(r)}catch(u){Rn(a,a.return,u)}}function OC(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Z0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Z0),a;default:throw Error(i(435,r.tag))}}function Um(r,a){var u=OC(r);a.forEach(function(f){var y=jC.bind(null,r,f);u.has(f)||(u.add(f),f.then(y,y))})}function Vr(r,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],T=r,U=a,K=U;e:for(;K!==null;){switch(K.tag){case 27:if(vo(K.type)){Un=K.stateNode,yr=!1;break e}break;case 5:Un=K.stateNode,yr=!1;break e;case 3:case 4:Un=K.stateNode.containerInfo,yr=!0;break e}K=K.return}if(Un===null)throw Error(i(160));Y0(T,U,y),Un=null,yr=!1,T=y.alternate,T!==null&&(T.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)W0(a,r),a=a.sibling}var bs=null;function W0(r,a){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Vr(a,r),Ur(r),f&4&&(uo(3,r,r.return),Cc(3,r),uo(5,r,r.return));break;case 1:Vr(a,r),Ur(r),f&512&&(Xn||u===null||Fs(u,u.return)),f&64&&Ea&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=bs;if(Vr(a,r),Ur(r),f&512&&(Xn||u===null||Fs(u,u.return)),f&4){var T=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){e:{f=r.type,u=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":T=y.getElementsByTagName("title")[0],(!T||T[ht]||T[ke]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=y.createElement(f),y.head.insertBefore(T,y.querySelector("head > title"))),Li(T,f,u),T[ke]=r,jt(T),f=T;break e;case"link":var U=G1("link","href",y).get(f+(u.href||""));if(U){for(var K=0;K<U.length;K++)if(T=U[K],T.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&T.getAttribute("rel")===(u.rel==null?null:u.rel)&&T.getAttribute("title")===(u.title==null?null:u.title)&&T.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){U.splice(K,1);break t}}T=y.createElement(f),Li(T,f,u),y.head.appendChild(T);break;case"meta":if(U=G1("meta","content",y).get(f+(u.content||""))){for(K=0;K<U.length;K++)if(T=U[K],T.getAttribute("content")===(u.content==null?null:""+u.content)&&T.getAttribute("name")===(u.name==null?null:u.name)&&T.getAttribute("property")===(u.property==null?null:u.property)&&T.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&T.getAttribute("charset")===(u.charSet==null?null:u.charSet)){U.splice(K,1);break t}}T=y.createElement(f),Li(T,f,u),y.head.appendChild(T);break;default:throw Error(i(468,f))}T[ke]=r,jt(T),f=T}r.stateNode=f}else Z1(y,r.type,r.stateNode);else r.stateNode=q1(y,f,r.memoizedProps);else T!==f?(T===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):T.count--,f===null?Z1(y,r.type,r.stateNode):q1(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Dm(r,r.memoizedProps,u.memoizedProps)}break;case 27:Vr(a,r),Ur(r),f&512&&(Xn||u===null||Fs(u,u.return)),u!==null&&f&4&&Dm(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Vr(a,r),Ur(r),f&512&&(Xn||u===null||Fs(u,u.return)),r.flags&32){y=r.stateNode;try{wi(y,"")}catch(be){Rn(r,r.return,be)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,Dm(r,y,u!==null?u.memoizedProps:y)),f&1024&&(Vm=!0);break;case 6:if(Vr(a,r),Ur(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(be){Rn(r,r.return,be)}}break;case 3:if(Gf=null,y=bs,bs=Hf(a.containerInfo),Vr(a,r),bs=y,Ur(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{qc(a.containerInfo)}catch(be){Rn(r,r.return,be)}Vm&&(Vm=!1,X0(r));break;case 4:f=bs,bs=Hf(r.stateNode.containerInfo),Vr(a,r),Ur(r),bs=f;break;case 12:Vr(a,r),Ur(r);break;case 13:Vr(a,r),Ur(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(qm=He()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Um(r,f)));break;case 22:y=r.memoizedState!==null;var se=u!==null&&u.memoizedState!==null,ye=Ea,Re=Xn;if(Ea=ye||y,Xn=Re||se,Vr(a,r),Xn=Re,Ea=ye,Ur(r),f&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||se||Ea||Xn||Al(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){se=u=a;try{if(T=se.stateNode,y)U=T.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{K=se.stateNode;var Me=se.memoizedProps.style,we=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;K.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(be){Rn(se,se.return,be)}}}else if(a.tag===6){if(u===null){se=a;try{se.stateNode.nodeValue=y?"":se.memoizedProps}catch(be){Rn(se,se.return,be)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Um(r,u))));break;case 19:Vr(a,r),Ur(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Um(r,f)));break;case 30:break;case 21:break;default:Vr(a,r),Ur(r)}}function Ur(r){var a=r.flags;if(a&2){try{for(var u,f=r.return;f!==null;){if(q0(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,T=Nm(r);kf(r,T,y);break;case 5:var U=u.stateNode;u.flags&32&&(wi(U,""),u.flags&=-33);var K=Nm(r);kf(r,K,U);break;case 3:case 4:var se=u.stateNode.containerInfo,ye=Nm(r);Lm(r,ye,se);break;default:throw Error(i(161))}}catch(Re){Rn(r,r.return,Re)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function X0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;X0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function co(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)K0(r,a.alternate,a),a=a.sibling}function Al(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:uo(4,a,a.return),Al(a);break;case 1:Fs(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&j0(a,a.return,u),Al(a);break;case 27:Lc(a.stateNode);case 26:case 5:Fs(a,a.return),Al(a);break;case 22:a.memoizedState===null&&Al(a);break;case 30:Al(a);break;default:Al(a)}r=r.sibling}}function ho(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=r,T=a,U=T.flags;switch(T.tag){case 0:case 11:case 15:ho(y,T,u),Cc(4,T);break;case 1:if(ho(y,T,u),f=T,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ye){Rn(f,f.return,ye)}if(f=T,y=f.updateQueue,y!==null){var K=f.stateNode;try{var se=y.shared.hiddenCallbacks;if(se!==null)for(y.shared.hiddenCallbacks=null,y=0;y<se.length;y++)Ry(se[y],K)}catch(ye){Rn(f,f.return,ye)}}u&&U&64&&F0(T),Rc(T,T.return);break;case 27:G0(T);case 26:case 5:ho(y,T,u),u&&f===null&&U&4&&H0(T),Rc(T,T.return);break;case 12:ho(y,T,u);break;case 13:ho(y,T,u),u&&U&4&&$0(y,T);break;case 22:T.memoizedState===null&&ho(y,T,u),Rc(T,T.return);break;case 30:break;default:ho(y,T,u)}a=a.sibling}}function Bm(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&fc(u))}function zm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&fc(r))}function js(r,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)J0(r,a,u,f),a=a.sibling}function J0(r,a,u,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:js(r,a,u,f),y&2048&&Cc(9,a);break;case 1:js(r,a,u,f);break;case 3:js(r,a,u,f),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&fc(r)));break;case 12:if(y&2048){js(r,a,u,f),r=a.stateNode;try{var T=a.memoizedProps,U=T.id,K=T.onPostCommit;typeof K=="function"&&K(U,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(se){Rn(a,a.return,se)}}else js(r,a,u,f);break;case 13:js(r,a,u,f);break;case 23:break;case 22:T=a.stateNode,U=a.alternate,a.memoizedState!==null?T._visibility&2?js(r,a,u,f):xc(r,a):T._visibility&2?js(r,a,u,f):(T._visibility|=2,mu(r,a,u,f,(a.subtreeFlags&10256)!==0)),y&2048&&Bm(U,a);break;case 24:js(r,a,u,f),y&2048&&zm(a.alternate,a);break;default:js(r,a,u,f)}}function mu(r,a,u,f,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var T=r,U=a,K=u,se=f,ye=U.flags;switch(U.tag){case 0:case 11:case 15:mu(T,U,K,se,y),Cc(8,U);break;case 23:break;case 22:var Re=U.stateNode;U.memoizedState!==null?Re._visibility&2?mu(T,U,K,se,y):xc(T,U):(Re._visibility|=2,mu(T,U,K,se,y)),y&&ye&2048&&Bm(U.alternate,U);break;case 24:mu(T,U,K,se,y),y&&ye&2048&&zm(U.alternate,U);break;default:mu(T,U,K,se,y)}a=a.sibling}}function xc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,f=a,y=f.flags;switch(f.tag){case 22:xc(u,f),y&2048&&Bm(f.alternate,f);break;case 24:xc(u,f),y&2048&&zm(f.alternate,f);break;default:xc(u,f)}a=a.sibling}}var Ic=8192;function gu(r){if(r.subtreeFlags&Ic)for(r=r.child;r!==null;)e1(r),r=r.sibling}function e1(r){switch(r.tag){case 26:gu(r),r.flags&Ic&&r.memoizedState!==null&&vR(bs,r.memoizedState,r.memoizedProps);break;case 5:gu(r);break;case 3:case 4:var a=bs;bs=Hf(r.stateNode.containerInfo),gu(r),bs=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Ic,Ic=16777216,gu(r),Ic=a):gu(r));break;default:gu(r)}}function t1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function kc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Ci=f,i1(f,r)}t1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n1(r),r=r.sibling}function n1(r){switch(r.tag){case 0:case 11:case 15:kc(r),r.flags&2048&&uo(9,r,r.return);break;case 3:kc(r);break;case 12:kc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Mf(r)):kc(r);break;default:kc(r)}}function Mf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Ci=f,i1(f,r)}t1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:uo(8,a,a.return),Mf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Mf(a));break;default:Mf(a)}r=r.sibling}}function i1(r,a){for(;Ci!==null;){var u=Ci;switch(u.tag){case 0:case 11:case 15:uo(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:fc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Ci=f;else e:for(u=r;Ci!==null;){f=Ci;var y=f.sibling,T=f.return;if(Q0(f),f===u){Ci=null;break e}if(y!==null){y.return=T,Ci=y;break e}Ci=T}}}var DC={getCacheForType:function(r){var a=Gi(pi),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},NC=typeof WeakMap=="function"?WeakMap:Map,_n=0,Mn=null,Ht=null,sn=0,vn=0,Br=null,fo=!1,_u=!1,Fm=!1,Ta=0,Gn=0,po=0,Sl=0,jm=0,ss=0,vu=0,Mc=null,Er=null,Hm=!1,qm=0,Pf=1/0,Of=null,mo=null,Ni=0,go=null,yu=null,Eu=0,Gm=0,Zm=null,r1=null,Pc=0,Km=null;function zr(){if((_n&2)!==0&&sn!==0)return sn&-sn;if(B.T!==null){var r=ou;return r!==0?r:eg()}return oe()}function s1(){ss===0&&(ss=(sn&536870912)===0||Tt?dr():536870912);var r=rs.current;return r!==null&&(r.flags|=32),ss}function Fr(r,a,u){(r===Mn&&(vn===2||vn===9)||r.cancelPendingCommit!==null)&&(wu(r,0),_o(r,sn,ss,!1)),Bn(r,u),((_n&2)===0||r!==Mn)&&(r===Mn&&((_n&2)===0&&(Sl|=u),Gn===4&&_o(r,sn,ss,!1)),Hs(r))}function a1(r,a,u){if((_n&6)!==0)throw Error(i(327));var f=!u&&(a&124)===0&&(a&r.expiredLanes)===0||ti(r,a),y=f?UC(r,a):$m(r,a,!0),T=f;do{if(y===0){_u&&!f&&_o(r,a,0,!1);break}else{if(u=r.current.alternate,T&&!LC(u)){y=$m(r,a,!1),T=!1;continue}if(y===2){if(T=a,r.errorRecoveryDisabledLanes&T)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){a=U;e:{var K=r;y=Mc;var se=K.current.memoizedState.isDehydrated;if(se&&(wu(K,U).flags|=256),U=$m(K,U,!1),U!==2){if(Fm&&!se){K.errorRecoveryDisabledLanes|=T,Sl|=T,y=4;break e}T=Er,Er=y,T!==null&&(Er===null?Er=T:Er.push.apply(Er,T))}y=U}if(T=!1,y!==2)continue}}if(y===1){wu(r,0),_o(r,a,0,!0);break}e:{switch(f=r,T=y,T){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:_o(f,a,ss,!fo);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=qm+300-He(),10<y)){if(_o(f,a,ss,!fo),er(f,0,!0)!==0)break e;f.timeoutHandle=N1(o1.bind(null,f,u,Er,Of,Hm,a,ss,Sl,vu,fo,T,2,-0,0),y);break e}o1(f,u,Er,Of,Hm,a,ss,Sl,vu,fo,T,0,-0,0)}}break}while(!0);Hs(r)}function o1(r,a,u,f,y,T,U,K,se,ye,Re,Me,we,be){if(r.timeoutHandle=-1,Me=a.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(Bc={stylesheets:null,count:0,unsuspend:_R},e1(a),Me=yR(),Me!==null)){r.cancelPendingCommit=Me(p1.bind(null,r,a,T,u,f,y,U,K,se,Re,1,we,be)),_o(r,T,U,!ye);return}p1(r,a,T,u,f,y,U,K,se)}function LC(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],T=y.getSnapshot;y=y.value;try{if(!ar(T(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _o(r,a,u,f){a&=~jm,a&=~Sl,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var y=a;0<y;){var T=31-tn(y),U=1<<T;f[T]=-1,y&=~U}u!==0&&Nn(r,u,a)}function Df(){return(_n&6)===0?(Oc(0),!1):!0}function Qm(){if(Ht!==null){if(vn===0)var r=Ht.return;else r=Ht,ws=is=null,hm(r),du=null,bc=0,r=Ht;for(;r!==null;)z0(r.alternate,r),r=r.return;Ht=null}}function wu(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,eR(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Qm(),Mn=r,Ht=u=ns(r.current,null),sn=a,vn=0,Br=null,fo=!1,_u=ti(r,a),Fm=!1,vu=ss=jm=Sl=po=Gn=0,Er=Mc=null,Hm=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var y=31-tn(f),T=1<<y;a|=r[y],f&=~T}return Ta=a,dl(),u}function l1(r,a){Ut=null,B.H=wf,a===pc||a===hf?(a=Sy(),vn=3):a===Ty?(a=Sy(),vn=4):vn=a===C0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Br=a,Ht===null&&(Gn=1,Cf(r,lr(a,r.current)))}function u1(){var r=B.H;return B.H=wf,r===null?wf:r}function c1(){var r=B.A;return B.A=DC,r}function Ym(){Gn=4,fo||(sn&4194048)!==sn&&rs.current!==null||(_u=!0),(po&134217727)===0&&(Sl&134217727)===0||Mn===null||_o(Mn,sn,ss,!1)}function $m(r,a,u){var f=_n;_n|=2;var y=u1(),T=c1();(Mn!==r||sn!==a)&&(Of=null,wu(r,a)),a=!1;var U=Gn;e:do try{if(vn!==0&&Ht!==null){var K=Ht,se=Br;switch(vn){case 8:Qm(),U=6;break e;case 3:case 2:case 9:case 6:rs.current===null&&(a=!0);var ye=vn;if(vn=0,Br=null,Tu(r,K,se,ye),u&&_u){U=0;break e}break;default:ye=vn,vn=0,Br=null,Tu(r,K,se,ye)}}VC(),U=Gn;break}catch(Re){l1(r,Re)}while(!0);return a&&r.shellSuspendCounter++,ws=is=null,_n=f,B.H=y,B.A=T,Ht===null&&(Mn=null,sn=0,dl()),U}function VC(){for(;Ht!==null;)h1(Ht)}function UC(r,a){var u=_n;_n|=2;var f=u1(),y=c1();Mn!==r||sn!==a?(Of=null,Pf=He()+500,wu(r,a)):_u=ti(r,a);e:do try{if(vn!==0&&Ht!==null){a=Ht;var T=Br;t:switch(vn){case 1:vn=0,Br=null,Tu(r,a,T,1);break;case 2:case 9:if(by(T)){vn=0,Br=null,f1(a);break}a=function(){vn!==2&&vn!==9||Mn!==r||(vn=7),Hs(r)},T.then(a,a);break e;case 3:vn=7;break e;case 4:vn=5;break e;case 7:by(T)?(vn=0,Br=null,f1(a)):(vn=0,Br=null,Tu(r,a,T,7));break;case 5:var U=null;switch(Ht.tag){case 26:U=Ht.memoizedState;case 5:case 27:var K=Ht;if(!U||K1(U)){vn=0,Br=null;var se=K.sibling;if(se!==null)Ht=se;else{var ye=K.return;ye!==null?(Ht=ye,Nf(ye)):Ht=null}break t}}vn=0,Br=null,Tu(r,a,T,5);break;case 6:vn=0,Br=null,Tu(r,a,T,6);break;case 8:Qm(),Gn=6;break e;default:throw Error(i(462))}}BC();break}catch(Re){l1(r,Re)}while(!0);return ws=is=null,B.H=f,B.A=y,_n=u,Ht!==null?0:(Mn=null,sn=0,dl(),Gn)}function BC(){for(;Ht!==null&&!Ne();)h1(Ht)}function h1(r){var a=U0(r.alternate,r,Ta);r.memoizedProps=r.pendingProps,a===null?Nf(r):Ht=a}function f1(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=P0(u,a,a.pendingProps,a.type,void 0,sn);break;case 11:a=P0(u,a,a.pendingProps,a.type.render,a.ref,sn);break;case 5:hm(a);default:z0(u,a),a=Ht=cc(a,Ta),a=U0(u,a,Ta)}r.memoizedProps=r.pendingProps,a===null?Nf(r):Ht=a}function Tu(r,a,u,f){ws=is=null,hm(a),du=null,bc=0;var y=a.return;try{if(xC(r,y,a,u,sn)){Gn=1,Cf(r,lr(u,r.current)),Ht=null;return}}catch(T){if(y!==null)throw Ht=y,T;Gn=1,Cf(r,lr(u,r.current)),Ht=null;return}a.flags&32768?(Tt||f===1?r=!0:_u||(sn&536870912)!==0?r=!1:(fo=r=!0,(f===2||f===9||f===3||f===6)&&(f=rs.current,f!==null&&f.tag===13&&(f.flags|=16384))),d1(a,r)):Nf(a)}function Nf(r){var a=r;do{if((a.flags&32768)!==0){d1(a,fo);return}r=a.return;var u=kC(a.alternate,a,Ta);if(u!==null){Ht=u;return}if(a=a.sibling,a!==null){Ht=a;return}Ht=a=r}while(a!==null);Gn===0&&(Gn=5)}function d1(r,a){do{var u=MC(r.alternate,r);if(u!==null){u.flags&=32767,Ht=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){Ht=r;return}Ht=r=u}while(r!==null);Gn=6,Ht=null}function p1(r,a,u,f,y,T,U,K,se){r.cancelPendingCommit=null;do Lf();while(Ni!==0);if((_n&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(T=a.lanes|a.childLanes,T|=Lr,ci(r,u,T,U,K,se),r===Mn&&(Ht=Mn=null,sn=0),yu=a,go=r,Eu=u,Gm=T,Zm=y,r1=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,HC(It,function(){return y1(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,y=P.p,P.p=2,U=_n,_n|=4;try{PC(r,a,u)}finally{_n=U,P.p=y,B.T=f}}Ni=1,m1(),g1(),_1()}}function m1(){if(Ni===1){Ni=0;var r=go,a=yu,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var f=P.p;P.p=2;var y=_n;_n|=4;try{W0(a,r);var T=lg,U=cl(r.containerInfo),K=T.focusedElem,se=T.selectionRange;if(U!==K&&K&&K.ownerDocument&&Jl(K.ownerDocument.documentElement,K)){if(se!==null&&hl(K)){var ye=se.start,Re=se.end;if(Re===void 0&&(Re=ye),"selectionStart"in K)K.selectionStart=ye,K.selectionEnd=Math.min(Re,K.value.length);else{var Me=K.ownerDocument||document,we=Me&&Me.defaultView||window;if(we.getSelection){var be=we.getSelection(),wt=K.textContent.length,mt=Math.min(se.start,wt),An=se.end===void 0?mt:Math.min(se.end,wt);!be.extend&&mt>An&&(U=An,An=mt,mt=U);var de=lc(K,mt),fe=lc(K,An);if(de&&fe&&(be.rangeCount!==1||be.anchorNode!==de.node||be.anchorOffset!==de.offset||be.focusNode!==fe.node||be.focusOffset!==fe.offset)){var _e=Me.createRange();_e.setStart(de.node,de.offset),be.removeAllRanges(),mt>An?(be.addRange(_e),be.extend(fe.node,fe.offset)):(_e.setEnd(fe.node,fe.offset),be.addRange(_e))}}}}for(Me=[],be=K;be=be.parentNode;)be.nodeType===1&&Me.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Me.length;K++){var Ie=Me[K];Ie.element.scrollLeft=Ie.left,Ie.element.scrollTop=Ie.top}}Qf=!!og,lg=og=null}finally{_n=y,P.p=f,B.T=u}}r.current=a,Ni=2}}function g1(){if(Ni===2){Ni=0;var r=go,a=yu,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var f=P.p;P.p=2;var y=_n;_n|=4;try{K0(r,a.alternate,a)}finally{_n=y,P.p=f,B.T=u}}Ni=3}}function _1(){if(Ni===4||Ni===3){Ni=0,Le();var r=go,a=yu,u=Eu,f=r1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ni=5:(Ni=0,yu=go=null,v1(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(mo=null),vi(u),a=a.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(tt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=B.T,y=P.p,P.p=2,B.T=null;try{for(var T=r.onRecoverableError,U=0;U<f.length;U++){var K=f[U];T(K.value,{componentStack:K.stack})}}finally{B.T=a,P.p=y}}(Eu&3)!==0&&Lf(),Hs(r),y=r.pendingLanes,(u&4194090)!==0&&(y&42)!==0?r===Km?Pc++:(Pc=0,Km=r):Pc=0,Oc(0)}}function v1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,fc(a)))}function Lf(r){return m1(),g1(),_1(),y1()}function y1(){if(Ni!==5)return!1;var r=go,a=Gm;Gm=0;var u=vi(Eu),f=B.T,y=P.p;try{P.p=32>u?32:u,B.T=null,u=Zm,Zm=null;var T=go,U=Eu;if(Ni=0,yu=go=null,Eu=0,(_n&6)!==0)throw Error(i(331));var K=_n;if(_n|=4,n1(T.current),J0(T,T.current,U,u),_n=K,Oc(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(tt,T)}catch{}return!0}finally{P.p=y,B.T=f,v1(r,a)}}function E1(r,a,u){a=lr(u,a),a=Sm(r.stateNode,a,2),r=so(r,a,2),r!==null&&(Bn(r,2),Hs(r))}function Rn(r,a,u){if(r.tag===3)E1(r,r,u);else for(;a!==null;){if(a.tag===3){E1(a,r,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(mo===null||!mo.has(f))){r=lr(u,r),u=A0(2),f=so(a,u,2),f!==null&&(S0(u,f,a,r),Bn(f,2),Hs(f));break}}a=a.return}}function Wm(r,a,u){var f=r.pingCache;if(f===null){f=r.pingCache=new NC;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(u)||(Fm=!0,y.add(u),r=zC.bind(null,r,a,u),a.then(r,r))}function zC(r,a,u){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Mn===r&&(sn&u)===u&&(Gn===4||Gn===3&&(sn&62914560)===sn&&300>He()-qm?(_n&2)===0&&wu(r,0):jm|=u,vu===sn&&(vu=0)),Hs(r)}function w1(r,a){a===0&&(a=zi()),r=Ja(r,a),r!==null&&(Bn(r,a),Hs(r))}function FC(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),w1(r,u)}function jC(r,a){var u=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),w1(r,u)}function HC(r,a){return kt(r,a)}var Vf=null,bu=null,Xm=!1,Uf=!1,Jm=!1,Cl=0;function Hs(r){r!==bu&&r.next===null&&(bu===null?Vf=bu=r:bu=bu.next=r),Uf=!0,Xm||(Xm=!0,GC())}function Oc(r,a){if(!Jm&&Uf){Jm=!0;do for(var u=!1,f=Vf;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var T=0;else{var U=f.suspendedLanes,K=f.pingedLanes;T=(1<<31-tn(42|r)+1)-1,T&=y&~(U&~K),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(u=!0,S1(f,T))}else T=sn,T=er(f,f===Mn?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(T&3)===0||ti(f,T)||(u=!0,S1(f,T));f=f.next}while(u);Jm=!1}}function qC(){T1()}function T1(){Uf=Xm=!1;var r=0;Cl!==0&&(JC()&&(r=Cl),Cl=0);for(var a=He(),u=null,f=Vf;f!==null;){var y=f.next,T=b1(f,a);T===0?(f.next=null,u===null?Vf=y:u.next=y,y===null&&(bu=u)):(u=f,(r!==0||(T&3)!==0)&&(Uf=!0)),f=y}Oc(r)}function b1(r,a){for(var u=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,T=r.pendingLanes&-62914561;0<T;){var U=31-tn(T),K=1<<U,se=y[U];se===-1?((K&u)===0||(K&f)!==0)&&(y[U]=fr(K,a)):se<=a&&(r.expiredLanes|=K),T&=~K}if(a=Mn,u=sn,u=er(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===a&&(vn===2||vn===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Te(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||ti(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(f!==null&&Te(f),vi(u)){case 2:case 8:u=dt;break;case 32:u=It;break;case 268435456:u=Mt;break;default:u=It}return f=A1.bind(null,r),u=kt(u,f),r.callbackPriority=a,r.callbackNode=u,a}return f!==null&&f!==null&&Te(f),r.callbackPriority=2,r.callbackNode=null,2}function A1(r,a){if(Ni!==0&&Ni!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Lf()&&r.callbackNode!==u)return null;var f=sn;return f=er(r,r===Mn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(a1(r,f,a),b1(r,He()),r.callbackNode!=null&&r.callbackNode===u?A1.bind(null,r):null)}function S1(r,a){if(Lf())return null;a1(r,a,!0)}function GC(){tR(function(){(_n&6)!==0?kt(rt,qC):T1()})}function eg(){return Cl===0&&(Cl=dr()),Cl}function C1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Os(""+r)}function R1(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function ZC(r,a,u,f,y){if(a==="submit"&&u&&u.stateNode===y){var T=C1((y[Ve]||null).action),U=f.submitter;U&&(a=(a=U[Ve]||null)?C1(a.formAction):U.getAttribute("formAction"),a!==null&&(T=a,U=null));var K=new aa("action","action",null,f,y);r.push({event:K,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Cl!==0){var se=U?R1(y,U):new FormData(y);Em(u,{pending:!0,data:se,method:y.method,action:T},null,se)}}else typeof T=="function"&&(K.preventDefault(),se=U?R1(y,U):new FormData(y),Em(u,{pending:!0,data:se,method:y.method,action:T},T,se))},currentTarget:y}]})}}for(var tg=0;tg<ha.length;tg++){var ng=ha[tg],KC=ng.toLowerCase(),QC=ng[0].toUpperCase()+ng.slice(1);Nr(KC,"on"+QC)}Nr(tf,"onAnimationEnd"),Nr(Dr,"onAnimationIteration"),Nr(fl,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Yp,"onTransitionRun"),Nr(iu,"onTransitionStart"),Nr($p,"onTransitionCancel"),Nr(uc,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function x1(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],y=f.event;f=f.listeners;e:{var T=void 0;if(a)for(var U=f.length-1;0<=U;U--){var K=f[U],se=K.instance,ye=K.currentTarget;if(K=K.listener,se!==T&&y.isPropagationStopped())break e;T=K,y.currentTarget=ye;try{T(y)}catch(Re){Sf(Re)}y.currentTarget=null,T=se}else for(U=0;U<f.length;U++){if(K=f[U],se=K.instance,ye=K.currentTarget,K=K.listener,se!==T&&y.isPropagationStopped())break e;T=K,y.currentTarget=ye;try{T(y)}catch(Re){Sf(Re)}y.currentTarget=null,T=se}}}}function qt(r,a){var u=a[Xe];u===void 0&&(u=a[Xe]=new Set);var f=r+"__bubble";u.has(f)||(I1(a,r,2,!1),u.add(f))}function ig(r,a,u){var f=0;a&&(f|=4),I1(u,r,f,a)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function rg(r){if(!r[Bf]){r[Bf]=!0,Lt.forEach(function(u){u!=="selectionchange"&&(YC.has(u)||ig(u,!1,r),ig(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Bf]||(a[Bf]=!0,ig("selectionchange",!1,a))}}function I1(r,a,u,f){switch(J1(a)){case 2:var y=TR;break;case 8:y=bR;break;default:y=vg}u=y.bind(null,a,u,r),y=void 0,!Fi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(a,u,{capture:!0,passive:y}):r.addEventListener(a,u,!0):y!==void 0?r.addEventListener(a,u,{passive:y}):r.addEventListener(a,u,!1)}function sg(r,a,u,f,y){var T=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var U=f.tag;if(U===3||U===4){var K=f.stateNode.containerInfo;if(K===y)break;if(U===4)for(U=f.return;U!==null;){var se=U.tag;if((se===3||se===4)&&U.stateNode.containerInfo===y)return;U=U.return}for(;K!==null;){if(U=pt(K),U===null)return;if(se=U.tag,se===5||se===6||se===26||se===27){f=T=U;continue e}K=K.parentNode}}f=f.return}sr(function(){var ye=T,Re=Oi(u),Me=[];e:{var we=nf.get(r);if(we!==void 0){var be=aa,wt=r;switch(r){case"keypress":if(wn(u)===0)break e;case"keydown":case"keyup":be=qa;break;case"focusin":wt="focus",be=Ba;break;case"focusout":wt="blur",be=Ba;break;case"beforeblur":case"afterblur":be=Ba;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Yl;break;case tf:case Dr:case fl:be=Fa;break;case uc:be=$l;break;case"scroll":case"scrollend":be=Kl;break;case"wheel":be=ua;break;case"copy":case"cut":case"paste":be=Ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Ga;break;case"toggle":case"beforetoggle":be=Xr}var mt=(a&4)!==0,An=!mt&&(r==="scroll"||r==="scrollend"),de=mt?we!==null?we+"Capture":null:we;mt=[];for(var fe=ye,_e;fe!==null;){var Ie=fe;if(_e=Ie.stateNode,Ie=Ie.tag,Ie!==5&&Ie!==26&&Ie!==27||_e===null||de===null||(Ie=rn(fe,de),Ie!=null&&mt.push(Nc(fe,Ie,_e))),An)break;fe=fe.return}0<mt.length&&(we=new be(we,wt,null,u,Re),Me.push({event:we,listeners:mt}))}}if((a&7)===0){e:{if(we=r==="mouseover"||r==="pointerover",be=r==="mouseout"||r==="pointerout",we&&u!==Ir&&(wt=u.relatedTarget||u.fromElement)&&(pt(wt)||wt[Ke]))break e;if((be||we)&&(we=Re.window===Re?Re:(we=Re.ownerDocument)?we.defaultView||we.parentWindow:window,be?(wt=u.relatedTarget||u.toElement,be=ye,wt=wt?pt(wt):null,wt!==null&&(An=l(wt),mt=wt.tag,wt!==An||mt!==5&&mt!==27&&mt!==6)&&(wt=null)):(be=null,wt=ye),be!==wt)){if(mt=bi,Ie="onMouseLeave",de="onMouseEnter",fe="mouse",(r==="pointerout"||r==="pointerover")&&(mt=Ga,Ie="onPointerLeave",de="onPointerEnter",fe="pointer"),An=be==null?we:Ft(be),_e=wt==null?we:Ft(wt),we=new mt(Ie,fe+"leave",be,u,Re),we.target=An,we.relatedTarget=_e,Ie=null,pt(Re)===ye&&(mt=new mt(de,fe+"enter",wt,u,Re),mt.target=_e,mt.relatedTarget=An,Ie=mt),An=Ie,be&&wt)t:{for(mt=be,de=wt,fe=0,_e=mt;_e;_e=Au(_e))fe++;for(_e=0,Ie=de;Ie;Ie=Au(Ie))_e++;for(;0<fe-_e;)mt=Au(mt),fe--;for(;0<_e-fe;)de=Au(de),_e--;for(;fe--;){if(mt===de||de!==null&&mt===de.alternate)break t;mt=Au(mt),de=Au(de)}mt=null}else mt=null;be!==null&&k1(Me,we,be,mt,!1),wt!==null&&An!==null&&k1(Me,An,wt,mt,!0)}}e:{if(we=ye?Ft(ye):window,be=we.nodeName&&we.nodeName.toLowerCase(),be==="select"||be==="input"&&we.type==="file")var Je=Ka;else if(In(we))if(sc)Je=Qp;else{Je=Kp;var zt=oc}else be=we.nodeName,!be||be.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ye&&sa(ye.elementType)&&(Je=Ka):Je=Es;if(Je&&(Je=Je(r,ye))){vs(Me,Je,u,Re);break e}zt&&zt(r,we,ye),r==="focusout"&&ye&&we.type==="number"&&ye.memoizedProps.value!=null&&Rr(we,"number",we.value)}switch(zt=ye?Ft(ye):window,r){case"focusin":(In(zt)||zt.contentEditable==="true")&&(Or=zt,$a=ye,ca=null);break;case"focusout":ca=$a=Or=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Jh(Me,u,Re);break;case"selectionchange":if(eu)break;case"keydown":case"keyup":Jh(Me,u,Re)}var at;if(qi)e:{switch(r){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Qt?Se(r,u)&&(gt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(gt="onCompositionStart");gt&&(O&&u.locale!=="ko"&&(Qt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Qt&&(at=ps()):(gr=Re,ji="value"in gr?gr.value:gr.textContent,Qt=!0)),zt=zf(ye,gt),0<zt.length&&(gt=new Hi(gt,r,null,u,Re),Me.push({event:gt,listeners:zt}),at?gt.data=at:(at=Be(u),at!==null&&(gt.data=at)))),(at=R?qn(r,u):Yt(r,u))&&(gt=zf(ye,"onBeforeInput"),0<gt.length&&(zt=new Hi("onBeforeInput","beforeinput",null,u,Re),Me.push({event:zt,listeners:gt}),zt.data=at)),ZC(Me,r,ye,u,Re)}x1(Me,a)})}function Nc(r,a,u){return{instance:r,listener:a,currentTarget:u}}function zf(r,a){for(var u=a+"Capture",f=[];r!==null;){var y=r,T=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||T===null||(y=rn(r,u),y!=null&&f.unshift(Nc(r,y,T)),y=rn(r,a),y!=null&&f.push(Nc(r,y,T))),r.tag===3)return f;r=r.return}return[]}function Au(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function k1(r,a,u,f,y){for(var T=a._reactName,U=[];u!==null&&u!==f;){var K=u,se=K.alternate,ye=K.stateNode;if(K=K.tag,se!==null&&se===f)break;K!==5&&K!==26&&K!==27||ye===null||(se=ye,y?(ye=rn(u,T),ye!=null&&U.unshift(Nc(u,ye,se))):y||(ye=rn(u,T),ye!=null&&U.push(Nc(u,ye,se)))),u=u.return}U.length!==0&&r.push({event:a,listeners:U})}var $C=/\r\n?/g,WC=/\u0000|\uFFFD/g;function M1(r){return(typeof r=="string"?r:""+r).replace($C,`
`).replace(WC,"")}function P1(r,a){return a=M1(a),M1(r)===a}function Ff(){}function bn(r,a,u,f,y,T){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||wi(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&wi(r,""+f);break;case"className":ki(r,"class",f);break;case"tabIndex":ki(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(r,u,f);break;case"style":fs(r,f,T);break;case"data":if(a!=="object"){ki(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Os(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(u==="formAction"?(a!=="input"&&bn(r,a,"name",y.name,y,null),bn(r,a,"formEncType",y.formEncType,y,null),bn(r,a,"formMethod",y.formMethod,y,null),bn(r,a,"formTarget",y.formTarget,y,null)):(bn(r,a,"encType",y.encType,y,null),bn(r,a,"method",y.method,y,null),bn(r,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Os(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Ff);break;case"onScroll":f!=null&&qt("scroll",r);break;case"onScrollEnd":f!=null&&qt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=Os(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":qt("beforetoggle",r),qt("toggle",r),Ei(r,"popover",f);break;case"xlinkActuate":Et(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Et(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Et(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Et(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Et(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Et(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Et(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Et(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Et(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ei(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=nl.get(u)||u,Ei(r,u,f))}}function ag(r,a,u,f,y,T){switch(u){case"style":fs(r,f,T);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?wi(r,f):(typeof f=="number"||typeof f=="bigint")&&wi(r,""+f);break;case"onScroll":f!=null&&qt("scroll",r);break;case"onScrollEnd":f!=null&&qt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ff);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),T=r[Ve]||null,T=T!=null?T[u]:null,typeof T=="function"&&r.removeEventListener(a,T,y),typeof f=="function")){typeof T!="function"&&T!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,f,y);break e}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Ei(r,u,f)}}}function Li(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",r),qt("load",r);var f=!1,y=!1,T;for(T in u)if(u.hasOwnProperty(T)){var U=u[T];if(U!=null)switch(T){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:bn(r,a,T,U,u,null)}}y&&bn(r,a,"srcSet",u.srcSet,u,null),f&&bn(r,a,"src",u.src,u,null);return;case"input":qt("invalid",r);var K=T=U=y=null,se=null,ye=null;for(f in u)if(u.hasOwnProperty(f)){var Re=u[f];if(Re!=null)switch(f){case"name":y=Re;break;case"type":U=Re;break;case"checked":se=Re;break;case"defaultChecked":ye=Re;break;case"value":T=Re;break;case"defaultValue":K=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,a));break;default:bn(r,a,f,Re,u,null)}}ra(r,T,K,se,ye,U,y,!1),Ps(r);return;case"select":qt("invalid",r),f=U=T=null;for(y in u)if(u.hasOwnProperty(y)&&(K=u[y],K!=null))switch(y){case"value":T=K;break;case"defaultValue":U=K;break;case"multiple":f=K;default:bn(r,a,y,K,u,null)}a=T,u=U,r.multiple=!!f,a!=null?Pi(r,!!f,a,!1):u!=null&&Pi(r,!!f,u,!0);return;case"textarea":qt("invalid",r),T=y=f=null;for(U in u)if(u.hasOwnProperty(U)&&(K=u[U],K!=null))switch(U){case"value":f=K;break;case"defaultValue":y=K;break;case"children":T=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:bn(r,a,U,K,u,null)}rr(r,f,y,T),Ps(r);return;case"option":for(se in u)if(u.hasOwnProperty(se)&&(f=u[se],f!=null))switch(se){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:bn(r,a,se,f,u,null)}return;case"dialog":qt("beforetoggle",r),qt("toggle",r),qt("cancel",r),qt("close",r);break;case"iframe":case"object":qt("load",r);break;case"video":case"audio":for(f=0;f<Dc.length;f++)qt(Dc[f],r);break;case"image":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"embed":case"source":case"link":qt("error",r),qt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in u)if(u.hasOwnProperty(ye)&&(f=u[ye],f!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:bn(r,a,ye,f,u,null)}return;default:if(sa(a)){for(Re in u)u.hasOwnProperty(Re)&&(f=u[Re],f!==void 0&&ag(r,a,Re,f,u,void 0));return}}for(K in u)u.hasOwnProperty(K)&&(f=u[K],f!=null&&bn(r,a,K,f,u,null))}function XC(r,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,T=null,U=null,K=null,se=null,ye=null,Re=null;for(be in u){var Me=u[be];if(u.hasOwnProperty(be)&&Me!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":se=Me;default:f.hasOwnProperty(be)||bn(r,a,be,null,f,Me)}}for(var we in f){var be=f[we];if(Me=u[we],f.hasOwnProperty(we)&&(be!=null||Me!=null))switch(we){case"type":T=be;break;case"name":y=be;break;case"checked":ye=be;break;case"defaultChecked":Re=be;break;case"value":U=be;break;case"defaultValue":K=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,a));break;default:be!==Me&&bn(r,a,we,be,f,Me)}}xn(r,U,K,se,ye,Re,T,y);return;case"select":be=U=K=we=null;for(T in u)if(se=u[T],u.hasOwnProperty(T)&&se!=null)switch(T){case"value":break;case"multiple":be=se;default:f.hasOwnProperty(T)||bn(r,a,T,null,f,se)}for(y in f)if(T=f[y],se=u[y],f.hasOwnProperty(y)&&(T!=null||se!=null))switch(y){case"value":we=T;break;case"defaultValue":K=T;break;case"multiple":U=T;default:T!==se&&bn(r,a,y,T,f,se)}a=K,u=U,f=be,we!=null?Pi(r,!!u,we,!1):!!f!=!!u&&(a!=null?Pi(r,!!u,a,!0):Pi(r,!!u,u?[]:"",!1));return;case"textarea":be=we=null;for(K in u)if(y=u[K],u.hasOwnProperty(K)&&y!=null&&!f.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:bn(r,a,K,null,f,y)}for(U in f)if(y=f[U],T=u[U],f.hasOwnProperty(U)&&(y!=null||T!=null))switch(U){case"value":we=y;break;case"defaultValue":be=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==T&&bn(r,a,U,y,f,T)}_t(r,we,be);return;case"option":for(var wt in u)if(we=u[wt],u.hasOwnProperty(wt)&&we!=null&&!f.hasOwnProperty(wt))switch(wt){case"selected":r.selected=!1;break;default:bn(r,a,wt,null,f,we)}for(se in f)if(we=f[se],be=u[se],f.hasOwnProperty(se)&&we!==be&&(we!=null||be!=null))switch(se){case"selected":r.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:bn(r,a,se,we,f,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in u)we=u[mt],u.hasOwnProperty(mt)&&we!=null&&!f.hasOwnProperty(mt)&&bn(r,a,mt,null,f,we);for(ye in f)if(we=f[ye],be=u[ye],f.hasOwnProperty(ye)&&we!==be&&(we!=null||be!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,a));break;default:bn(r,a,ye,we,f,be)}return;default:if(sa(a)){for(var An in u)we=u[An],u.hasOwnProperty(An)&&we!==void 0&&!f.hasOwnProperty(An)&&ag(r,a,An,void 0,f,we);for(Re in f)we=f[Re],be=u[Re],!f.hasOwnProperty(Re)||we===be||we===void 0&&be===void 0||ag(r,a,Re,we,f,be);return}}for(var de in u)we=u[de],u.hasOwnProperty(de)&&we!=null&&!f.hasOwnProperty(de)&&bn(r,a,de,null,f,we);for(Me in f)we=f[Me],be=u[Me],!f.hasOwnProperty(Me)||we===be||we==null&&be==null||bn(r,a,Me,we,f,be)}var og=null,lg=null;function jf(r){return r.nodeType===9?r:r.ownerDocument}function O1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ug(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cg=null;function JC(){var r=window.event;return r&&r.type==="popstate"?r===cg?!1:(cg=r,!0):(cg=null,!1)}var N1=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(r){return L1.resolve(null).then(r).catch(nR)}:N1;function nR(r){setTimeout(function(){throw r})}function vo(r){return r==="head"}function V1(r,a){var u=a,f=0,y=0;do{var T=u.nextSibling;if(r.removeChild(u),T&&T.nodeType===8)if(u=T.data,u==="/$"){if(0<f&&8>f){u=f;var U=r.ownerDocument;if(u&1&&Lc(U.documentElement),u&2&&Lc(U.body),u&4)for(u=U.head,Lc(u),U=u.firstChild;U;){var K=U.nextSibling,se=U.nodeName;U[ht]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&U.rel.toLowerCase()==="stylesheet"||u.removeChild(U),U=K}}if(y===0){r.removeChild(T),qc(a);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:f=u.charCodeAt(0)-48;else f=0;u=T}while(u);qc(a)}function hg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":hg(u),ot(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function iR(r,a,u,f){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[ht])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(T=r.getAttribute("rel"),T==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(T!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(T=r.getAttribute("src"),(T!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&T&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var T=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===T)return r}else return r;if(r=As(r.nextSibling),r===null)break}return null}function rR(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=As(r.nextSibling),r===null))return null;return r}function fg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function sR(r,a){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function As(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var dg=null;function U1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function B1(r,a,u){switch(a=jf(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Lc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ot(r)}var as=new Map,z1=new Set;function Hf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ba=P.d;P.d={f:aR,r:oR,D:lR,C:uR,L:cR,m:hR,X:dR,S:fR,M:pR};function aR(){var r=ba.f(),a=Df();return r||a}function oR(r){var a=Nt(r);a!==null&&a.tag===5&&a.type==="form"?a0(a):ba.r(r)}var Su=typeof document>"u"?null:document;function F1(r,a,u){var f=Su;if(f&&typeof a=="string"&&a){var y=On(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),z1.has(y)||(z1.add(y),r={rel:r,crossOrigin:u,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),Li(a,"link",r),jt(a),f.head.appendChild(a)))}}function lR(r){ba.D(r),F1("dns-prefetch",r,null)}function uR(r,a){ba.C(r,a),F1("preconnect",r,a)}function cR(r,a,u){ba.L(r,a,u);var f=Su;if(f&&r&&a){var y='link[rel="preload"][as="'+On(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+On(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+On(u.imageSizes)+'"]')):y+='[href="'+On(r)+'"]';var T=y;switch(a){case"style":T=Cu(r);break;case"script":T=Ru(r)}as.has(T)||(r=_({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),as.set(T,r),f.querySelector(y)!==null||a==="style"&&f.querySelector(Vc(T))||a==="script"&&f.querySelector(Uc(T))||(a=f.createElement("link"),Li(a,"link",r),jt(a),f.head.appendChild(a)))}}function hR(r,a){ba.m(r,a);var u=Su;if(u&&r){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+On(f)+'"][href="'+On(r)+'"]',T=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Ru(r)}if(!as.has(T)&&(r=_({rel:"modulepreload",href:r},a),as.set(T,r),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uc(T)))return}f=u.createElement("link"),Li(f,"link",r),jt(f),u.head.appendChild(f)}}}function fR(r,a,u){ba.S(r,a,u);var f=Su;if(f&&r){var y=Jt(f).hoistableStyles,T=Cu(r);a=a||"default";var U=y.get(T);if(!U){var K={loading:0,preload:null};if(U=f.querySelector(Vc(T)))K.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},u),(u=as.get(T))&&pg(r,u);var se=U=f.createElement("link");jt(se),Li(se,"link",r),se._p=new Promise(function(ye,Re){se.onload=ye,se.onerror=Re}),se.addEventListener("load",function(){K.loading|=1}),se.addEventListener("error",function(){K.loading|=2}),K.loading|=4,qf(U,a,f)}U={type:"stylesheet",instance:U,count:1,state:K},y.set(T,U)}}}function dR(r,a){ba.X(r,a);var u=Su;if(u&&r){var f=Jt(u).hoistableScripts,y=Ru(r),T=f.get(y);T||(T=u.querySelector(Uc(y)),T||(r=_({src:r,async:!0},a),(a=as.get(y))&&mg(r,a),T=u.createElement("script"),jt(T),Li(T,"link",r),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(y,T))}}function pR(r,a){ba.M(r,a);var u=Su;if(u&&r){var f=Jt(u).hoistableScripts,y=Ru(r),T=f.get(y);T||(T=u.querySelector(Uc(y)),T||(r=_({src:r,async:!0,type:"module"},a),(a=as.get(y))&&mg(r,a),T=u.createElement("script"),jt(T),Li(T,"link",r),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(y,T))}}function j1(r,a,u,f){var y=(y=Ee.current)?Hf(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Cu(u.href),u=Jt(y).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Cu(u.href);var T=Jt(y).hoistableStyles,U=T.get(r);if(U||(y=y.ownerDocument||y,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(r,U),(T=y.querySelector(Vc(r)))&&!T._p&&(U.instance=T,U.state.loading=5),as.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},as.set(r,u),T||mR(y,r,u,U.state))),a&&f===null)throw Error(i(528,""));return U}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ru(u),u=Jt(y).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Cu(r){return'href="'+On(r)+'"'}function Vc(r){return'link[rel="stylesheet"]['+r+"]"}function H1(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function mR(r,a,u,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Li(a,"link",u),jt(a),r.head.appendChild(a))}function Ru(r){return'[src="'+On(r)+'"]'}function Uc(r){return"script[async]"+r}function q1(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+On(u.href)+'"]');if(f)return a.instance=f,jt(f),f;var y=_({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),jt(f),Li(f,"style",y),qf(f,u.precedence,r),a.instance=f;case"stylesheet":y=Cu(u.href);var T=r.querySelector(Vc(y));if(T)return a.state.loading|=4,a.instance=T,jt(T),T;f=H1(u),(y=as.get(y))&&pg(f,y),T=(r.ownerDocument||r).createElement("link"),jt(T);var U=T;return U._p=new Promise(function(K,se){U.onload=K,U.onerror=se}),Li(T,"link",f),a.state.loading|=4,qf(T,u.precedence,r),a.instance=T;case"script":return T=Ru(u.src),(y=r.querySelector(Uc(T)))?(a.instance=y,jt(y),y):(f=u,(y=as.get(T))&&(f=_({},u),mg(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),jt(y),Li(y,"link",f),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,qf(f,u.precedence,r));return a.instance}function qf(r,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,T=y,U=0;U<f.length;U++){var K=f[U];if(K.dataset.precedence===a)T=K;else if(T!==y)break}T?T.parentNode.insertBefore(r,T.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function pg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function mg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Gf=null;function G1(r,a,u){if(Gf===null){var f=new Map,y=Gf=new Map;y.set(u,f)}else y=Gf,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var T=u[y];if(!(T[ht]||T[ke]||r==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var U=T.getAttribute(a)||"";U=r+U;var K=f.get(U);K?K.push(T):f.set(U,[T])}}return f}function Z1(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function gR(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function K1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Bc=null;function _R(){}function vR(r,a,u){if(Bc===null)throw Error(i(475));var f=Bc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Cu(u.href),T=r.querySelector(Vc(y));if(T){r=T._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=Zf.bind(f),r.then(f,f)),a.state.loading|=4,a.instance=T,jt(T);return}T=r.ownerDocument||r,u=H1(u),(y=as.get(y))&&pg(u,y),T=T.createElement("link"),jt(T);var U=T;U._p=new Promise(function(K,se){U.onload=K,U.onerror=se}),Li(T,"link",u),a.instance=T}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Zf.bind(f),r.addEventListener("load",a),r.addEventListener("error",a))}}function yR(){if(Bc===null)throw Error(i(475));var r=Bc;return r.stylesheets&&r.count===0&&gg(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&gg(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Zf(){if(this.count--,this.count===0){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Kf=null;function gg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Kf=new Map,a.forEach(ER,r),Kf=null,Zf.call(r))}function ER(r,a){if(!(a.state.loading&4)){var u=Kf.get(r);if(u)var f=u.get(null);else{u=new Map,Kf.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<y.length;T++){var U=y[T];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(u.set(U.dataset.precedence,U),f=U)}f&&u.set(null,f)}y=a.instance,U=y.getAttribute("data-precedence"),T=u.get(U)||f,T===f&&u.set(null,y),u.set(U,y),this.count++,f=Zf.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),T?T.parentNode.insertBefore(y,T.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var zc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function wR(r,a,u,f,y,T,U,K){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=T,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function Q1(r,a,u,f,y,T,U,K,se,ye,Re,Me){return r=new wR(r,a,u,U,K,se,ye,Me),a=1,T===!0&&(a|=24),T=cr(3,null,null,a),r.current=T,T.stateNode=r,a=Wp(),a.refCount++,r.pooledCache=a,a.refCount++,T.memoizedState={element:f,isDehydrated:u,cache:a},tm(T),r}function Y1(r){return r?(r=pa,r):pa}function $1(r,a,u,f,y,T){y=Y1(y),f.context===null?f.context=y:f.pendingContext=y,f=ro(a),f.payload={element:u},T=T===void 0?null:T,T!==null&&(f.callback=T),u=so(r,f,a),u!==null&&(Fr(u,r,a),gc(u,r,a))}function W1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function _g(r,a){W1(r,a),(r=r.alternate)&&W1(r,a)}function X1(r){if(r.tag===13){var a=Ja(r,67108864);a!==null&&Fr(a,r,67108864),_g(r,67108864)}}var Qf=!0;function TR(r,a,u,f){var y=B.T;B.T=null;var T=P.p;try{P.p=2,vg(r,a,u,f)}finally{P.p=T,B.T=y}}function bR(r,a,u,f){var y=B.T;B.T=null;var T=P.p;try{P.p=8,vg(r,a,u,f)}finally{P.p=T,B.T=y}}function vg(r,a,u,f){if(Qf){var y=yg(f);if(y===null)sg(r,a,f,Yf,u),eE(r,f);else if(SR(y,r,a,u,f))f.stopPropagation();else if(eE(r,f),a&4&&-1<AR.indexOf(r)){for(;y!==null;){var T=Nt(y);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var U=Dn(T.pendingLanes);if(U!==0){var K=T;for(K.pendingLanes|=2,K.entangledLanes|=2;U;){var se=1<<31-tn(U);K.entanglements[1]|=se,U&=~se}Hs(T),(_n&6)===0&&(Pf=He()+500,Oc(0))}}break;case 13:K=Ja(T,2),K!==null&&Fr(K,T,2),Df(),_g(T,2)}if(T=yg(f),T===null&&sg(r,a,f,Yf,u),T===y)break;y=T}y!==null&&f.stopPropagation()}else sg(r,a,f,null,u)}}function yg(r){return r=Oi(r),Eg(r)}var Yf=null;function Eg(r){if(Yf=null,r=pt(r),r!==null){var a=l(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=c(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Yf=r,null}function J1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case rt:return 2;case dt:return 8;case It:case Pt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var wg=!1,yo=null,Eo=null,wo=null,Fc=new Map,jc=new Map,To=[],AR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(r,a){switch(r){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":Fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(a.pointerId)}}function Hc(r,a,u,f,y,T){return r===null||r.nativeEvent!==T?(r={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:T,targetContainers:[y]},a!==null&&(a=Nt(a),a!==null&&X1(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function SR(r,a,u,f,y){switch(a){case"focusin":return yo=Hc(yo,r,a,u,f,y),!0;case"dragenter":return Eo=Hc(Eo,r,a,u,f,y),!0;case"mouseover":return wo=Hc(wo,r,a,u,f,y),!0;case"pointerover":var T=y.pointerId;return Fc.set(T,Hc(Fc.get(T)||null,r,a,u,f,y)),!0;case"gotpointercapture":return T=y.pointerId,jc.set(T,Hc(jc.get(T)||null,r,a,u,f,y)),!0}return!1}function tE(r){var a=pt(r.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){r.blockedOn=a,pe(r.priority,function(){if(u.tag===13){var f=zr();f=tr(f);var y=Ja(u,f);y!==null&&Fr(y,u,f),_g(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $f(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=yg(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Ir=f,u.target.dispatchEvent(f),Ir=null}else return a=Nt(u),a!==null&&X1(a),r.blockedOn=u,!1;a.shift()}return!0}function nE(r,a,u){$f(r)&&u.delete(a)}function CR(){wg=!1,yo!==null&&$f(yo)&&(yo=null),Eo!==null&&$f(Eo)&&(Eo=null),wo!==null&&$f(wo)&&(wo=null),Fc.forEach(nE),jc.forEach(nE)}function Wf(r,a){r.blockedOn===a&&(r.blockedOn=null,wg||(wg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CR)))}var Xf=null;function iE(r){Xf!==r&&(Xf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xf===r&&(Xf=null);for(var a=0;a<r.length;a+=3){var u=r[a],f=r[a+1],y=r[a+2];if(typeof f!="function"){if(Eg(f||u)===null)continue;break}var T=Nt(u);T!==null&&(r.splice(a,3),a-=3,Em(T,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function qc(r){function a(se){return Wf(se,r)}yo!==null&&Wf(yo,r),Eo!==null&&Wf(Eo,r),wo!==null&&Wf(wo,r),Fc.forEach(a),jc.forEach(a);for(var u=0;u<To.length;u++){var f=To[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<To.length&&(u=To[0],u.blockedOn===null);)tE(u),u.blockedOn===null&&To.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],T=u[f+1],U=y[Ve]||null;if(typeof T=="function")U||iE(u);else if(U){var K=null;if(T&&T.hasAttribute("formAction")){if(y=T,U=T[Ve]||null)K=U.formAction;else if(Eg(y)!==null)continue}else K=U.action;typeof K=="function"?u[f+1]=K:(u.splice(f,3),f-=3),iE(u)}}}function Tg(r){this._internalRoot=r}Jf.prototype.render=Tg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=zr();$1(u,f,r,a,null,null)},Jf.prototype.unmount=Tg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;$1(r.current,2,null,r,null,null),Df(),a[Ke]=null}};function Jf(r){this._internalRoot=r}Jf.prototype.unstable_scheduleHydration=function(r){if(r){var a=oe();r={blockedOn:null,target:r,priority:a};for(var u=0;u<To.length&&a!==0&&a<To[u].priority;u++);To.splice(u,0,r),u===0&&tE(r)}};var rE=e.version;if(rE!=="19.1.0")throw Error(i(527,rE,"19.1.0"));P.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var RR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{tt=ed.inject(RR),nt=ed}catch{}}return Zc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,f="",y=E0,T=w0,U=T0,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(U=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(K=a.unstable_transitionCallbacks)),a=Q1(r,1,!1,null,null,u,f,y,T,U,K,null),r[Ke]=a.current,rg(r),new Tg(a)},Zc.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var f=!1,y="",T=E0,U=w0,K=T0,se=null,ye=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(U=u.onCaughtError),u.onRecoverableError!==void 0&&(K=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(se=u.unstable_transitionCallbacks),u.formState!==void 0&&(ye=u.formState)),a=Q1(r,1,!0,a,u??null,f,y,T,U,K,se,ye),a.context=Y1(null),u=a.current,f=zr(),f=tr(f),y=ro(f),y.callback=null,so(u,y,f),u=f,a.current.lanes=u,Bn(a,u),Hs(a),r[Ke]=a.current,rg(r),new Jf(a)},Zc.version="19.1.0",Zc}var pE;function LR(){if(pE)return Sg.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sg.exports=NR(),Sg.exports}var VR=LR();const UR=Ph(VR);var Kc={},mE;function BR(){if(mE)return Kc;mE=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.parse=c,Kc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,C){const x=new l,N=w.length;if(N<2)return x;const q=C?.decode||_;let H=0;do{const J=w.indexOf("=",H);if(J===-1)break;const Q=w.indexOf(";",H),$=Q===-1?N:Q;if(J>$){H=w.lastIndexOf(";",J-1)+1;continue}const te=d(w,H,J),F=p(w,J,te),G=w.slice(te,F);if(x[G]===void 0){let A=d(w,J+1,$),S=p(w,$,A);const M=q(w.slice(A,S));x[G]=M}H=$+1}while(H<N);return x}function d(w,C,x){do{const N=w.charCodeAt(C);if(N!==32&&N!==9)return C}while(++C<x);return x}function p(w,C,x){for(;C>x;){const N=w.charCodeAt(--C);if(N!==32&&N!==9)return C+1}return x}function m(w,C,x){const N=x?.encode||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const q=N(C);if(!e.test(q))throw new TypeError(`argument val is invalid: ${C}`);let H=w+"="+q;if(!x)return H;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);H+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);H+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);H+="; Path="+x.path}if(x.expires){if(!E(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);H+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(H+="; HttpOnly"),x.secure&&(H+="; Secure"),x.partitioned&&(H+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return H}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function E(w){return s.call(w)==="[object Date]"}return Kc}BR();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nb=n=>{throw TypeError(n)},zR=(n,e,t)=>e.has(n)||nb("Cannot "+t),Ig=(n,e,t)=>(zR(n,e,"read from private field"),t?t.call(n):e.get(n)),FR=(n,e,t)=>e.has(n)?nb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),gE="popstate";function jR(n={}){function e(i,s){let{pathname:l,search:c,hash:d}=i.location;return gh("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Bo(s)}return qR(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ui(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HR(){return Math.random().toString(36).substring(2,10)}function _E(n,e){return{usr:n.state,key:n.key,idx:e}}function gh(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:t,key:e&&e.key||i||HR()}}function Bo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Yo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function qR(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",p=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let q=_(),H=q==null?null:q-m;m=q,p&&p({action:d,location:N.location,delta:H})}function w(q,H){d="PUSH";let J=gh(N.location,q,H);m=_()+1;let Q=_E(J,m),$=N.createHref(J);try{c.pushState(Q,"",$)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign($)}l&&p&&p({action:d,location:N.location,delta:1})}function C(q,H){d="REPLACE";let J=gh(N.location,q,H);m=_();let Q=_E(J,m),$=N.createHref(J);c.replaceState(Q,"",$),l&&p&&p({action:d,location:N.location,delta:0})}function x(q){return ib(q)}let N={get action(){return d},get location(){return n(s,c)},listen(q){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(gE,E),p=q,()=>{s.removeEventListener(gE,E),p=null}},createHref(q){return e(s,q)},createURL:x,encodeLocation(q){let H=x(q);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:C,go(q){return c.go(q)}};return N}function ib(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Bo(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Xc,vE=class{constructor(n){if(FR(this,Xc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Ig(this,Xc).has(n))return Ig(this,Xc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Ig(this,Xc).set(n,e)}};Xc=new WeakMap;var GR=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZR(n){return GR.has(n)}var KR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function QR(n){return KR.has(n)}function YR(n){return n.index===!0}function xd(n,e,t=[],i={}){return n.map((s,l)=>{let c=[...t,String(l)],d=typeof s.id=="string"?s.id:c.join("-");if(Zt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Zt(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),YR(s)){let p={...s,...e(s),id:d};return i[d]=p,p}else{let p={...s,...e(s),id:d,children:void 0};return i[d]=p,s.children&&(p.children=xd(s.children,e,c,i)),p}})}function Co(n,e,t="/"){return fd(n,e,t,!1)}function fd(n,e,t,i){let s=typeof e=="string"?Yo(e):e,l=hs(s.pathname||"/",t);if(l==null)return null;let c=rb(n);WR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=lx(l);d=ax(c[p],m,i)}return d}function $R(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function rb(n,e=[],t=[],i=""){let s=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Zt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Qs([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),rb(l.children,e,_,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:rx(m,l.index),routesMeta:_})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let d of sb(l.path))s(l,c,d)}),e}function sb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=sb(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function WR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var XR=/^:[\w-]+$/,JR=3,ex=2,tx=1,nx=10,ix=-2,yE=n=>n==="*";function rx(n,e){let t=n.split("/"),i=t.length;return t.some(yE)&&(i+=ix),e&&(i+=ex),t.filter(s=>!yE(s)).reduce((s,l)=>s+(XR.test(l)?JR:l===""?tx:nx),i)}function sx(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function ax(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Id({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),w=p.route;if(!E&&m&&t&&!i[i.length-1].route.index&&(E=Id({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Qs([l,E.pathname]),pathnameBase:hx(Qs([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=Qs([l,E.pathnameBase]))}return c}function Id(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=ox(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,{paramName:_,isOptional:E},w)=>{if(_==="*"){let x=d[w]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const C=d[w];return E&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function ox(n,e=!1,t=!0){ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function lx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function hs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function ux(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Yo(n):n;return{pathname:t?t.startsWith("/")?t:cx(t,e):e,search:fx(i),hash:dx(s)}}function cx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function kg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ab(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function K_(n){let e=ab(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Q_(n,e,t,i=!1){let s;typeof n=="string"?s=Yo(n):(s={...n},Zt(!s.pathname||!s.pathname.includes("?"),kg("?","pathname","search",s)),Zt(!s.pathname||!s.pathname.includes("#"),kg("#","pathname","hash",s)),Zt(!s.search||!s.search.includes("#"),kg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;s.pathname=w.join("/")}d=E>=0?e[E]:"/"}let p=ux(s,d),m=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Qs=n=>n.join("/").replace(/\/\/+/g,"/"),hx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,kd=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function _h(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ob=["POST","PUT","PATCH","DELETE"],px=new Set(ob),mx=["GET",...ob],gx=new Set(mx),_x=new Set([301,302,303,307,308]),vx=new Set([307,308]),Mg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Y_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ex=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),lb="remix-router-transitions",ub=Symbol("ResetLoaderData");function wx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Zt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||Ex,l={},c=xd(n.routes,s,void 0,l),d,p=n.basename||"/",m=n.dataStrategy||Cx,_={unstable_middleware:!1,...n.future},E=null,w=new Set,C=null,x=null,N=null,q=n.hydrationData!=null,H=Co(c,n.history.location,p),J=!1,Q=null,$;if(H==null&&!n.patchRoutesOnNavigation){let oe=os(404,{pathname:n.history.location.pathname}),{matches:pe,route:ve}=ME(c);$=!0,H=pe,Q={[ve.id]:oe}}else if(H&&!n.hydrationData&&Nn(H,c,n.history.location.pathname).active&&(H=null),H)if(H.some(oe=>oe.route.lazy))$=!1;else if(!H.some(oe=>oe.route.loader))$=!0;else{let oe=n.hydrationData?n.hydrationData.loaderData:null,pe=n.hydrationData?n.hydrationData.errors:null;if(pe){let ve=H.findIndex(ke=>pe[ke.route.id]!==void 0);$=H.slice(0,ve+1).every(ke=>!f_(ke.route,oe,pe))}else $=H.every(ve=>!f_(ve.route,oe,pe))}else{$=!1,H=[];let oe=Nn(null,c,n.history.location.pathname);oe.active&&oe.matches&&(J=!0,H=oe.matches)}let te,F={historyAction:n.history.action,location:n.history.location,matches:H,initialized:$,navigation:Mg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},G="POP",A=!1,S,M=!1,D=new Map,z=null,V=!1,X=!1,ue=new Set,B=new Map,P=0,W=-1,ee=new Map,j=new Set,ne=new Map,ae=new Map,ie=new Set,he=new Map,le,Ee=null;function Ze(){if(E=n.history.listen(({action:oe,location:pe,delta:ve})=>{if(le){le(),le=void 0;return}ui(he.size===0||ve!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ke=fr({currentLocation:F.location,nextLocation:pe,historyAction:oe});if(ke&&ve!=null){let Ve=new Promise(Ke=>{le=Ke});n.history.go(ve*-1),ti(ke,{state:"blocked",location:pe,proceed(){ti(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Ve.then(()=>n.history.go(ve))},reset(){let Ke=new Map(F.blockers);Ke.set(ke,Qc),je({blockers:Ke})}});return}return Te(oe,pe)}),t){Vx(e,D);let oe=()=>Ux(e,D);e.addEventListener("pagehide",oe),z=()=>e.removeEventListener("pagehide",oe)}return F.initialized||Te("POP",F.location,{initialHydration:!0}),te}function De(){E&&E(),z&&z(),w.clear(),S&&S.abort(),F.fetchers.forEach((oe,pe)=>tn(pe)),F.blockers.forEach((oe,pe)=>er(pe))}function Fe(oe){return w.add(oe),()=>w.delete(oe)}function je(oe,pe={}){F={...F,...oe};let ve=[],ke=[];F.fetchers.forEach((Ve,Ke)=>{Ve.state==="idle"&&(ie.has(Ke)?ve.push(Ke):ke.push(Ke))}),ie.forEach(Ve=>{!F.fetchers.has(Ve)&&!B.has(Ve)&&ve.push(Ve)}),[...w].forEach(Ve=>Ve(F,{deletedFetchers:ve,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),ve.forEach(Ve=>tn(Ve)),ke.forEach(Ve=>F.fetchers.delete(Ve))}function ze(oe,pe,{flushSync:ve}={}){let ke=F.actionData!=null&&F.navigation.formMethod!=null&&Hr(F.navigation.formMethod)&&F.navigation.state==="loading"&&oe.state?._isRedirect!==!0,Ve;pe.actionData?Object.keys(pe.actionData).length>0?Ve=pe.actionData:Ve=null:ke?Ve=F.actionData:Ve=null;let Ke=pe.loaderData?IE(F.loaderData,pe.loaderData,pe.matches||[],pe.errors):F.loaderData,Xe=F.blockers;Xe.size>0&&(Xe=new Map(Xe),Xe.forEach((Ye,ht)=>Xe.set(ht,Qc)));let Ce=A===!0||F.navigation.formMethod!=null&&Hr(F.navigation.formMethod)&&oe.state?._isRedirect!==!0;d&&(c=d,d=void 0),V||G==="POP"||(G==="PUSH"?n.history.push(oe,oe.state):G==="REPLACE"&&n.history.replace(oe,oe.state));let $e;if(G==="POP"){let Ye=D.get(F.location.pathname);Ye&&Ye.has(oe.pathname)?$e={currentLocation:F.location,nextLocation:oe}:D.has(oe.pathname)&&($e={currentLocation:oe,nextLocation:F.location})}else if(M){let Ye=D.get(F.location.pathname);Ye?Ye.add(oe.pathname):(Ye=new Set([oe.pathname]),D.set(F.location.pathname,Ye)),$e={currentLocation:F.location,nextLocation:oe}}je({...pe,actionData:Ve,loaderData:Ke,historyAction:G,location:oe,initialized:!0,navigation:Mg,revalidation:"idle",restoreScrollPosition:ci(oe,pe.matches||F.matches),preventScrollReset:Ce,blockers:Xe},{viewTransitionOpts:$e,flushSync:ve===!0}),G="POP",A=!1,M=!1,V=!1,X=!1,Ee?.resolve(),Ee=null}async function et(oe,pe){if(typeof oe=="number"){n.history.go(oe);return}let ve=h_(F.location,F.matches,p,oe,pe?.fromRouteId,pe?.relative),{path:ke,submission:Ve,error:Ke}=EE(!1,ve,pe),Xe=F.location,Ce=gh(F.location,ke,pe&&pe.state);Ce={...Ce,...n.history.encodeLocation(Ce)};let $e=pe&&pe.replace!=null?pe.replace:void 0,Ye="PUSH";$e===!0?Ye="REPLACE":$e===!1||Ve!=null&&Hr(Ve.formMethod)&&Ve.formAction===F.location.pathname+F.location.search&&(Ye="REPLACE");let ht=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,ot=(pe&&pe.flushSync)===!0,pt=fr({currentLocation:Xe,nextLocation:Ce,historyAction:Ye});if(pt){ti(pt,{state:"blocked",location:Ce,proceed(){ti(pt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),et(oe,pe)},reset(){let Nt=new Map(F.blockers);Nt.set(pt,Qc),je({blockers:Nt})}});return}await Te(Ye,Ce,{submission:Ve,pendingError:Ke,preventScrollReset:ht,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:ot})}function kt(){Ee||(Ee=Bx()),Xt(),je({revalidation:"loading"});let oe=Ee.promise;return F.navigation.state==="submitting"?oe:F.navigation.state==="idle"?(Te(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),oe):(Te(G||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:M===!0}),oe)}async function Te(oe,pe,ve){S&&S.abort(),S=null,G=oe,V=(ve&&ve.startUninterruptedRevalidation)===!0,Bn(F.location,F.matches),A=(ve&&ve.preventScrollReset)===!0,M=(ve&&ve.enableViewTransition)===!0;let ke=d||c,Ve=ve&&ve.overrideNavigation,Ke=ve?.initialHydration&&F.matches&&F.matches.length>0&&!J?F.matches:Co(ke,pe,p),Xe=(ve&&ve.flushSync)===!0;if(Ke&&F.initialized&&!X&&Px(F.location,pe)&&!(ve&&ve.submission&&Hr(ve.submission.formMethod))){ze(pe,{matches:Ke},{flushSync:Xe});return}let Ce=Nn(Ke,ke,pe.pathname);if(Ce.active&&Ce.matches&&(Ke=Ce.matches),!Ke){let{error:Jt,notFoundMatches:jt,route:Lt}=dr(pe.pathname);ze(pe,{matches:jt,loaderData:{},errors:{[Lt.id]:Jt}},{flushSync:Xe});return}S=new AbortController;let $e=Iu(n.history,pe,S.signal,ve&&ve.submission),Ye=new vE(n.unstable_getContext?await n.unstable_getContext():void 0),ht;if(ve&&ve.pendingError)ht=[xl(Ke).route.id,{type:"error",error:ve.pendingError}];else if(ve&&ve.submission&&Hr(ve.submission.formMethod)){let Jt=await Ne($e,pe,ve.submission,Ke,Ye,Ce.active,ve&&ve.initialHydration===!0,{replace:ve.replace,flushSync:Xe});if(Jt.shortCircuited)return;if(Jt.pendingActionResult){let[jt,Lt]=Jt.pendingActionResult;if(jr(Lt)&&_h(Lt.error)&&Lt.error.status===404){S=null,ze(pe,{matches:Jt.matches,loaderData:{},errors:{[jt]:Lt.error}});return}}Ke=Jt.matches||Ke,ht=Jt.pendingActionResult,Ve=Pg(pe,ve.submission),Xe=!1,Ce.active=!1,$e=Iu(n.history,$e.url,$e.signal)}let{shortCircuited:ot,matches:pt,loaderData:Nt,errors:Ft}=await Le($e,pe,Ke,Ye,Ce.active,Ve,ve&&ve.submission,ve&&ve.fetcherSubmission,ve&&ve.replace,ve&&ve.initialHydration===!0,Xe,ht);ot||(S=null,ze(pe,{matches:pt||Ke,...kE(ht),loaderData:Nt,errors:Ft}))}async function Ne(oe,pe,ve,ke,Ve,Ke,Xe,Ce={}){Xt();let $e=Nx(pe,ve);if(je({navigation:$e},{flushSync:Ce.flushSync===!0}),Ke){let ot=await _i(ke,pe.pathname,oe.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let pt=xl(ot.partialMatches).route.id;return{matches:ot.partialMatches,pendingActionResult:[pt,{type:"error",error:ot.error}]}}else if(ot.matches)ke=ot.matches;else{let{notFoundMatches:pt,error:Nt,route:Ft}=dr(pe.pathname);return{matches:pt,pendingActionResult:[Ft.id,{type:"error",error:Nt}]}}}let Ye,ht=Jc(ke,pe);if(!ht.route.action&&!ht.route.lazy)Ye={type:"error",error:os(405,{method:oe.method,pathname:pe.pathname,routeId:ht.route.id})};else{let ot=Uu(s,l,oe,ke,ht,Xe?[]:i,Ve),pt=await Mt(oe,ot,Ve,null);if(Ye=pt[ht.route.id],!Ye){for(let Nt of ke)if(pt[Nt.route.id]){Ye=pt[Nt.route.id];break}}if(oe.signal.aborted)return{shortCircuited:!0}}if(Il(Ye)){let ot;return Ce&&Ce.replace!=null?ot=Ce.replace:ot=CE(Ye.response.headers.get("Location"),new URL(oe.url),p)===F.location.pathname+F.location.search,await Pt(oe,Ye,!0,{submission:ve,replace:ot}),{shortCircuited:!0}}if(jr(Ye)){let ot=xl(ke,ht.route.id);return(Ce&&Ce.replace)!==!0&&(G="PUSH"),{matches:ke,pendingActionResult:[ot.route.id,Ye,ht.route.id]}}return{matches:ke,pendingActionResult:[ht.route.id,Ye]}}async function Le(oe,pe,ve,ke,Ve,Ke,Xe,Ce,$e,Ye,ht,ot){let pt=Ke||Pg(pe,Xe),Nt=Xe||Ce||OE(pt),Ft=!V&&!Ye;if(Ve){if(Ft){let Ln=He(ot);je({navigation:pt,...Ln!==void 0?{actionData:Ln}:{}},{flushSync:ht})}let Et=await _i(ve,pe.pathname,oe.signal);if(Et.type==="aborted")return{shortCircuited:!0};if(Et.type==="error"){let Ln=xl(Et.partialMatches).route.id;return{matches:Et.partialMatches,loaderData:{},errors:{[Ln]:Et.error}}}else if(Et.matches)ve=Et.matches;else{let{error:Ln,notFoundMatches:fi,route:Mi}=dr(pe.pathname);return{matches:fi,loaderData:{},errors:{[Mi.id]:Ln}}}}let Jt=d||c,{dsMatches:jt,revalidatingFetchers:Lt}=wE(oe,ke,s,l,n.history,F,ve,Nt,pe,Ye?[]:i,Ye===!0,X,ue,ie,ne,j,Jt,p,n.patchRoutesOnNavigation!=null,ot);if(W=++P,!n.dataStrategy&&!jt.some(Et=>Et.shouldLoad)&&Lt.length===0){let Et=mn();return ze(pe,{matches:ve,loaderData:{},errors:ot&&jr(ot[1])?{[ot[0]]:ot[1].error}:null,...kE(ot),...Et?{fetchers:new Map(F.fetchers)}:{}},{flushSync:ht}),{shortCircuited:!0}}if(Ft){let Et={};if(!Ve){Et.navigation=pt;let Ln=He(ot);Ln!==void 0&&(Et.actionData=Ln)}Lt.length>0&&(Et.fetchers=Ue(Lt)),je(Et,{flushSync:ht})}Lt.forEach(Et=>{nn(Et.key),Et.controller&&B.set(Et.key,Et.controller)});let pr=()=>Lt.forEach(Et=>nn(Et.key));S&&S.signal.addEventListener("abort",pr);let{loaderResults:Yn,fetcherResults:yi}=await ct(jt,Lt,oe,ke);if(oe.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",pr),Lt.forEach(Et=>B.delete(Et.key));let hi=td(Yn);if(hi)return await Pt(oe,hi.result,!0,{replace:$e}),{shortCircuited:!0};if(hi=td(yi),hi)return j.add(hi.key),await Pt(oe,hi.result,!0,{replace:$e}),{shortCircuited:!0};let{loaderData:nr,errors:ir}=xE(F,ve,Yn,ot,Lt,yi);Ye&&F.errors&&(ir={...F.errors,...ir});let ks=mn(),Ei=En(W),ki=ks||Ei||Lt.length>0;return{matches:ve,loaderData:nr,errors:ir,...ki?{fetchers:new Map(F.fetchers)}:{}}}function He(oe){if(oe&&!jr(oe[1]))return{[oe[0]]:oe[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Ue(oe){return oe.forEach(pe=>{let ve=F.fetchers.get(pe.key),ke=Yc(void 0,ve?ve.data:void 0);F.fetchers.set(pe.key,ke)}),new Map(F.fetchers)}async function rt(oe,pe,ve,ke){nn(oe);let Ve=(ke&&ke.flushSync)===!0,Ke=d||c,Xe=h_(F.location,F.matches,p,ve,pe,ke?.relative),Ce=Co(Ke,Xe,p),$e=Nn(Ce,Ke,Xe);if($e.active&&$e.matches&&(Ce=$e.matches),!Ce){nt(oe,pe,os(404,{pathname:Xe}),{flushSync:Ve});return}let{path:Ye,submission:ht,error:ot}=EE(!0,Xe,ke);if(ot){nt(oe,pe,ot,{flushSync:Ve});return}let pt=Jc(Ce,Ye),Nt=new vE(n.unstable_getContext?await n.unstable_getContext():void 0),Ft=(ke&&ke.preventScrollReset)===!0;if(ht&&Hr(ht.formMethod)){await dt(oe,pe,Ye,pt,Ce,Nt,$e.active,Ve,Ft,ht);return}ne.set(oe,{routeId:pe,path:Ye}),await It(oe,pe,Ye,pt,Ce,Nt,$e.active,Ve,Ft,ht)}async function dt(oe,pe,ve,ke,Ve,Ke,Xe,Ce,$e,Ye){Xt(),ne.delete(oe);function ht(on){if(!on.route.action&&!on.route.lazy){let Ct=os(405,{method:Ye.formMethod,pathname:ve,routeId:pe});return nt(oe,pe,Ct,{flushSync:Ce}),!0}return!1}if(!Xe&&ht(ke))return;let ot=F.fetchers.get(oe);tt(oe,Lx(Ye,ot),{flushSync:Ce});let pt=new AbortController,Nt=Iu(n.history,ve,pt.signal,Ye);if(Xe){let on=await _i(Ve,ve,Nt.signal,oe);if(on.type==="aborted")return;if(on.type==="error"){nt(oe,pe,on.error,{flushSync:Ce});return}else if(on.matches){if(Ve=on.matches,ke=Jc(Ve,ve),ht(ke))return}else{nt(oe,pe,os(404,{pathname:ve}),{flushSync:Ce});return}}B.set(oe,pt);let Ft=P,Jt=Uu(s,l,Nt,Ve,ke,i,Ke),Lt=(await Mt(Nt,Jt,Ke,oe))[ke.route.id];if(Nt.signal.aborted){B.get(oe)===pt&&B.delete(oe);return}if(ie.has(oe)){if(Il(Lt)||jr(Lt)){tt(oe,So(void 0));return}}else{if(Il(Lt))if(B.delete(oe),W>Ft){tt(oe,So(void 0));return}else return j.add(oe),tt(oe,Yc(Ye)),Pt(Nt,Lt,!1,{fetcherSubmission:Ye,preventScrollReset:$e});if(jr(Lt)){nt(oe,pe,Lt.error);return}}let pr=F.navigation.location||F.location,Yn=Iu(n.history,pr,pt.signal),yi=d||c,hi=F.navigation.state!=="idle"?Co(yi,F.navigation.location,p):F.matches;Zt(hi,"Didn't find any matches after fetcher action");let nr=++P;ee.set(oe,nr);let ir=Yc(Ye,Lt.data);F.fetchers.set(oe,ir);let{dsMatches:ks,revalidatingFetchers:Ei}=wE(Yn,Ke,s,l,n.history,F,hi,Ye,pr,i,!1,X,ue,ie,ne,j,yi,p,n.patchRoutesOnNavigation!=null,[ke.route.id,Lt]);Ei.filter(on=>on.key!==oe).forEach(on=>{let Ct=on.key,ln=F.fetchers.get(Ct),Hn=Yc(void 0,ln?ln.data:void 0);F.fetchers.set(Ct,Hn),nn(Ct),on.controller&&B.set(Ct,on.controller)}),je({fetchers:new Map(F.fetchers)});let ki=()=>Ei.forEach(on=>nn(on.key));pt.signal.addEventListener("abort",ki);let{loaderResults:Et,fetcherResults:Ln}=await ct(ks,Ei,Yn,Ke);if(pt.signal.aborted)return;if(pt.signal.removeEventListener("abort",ki),ee.delete(oe),B.delete(oe),Ei.forEach(on=>B.delete(on.key)),F.fetchers.has(oe)){let on=So(Lt.data);F.fetchers.set(oe,on)}let fi=td(Et);if(fi)return Pt(Yn,fi.result,!1,{preventScrollReset:$e});if(fi=td(Ln),fi)return j.add(fi.key),Pt(Yn,fi.result,!1,{preventScrollReset:$e});let{loaderData:Mi,errors:Cr}=xE(F,hi,Et,void 0,Ei,Ln);En(nr),F.navigation.state==="loading"&&nr>W?(Zt(G,"Expected pending action"),S&&S.abort(),ze(F.navigation.location,{matches:hi,loaderData:Mi,errors:Cr,fetchers:new Map(F.fetchers)})):(je({errors:Cr,loaderData:IE(F.loaderData,Mi,hi,Cr),fetchers:new Map(F.fetchers)}),X=!1)}async function It(oe,pe,ve,ke,Ve,Ke,Xe,Ce,$e,Ye){let ht=F.fetchers.get(oe);tt(oe,Yc(Ye,ht?ht.data:void 0),{flushSync:Ce});let ot=new AbortController,pt=Iu(n.history,ve,ot.signal);if(Xe){let Lt=await _i(Ve,ve,pt.signal,oe);if(Lt.type==="aborted")return;if(Lt.type==="error"){nt(oe,pe,Lt.error,{flushSync:Ce});return}else if(Lt.matches)Ve=Lt.matches,ke=Jc(Ve,ve);else{nt(oe,pe,os(404,{pathname:ve}),{flushSync:Ce});return}}B.set(oe,ot);let Nt=P,Ft=Uu(s,l,pt,Ve,ke,i,Ke),jt=(await Mt(pt,Ft,Ke,oe))[ke.route.id];if(B.get(oe)===ot&&B.delete(oe),!pt.signal.aborted){if(ie.has(oe)){tt(oe,So(void 0));return}if(Il(jt))if(W>Nt){tt(oe,So(void 0));return}else{j.add(oe),await Pt(pt,jt,!1,{preventScrollReset:$e});return}if(jr(jt)){nt(oe,pe,jt.error);return}tt(oe,So(jt.data))}}async function Pt(oe,pe,ve,{submission:ke,fetcherSubmission:Ve,preventScrollReset:Ke,replace:Xe}={}){pe.response.headers.has("X-Remix-Revalidate")&&(X=!0);let Ce=pe.response.headers.get("Location");Zt(Ce,"Expected a Location header on the redirect Response"),Ce=CE(Ce,new URL(oe.url),p);let $e=gh(F.location,Ce,{_isRedirect:!0});if(t){let Ft=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))Ft=!0;else if(Y_.test(Ce)){const Jt=ib(Ce,!0);Ft=Jt.origin!==e.location.origin||hs(Jt.pathname,p)==null}if(Ft){Xe?e.location.replace(Ce):e.location.assign(Ce);return}}S=null;let Ye=Xe===!0||pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ht,formAction:ot,formEncType:pt}=F.navigation;!ke&&!Ve&&ht&&ot&&pt&&(ke=OE(F.navigation));let Nt=ke||Ve;if(vx.has(pe.response.status)&&Nt&&Hr(Nt.formMethod))await Te(Ye,$e,{submission:{...Nt,formAction:Ce},preventScrollReset:Ke||A,enableViewTransition:ve?M:void 0});else{let Ft=Pg($e,ke);await Te(Ye,$e,{overrideNavigation:Ft,fetcherSubmission:Ve,preventScrollReset:Ke||A,enableViewTransition:ve?M:void 0})}}async function Mt(oe,pe,ve,ke){let Ve,Ke={};try{Ve=await Rx(m,oe,pe,ke,ve,!1)}catch(Xe){return pe.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{Ke[Ce.route.id]={type:"error",error:Xe}}),Ke}if(oe.signal.aborted)return Ke;for(let[Xe,Ce]of Object.entries(Ve))if(Ox(Ce)){let $e=Ce.result;Ke[Xe]={type:"redirect",response:kx($e,oe,Xe,pe,p)}}else Ke[Xe]=await Ix(Ce);return Ke}async function ct(oe,pe,ve,ke){let Ve=Mt(ve,oe,ke,null),Ke=Promise.all(pe.map(async $e=>{if($e.matches&&$e.match&&$e.request&&$e.controller){let ht=(await Mt($e.request,$e.matches,ke,$e.key))[$e.match.route.id];return{[$e.key]:ht}}else return Promise.resolve({[$e.key]:{type:"error",error:os(404,{pathname:$e.path})}})})),Xe=await Ve,Ce=(await Ke).reduce(($e,Ye)=>Object.assign($e,Ye),{});return{loaderResults:Xe,fetcherResults:Ce}}function Xt(){X=!0,ne.forEach((oe,pe)=>{B.has(pe)&&ue.add(pe),nn(pe)})}function tt(oe,pe,ve={}){F.fetchers.set(oe,pe),je({fetchers:new Map(F.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function nt(oe,pe,ve,ke={}){let Ve=xl(F.matches,pe);tn(oe),je({errors:{[Ve.route.id]:ve},fetchers:new Map(F.fetchers)},{flushSync:(ke&&ke.flushSync)===!0})}function bt(oe){return ae.set(oe,(ae.get(oe)||0)+1),ie.has(oe)&&ie.delete(oe),F.fetchers.get(oe)||yx}function tn(oe){let pe=F.fetchers.get(oe);B.has(oe)&&!(pe&&pe.state==="loading"&&ee.has(oe))&&nn(oe),ne.delete(oe),ee.delete(oe),j.delete(oe),ie.delete(oe),ue.delete(oe),F.fetchers.delete(oe)}function yn(oe){let pe=(ae.get(oe)||0)-1;pe<=0?(ae.delete(oe),ie.add(oe)):ae.set(oe,pe),je({fetchers:new Map(F.fetchers)})}function nn(oe){let pe=B.get(oe);pe&&(pe.abort(),B.delete(oe))}function Kt(oe){for(let pe of oe){let ve=bt(pe),ke=So(ve.data);F.fetchers.set(pe,ke)}}function mn(){let oe=[],pe=!1;for(let ve of j){let ke=F.fetchers.get(ve);Zt(ke,`Expected fetcher: ${ve}`),ke.state==="loading"&&(j.delete(ve),oe.push(ve),pe=!0)}return Kt(oe),pe}function En(oe){let pe=[];for(let[ve,ke]of ee)if(ke<oe){let Ve=F.fetchers.get(ve);Zt(Ve,`Expected fetcher: ${ve}`),Ve.state==="loading"&&(nn(ve),ee.delete(ve),pe.push(ve))}return Kt(pe),pe.length>0}function Dn(oe,pe){let ve=F.blockers.get(oe)||Qc;return he.get(oe)!==pe&&he.set(oe,pe),ve}function er(oe){F.blockers.delete(oe),he.delete(oe)}function ti(oe,pe){let ve=F.blockers.get(oe)||Qc;Zt(ve.state==="unblocked"&&pe.state==="blocked"||ve.state==="blocked"&&pe.state==="blocked"||ve.state==="blocked"&&pe.state==="proceeding"||ve.state==="blocked"&&pe.state==="unblocked"||ve.state==="proceeding"&&pe.state==="unblocked",`Invalid blocker state transition: ${ve.state} -> ${pe.state}`);let ke=new Map(F.blockers);ke.set(oe,pe),je({blockers:ke})}function fr({currentLocation:oe,nextLocation:pe,historyAction:ve}){if(he.size===0)return;he.size>1&&ui(!1,"A router only supports one blocker at a time");let ke=Array.from(he.entries()),[Ve,Ke]=ke[ke.length-1],Xe=F.blockers.get(Ve);if(!(Xe&&Xe.state==="proceeding")&&Ke({currentLocation:oe,nextLocation:pe,historyAction:ve}))return Ve}function dr(oe){let pe=os(404,{pathname:oe}),ve=d||c,{matches:ke,route:Ve}=ME(ve);return{notFoundMatches:ke,route:Ve,error:pe}}function zi(oe,pe,ve){if(C=oe,N=pe,x=ve||null,!q&&F.navigation===Mg){q=!0;let ke=ci(F.location,F.matches);ke!=null&&je({restoreScrollPosition:ke})}return()=>{C=null,N=null,x=null}}function Ii(oe,pe){return x&&x(oe,pe.map(ke=>$R(ke,F.loaderData)))||oe.key}function Bn(oe,pe){if(C&&N){let ve=Ii(oe,pe);C[ve]=N()}}function ci(oe,pe){if(C){let ve=Ii(oe,pe),ke=C[ve];if(typeof ke=="number")return ke}return null}function Nn(oe,pe,ve){if(n.patchRoutesOnNavigation)if(oe){if(Object.keys(oe[0].params).length>0)return{active:!0,matches:fd(pe,ve,p,!0)}}else return{active:!0,matches:fd(pe,ve,p,!0)||[]};return{active:!1,matches:null}}async function _i(oe,pe,ve,ke){if(!n.patchRoutesOnNavigation)return{type:"success",matches:oe};let Ve=oe;for(;;){let Ke=d==null,Xe=d||c,Ce=l;try{await n.patchRoutesOnNavigation({signal:ve,path:pe,matches:Ve,fetcherKey:ke,patch:(ht,ot)=>{ve.aborted||TE(ht,ot,Xe,Ce,s)}})}catch(ht){return{type:"error",error:ht,partialMatches:Ve}}finally{Ke&&!ve.aborted&&(c=[...c])}if(ve.aborted)return{type:"aborted"};let $e=Co(Xe,pe,p);if($e)return{type:"success",matches:$e};let Ye=fd(Xe,pe,p,!0);if(!Ye||Ve.length===Ye.length&&Ve.every((ht,ot)=>ht.route.id===Ye[ot].route.id))return{type:"success",matches:null};Ve=Ye}}function tr(oe){l={},d=xd(oe,s,void 0,l)}function vi(oe,pe){let ve=d==null;TE(oe,pe,d||c,l,s),ve&&(c=[...c],je({}))}return te={get basename(){return p},get future(){return _},get state(){return F},get routes(){return c},get window(){return e},initialize:Ze,subscribe:Fe,enableScrollRestoration:zi,navigate:et,fetch:rt,revalidate:kt,createHref:oe=>n.history.createHref(oe),encodeLocation:oe=>n.history.encodeLocation(oe),getFetcher:bt,deleteFetcher:yn,dispose:De,getBlocker:Dn,deleteBlocker:er,patchRoutes:vi,_internalFetchControllers:B,_internalSetRoutes:tr},te}function Tx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function h_(n,e,t,i,s,l){let c,d;if(s){c=[];for(let m of e)if(c.push(m),m.route.id===s){d=m;break}}else c=e,d=e[e.length-1];let p=Q_(i||".",K_(c),hs(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&d){let m=$_(p.search);if(d.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let _=new URLSearchParams(p.search),E=_.getAll("index");_.delete("index"),E.filter(C=>C).forEach(C=>_.append("index",C));let w=_.toString();p.search=w?`?${w}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:Qs([t,p.pathname])),Bo(p)}function EE(n,e,t){if(!t||!Tx(t))return{path:e};if(t.formMethod&&!Dx(t.formMethod))return{path:e,error:os(405,{method:t.formMethod})};let i=()=>({path:e,error:os(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=mb(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Hr(l))return i();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[C,x])=>`${w}${C}=${x}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Hr(l))return i();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return i()}}}Zt(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=p_(t.formData),p=t.formData;else if(t.body instanceof FormData)d=p_(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=RE(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=RE(d)}catch{return i()}let m={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Hr(m.formMethod))return{path:e,submission:m};let _=Yo(e);return n&&_.search&&$_(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Bo(_),submission:m}}function wE(n,e,t,i,s,l,c,d,p,m,_,E,w,C,x,N,q,H,J,Q){let $=Q?jr(Q[1])?Q[1].error:Q[1].data:void 0,te=s.createURL(l.location),F=s.createURL(p),G;if(_&&l.errors){let V=Object.keys(l.errors)[0];G=c.findIndex(X=>X.route.id===V)}else if(Q&&jr(Q[1])){let V=Q[0];G=c.findIndex(X=>X.route.id===V)-1}let A=Q?Q[1].statusCode:void 0,S=A&&A>=400,M={currentUrl:te,currentParams:l.matches[0]?.params||{},nextUrl:F,nextParams:c[0].params,...d,actionResult:$,actionStatus:A},D=c.map((V,X)=>{let{route:ue}=V,B=null;if(G!=null&&X>G?B=!1:ue.lazy?B=!0:ue.loader==null?B=!1:_?B=f_(ue,l.loaderData,l.errors):bx(l.loaderData,l.matches[X],V)&&(B=!0),B!==null)return d_(t,i,n,V,m,e,B);let P=S?!1:E||te.pathname+te.search===F.pathname+F.search||te.search!==F.search||Ax(l.matches[X],V),W={...M,defaultShouldRevalidate:P},ee=Md(V,W);return d_(t,i,n,V,m,e,ee,W)}),z=[];return x.forEach((V,X)=>{if(_||!c.some(ae=>ae.route.id===V.routeId)||C.has(X))return;let ue=l.fetchers.get(X),B=ue&&ue.state!=="idle"&&ue.data===void 0,P=Co(q,V.path,H);if(!P){if(J&&B)return;z.push({key:X,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(N.has(X))return;let W=Jc(P,V.path),ee=new AbortController,j=Iu(s,V.path,ee.signal),ne=null;if(w.has(X))w.delete(X),ne=Uu(t,i,j,P,W,m,e);else if(B)E&&(ne=Uu(t,i,j,P,W,m,e));else{let ae={...M,defaultShouldRevalidate:S?!1:E};Md(W,ae)&&(ne=Uu(t,i,j,P,W,m,e,ae))}ne&&z.push({key:X,routeId:V.routeId,path:V.path,matches:ne,match:W,request:j,controller:ee})}),{dsMatches:D,revalidatingFetchers:z}}function f_(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function bx(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function Ax(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Md(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function TE(n,e,t,i,s){let l;if(n){let p=i[n];Zt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(m=>cb(p,m))),d=xd(c,s,[n||"_","patch",String(l?.length||"0")],i);l.push(...d)}function cb(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>cb(t,s))):!1}var bE=new WeakMap,hb=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(Zt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=bE.get(s);c||(c={},bE.set(s,c));let d=c[n];if(d)return d;let p=(async()=>{let m=ZR(n),E=s[n]!==void 0&&n!=="hasErrorBoundary";if(m)ui(!m,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)ui(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await l();w!=null&&(Object.assign(s,{[n]:w}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(w=>w===void 0)&&(s.lazy=void 0))})();return c[n]=p,p},AE=new WeakMap;function Sx(n,e,t,i,s){let l=t[n.id];if(Zt(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let _=AE.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let E=(async()=>{Zt(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),C={};for(let x in w){let N=w[x];if(N===void 0)continue;let q=QR(x),J=l[x]!==void 0&&x!=="hasErrorBoundary";q?ui(!q,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):J?ui(!J,`Route "${l.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):C[x]=N}Object.assign(l,C),Object.assign(l,{...i(l),lazy:void 0})})();return AE.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),d=[],p;for(let _ of c){if(s&&s.includes(_))continue;let E=hb({key:_,route:n,manifest:t,mapRouteProperties:i});E&&(d.push(E),_===e&&(p=E))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:p}}async function SE(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function Cx(n){return n.matches.some(e=>e.route.unstable_middleware)?fb(n,!1,()=>SE(n),(e,t)=>({[t]:{type:"error",result:e}})):SE(n)}async function fb(n,e,t,i){let{matches:s,request:l,params:c,context:d}=n,p={handlerResult:void 0};try{let m=s.flatMap(E=>E.route.unstable_middleware?E.route.unstable_middleware.map(w=>[E.route.id,w]):[]),_=await db({request:l,params:c,context:d},m,e,p,t);return e?_:p.handlerResult}catch(m){if(!p.middlewareError)throw m;let _=await i(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,_):_}}async function db(n,e,t,i,s,l=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d)return i.handlerResult=await s(),i.handlerResult;let[p,m]=d,_=!1,E,w=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await db(n,e,t,i,s,l+1)};try{let C=await m({request:n.request,params:n.params,context:n.context},w);return _?C===void 0?E:C:w()}catch(C){throw i.middlewareError?i.middlewareError.error!==C&&(i.middlewareError={routeId:p,error:C}):i.middlewareError={routeId:p,error:C},C}}function pb(n,e,t,i,s){let l=hb({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),c=Sx(i.route,Hr(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function d_(n,e,t,i,s,l,c,d=null){let p=!1,m=pb(n,e,t,i,s);return{...i,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(_){return p=!0,d?typeof _=="boolean"?Md(i,{...d,defaultShouldRevalidate:_}):Md(i,d):c},resolve(_){return p||c||_&&t.method==="GET"&&(i.route.lazy||i.route.loader)?xx({request:t,match:i,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Uu(n,e,t,i,s,l,c,d=null){return i.map(p=>p.route.id!==s.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:pb(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:d_(n,e,t,p,l,c,!0,d))}async function Rx(n,e,t,i,s,l){t.some(m=>m._lazyPromises?.middleware)&&await Promise.all(t.map(m=>m._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:s,matches:t},p=await n({...c,fetcherKey:i,unstable_runClientMiddleware:m=>{let _=c;return fb(_,!1,()=>m({..._,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(E,w)=>({[w]:{type:"error",result:E}}))}});try{await Promise.all(t.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return p}async function xx({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:s,scopedContext:l}){let c,d,p=Hr(n.method),m=p?"action":"loader",_=E=>{let w,C=new Promise((q,H)=>w=H);d=()=>w(),n.signal.addEventListener("abort",d);let x=q=>typeof E!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):E({request:n,params:e.params,context:l},...q!==void 0?[q]:[]),N=(async()=>{try{return{type:"data",result:await(s?s(H=>x(H)):x())}}catch(q){return{type:"error",result:q}}})();return Promise.race([N,C])};try{let E=p?e.route.action:e.route.loader;if(t||i)if(E){let w,[C]=await Promise.all([_(E).catch(x=>{w=x}),t,i]);if(w!==void 0)throw w;c=C}else{await t;let w=p?e.route.action:e.route.loader;if(w)[c]=await Promise.all([_(w),i]);else if(m==="action"){let C=new URL(n.url),x=C.pathname+C.search;throw os(405,{method:n.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(E)c=await _(E);else{let w=new URL(n.url),C=w.pathname+w.search;throw os(404,{pathname:C})}}catch(E){return{type:"error",result:E}}finally{d&&n.signal.removeEventListener("abort",d)}return c}async function Ix(n){let{result:e,type:t}=n;if(gb(e)){let i;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?i=null:i=await e.json():i=await e.text()}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new kd(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?PE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new kd(e.init?.status||500,void 0,e.data),statusCode:_h(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:_h(e)?e.status:void 0}:PE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function kx(n,e,t,i,s){let l=n.headers.get("Location");if(Zt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Y_.test(l)){let c=i.slice(0,i.findIndex(d=>d.route.id===t)+1);l=h_(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function CE(n,e,t){if(Y_.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=hs(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function Iu(n,e,t,i){let s=n.createURL(mb(e)).toString(),l={signal:t};if(i&&Hr(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=p_(i.formData):l.body=i.formData}return new Request(s,l)}function p_(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function RE(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Mx(n,e,t,i=!1,s=!1){let l={},c=null,d,p=!1,m={},_=t&&jr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let w=E.route.id,C=e[w];if(Zt(!Il(C),"Cannot handle redirect results in processLoaderData"),jr(C)){let x=C.error;if(_!==void 0&&(x=_,_=void 0),c=c||{},s)c[w]=x;else{let N=xl(n,w);c[N.route.id]==null&&(c[N.route.id]=x)}i||(l[w]=ub),p||(p=!0,d=_h(C.error)?C.error.status:500),C.headers&&(m[w]=C.headers)}else l[w]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(d=C.statusCode),C.headers&&(m[w]=C.headers)}),_!==void 0&&t&&(c={[t[0]]:_},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function xE(n,e,t,i,s,l){let{loaderData:c,errors:d}=Mx(e,t,i);return s.filter(p=>!p.matches||p.matches.some(m=>m.shouldLoad)).forEach(p=>{let{key:m,match:_,controller:E}=p,w=l[m];if(Zt(w,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(jr(w)){let C=xl(n.matches,_?.route.id);d&&d[C.route.id]||(d={...d,[C.route.id]:w.error}),n.fetchers.delete(m)}else if(Il(w))Zt(!1,"Unhandled fetcher revalidation redirect");else{let C=So(w.data);n.fetchers.set(m,C)}}),{loaderData:c,errors:d}}function IE(n,e,t,i){let s=Object.entries(e).filter(([,l])=>l!==ub).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function kE(n){return n?jr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function xl(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function ME(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function os(n,{pathname:e,routeId:t,method:i,type:s,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new kd(n||500,c,new Error(d),!0)}function td(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Il(s))return{key:i,result:s}}}function mb(n){let e=typeof n=="string"?Yo(n):n;return Bo({...e,hash:""})}function Px(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Ox(n){return gb(n.result)&&_x.has(n.result.status)}function jr(n){return n.type==="error"}function Il(n){return(n&&n.type)==="redirect"}function PE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function gb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Dx(n){return gx.has(n.toUpperCase())}function Hr(n){return px.has(n.toUpperCase())}function $_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Jc(n,e){let t=typeof e=="string"?Yo(e).search:e.search;if(n[n.length-1].route.index&&$_(t||""))return n[n.length-1];let i=ab(n);return i[i.length-1]}function OE(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Pg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Yc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Lx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function So(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Vx(n,e){try{let t=n.sessionStorage.getItem(lb);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function Ux(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(lb,JSON.stringify(t))}catch(i){ui(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function Bx(){let n,e,t=new Promise((i,s)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var jl=ce.createContext(null);jl.displayName="DataRouter";var Dh=ce.createContext(null);Dh.displayName="DataRouterState";var W_=ce.createContext({isTransitioning:!1});W_.displayName="ViewTransition";var _b=ce.createContext(new Map);_b.displayName="Fetchers";var zx=ce.createContext(null);zx.displayName="Await";var na=ce.createContext(null);na.displayName="Navigation";var cp=ce.createContext(null);cp.displayName="Location";var ia=ce.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var X_=ce.createContext(null);X_.displayName="RouteError";function Fx(n,{relative:e}={}){Zt(Nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=ce.useContext(na),{hash:s,pathname:l,search:c}=Lh(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Qs([t,l])),i.createHref({pathname:d,search:c,hash:s})}function Nh(){return ce.useContext(cp)!=null}function $o(){return Zt(Nh(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(cp).location}var vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yb(n){ce.useContext(na).static||ce.useLayoutEffect(n)}function J_(){let{isDataRoute:n}=ce.useContext(ia);return n?nI():jx()}function jx(){Zt(Nh(),"useNavigate() may be used only in the context of a <Router> component.");let n=ce.useContext(jl),{basename:e,navigator:t}=ce.useContext(na),{matches:i}=ce.useContext(ia),{pathname:s}=$o(),l=JSON.stringify(K_(i)),c=ce.useRef(!1);return yb(()=>{c.current=!0}),ce.useCallback((p,m={})=>{if(ui(c.current,vb),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Q_(p,JSON.parse(l),s,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Qs([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,l,s,n])}var Hx=ce.createContext(null);function qx(n){let e=ce.useContext(ia).outlet;return e&&ce.createElement(Hx.Provider,{value:n},e)}function Lh(n,{relative:e}={}){let{matches:t}=ce.useContext(ia),{pathname:i}=$o(),s=JSON.stringify(K_(t));return ce.useMemo(()=>Q_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function Gx(n,e,t,i){Zt(Nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ce.useContext(na),{matches:l}=ce.useContext(ia),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let H=_&&_.path||"";Eb(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=$o(),w;w=E;let C=w.pathname||"/",x=C;if(m!=="/"){let H=m.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(H.length).join("/")}let N=Co(n,{pathname:x});return ui(_||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ui(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$x(N&&N.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Qs([m,s.encodeLocation?s.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?m:Qs([m,s.encodeLocation?s.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,i)}function Zx(){let n=tI(),e=_h(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=ce.createElement(ce.Fragment,null,ce.createElement("p",null," Hey developer "),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:l},"ErrorBoundary")," or"," ",ce.createElement("code",{style:l},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:s},t):null,c)}var Kx=ce.createElement(Zx,null),Qx=class extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ce.createElement(ia.Provider,{value:this.props.routeContext},ce.createElement(X_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yx({routeContext:n,match:e,children:t}){let i=ce.useContext(jl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(ia.Provider,{value:n},t)}function $x(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t?.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:E}=t,w=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,m,_)=>{let E,w=!1,C=null,x=null;t&&(E=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||Kx,c&&(d<0&&_===0?(Eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):d===_&&(w=!0,x=m.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,_+1)),q=()=>{let H;return E?H=C:w?H=x:m.route.Component?H=ce.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=p,ce.createElement(Yx,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:t!=null},children:H})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?ce.createElement(Qx,{location:t.location,revalidation:t.revalidation,component:C,error:E,children:q(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):q()},null)}function ev(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wx(n){let e=ce.useContext(jl);return Zt(e,ev(n)),e}function Xx(n){let e=ce.useContext(Dh);return Zt(e,ev(n)),e}function Jx(n){let e=ce.useContext(ia);return Zt(e,ev(n)),e}function tv(n){let e=Jx(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eI(){return tv("useRouteId")}function tI(){let n=ce.useContext(X_),e=Xx("useRouteError"),t=tv("useRouteError");return n!==void 0?n:e.errors?.[t]}function nI(){let{router:n}=Wx("useNavigate"),e=tv("useNavigate"),t=ce.useRef(!1);return yb(()=>{t.current=!0}),ce.useCallback(async(s,l={})=>{ui(t.current,vb),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var DE={};function Eb(n,e,t){!e&&!DE[n]&&(DE[n]=!0,ui(!1,t))}var NE={};function LE(n,e){!n&&!NE[e]&&(NE[e]=!0,console.warn(e))}function iI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&ui(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ce.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&ui(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ce.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&ui(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ce.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var rI=["HydrateFallback","hydrateFallbackElement"],sI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function aI({router:n,flushSync:e}){let[t,i]=ce.useState(n.state),[s,l]=ce.useState(),[c,d]=ce.useState({isTransitioning:!1}),[p,m]=ce.useState(),[_,E]=ce.useState(),[w,C]=ce.useState(),x=ce.useRef(new Map),N=ce.useCallback((Q,{deletedFetchers:$,flushSync:te,viewTransitionOpts:F})=>{Q.fetchers.forEach((A,S)=>{A.data!==void 0&&x.current.set(S,A.data)}),$.forEach(A=>x.current.delete(A)),LE(te===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let G=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(LE(F==null||G,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!G){e&&te?e(()=>i(Q)):ce.startTransition(()=>i(Q));return}if(e&&te){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>i(Q))});A.finished.finally(()=>{e(()=>{m(void 0),E(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>E(A));return}_?(p&&p.resolve(),_.skipTransition(),C({state:Q,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(l(Q),d({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,e,_,p]);ce.useLayoutEffect(()=>n.subscribe(N),[n,N]),ce.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new sI)},[c]),ce.useEffect(()=>{if(p&&s&&n.window){let Q=s,$=p.promise,te=n.window.document.startViewTransition(async()=>{ce.startTransition(()=>i(Q)),await $});te.finished.finally(()=>{m(void 0),E(void 0),l(void 0),d({isTransitioning:!1})}),E(te)}},[s,p,n.window]),ce.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,_,t.location,s]),ce.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),C(void 0))},[c.isTransitioning,w]);let q=ce.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Q=>n.navigate(Q),push:(Q,$,te)=>n.navigate(Q,{state:$,preventScrollReset:te?.preventScrollReset}),replace:(Q,$,te)=>n.navigate(Q,{replace:!0,state:$,preventScrollReset:te?.preventScrollReset})}),[n]),H=n.basename||"/",J=ce.useMemo(()=>({router:n,navigator:q,static:!1,basename:H}),[n,q,H]);return ce.createElement(ce.Fragment,null,ce.createElement(jl.Provider,{value:J},ce.createElement(Dh.Provider,{value:t},ce.createElement(_b.Provider,{value:x.current},ce.createElement(W_.Provider,{value:c},ce.createElement(cI,{basename:H,location:t.location,navigationType:t.historyAction,navigator:q},ce.createElement(oI,{routes:n.routes,future:n.future,state:t})))))),null)}var oI=ce.memo(lI);function lI({routes:n,future:e,state:t}){return Gx(n,void 0,t,e)}function uI(n){return qx(n.context)}function cI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){Zt(!Nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=ce.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Yo(t));let{pathname:p="/",search:m="",hash:_="",state:E=null,key:w="default"}=t,C=ce.useMemo(()=>{let x=hs(p,c);return x==null?null:{location:{pathname:x,search:m,hash:_,state:E,key:w},navigationType:i}},[c,p,m,_,E,w,i]);return ui(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:ce.createElement(na.Provider,{value:d},ce.createElement(cp.Provider,{children:e,value:C}))}var dd="get",pd="application/x-www-form-urlencoded";function hp(n){return n!=null&&typeof n.tagName=="string"}function hI(n){return hp(n)&&n.tagName.toLowerCase()==="button"}function fI(n){return hp(n)&&n.tagName.toLowerCase()==="form"}function dI(n){return hp(n)&&n.tagName.toLowerCase()==="input"}function pI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mI(n,e){return n.button===0&&(!e||e==="_self")&&!pI(n)}var nd=null;function gI(){if(nd===null)try{new FormData(document.createElement("form"),0),nd=!1}catch{nd=!0}return nd}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Og(n){return n!=null&&!_I.has(n)?(ui(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):n}function vI(n,e){let t,i,s,l,c;if(fI(n)){let d=n.getAttribute("action");i=d?hs(d,e):null,t=n.getAttribute("method")||dd,s=Og(n.getAttribute("enctype"))||pd,l=new FormData(n)}else if(hI(n)||dI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?hs(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||dd,s=Og(n.getAttribute("formenctype"))||Og(d.getAttribute("enctype"))||pd,l=new FormData(d,n),!gI()){let{name:m,type:_,value:E}=n;if(_==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,E)}}else{if(hp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dd,i=null,s=pd,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function nv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wI(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await yI(l,t);return c.links?c.links():[]}return[]}));return SI(i.flat(1).filter(EI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function VE(n,e,t,i,s,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function TI(n,e,{includeHydrateFallback:t}={}){return bI(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function bI(n){return[...new Set(n)]}function AI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function SI(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(AI(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CI=new Set([100,101,204,205]);function RI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&hs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function wb(){let n=ce.useContext(jl);return nv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xI(){let n=ce.useContext(Dh);return nv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iv=ce.createContext(void 0);iv.displayName="FrameworkContext";function Tb(){let n=ce.useContext(iv);return nv(n,"You must render this element inside a <HydratedRouter> element"),n}function II(n,e){let t=ce.useContext(iv),[i,s]=ce.useState(!1),[l,c]=ce.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=e,w=ce.useRef(null);ce.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=H=>{H.forEach(J=>{c(J.isIntersecting)})},q=new IntersectionObserver(N,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[n]),ce.useEffect(()=>{if(i){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[i]);let C=()=>{s(!0)},x=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:$c(d,C),onBlur:$c(p,x),onMouseEnter:$c(m,C),onMouseLeave:$c(_,x),onTouchStart:$c(E,C)}]:[!1,w,{}]}function $c(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kI({page:n,...e}){let{router:t}=wb(),i=ce.useMemo(()=>Co(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?ce.createElement(PI,{page:n,matches:i,...e}):null}function MI(n){let{manifest:e,routeModules:t}=Tb(),[i,s]=ce.useState([]);return ce.useEffect(()=>{let l=!1;return wI(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function PI({page:n,matches:e,...t}){let i=$o(),{manifest:s,routeModules:l}=Tb(),{basename:c}=wb(),{loaderData:d,matches:p}=xI(),m=ce.useMemo(()=>VE(n,e,p,s,i,"data"),[n,e,p,s,i]),_=ce.useMemo(()=>VE(n,e,p,s,i,"assets"),[n,e,p,s,i]),E=ce.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,N=!1;if(e.forEach(H=>{let J=s.routes[H.route.id];!J||!J.hasLoader||(!m.some(Q=>Q.route.id===H.route.id)&&H.route.id in d&&l[H.route.id]?.shouldRevalidate||J.hasClientLoader?N=!0:x.add(H.route.id))}),x.size===0)return[];let q=RI(n,c);return N&&x.size>0&&q.searchParams.set("_routes",e.filter(H=>x.has(H.route.id)).map(H=>H.route.id).join(",")),[q.pathname+q.search]},[c,d,i,s,m,e,n,l]),w=ce.useMemo(()=>TI(_,s),[_,s]),C=MI(_);return ce.createElement(ce.Fragment,null,E.map(x=>ce.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),w.map(x=>ce.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),C.map(({key:x,link:N})=>ce.createElement("link",{key:x,...N})))}function OI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bb&&(window.__reactRouterVersion="7.6.3")}catch{}function DI(n,e){return wx({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:jR({window:e?.window}),hydrationData:NI(),routes:n,mapRouteProperties:iI,hydrationRouteProperties:rI,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function NI(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:LI(n.errors)}),n}function LI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new kd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}var Ab=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sb=ce.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:_,viewTransition:E,...w},C){let{basename:x}=ce.useContext(na),N=typeof m=="string"&&Ab.test(m),q,H=!1;if(typeof m=="string"&&N&&(q=m,bb))try{let S=new URL(window.location.href),M=m.startsWith("//")?new URL(S.protocol+m):new URL(m),D=hs(M.pathname,x);M.origin===S.origin&&D!=null?m=D+M.search+M.hash:H=!0}catch{ui(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Fx(m,{relative:s}),[Q,$,te]=II(i,w),F=BI(m,{replace:c,state:d,target:p,preventScrollReset:_,relative:s,viewTransition:E});function G(S){e&&e(S),S.defaultPrevented||F(S)}let A=ce.createElement("a",{...w,...te,href:q||J,onClick:H||l?e:G,ref:OI(C,$),target:p,"data-discover":!N&&t==="render"?"true":void 0});return Q&&!N?ce.createElement(ce.Fragment,null,A,ce.createElement(kI,{page:J})):A});Sb.displayName="Link";var ku=ce.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...m},_){let E=Lh(c,{relative:m.relative}),w=$o(),C=ce.useContext(Dh),{navigator:x,basename:N}=ce.useContext(na),q=C!=null&&qI(E)&&d===!0,H=x.encodeLocation?x.encodeLocation(E).pathname:E.pathname,J=w.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(J=J.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&N&&(Q=hs(Q,N)||Q);const $=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let te=J===H||!s&&J.startsWith(H)&&J.charAt($)==="/",F=Q!=null&&(Q===H||!s&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),G={isActive:te,isPending:F,isTransitioning:q},A=te?e:void 0,S;typeof i=="function"?S=i(G):S=[i,te?"active":null,F?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(G):l;return ce.createElement(Sb,{...m,"aria-current":A,className:S,ref:_,style:M,to:c,viewTransition:d},typeof p=="function"?p(G):p)});ku.displayName="NavLink";var VI=ce.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=dd,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:E,...w},C)=>{let x=jI(),N=HI(d,{relative:m}),q=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Ab.test(d),J=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let $=Q.nativeEvent.submitter,te=$?.getAttribute("formmethod")||c;x($||Q.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:s,state:l,relative:m,preventScrollReset:_,viewTransition:E})};return ce.createElement("form",{ref:C,method:q,action:N,onSubmit:i?p:J,...w,"data-discover":!H&&n==="render"?"true":void 0})});VI.displayName="Form";function UI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cb(n){let e=ce.useContext(jl);return Zt(e,UI(n)),e}function BI(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=J_(),p=$o(),m=Lh(n,{relative:l});return ce.useCallback(_=>{if(mI(_,e)){_.preventDefault();let E=t!==void 0?t:Bo(p)===Bo(m);d(n,{replace:E,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,d,m,t,i,e,n,s,l,c])}var zI=0,FI=()=>`__${String(++zI)}__`;function jI(){let{router:n}=Cb("useSubmit"),{basename:e}=ce.useContext(na),t=eI();return ce.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=vI(i,e);if(s.navigate===!1){let _=s.fetcherKey||FI();await n.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function HI(n,{relative:e}={}){let{basename:t}=ce.useContext(na),i=ce.useContext(ia);Zt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Lh(n||".",{relative:e})},c=$o();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Qs([t,l.pathname])),Bo(l)}function qI(n,e={}){let t=ce.useContext(W_);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Cb("useViewTransitionState"),s=Lh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=hs(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=hs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Id(s.pathname,c)!=null||Id(s.pathname,l)!=null}[...CI];var Rb=tb();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function GI(n){return ce.createElement(aI,{flushSync:Rb.flushSync,...n})}const ZI=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},KI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,p=s+2<n.length,m=p?n[s+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let w=(d&15)<<2|m>>6,C=m&63;p||(C=64,c||(w=64)),i.push(t[_],t[E],t[w],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||m==null||E==null)throw new QI;const w=l<<2|d>>4;if(i.push(w),m!==64){const C=d<<4&240|m>>2;if(i.push(C),E!==64){const x=m<<6&192|E;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(n){const e=xb(n);return Ib.encodeByteArray(e,!0)},Pd=function(n){return YI(n).replace(/\./g,"")},kb=function(n){try{return Ib.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>$I().__FIREBASE_DEFAULTS__,XI=()=>{if(typeof process>"u"||typeof UE>"u")return;const n=UE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kb(n[1]);return e&&JSON.parse(e)},fp=()=>{try{return ZI()||WI()||XI()||JI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Mb=n=>{var e,t;return(t=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rv=n=>{const e=Mb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Pb=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config},Ob=n=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pd(JSON.stringify(t)),Pd(JSON.stringify(c)),""].join(".")}const lh={};function tk(){const n={prod:[],emulator:[]};for(const e of Object.keys(lh))lh[e]?n.emulator.push(e):n.prod.push(e);return n}function nk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let BE=!1;function pp(n,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||lh[n]===e||lh[n]||BE)return;lh[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=tk().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{BE=!0,c()},w}function _(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=nk(i),C=t("text"),x=document.getElementById(C)||document.createElement("span"),N=t("learnmore"),q=document.getElementById(N)||document.createElement("a"),H=t("preprendIcon"),J=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;d(Q),_(q,N);const $=m();p(J,H),Q.append(J,x,q,$),document.body.appendChild(Q)}l?(x.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ik(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ji())}function rk(){var n;const e=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ak(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ok(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lk(){const n=Ji();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uk(){return!rk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ck(){try{return typeof indexedDB=="object"}catch{return!1}}function hk(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="FirebaseError";class Is extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=fk,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?dk(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Is(s,d,i)}}function dk(n,e){return n.replace(pk,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const pk=/\{\$([^}]+)}/g;function mk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ll(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(zE(l)&&zE(c)){if(!Ll(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function zE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function eh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function th(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gk(n,e){const t=new _k(n,e);return t.subscribe.bind(t)}class _k{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");vk(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Dg),s.error===void 0&&(s.error=Dg),s.complete===void 0&&(s.complete=Dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n){return n&&n._delegate?n._delegate:n}class xa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ek;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wk(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ek(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ek(n){return n===Rl?void 0:n}function wk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($t||($t={}));const bk={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},Ak=$t.INFO,Sk={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},Ck=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Sk[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=Ak,this._logHandler=Ck,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const Rk=(n,e)=>e.some(t=>n instanceof t);let FE,jE;function xk(){return FE||(FE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,m_=new WeakMap,Lb=new WeakMap,Ng=new WeakMap,av=new WeakMap;function kk(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Oo(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Nb.set(t,n)}).catch(()=>{}),av.set(e,n),e}function Mk(n){if(m_.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});m_.set(n,e)}let g_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return m_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Pk(n){g_=n(g_)}function Ok(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Lg(this),e,...t);return Lb.set(i,e.sort?e.sort():[e]),Oo(i)}:Ik().includes(n)?function(...e){return n.apply(Lg(this),e),Oo(Nb.get(this))}:function(...e){return Oo(n.apply(Lg(this),e))}}function Dk(n){return typeof n=="function"?Ok(n):(n instanceof IDBTransaction&&Mk(n),Rk(n,xk())?new Proxy(n,g_):n)}function Oo(n){if(n instanceof IDBRequest)return kk(n);if(Ng.has(n))return Ng.get(n);const e=Dk(n);return e!==n&&(Ng.set(n,e),av.set(e,n)),e}const Lg=n=>av.get(n);function Nk(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=Oo(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Oo(c.result),p.oldVersion,p.newVersion,Oo(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Lk=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],Vg=new Map;function HE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Vk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Lk.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&p.done]))[0]};return Vg.set(e,l),l}Pk(n=>({...n,get:(e,t,i)=>HE(e,t)||n.get(e,t,i),has:(e,t)=>!!HE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Bk(n){const e=n.getComponent();return e?.type==="VERSION"}const __="@firebase/app",qE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new sv("@firebase/app"),zk="@firebase/app-compat",Fk="@firebase/analytics-compat",jk="@firebase/analytics",Hk="@firebase/app-check-compat",qk="@firebase/app-check",Gk="@firebase/auth",Zk="@firebase/auth-compat",Kk="@firebase/database",Qk="@firebase/data-connect",Yk="@firebase/database-compat",$k="@firebase/functions",Wk="@firebase/functions-compat",Xk="@firebase/installations",Jk="@firebase/installations-compat",eM="@firebase/messaging",tM="@firebase/messaging-compat",nM="@firebase/performance",iM="@firebase/performance-compat",rM="@firebase/remote-config",sM="@firebase/remote-config-compat",aM="@firebase/storage",oM="@firebase/storage-compat",lM="@firebase/firestore",uM="@firebase/ai",cM="@firebase/firestore-compat",hM="firebase",fM="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",dM={[__]:"fire-core",[zk]:"fire-core-compat",[jk]:"fire-analytics",[Fk]:"fire-analytics-compat",[qk]:"fire-app-check",[Hk]:"fire-app-check-compat",[Gk]:"fire-auth",[Zk]:"fire-auth-compat",[Kk]:"fire-rtdb",[Qk]:"fire-data-connect",[Yk]:"fire-rtdb-compat",[$k]:"fire-fn",[Wk]:"fire-fn-compat",[Xk]:"fire-iid",[Jk]:"fire-iid-compat",[eM]:"fire-fcm",[tM]:"fire-fcm-compat",[nM]:"fire-perf",[iM]:"fire-perf-compat",[rM]:"fire-rc",[sM]:"fire-rc-compat",[aM]:"fire-gcs",[oM]:"fire-gcs-compat",[lM]:"fire-fst",[cM]:"fire-fst-compat",[uM]:"fire-vertex","fire-js":"fire-js",[hM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,pM=new Map,y_=new Map;function GE(n,e){try{n.container.addComponent(e)}catch(t){Ia.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zo(n){const e=n.name;if(y_.has(e))return Ia.debug(`There were multiple attempts to register component ${e}.`),!1;y_.set(e,n);for(const t of Od.values())GE(t,n);for(const t of pM.values())GE(t,n);return!0}function Bh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new Vh("app","Firebase",mM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=fM;function Vb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:v_,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Do.create("bad-app-name",{appName:String(s)});if(t||(t=Pb()),!t)throw Do.create("no-options");const l=Od.get(s);if(l){if(Ll(t,l.options)&&Ll(i,l.config))return l;throw Do.create("duplicate-app",{appName:s})}const c=new Tk(s);for(const p of y_.values())c.addComponent(p);const d=new gM(t,i,c);return Od.set(s,d),d}function mp(n=v_){const e=Od.get(n);if(!e&&n===v_&&Pb())return Vb();if(!e)throw Do.create("no-app",{appName:n});return e}function cs(n,e,t){var i;let s=(i=dM[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ia.warn(d.join(" "));return}zo(new xa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="firebase-heartbeat-database",vM=1,vh="firebase-heartbeat-store";let Ug=null;function Ub(){return Ug||(Ug=Nk(_M,vM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Do.create("idb-open",{originalErrorMessage:n.message})})),Ug}async function yM(n){try{const t=(await Ub()).transaction(vh),i=await t.objectStore(vh).get(Bb(n));return await t.done,i}catch(e){if(e instanceof Is)Ia.warn(e.message);else{const t=Do.create("idb-get",{originalErrorMessage:e?.message});Ia.warn(t.message)}}}async function ZE(n,e){try{const i=(await Ub()).transaction(vh,"readwrite");await i.objectStore(vh).put(e,Bb(n)),await i.done}catch(t){if(t instanceof Is)Ia.warn(t.message);else{const i=Do.create("idb-set",{originalErrorMessage:t?.message});Ia.warn(i.message)}}}function Bb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=1024,wM=30;class TM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AM(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=KE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>wM){const c=SM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ia.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KE(),{heartbeatsToSend:i,unsentEntries:s}=bM(this._heartbeatsCache.heartbeats),l=Pd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ia.warn(t),""}}}function KE(){return new Date().toISOString().substring(0,10)}function bM(n,e=EM){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),QE(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),QE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class AM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ck()?hk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function QE(n){return Pd(JSON.stringify({version:2,heartbeats:n})).length}function SM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(n){zo(new xa("platform-logger",e=>new Uk(e),"PRIVATE")),zo(new xa("heartbeat",e=>new TM(e),"PRIVATE")),cs(__,qE,n),cs(__,qE,"esm2017"),cs("fire-js","")}CM("");var RM="firebase",xM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(RM,xM,"app");function ov(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IM=zb,Fb=new Vh("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new sv("@firebase/auth");function kM(n,...e){Dd.logLevel<=$t.WARN&&Dd.warn(`Auth (${Hl}): ${n}`,...e)}function md(n,...e){Dd.logLevel<=$t.ERROR&&Dd.error(`Auth (${Hl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,...e){throw lv(n,...e)}function Ys(n,...e){return lv(n,...e)}function jb(n,e,t){const i=Object.assign(Object.assign({},IM()),{[e]:t});return new Vh("auth","Firebase",i).create(e,{appName:n.name})}function No(n){return jb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Fb.create(n,...e)}function vt(n,e,...t){if(!n)throw lv(e,...t)}function Sa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw md(e),new Error(e)}function ka(n,e){n||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function MM(){return YE()==="http:"||YE()==="https:"}function YE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MM()||ak()||"connection"in navigator)?navigator.onLine:!0}function OM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ka(t>e,"Short delay should be less than long delay!"),this.isMobile=ik()||ok()}get(){return PM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n,e){ka(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LM=new zh(3e4,6e4);function ql(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Wo(n,e,t,i,s={}){return qb(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Uh(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return sk()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Na(n.emulatorConfig.host)&&(m.credentials="include"),Hb.fetch()(await Gb(n,n.config.apiHost,t,d),m)})}async function qb(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},DM),e);try{const s=new UM(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw id(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw id(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw id(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jb(n,_,m);Rs(n,_)}}catch(s){if(s instanceof Is)throw s;Rs(n,"network-request-failed",{message:String(s)})}}async function gp(n,e,t,i,s={}){const l=await Wo(n,e,t,i,s);return"mfaPendingCredential"in l&&Rs(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Gb(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?uv(n.config,s):`${n.config.apiScheme}://${s}`;return NM.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function VM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ys(this.auth,"network-request-failed")),LM.get())})}}function id(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ys(n,e,i);return s.customData._tokenResponse=t,s}function $E(n){return n!==void 0&&n.enterprise!==void 0}class BM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zM(n,e){return Wo(n,"GET","/v2/recaptchaConfig",ql(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(n,e){return Wo(n,"POST","/v1/accounts:delete",e)}async function Nd(n,e){return Wo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jM(n,e=!1){const t=Sn(n),i=await t.getIdToken(e),s=cv(i);vt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:uh(Bg(s.auth_time)),issuedAtTime:uh(Bg(s.iat)),expirationTime:uh(Bg(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bg(n){return Number(n)*1e3}function cv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const s=kb(t);return s?JSON.parse(s):(md("Failed to decode base64 JWT payload"),null)}catch(s){return md("Caught error parsing JWT payload as JSON",s?.toString()),null}}function WE(n){const e=cv(n);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Is&&HM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function HM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uh(this.lastLoginAt),this.creationTime=uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(n){var e;const t=n.auth,i=await n.getIdToken(),s=await yh(n,Nd(t,{idToken:i}));vt(s?.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Zb(l.providerUserInfo):[],d=ZM(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!d?.length,_=p?m:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new w_(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function GM(n){const e=Sn(n);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZM(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Zb(n){return n.map(e=>{var{providerId:t}=e,i=ov(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(n,e){const t=await qb(n,{},async()=>{const i=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await Gb(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Na(n.emulatorConfig.host)&&(p.credentials="include"),Hb.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QM(n,e){return Wo(n,"POST","/v2/accounts:revokeToken",ql(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const t=WE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await KM(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Bu;return i&&(vt(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(vt(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(vt(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(n,e){vt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new w_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await yh(this,this.stsTokenManager.getToken(this.auth,e));return vt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jM(this,e)}reload(){return GM(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ld(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(No(this.auth));const e=await this.getIdToken();return await yh(this,FM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,d,p,m,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=t.photoURL)!==null&&c!==void 0?c:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(m=t.createdAt)!==null&&m!==void 0?m:void 0,J=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:$,isAnonymous:te,providerData:F,stsTokenManager:G}=t;vt(Q&&G,e,"internal-error");const A=Bu.fromJSON(this.name,G);vt(typeof Q=="string",e,"internal-error"),Ao(E,e.name),Ao(w,e.name),vt(typeof $=="boolean",e,"internal-error"),vt(typeof te=="boolean",e,"internal-error"),Ao(C,e.name),Ao(x,e.name),Ao(N,e.name),Ao(q,e.name),Ao(H,e.name),Ao(J,e.name);const S=new Cs({uid:Q,auth:e,email:w,emailVerified:$,displayName:E,isAnonymous:te,photoURL:x,phoneNumber:C,tenantId:N,stsTokenManager:A,createdAt:H,lastLoginAt:J});return F&&Array.isArray(F)&&(S.providerData=F.map(M=>Object.assign({},M))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,i=!1){const s=new Bu;s.updateFromServerResponse(t);const l=new Cs({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ld(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];vt(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Zb(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,d=new Bu;d.updateFromIdToken(i);const p=new Cs({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new w_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function Ca(n){ka(n instanceof Function,"Expected a class definition");let e=XE.get(n);return e?(ka(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kb.type="NONE";const JE=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n,e,t){return`firebase:${n}:${e}:${t}`}class zu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=gd(this.userKey,s.apiKey,l),this.fullPersistenceKey=gd("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nd(this.auth,{idToken:e}).catch(()=>{});return t?Cs._fromGetAccountInfoResponse(this.auth,t,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zu(Ca(JE),e,i);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=s[0]||Ca(JE);const c=gd(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){let E;if(typeof _=="string"){const w=await Nd(e,{idToken:_}).catch(()=>{});if(!w)break;E=await Cs._fromGetAccountInfoResponse(e,w,_)}else E=Cs._fromJSON(e,_);m!==l&&(d=E),l=m;break}}catch{}const p=s.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zu(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new zu(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jb(e))return"Blackberry";if(eA(e))return"Webos";if(Yb(e))return"Safari";if((e.includes("chrome/")||$b(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Qb(n=Ji()){return/firefox\//i.test(n)}function Yb(n=Ji()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $b(n=Ji()){return/crios\//i.test(n)}function Wb(n=Ji()){return/iemobile/i.test(n)}function Xb(n=Ji()){return/android/i.test(n)}function Jb(n=Ji()){return/blackberry/i.test(n)}function eA(n=Ji()){return/webos/i.test(n)}function hv(n=Ji()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YM(n=Ji()){var e;return hv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $M(){return lk()&&document.documentMode===10}function tA(n=Ji()){return hv(n)||Xb(n)||eA(n)||Jb(n)||/windows phone/i.test(n)||Wb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n,e=[]){let t;switch(n){case"Browser":t=ew(Ji());break;case"Worker":t=`${ew(Ji())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(n,e={}){return Wo(n,"GET","/v2/passwordPolicy",ql(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=6;class eP{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:JM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new WM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ca(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await zu.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nd(this,{idToken:e}),i=await Cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(No(this));const t=e?Sn(e):null;return t&&vt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(No(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(No(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XM(this),t=new eP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await QM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ca(e)||this._popupRedirectResolver;vt(t,this,"argument-error"),this.redirectPersistenceManager=await zu.create(this,[Ca(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&kM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $u(n){return Sn(n)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=gk(t=>this.observer=t)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nP(n){_p=n}function iA(n){return _p.loadJS(n)}function iP(){return _p.recaptchaEnterpriseScript}function rP(){return _p.gapiScript}function sP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aP{constructor(){this.enterprise=new oP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lP="recaptcha-enterprise",rA="NO_RECAPTCHA";class uP{constructor(e){this.type=lP,this.auth=$u(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{zM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new BM(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function s(l,c,d){const p=window.grecaptcha;$E(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(rA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&$E(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iP();p.length!==0&&(p+=d),iA(p).then(()=>{s(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function nw(n,e,t,i=!1,s=!1){const l=new uP(n);let c;if(s)c=rA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function iw(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await nw(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await nw(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n,e){const t=Bh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Ll(l,e??{}))return s;Rs(s,"already-initialized")}return t.initialize({options:e})}function hP(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ca);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function fP(n,e,t){const i=$u(n);vt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=sA(e),{host:c,port:d}=dP(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){vt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),vt(Ll(m,i.config.emulator)&&Ll(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Na(c)?(dp(`${l}//${c}${p}`),pp("Auth",!0)):pP()}function sA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dP(n){const e=sA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:rw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:rw(c)}}}function rw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,t){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}async function mP(n,e){return Wo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e){return gp(n,"POST","/v1/accounts:signInWithPassword",ql(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e){return gp(n,"POST","/v1/accounts:signInWithEmailLink",ql(n,e))}async function vP(n,e){return gp(n,"POST","/v1/accounts:signInWithEmailLink",ql(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends fv{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Eh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Eh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iw(e,t,"signInWithPassword",gP);case"emailLink":return _P(e,{email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iw(e,i,"signUpPassword",mP);case"emailLink":return vP(e,{idToken:t,email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(n,e){return gp(n,"POST","/v1/accounts:signInWithIdp",ql(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="http://localhost";class Vl extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=ov(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Vl(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Fu(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Fu(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fu(e,t)}buildRequest(){const e={requestUri:yP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wP(n){const e=eh(th(n)).link,t=e?eh(th(e)).deep_link_id:null,i=eh(th(n)).deep_link_id;return(i?eh(th(i)).link:null)||i||t||e||n}class dv{constructor(e){var t,i,s,l,c,d;const p=eh(th(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,E=EP((s=p.mode)!==null&&s!==void 0?s:null);vt(m&&_&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=wP(e);try{return new dv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.providerId=Wu.PROVIDER_ID}static credential(e,t){return Eh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=dv.parseLink(t);return vt(i,"argument-error"),Eh._fromEmailAndCode(e,i.code,i.tenantId)}}Wu.PROVIDER_ID="password";Wu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends aA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Fh{constructor(){super("facebook.com")}static credential(e){return Vl._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return xo.credential(t,i)}catch{return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com";xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Fh{constructor(){super("github.com")}static credential(e){return Vl._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.GITHUB_SIGN_IN_METHOD="github.com";Io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Fh{constructor(){super("twitter.com")}static credential(e,t){return Vl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ko.credential(t,i)}catch{return null}}}ko.TWITTER_SIGN_IN_METHOD="twitter.com";ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Cs._fromIdTokenResponse(e,i,s),c=sw(i);return new Hu({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=sw(i);return new Hu({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function sw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Is{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Vd(e,t,i,s)}}function oA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(n,l,e,i):l})}async function TP(n,e,t=!1){const i=await yh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e,t=!1){const{auth:i}=n;if(Gr(i.app))return Promise.reject(No(i));const s="reauthenticate";try{const l=await yh(n,oA(i,s,e,n),t);vt(l.idToken,i,"internal-error");const c=cv(l.idToken);vt(c,i,"internal-error");const{sub:d}=c;return vt(n.uid===d,i,"user-mismatch"),Hu._forOperation(n,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&Rs(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(n,e,t=!1){if(Gr(n.app))return Promise.reject(No(n));const i="signIn",s=await oA(n,i,e),l=await Hu._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function AP(n,e){return lA($u(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n){const e=$u(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CP(n,e,t){return Gr(n.app)?Promise.reject(No(n)):AP(Sn(n),Wu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&SP(n),i})}function RP(n,e,t,i){return Sn(n).onIdTokenChanged(e,t,i)}function xP(n,e,t){return Sn(n).beforeAuthStateChanged(e,t)}function IP(n,e,t,i){return Sn(n).onAuthStateChanged(e,t,i)}const Ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=1e3,MP=10;class cA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);$M()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MP):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},kP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cA.type="LOCAL";const PP=cA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hA.type="SESSION";const fA=hA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new vp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await OP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=pv("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(E){const w=E;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return window}function NP(n){$s().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function LP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VP(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UP(){return dA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebaseLocalStorageDb",BP=1,Bd="firebaseLocalStorage",mA="fbase_key";class jh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yp(n,e){return n.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function zP(){const n=indexedDB.deleteDatabase(pA);return new jh(n).toPromise()}function T_(){const n=indexedDB.open(pA,BP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Bd,{keyPath:mA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Bd)?e(i):(i.close(),await zP(),e(await T_()))})})}async function aw(n,e,t){const i=yp(n,!0).put({[mA]:e,value:t});return new jh(i).toPromise()}async function FP(n,e){const t=yp(n,!1).get(e),i=await new jh(t).toPromise();return i===void 0?null:i.value}function ow(n,e){const t=yp(n,!0).delete(e);return new jh(t).toPromise()}const jP=800,HP=3;class gA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>HP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vp._getInstance(UP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LP(),!this.activeServiceWorker)return;this.sender=new DP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T_();return await aw(e,Ud,"1"),await ow(e,Ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>aw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>FP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ow(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=yp(s,!1).getAll();return new jh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gA.type="LOCAL";const qP=gA;new zh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(n,e){return e?Ca(e):(vt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZP(n){return lA(n.auth,new mv(n),n.bypassAuthState)}function KP(n){const{auth:e,user:t}=n;return vt(t,e,"internal-error"),bP(t,new mv(n),n.bypassAuthState)}async function QP(n){const{auth:e,user:t}=n;return vt(t,e,"internal-error"),TP(t,new mv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZP;case"linkViaPopup":case"linkViaRedirect":return QP;case"reauthViaPopup":case"reauthViaRedirect":return KP;default:Rs(this.auth,"internal-error")}}resolve(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new zh(2e3,1e4);class Nu extends _A{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){ka(this.filter.length===1,"Popup operations only handle one event");const e=pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YP.get())};e()}}Nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="pendingRedirect",_d=new Map;class WP extends _A{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const i=await XP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XP(n,e){const t=tO(e),i=eO(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function JP(n,e){_d.set(n._key(),e)}function eO(n){return Ca(n._redirectPersistence)}function tO(n){return gd($P,n.config.apiKey,n.name)}async function nO(n,e,t=!1){if(Gr(n.app))return Promise.reject(No(n));const i=$u(n),s=GP(i,e),c=await new WP(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=10*60*1e3;class rO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vA(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ys(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function sO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,e={}){return Wo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function uO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aO(n);for(const t of e)try{if(cO(t))return}catch{}Rs(n,"unauthorized-domain")}function cO(n){const e=E_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!lO.test(t))return!1;if(oO.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new zh(3e4,6e4);function uw(){const n=$s().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fO(n){return new Promise((e,t)=>{var i,s,l;function c(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),t(Ys(n,"network-request-failed"))},timeout:hO.get()})}if(!((s=(i=$s().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=$s().gapi)===null||l===void 0)&&l.load)c();else{const d=sP("iframefcb");return $s()[d]=()=>{gapi.load?c():t(Ys(n,"network-request-failed"))},iA(`${rP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw vd=null,e})}let vd=null;function dO(n){return vd=vd||fO(n),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new zh(5e3,15e3),mO="__/auth/iframe",gO="emulator/auth/iframe",_O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yO(n){const e=n.config;vt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?uv(e,gO):`https://${n.config.authDomain}/${mO}`,i={apiKey:e.apiKey,appName:n.name,v:Hl},s=vO.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Uh(i).slice(1)}`}async function EO(n){const e=await dO(n),t=$s().gapi;return vt(t,n,"internal-error"),e.open({where:document.body,url:yO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_O,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ys(n,"network-request-failed"),d=$s().setTimeout(()=>{l(c)},pO.get());function p(){$s().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TO=500,bO=600,AO="_blank",SO="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CO(n,e,t,i=TO,s=bO){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},wO),{width:i.toString(),height:s.toString(),top:l,left:c}),m=Ji().toLowerCase();t&&(d=$b(m)?AO:t),Qb(m)&&(e=e||SO,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[C,x])=>`${w}${C}=${x},`,"");if(YM(m)&&d!=="_self")return RO(e||"",d),new cw(null);const E=window.open(e||"",d,_);vt(E,n,"popup-blocked");try{E.focus()}catch{}return new cw(E)}function RO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="__/auth/handler",IO="emulator/auth/handler",kO=encodeURIComponent("fac");async function hw(n,e,t,i,s,l){vt(n.config.authDomain,n,"auth-domain-config-required"),vt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Hl,eventId:s};if(e instanceof aA){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",mk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Fh){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),m=p?`#${kO}=${encodeURIComponent(p)}`:"";return`${MO(n)}?${Uh(d).slice(1)}${m}`}function MO({config:n}){return n.emulator?uv(n,IO):`https://${n.authDomain}/${xO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=nO,this._overrideRedirectResult=JP}async _openPopup(e,t,i,s){var l;ka((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await hw(e,t,i,E_(),s);return CO(e,c,pv())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await hw(e,t,i,E_(),s);return NP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(ka(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await EO(e),i=new rO(e);return t.register("authEvent",s=>(vt(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zg,{type:zg},s=>{var l;const c=(l=s?.[0])===null||l===void 0?void 0:l[zg];c!==void 0&&t(!!c),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tA()||Yb()||hv()}}const OO=PO;var fw="@firebase/auth",dw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LO(n){zo(new xa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;vt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nA(n)},m=new tP(i,s,l,p);return hP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zo(new xa("auth-internal",e=>{const t=$u(e.getProvider("auth").getImmediate());return(i=>new DO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(fw,dw,NO(n)),cs(fw,dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=5*60,UO=Ob("authIdTokenMaxAge")||VO;let pw=null;const BO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>UO)return;const s=t?.token;pw!==s&&(pw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function zO(n=mp()){const e=Bh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cP(n,{popupRedirectResolver:OO,persistence:[qP,PP,fA]}),i=Ob("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=BO(l.toString());xP(t,c,()=>c(t.currentUser)),RP(t,d=>c(d))}}const s=Mb("auth");return s&&fP(t,`http://${s}`),t}function FO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Ys("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",FO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LO("Browser");var mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lo,yA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(G,A){function S(){}S.prototype=A.prototype,G.D=A.prototype,G.prototype=new S,G.prototype.constructor=G,G.C=function(M,D,z){for(var V=Array(arguments.length-2),X=2;X<arguments.length;X++)V[X-2]=arguments[X];return A.prototype[D].apply(M,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(G,A,S){S||(S=0);var M=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)M[D]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(D=0;16>D;++D)M[D]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=G.g[0],S=G.g[1],D=G.g[2];var z=G.g[3],V=A+(z^S&(D^z))+M[0]+3614090360&4294967295;A=S+(V<<7&4294967295|V>>>25),V=z+(D^A&(S^D))+M[1]+3905402710&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(S^z&(A^S))+M[2]+606105819&4294967295,D=z+(V<<17&4294967295|V>>>15),V=S+(A^D&(z^A))+M[3]+3250441966&4294967295,S=D+(V<<22&4294967295|V>>>10),V=A+(z^S&(D^z))+M[4]+4118548399&4294967295,A=S+(V<<7&4294967295|V>>>25),V=z+(D^A&(S^D))+M[5]+1200080426&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(S^z&(A^S))+M[6]+2821735955&4294967295,D=z+(V<<17&4294967295|V>>>15),V=S+(A^D&(z^A))+M[7]+4249261313&4294967295,S=D+(V<<22&4294967295|V>>>10),V=A+(z^S&(D^z))+M[8]+1770035416&4294967295,A=S+(V<<7&4294967295|V>>>25),V=z+(D^A&(S^D))+M[9]+2336552879&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(S^z&(A^S))+M[10]+4294925233&4294967295,D=z+(V<<17&4294967295|V>>>15),V=S+(A^D&(z^A))+M[11]+2304563134&4294967295,S=D+(V<<22&4294967295|V>>>10),V=A+(z^S&(D^z))+M[12]+1804603682&4294967295,A=S+(V<<7&4294967295|V>>>25),V=z+(D^A&(S^D))+M[13]+4254626195&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(S^z&(A^S))+M[14]+2792965006&4294967295,D=z+(V<<17&4294967295|V>>>15),V=S+(A^D&(z^A))+M[15]+1236535329&4294967295,S=D+(V<<22&4294967295|V>>>10),V=A+(D^z&(S^D))+M[1]+4129170786&4294967295,A=S+(V<<5&4294967295|V>>>27),V=z+(S^D&(A^S))+M[6]+3225465664&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^S&(z^A))+M[11]+643717713&4294967295,D=z+(V<<14&4294967295|V>>>18),V=S+(z^A&(D^z))+M[0]+3921069994&4294967295,S=D+(V<<20&4294967295|V>>>12),V=A+(D^z&(S^D))+M[5]+3593408605&4294967295,A=S+(V<<5&4294967295|V>>>27),V=z+(S^D&(A^S))+M[10]+38016083&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^S&(z^A))+M[15]+3634488961&4294967295,D=z+(V<<14&4294967295|V>>>18),V=S+(z^A&(D^z))+M[4]+3889429448&4294967295,S=D+(V<<20&4294967295|V>>>12),V=A+(D^z&(S^D))+M[9]+568446438&4294967295,A=S+(V<<5&4294967295|V>>>27),V=z+(S^D&(A^S))+M[14]+3275163606&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^S&(z^A))+M[3]+4107603335&4294967295,D=z+(V<<14&4294967295|V>>>18),V=S+(z^A&(D^z))+M[8]+1163531501&4294967295,S=D+(V<<20&4294967295|V>>>12),V=A+(D^z&(S^D))+M[13]+2850285829&4294967295,A=S+(V<<5&4294967295|V>>>27),V=z+(S^D&(A^S))+M[2]+4243563512&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^S&(z^A))+M[7]+1735328473&4294967295,D=z+(V<<14&4294967295|V>>>18),V=S+(z^A&(D^z))+M[12]+2368359562&4294967295,S=D+(V<<20&4294967295|V>>>12),V=A+(S^D^z)+M[5]+4294588738&4294967295,A=S+(V<<4&4294967295|V>>>28),V=z+(A^S^D)+M[8]+2272392833&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^S)+M[11]+1839030562&4294967295,D=z+(V<<16&4294967295|V>>>16),V=S+(D^z^A)+M[14]+4259657740&4294967295,S=D+(V<<23&4294967295|V>>>9),V=A+(S^D^z)+M[1]+2763975236&4294967295,A=S+(V<<4&4294967295|V>>>28),V=z+(A^S^D)+M[4]+1272893353&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^S)+M[7]+4139469664&4294967295,D=z+(V<<16&4294967295|V>>>16),V=S+(D^z^A)+M[10]+3200236656&4294967295,S=D+(V<<23&4294967295|V>>>9),V=A+(S^D^z)+M[13]+681279174&4294967295,A=S+(V<<4&4294967295|V>>>28),V=z+(A^S^D)+M[0]+3936430074&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^S)+M[3]+3572445317&4294967295,D=z+(V<<16&4294967295|V>>>16),V=S+(D^z^A)+M[6]+76029189&4294967295,S=D+(V<<23&4294967295|V>>>9),V=A+(S^D^z)+M[9]+3654602809&4294967295,A=S+(V<<4&4294967295|V>>>28),V=z+(A^S^D)+M[12]+3873151461&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^S)+M[15]+530742520&4294967295,D=z+(V<<16&4294967295|V>>>16),V=S+(D^z^A)+M[2]+3299628645&4294967295,S=D+(V<<23&4294967295|V>>>9),V=A+(D^(S|~z))+M[0]+4096336452&4294967295,A=S+(V<<6&4294967295|V>>>26),V=z+(S^(A|~D))+M[7]+1126891415&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~S))+M[14]+2878612391&4294967295,D=z+(V<<15&4294967295|V>>>17),V=S+(z^(D|~A))+M[5]+4237533241&4294967295,S=D+(V<<21&4294967295|V>>>11),V=A+(D^(S|~z))+M[12]+1700485571&4294967295,A=S+(V<<6&4294967295|V>>>26),V=z+(S^(A|~D))+M[3]+2399980690&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~S))+M[10]+4293915773&4294967295,D=z+(V<<15&4294967295|V>>>17),V=S+(z^(D|~A))+M[1]+2240044497&4294967295,S=D+(V<<21&4294967295|V>>>11),V=A+(D^(S|~z))+M[8]+1873313359&4294967295,A=S+(V<<6&4294967295|V>>>26),V=z+(S^(A|~D))+M[15]+4264355552&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~S))+M[6]+2734768916&4294967295,D=z+(V<<15&4294967295|V>>>17),V=S+(z^(D|~A))+M[13]+1309151649&4294967295,S=D+(V<<21&4294967295|V>>>11),V=A+(D^(S|~z))+M[4]+4149444226&4294967295,A=S+(V<<6&4294967295|V>>>26),V=z+(S^(A|~D))+M[11]+3174756917&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~S))+M[2]+718787259&4294967295,D=z+(V<<15&4294967295|V>>>17),V=S+(z^(D|~A))+M[9]+3951481745&4294967295,G.g[0]=G.g[0]+A&4294967295,G.g[1]=G.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,G.g[2]=G.g[2]+D&4294967295,G.g[3]=G.g[3]+z&4294967295}i.prototype.u=function(G,A){A===void 0&&(A=G.length);for(var S=A-this.blockSize,M=this.B,D=this.h,z=0;z<A;){if(D==0)for(;z<=S;)s(this,G,z),z+=this.blockSize;if(typeof G=="string"){for(;z<A;)if(M[D++]=G.charCodeAt(z++),D==this.blockSize){s(this,M),D=0;break}}else for(;z<A;)if(M[D++]=G[z++],D==this.blockSize){s(this,M),D=0;break}}this.h=D,this.o+=A},i.prototype.v=function(){var G=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);G[0]=128;for(var A=1;A<G.length-8;++A)G[A]=0;var S=8*this.o;for(A=G.length-8;A<G.length;++A)G[A]=S&255,S/=256;for(this.u(G),G=Array(16),A=S=0;4>A;++A)for(var M=0;32>M;M+=8)G[S++]=this.g[A]>>>M&255;return G};function l(G,A){var S=d;return Object.prototype.hasOwnProperty.call(S,G)?S[G]:S[G]=A(G)}function c(G,A){this.h=A;for(var S=[],M=!0,D=G.length-1;0<=D;D--){var z=G[D]|0;M&&z==A||(S[D]=z,M=!1)}this.g=S}var d={};function p(G){return-128<=G&&128>G?l(G,function(A){return new c([A|0],0>A?-1:0)}):new c([G|0],0>G?-1:0)}function m(G){if(isNaN(G)||!isFinite(G))return E;if(0>G)return q(m(-G));for(var A=[],S=1,M=0;G>=S;M++)A[M]=G/S|0,S*=4294967296;return new c(A,0)}function _(G,A){if(G.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(G.charAt(0)=="-")return q(_(G.substring(1),A));if(0<=G.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=m(Math.pow(A,8)),M=E,D=0;D<G.length;D+=8){var z=Math.min(8,G.length-D),V=parseInt(G.substring(D,D+z),A);8>z?(z=m(Math.pow(A,z)),M=M.j(z).add(m(V))):(M=M.j(S),M=M.add(m(V)))}return M}var E=p(0),w=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(N(this))return-q(this).m();for(var G=0,A=1,S=0;S<this.g.length;S++){var M=this.i(S);G+=(0<=M?M:4294967296+M)*A,A*=4294967296}return G},n.toString=function(G){if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(x(this))return"0";if(N(this))return"-"+q(this).toString(G);for(var A=m(Math.pow(G,6)),S=this,M="";;){var D=$(S,A).g;S=H(S,D.j(A));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(G);if(S=D,x(S))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},n.i=function(G){return 0>G?0:G<this.g.length?this.g[G]:this.h};function x(G){if(G.h!=0)return!1;for(var A=0;A<G.g.length;A++)if(G.g[A]!=0)return!1;return!0}function N(G){return G.h==-1}n.l=function(G){return G=H(this,G),N(G)?-1:x(G)?0:1};function q(G){for(var A=G.g.length,S=[],M=0;M<A;M++)S[M]=~G.g[M];return new c(S,~G.h).add(w)}n.abs=function(){return N(this)?q(this):this},n.add=function(G){for(var A=Math.max(this.g.length,G.g.length),S=[],M=0,D=0;D<=A;D++){var z=M+(this.i(D)&65535)+(G.i(D)&65535),V=(z>>>16)+(this.i(D)>>>16)+(G.i(D)>>>16);M=V>>>16,z&=65535,V&=65535,S[D]=V<<16|z}return new c(S,S[S.length-1]&-2147483648?-1:0)};function H(G,A){return G.add(q(A))}n.j=function(G){if(x(this)||x(G))return E;if(N(this))return N(G)?q(this).j(q(G)):q(q(this).j(G));if(N(G))return q(this.j(q(G)));if(0>this.l(C)&&0>G.l(C))return m(this.m()*G.m());for(var A=this.g.length+G.g.length,S=[],M=0;M<2*A;M++)S[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<G.g.length;D++){var z=this.i(M)>>>16,V=this.i(M)&65535,X=G.i(D)>>>16,ue=G.i(D)&65535;S[2*M+2*D]+=V*ue,J(S,2*M+2*D),S[2*M+2*D+1]+=z*ue,J(S,2*M+2*D+1),S[2*M+2*D+1]+=V*X,J(S,2*M+2*D+1),S[2*M+2*D+2]+=z*X,J(S,2*M+2*D+2)}for(M=0;M<A;M++)S[M]=S[2*M+1]<<16|S[2*M];for(M=A;M<2*A;M++)S[M]=0;return new c(S,0)};function J(G,A){for(;(G[A]&65535)!=G[A];)G[A+1]+=G[A]>>>16,G[A]&=65535,A++}function Q(G,A){this.g=G,this.h=A}function $(G,A){if(x(A))throw Error("division by zero");if(x(G))return new Q(E,E);if(N(G))return A=$(q(G),A),new Q(q(A.g),q(A.h));if(N(A))return A=$(G,q(A)),new Q(q(A.g),A.h);if(30<G.g.length){if(N(G)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var S=w,M=A;0>=M.l(G);)S=te(S),M=te(M);var D=F(S,1),z=F(M,1);for(M=F(M,2),S=F(S,2);!x(M);){var V=z.add(M);0>=V.l(G)&&(D=D.add(S),z=V),M=F(M,1),S=F(S,1)}return A=H(G,D.j(A)),new Q(D,A)}for(D=E;0<=G.l(A);){for(S=Math.max(1,Math.floor(G.m()/A.m())),M=Math.ceil(Math.log(S)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=m(S),V=z.j(A);N(V)||0<V.l(G);)S-=M,z=m(S),V=z.j(A);x(z)&&(z=w),D=D.add(z),G=H(G,V)}return new Q(D,G)}n.A=function(G){return $(this,G).h},n.and=function(G){for(var A=Math.max(this.g.length,G.g.length),S=[],M=0;M<A;M++)S[M]=this.i(M)&G.i(M);return new c(S,this.h&G.h)},n.or=function(G){for(var A=Math.max(this.g.length,G.g.length),S=[],M=0;M<A;M++)S[M]=this.i(M)|G.i(M);return new c(S,this.h|G.h)},n.xor=function(G){for(var A=Math.max(this.g.length,G.g.length),S=[],M=0;M<A;M++)S[M]=this.i(M)^G.i(M);return new c(S,this.h^G.h)};function te(G){for(var A=G.g.length+1,S=[],M=0;M<A;M++)S[M]=G.i(M)<<1|G.i(M-1)>>>31;return new c(S,G.h)}function F(G,A){var S=A>>5;A%=32;for(var M=G.g.length-S,D=[],z=0;z<M;z++)D[z]=0<A?G.i(z+S)>>>A|G.i(z+S+1)<<32-A:G.i(z+S);return new c(D,G.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,yA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Lo=c}).apply(typeof mw<"u"?mw:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EA,nh,wA,yd,b_,TA,bA,AA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,R,O){return g==Array.prototype||g==Object.prototype||(g[R]=O.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var R=0;R<g.length;++R){var O=g[R];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var i=t(this);function s(g,R){if(R)e:{var O=i;g=g.split(".");for(var Y=0;Y<g.length-1;Y++){var me=g[Y];if(!(me in O))break e;O=O[me]}g=g[g.length-1],Y=O[g],R=R(Y),R!=Y&&R!=null&&e(O,g,{configurable:!0,writable:!0,value:R})}}function l(g,R){g instanceof String&&(g+="");var O=0,Y=!1,me={next:function(){if(!Y&&O<g.length){var Se=O++;return{value:R(Se,g[Se]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}s("Array.prototype.values",function(g){return g||function(){return l(this,function(R,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(g){var R=typeof g;return R=R!="object"?R:g?Array.isArray(g)?"array":R:"null",R=="array"||R=="object"&&typeof g.length=="number"}function m(g){var R=typeof g;return R=="object"&&g!=null||R=="function"}function _(g,R,O){return g.call.apply(g.bind,arguments)}function E(g,R,O){if(!g)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,Y),g.apply(R,me)}}return function(){return g.apply(R,arguments)}}function w(g,R,O){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,w.apply(null,arguments)}function C(g,R){var O=Array.prototype.slice.call(arguments,1);return function(){var Y=O.slice();return Y.push.apply(Y,arguments),g.apply(this,Y)}}function x(g,R){function O(){}O.prototype=R.prototype,g.aa=R.prototype,g.prototype=new O,g.prototype.constructor=g,g.Qb=function(Y,me,Se){for(var Be=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)Be[Qt-2]=arguments[Qt];return R.prototype[me].apply(Y,Be)}}function N(g){const R=g.length;if(0<R){const O=Array(R);for(let Y=0;Y<R;Y++)O[Y]=g[Y];return O}return[]}function q(g,R){for(let O=1;O<arguments.length;O++){const Y=arguments[O];if(p(Y)){const me=g.length||0,Se=Y.length||0;g.length=me+Se;for(let Be=0;Be<Se;Be++)g[me+Be]=Y[Be]}else g.push(Y)}}class H{constructor(R,O){this.i=R,this.j=O,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function J(g){return/^[\s\xa0]*$/.test(g)}function Q(){var g=d.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var te=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function F(g,R,O){for(const Y in g)R.call(O,g[Y],Y,g)}function G(g,R){for(const O in g)R.call(void 0,g[O],O,g)}function A(g){const R={};for(const O in g)R[O]=g[O];return R}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,R){let O,Y;for(let me=1;me<arguments.length;me++){Y=arguments[me];for(O in Y)g[O]=Y[O];for(let Se=0;Se<S.length;Se++)O=S[Se],Object.prototype.hasOwnProperty.call(Y,O)&&(g[O]=Y[O])}}function D(g){var R=1;g=g.split(":");const O=[];for(;0<R&&g.length;)O.push(g.shift()),R--;return g.length&&O.push(g.join(":")),O}function z(g){d.setTimeout(()=>{throw g},0)}function V(){var g=ee;let R=null;return g.g&&(R=g.g,g.g=g.g.next,g.g||(g.h=null),R.next=null),R}class X{constructor(){this.h=this.g=null}add(R,O){const Y=ue.get();Y.set(R,O),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var ue=new H(()=>new B,g=>g.reset());class B{constructor(){this.next=this.g=this.h=null}set(R,O){this.h=R,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let P,W=!1,ee=new X,j=()=>{const g=d.Promise.resolve(void 0);P=()=>{g.then(ne)}};var ne=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(O){z(O)}var R=ue;R.j(g),100>R.h&&(R.h++,g.next=R.g,R.g=g)}W=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(g,R){this.type=g,this.g=this.target=R,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var g=!1,R=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};d.addEventListener("test",O,R),d.removeEventListener("test",O,R)}catch{}return g}();function le(g,R){if(ie.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var O=this.type=g.type,Y=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=R,R=g.relatedTarget){if(te){e:{try{$(R.nodeName);var me=!0;break e}catch{}me=!1}me||(R=null)}}else O=="mouseover"?R=g.fromElement:O=="mouseout"&&(R=g.toElement);this.relatedTarget=R,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ee[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&le.aa.h.call(this)}}x(le,ie);var Ee={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),De=0;function Fe(g,R,O,Y,me){this.listener=g,this.proxy=null,this.src=R,this.type=O,this.capture=!!Y,this.ha=me,this.key=++De,this.da=this.fa=!1}function je(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ze(g){this.src=g,this.g={},this.h=0}ze.prototype.add=function(g,R,O,Y,me){var Se=g.toString();g=this.g[Se],g||(g=this.g[Se]=[],this.h++);var Be=kt(g,R,Y,me);return-1<Be?(R=g[Be],O||(R.fa=!1)):(R=new Fe(R,this.src,Se,!!Y,me),R.fa=O,g.push(R)),R};function et(g,R){var O=R.type;if(O in g.g){var Y=g.g[O],me=Array.prototype.indexOf.call(Y,R,void 0),Se;(Se=0<=me)&&Array.prototype.splice.call(Y,me,1),Se&&(je(R),g.g[O].length==0&&(delete g.g[O],g.h--))}}function kt(g,R,O,Y){for(var me=0;me<g.length;++me){var Se=g[me];if(!Se.da&&Se.listener==R&&Se.capture==!!O&&Se.ha==Y)return me}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),Ne={};function Le(g,R,O,Y,me){if(Array.isArray(R)){for(var Se=0;Se<R.length;Se++)Le(g,R[Se],O,Y,me);return null}return O=Xt(O),g&&g[Ze]?g.K(R,O,m(Y)?!!Y.capture:!1,me):He(g,R,O,!1,Y,me)}function He(g,R,O,Y,me,Se){if(!R)throw Error("Invalid event type");var Be=m(me)?!!me.capture:!!me,Qt=Mt(g);if(Qt||(g[Te]=Qt=new ze(g)),O=Qt.add(R,O,Y,Be,Se),O.proxy)return O;if(Y=Ue(),O.proxy=Y,Y.src=g,Y.listener=O,g.addEventListener)he||(me=Be),me===void 0&&(me=!1),g.addEventListener(R.toString(),Y,me);else if(g.attachEvent)g.attachEvent(It(R.toString()),Y);else if(g.addListener&&g.removeListener)g.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ue(){function g(O){return R.call(g.src,g.listener,O)}const R=Pt;return g}function rt(g,R,O,Y,me){if(Array.isArray(R))for(var Se=0;Se<R.length;Se++)rt(g,R[Se],O,Y,me);else Y=m(Y)?!!Y.capture:!!Y,O=Xt(O),g&&g[Ze]?(g=g.i,R=String(R).toString(),R in g.g&&(Se=g.g[R],O=kt(Se,O,Y,me),-1<O&&(je(Se[O]),Array.prototype.splice.call(Se,O,1),Se.length==0&&(delete g.g[R],g.h--)))):g&&(g=Mt(g))&&(R=g.g[R.toString()],g=-1,R&&(g=kt(R,O,Y,me)),(O=-1<g?R[g]:null)&&dt(O))}function dt(g){if(typeof g!="number"&&g&&!g.da){var R=g.src;if(R&&R[Ze])et(R.i,g);else{var O=g.type,Y=g.proxy;R.removeEventListener?R.removeEventListener(O,Y,g.capture):R.detachEvent?R.detachEvent(It(O),Y):R.addListener&&R.removeListener&&R.removeListener(Y),(O=Mt(R))?(et(O,g),O.h==0&&(O.src=null,R[Te]=null)):je(g)}}}function It(g){return g in Ne?Ne[g]:Ne[g]="on"+g}function Pt(g,R){if(g.da)g=!0;else{R=new le(R,this);var O=g.listener,Y=g.ha||g.src;g.fa&&dt(g),g=O.call(Y,R)}return g}function Mt(g){return g=g[Te],g instanceof ze?g:null}var ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xt(g){return typeof g=="function"?g:(g[ct]||(g[ct]=function(R){return g.handleEvent(R)}),g[ct])}function tt(){ae.call(this),this.i=new ze(this),this.M=this,this.F=null}x(tt,ae),tt.prototype[Ze]=!0,tt.prototype.removeEventListener=function(g,R,O,Y){rt(this,g,R,O,Y)};function nt(g,R){var O,Y=g.F;if(Y)for(O=[];Y;Y=Y.F)O.push(Y);if(g=g.M,Y=R.type||R,typeof R=="string")R=new ie(R,g);else if(R instanceof ie)R.target=R.target||g;else{var me=R;R=new ie(Y,g),M(R,me)}if(me=!0,O)for(var Se=O.length-1;0<=Se;Se--){var Be=R.g=O[Se];me=bt(Be,Y,!0,R)&&me}if(Be=R.g=g,me=bt(Be,Y,!0,R)&&me,me=bt(Be,Y,!1,R)&&me,O)for(Se=0;Se<O.length;Se++)Be=R.g=O[Se],me=bt(Be,Y,!1,R)&&me}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var g=this.i,R;for(R in g.g){for(var O=g.g[R],Y=0;Y<O.length;Y++)je(O[Y]);delete g.g[R],g.h--}}this.F=null},tt.prototype.K=function(g,R,O,Y){return this.i.add(String(g),R,!1,O,Y)},tt.prototype.L=function(g,R,O,Y){return this.i.add(String(g),R,!0,O,Y)};function bt(g,R,O,Y){if(R=g.i.g[String(R)],!R)return!0;R=R.concat();for(var me=!0,Se=0;Se<R.length;++Se){var Be=R[Se];if(Be&&!Be.da&&Be.capture==O){var Qt=Be.listener,qn=Be.ha||Be.src;Be.fa&&et(g.i,Be),me=Qt.call(qn,Y)!==!1&&me}}return me&&!Y.defaultPrevented}function tn(g,R,O){if(typeof g=="function")O&&(g=w(g,O));else if(g&&typeof g.handleEvent=="function")g=w(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:d.setTimeout(g,R||0)}function yn(g){g.g=tn(()=>{g.g=null,g.i&&(g.i=!1,yn(g))},g.l);const R=g.h;g.h=null,g.m.apply(null,R)}class nn extends ae{constructor(R,O){super(),this.m=R,this.l=O,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(g){ae.call(this),this.h=g,this.g={}}x(Kt,ae);var mn=[];function En(g){F(g.g,function(R,O){this.g.hasOwnProperty(O)&&dt(R)},g),g.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),En(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=d.JSON.stringify,er=d.JSON.parse,ti=class{stringify(g){return d.JSON.stringify(g,void 0)}parse(g){return d.JSON.parse(g,void 0)}};function fr(){}fr.prototype.h=null;function dr(g){return g.h||(g.h=g.i())}function zi(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){ie.call(this,"d")}x(Bn,ie);function ci(){ie.call(this,"c")}x(ci,ie);var Nn={},_i=null;function tr(){return _i=_i||new tt}Nn.La="serverreachability";function vi(g){ie.call(this,Nn.La,g)}x(vi,ie);function oe(g){const R=tr();nt(R,new vi(R))}Nn.STAT_EVENT="statevent";function pe(g,R){ie.call(this,Nn.STAT_EVENT,g),this.stat=R}x(pe,ie);function ve(g){const R=tr();nt(R,new pe(R,g))}Nn.Ma="timingevent";function ke(g,R){ie.call(this,Nn.Ma,g),this.size=R}x(ke,ie);function Ve(g,R){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){g()},R)}function Ke(){this.g=!0}Ke.prototype.xa=function(){this.g=!1};function Xe(g,R,O,Y,me,Se){g.info(function(){if(g.g)if(Se)for(var Be="",Qt=Se.split("&"),qn=0;qn<Qt.length;qn++){var Yt=Qt[qn].split("=");if(1<Yt.length){var fn=Yt[0];Yt=Yt[1];var In=fn.split("_");Be=2<=In.length&&In[1]=="type"?Be+(fn+"="+Yt+"&"):Be+(fn+"=redacted&")}}else Be=null;else Be=Se;return"XMLHTTP REQ ("+Y+") [attempt "+me+"]: "+R+`
`+O+`
`+Be})}function Ce(g,R,O,Y,me,Se,Be){g.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+me+"]: "+R+`
`+O+`
`+Se+" "+Be})}function $e(g,R,O,Y){g.info(function(){return"XMLHTTP TEXT ("+R+"): "+ht(g,O)+(Y?" "+Y:"")})}function Ye(g,R){g.info(function(){return"TIMEOUT: "+R})}Ke.prototype.info=function(){};function ht(g,R){if(!g.g)return R;if(!R)return null;try{var O=JSON.parse(R);if(O){for(g=0;g<O.length;g++)if(Array.isArray(O[g])){var Y=O[g];if(!(2>Y.length)){var me=Y[1];if(Array.isArray(me)&&!(1>me.length)){var Se=me[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var Be=1;Be<me.length;Be++)me[Be]=""}}}}return Dn(O)}catch{return R}}var ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nt;function Ft(){}x(Ft,fr),Ft.prototype.g=function(){return new XMLHttpRequest},Ft.prototype.i=function(){return{}},Nt=new Ft;function Jt(g,R,O,Y){this.j=g,this.i=R,this.l=O,this.R=Y||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jt}function jt(){this.i=null,this.g="",this.h=!1}var Lt={},pr={};function Yn(g,R,O){g.L=1,g.v=rr(xn(R)),g.m=O,g.P=!0,yi(g,null)}function yi(g,R){g.F=Date.now(),ir(g),g.A=xn(g.v);var O=g.A,Y=g.R;Array.isArray(Y)||(Y=[String(Y)]),il(O.i,"t",Y),g.C=0,O=g.j.J,g.h=new jt,g.g=$l(g.j,O?R:null,!g.m),0<g.O&&(g.M=new nn(w(g.Y,g,g.g),g.O)),R=g.U,O=g.g,Y=g.ca;var me="readystatechange";Array.isArray(me)||(me&&(mn[0]=me.toString()),me=mn);for(var Se=0;Se<me.length;Se++){var Be=Le(O,me[Se],Y||R.handleEvent,!1,R.h||R);if(!Be)break;R.g[Be.key]=Be}R=g.H?A(g.H):{},g.m?(g.u||(g.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,R)):(g.u="GET",g.g.ea(g.A,g.u,null,R)),oe(),Xe(g.i,g.u,g.A,g.l,g.R,g.m)}Jt.prototype.ca=function(g){g=g.target;const R=this.M;R&&bi(g)==3?R.j():this.Y(g)},Jt.prototype.Y=function(g){try{if(g==this.g)e:{const In=bi(this.g);var R=this.g.Ba();const vs=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||rl(this.g)))){this.J||In!=4||R==7||(R==8||0>=vs?oe(3):oe(2)),Ei(this);var O=this.g.Z();this.X=O;t:if(hi(this)){var Y=rl(this.g);g="";var me=Y.length,Se=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Et(this),ki(this);var Be="";break t}this.h.i=new d.TextDecoder}for(R=0;R<me;R++)this.h.h=!0,g+=this.h.i.decode(Y[R],{stream:!(Se&&R==me-1)});Y.length=0,this.h.g+=g,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=O==200,Ce(this.i,this.u,this.A,this.l,this.R,In,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,qn=this.g;if((Qt=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Qt)){var Yt=Qt;break t}}Yt=null}if(O=Yt)$e(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ln(this,O);else{this.o=!1,this.s=3,ve(12),Et(this),ki(this);break e}}if(this.P){O=!0;let Cn;for(;!this.J&&this.C<Be.length;)if(Cn=nr(this,Be),Cn==pr){In==4&&(this.s=4,ve(14),O=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Lt){this.s=4,ve(15),$e(this.i,this.l,Be,"[Invalid Chunk]"),O=!1;break}else $e(this.i,this.l,Cn,null),Ln(this,Cn);if(hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Be.length!=0||this.h.h||(this.s=1,ve(16),O=!1),this.o=this.o&&O,!O)$e(this.i,this.l,Be,"[Invalid Chunked Response]"),Et(this),ki(this);else if(0<Be.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),Ns(fn),fn.M=!0,ve(11))}}else $e(this.i,this.l,Be,null),Ln(this,Be);In==4&&Et(this),this.o&&!this.J&&(In==4?al(this.j,this):(this.o=!1,ir(this)))}else ic(this.g),O==400&&0<Be.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),Et(this),ki(this)}}}catch{}finally{}};function hi(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function nr(g,R){var O=g.C,Y=R.indexOf(`
`,O);return Y==-1?pr:(O=Number(R.substring(O,Y)),isNaN(O)?Lt:(Y+=1,Y+O>R.length?pr:(R=R.slice(Y,Y+O),g.C=Y+O,R)))}Jt.prototype.cancel=function(){this.J=!0,Et(this)};function ir(g){g.S=Date.now()+g.I,ks(g,g.I)}function ks(g,R){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ve(w(g.ba,g),R)}function Ei(g){g.B&&(d.clearTimeout(g.B),g.B=null)}Jt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ye(this.i,this.A),this.L!=2&&(oe(),ve(17)),Et(this),this.s=2,ki(this)):ks(this,this.S-g)};function ki(g){g.j.G==0||g.J||al(g.j,g)}function Et(g){Ei(g);var R=g.M;R&&typeof R.ma=="function"&&R.ma(),g.M=null,En(g.U),g.g&&(R=g.g,g.g=null,R.abort(),R.ma())}function Ln(g,R){try{var O=g.j;if(O.G!=0&&(O.g==g||Ct(O.h,g))){if(!g.K&&Ct(O.h,g)&&O.G==3){try{var Y=O.Da.g.parse(R)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var me=Y;if(me[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<g.F)qa(O),Fa(O);else break e;ja(O),ve(18)}}else O.za=me[1],0<O.za-O.T&&37500>me[2]&&O.F&&O.v==0&&!O.C&&(O.C=Ve(w(O.Za,O),6e3));if(1>=on(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else _s(O,11)}else if((g.K||O.g==g)&&qa(O),!J(R))for(me=O.Da.g.parse(R),R=0;R<me.length;R++){let Yt=me[R];if(O.T=Yt[0],Yt=Yt[1],O.G==2)if(Yt[0]=="c"){O.K=Yt[1],O.ia=Yt[2];const fn=Yt[3];fn!=null&&(O.la=fn,O.j.info("VER="+O.la));const In=Yt[4];In!=null&&(O.Aa=In,O.j.info("SVER="+O.Aa));const vs=Yt[5];vs!=null&&typeof vs=="number"&&0<vs&&(Y=1.5*vs,O.L=Y,O.j.info("backChannelRequestTimeoutMs_="+Y)),Y=O;const Cn=g.g;if(Cn){const Jr=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var Se=Y.h;Se.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(ln(Se,Se.h),Se.h=null))}if(Y.D){const es=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;es&&(Y.ya=es,_t(Y.I,Y.D,es))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-g.F,O.j.info("Handshake RTT: "+O.R+"ms")),Y=O;var Be=g;if(Y.qa=Za(Y,Y.J?Y.ia:null,Y.W),Be.K){Hn(Y.h,Be);var Qt=Be,qn=Y.L;qn&&(Qt.I=qn),Qt.B&&(Ei(Qt),ir(Qt)),Y.g=Be}else Pr(Y);0<O.i.length&&Ds(O)}else Yt[0]!="stop"&&Yt[0]!="close"||_s(O,7);else O.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?_s(O,7):za(O):Yt[0]!="noop"&&O.l&&O.l.ta(Yt),O.v=0)}}oe(4)}catch{}}var fi=class{constructor(g,R){this.g=g,this.map=R}};function Mi(g){this.l=g||10,d.PerformanceNavigationTiming?(g=d.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cr(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function on(g){return g.h?1:g.g?g.g.size:0}function Ct(g,R){return g.h?g.h==R:g.g?g.g.has(R):!1}function ln(g,R){g.g?g.g.add(R):g.h=R}function Hn(g,R){g.h&&g.h==R?g.h=null:g.g&&g.g.has(R)&&g.g.delete(R)}Mi.prototype.cancel=function(){if(this.i=Yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Yr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let R=g.i;for(const O of g.g.values())R=R.concat(O.D);return R}return N(g.i)}function Ms(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(p(g)){for(var R=[],O=g.length,Y=0;Y<O;Y++)R.push(g[Y]);return R}R=[],O=0;for(Y in g)R[O++]=g[Y];return R}function Ps(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(p(g)||typeof g=="string"){var R=[];g=g.length;for(var O=0;O<g;O++)R.push(O);return R}R=[],O=0;for(const Y in g)R[O++]=Y;return R}}}function At(g,R){if(g.forEach&&typeof g.forEach=="function")g.forEach(R,void 0);else if(p(g)||typeof g=="string")Array.prototype.forEach.call(g,R,void 0);else for(var O=Ps(g),Y=Ms(g),me=Y.length,Se=0;Se<me;Se++)R.call(void 0,Y[Se],O&&O[Se],g)}var gn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tl(g,R){if(g){g=g.split("&");for(var O=0;O<g.length;O++){var Y=g[O].indexOf("="),me=null;if(0<=Y){var Se=g[O].substring(0,Y);me=g[O].substring(Y+1)}else Se=g[O];R(Se,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function On(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof On){this.h=g.h,ra(this,g.j),this.o=g.o,this.g=g.g,Rr(this,g.s),this.l=g.l;var R=g.i,O=new Ir;O.i=R.i,R.g&&(O.g=new Map(R.g),O.h=R.h),Pi(this,O),this.m=g.m}else g&&(R=String(g).match(gn))?(this.h=!1,ra(this,R[1]||"",!0),this.o=wi(R[2]||""),this.g=wi(R[3]||"",!0),Rr(this,R[4]),this.l=wi(R[5]||"",!0),Pi(this,R[6]||"",!0),this.m=wi(R[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}On.prototype.toString=function(){var g=[],R=this.j;R&&g.push(xr(R,fs,!0),":");var O=this.g;return(O||R=="file")&&(g.push("//"),(R=this.o)&&g.push(xr(R,fs,!0),"@"),g.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&g.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(xr(O,O.charAt(0)=="/"?nl:sa,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",xr(O,Os)),g.join("")};function xn(g){return new On(g)}function ra(g,R,O){g.j=O?wi(R,!0):R,g.j&&(g.j=g.j.replace(/:$/,""))}function Rr(g,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);g.s=R}else g.s=null}function Pi(g,R,O){R instanceof Ir?(g.i=R,sr(g.i,g.h)):(O||(R=xr(R,Va)),g.i=new Ir(R,g.h))}function _t(g,R,O){g.i.set(R,O)}function rr(g){return _t(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function wi(g,R){return g?R?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function xr(g,R,O){return typeof g=="string"?(g=encodeURI(g).replace(R,La),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function La(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var fs=/[#\/\?@]/g,sa=/[#\?:]/g,nl=/[#\?]/g,Va=/[#\?@]/g,Os=/#/g;function Ir(g,R){this.h=this.g=null,this.i=g||null,this.j=!!R}function Oi(g){g.g||(g.g=new Map,g.h=0,g.i&&tl(g.i,function(R,O){g.add(decodeURIComponent(R.replace(/\+/g," ")),O)}))}n=Ir.prototype,n.add=function(g,R){Oi(this),this.i=null,g=ft(this,g);var O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(R),this.h+=1,this};function $r(g,R){Oi(g),R=ft(g,R),g.g.has(R)&&(g.i=null,g.h-=g.g.get(R).length,g.g.delete(R))}function kr(g,R){return Oi(g),R=ft(g,R),g.g.has(R)}n.forEach=function(g,R){Oi(this),this.g.forEach(function(O,Y){O.forEach(function(me){g.call(R,me,Y,this)},this)},this)},n.na=function(){Oi(this);const g=Array.from(this.g.values()),R=Array.from(this.g.keys()),O=[];for(let Y=0;Y<R.length;Y++){const me=g[Y];for(let Se=0;Se<me.length;Se++)O.push(R[Y])}return O},n.V=function(g){Oi(this);let R=[];if(typeof g=="string")kr(this,g)&&(R=R.concat(this.g.get(ft(this,g))));else{g=Array.from(this.g.values());for(let O=0;O<g.length;O++)R=R.concat(g[O])}return R},n.set=function(g,R){return Oi(this),this.i=null,g=ft(this,g),kr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[R]),this.h+=1,this},n.get=function(g,R){return g?(g=this.V(g),0<g.length?String(g[0]):R):R};function il(g,R,O){$r(g,R),0<O.length&&(g.i=null,g.g.set(ft(g,R),N(O)),g.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],R=Array.from(this.g.keys());for(var O=0;O<R.length;O++){var Y=R[O];const Se=encodeURIComponent(String(Y)),Be=this.V(Y);for(Y=0;Y<Be.length;Y++){var me=Se;Be[Y]!==""&&(me+="="+encodeURIComponent(String(Be[Y]))),g.push(me)}}return this.i=g.join("&")};function ft(g,R){return R=String(R),g.j&&(R=R.toLowerCase()),R}function sr(g,R){R&&!g.j&&(Oi(g),g.i=null,g.g.forEach(function(O,Y){var me=Y.toLowerCase();Y!=me&&($r(this,Y),il(this,me,O))},g)),g.j=R}function rn(g,R){const O=new Ke;if(d.Image){const Y=new Image;Y.onload=C(Fi,O,"TestLoadImage: loaded",!0,R,Y),Y.onerror=C(Fi,O,"TestLoadImage: error",!1,R,Y),Y.onabort=C(Fi,O,"TestLoadImage: abort",!1,R,Y),Y.ontimeout=C(Fi,O,"TestLoadImage: timeout",!1,R,Y),d.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=g}else R(!1)}function mr(g,R){const O=new Ke,Y=new AbortController,me=setTimeout(()=>{Y.abort(),Fi(O,"TestPingServer: timeout",!1,R)},1e4);fetch(g,{signal:Y.signal}).then(Se=>{clearTimeout(me),Se.ok?Fi(O,"TestPingServer: ok",!0,R):Fi(O,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(me),Fi(O,"TestPingServer: error",!1,R)})}function Fi(g,R,O,Y,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),Y(O)}catch{}}function ds(){this.g=new ti}function gr(g,R,O){const Y=O||"";try{At(g,function(me,Se){let Be=me;m(me)&&(Be=Dn(me)),R.push(Y+Se+"="+encodeURIComponent(Be))})}catch(me){throw R.push(Y+"type="+encodeURIComponent("_badmap")),me}}function ji(g){this.l=g.Ub||null,this.j=g.eb||!1}x(ji,fr),ji.prototype.g=function(){return new Mr(this.l,this.j)},ji.prototype.i=function(g){return function(){return g}}({});function Mr(g,R){tt.call(this),this.D=g,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Mr,tt),n=Mr.prototype,n.open=function(g,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=R,this.readyState=1,Ti(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(R.body=g),(this.D||d).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ps(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function ps(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var R=g.value?g.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!g.done}))&&(this.response=this.responseText+=R)}g.done?wn(this):Ti(this),this.readyState==3&&ps(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,wn(this))},n.Qa=function(g){this.g&&(this.response=g,wn(this))},n.ga=function(){this.g&&wn(this)};function wn(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ti(g)}n.setRequestHeader=function(g,R){this.u.append(g,R)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],R=this.h.entries();for(var O=R.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=R.next();return g.join(`\r
`)};function Ti(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ua(g){let R="";return F(g,function(O,Y){R+=Y,R+=":",R+=O,R+=`\r
`}),R}function $n(g,R,O){e:{for(Y in O){var Y=!1;break e}Y=!0}Y||(O=Ua(O),typeof g=="string"?O!=null&&encodeURIComponent(String(O)):_t(g,R,O))}function un(g){tt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(un,tt);var aa=/^https?$/i,ms=["POST","PUT"];n=un.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,R,O,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);R=R?R.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nt.g(),this.v=this.o?dr(this.o):dr(Nt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(R,String(g),!0),this.B=!1}catch(Se){Kl(this,Se);return}if(g=O||"",O=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var me in Y)O.set(me,Y[me]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Se of Y.keys())O.set(Se,Y.get(Se));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(O.keys()).find(Se=>Se.toLowerCase()=="content-type"),me=d.FormData&&g instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ms,R,void 0))||Y||me||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,Be]of O)this.g.setRequestHeader(Se,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{di(this),this.u=!0,this.g.send(g),this.u=!1}catch(Se){Kl(this,Se)}};function Kl(g,R){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=R,g.m=5,oa(g),Wr(g)}function oa(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),Wr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),un.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ot(this):this.bb())},n.bb=function(){Ot(this)};function Ot(g){if(g.h&&typeof c<"u"&&(!g.v[1]||bi(g)!=4||g.Z()!=2)){if(g.u&&bi(g)==4)tn(g.Ea,0,g);else if(nt(g,"readystatechange"),bi(g)==4){g.h=!1;try{const Be=g.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var O;if(!(O=R)){var Y;if(Y=Be===0){var me=String(g.D).match(gn)[1]||null;!me&&d.self&&d.self.location&&(me=d.self.location.protocol.slice(0,-1)),Y=!aa.test(me?me.toLowerCase():"")}O=Y}if(O)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var Se=2<bi(g)?g.g.statusText:""}catch{Se=""}g.l=Se+" ["+g.Z()+"]",oa(g)}}finally{Wr(g)}}}}function Wr(g,R){if(g.g){di(g);const O=g.g,Y=g.v[0]?()=>{}:null;g.g=null,g.v=null,R||nt(g,"ready");try{O.onreadystatechange=Y}catch{}}}function di(g){g.I&&(d.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function bi(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var R=this.g.responseText;return g&&R.indexOf(g)==0&&(R=R.substring(g.length)),er(R)}};function rl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ic(g){const R={};g=(g.g&&2<=bi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<g.length;Y++){if(J(g[Y]))continue;var O=D(g[Y]);const me=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Se=R[me]||[];R[me]=Se,Se.push(O)}G(R,function(Y){return Y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(g,R,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||R}function Ba(g){this.Aa=0,this.i=[],this.j=new Ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,g),this.cb=gs("retryDelaySeedMs",1e4,g),this.Wa=gs("forwardChannelMaxRetries",2,g),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Mi(g&&g.concurrentRequestLimit),this.Da=new ds,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(g,R,O,Y){ve(0),this.W=g,this.H=R||{},O&&Y!==void 0&&(this.H.OSID=O,this.H.OAID=Y),this.F=this.X,this.I=Za(this,null,this.W),Ds(this)};function za(g){if(Ql(g),g.G==3){var R=g.U++,O=xn(g.I);if(_t(O,"SID",g.K),_t(O,"RID",R),_t(O,"TYPE","terminate"),la(g,O),R=new Jt(g,g.j,R),R.L=2,R.v=rr(xn(O)),O=!1,d.navigator&&d.navigator.sendBeacon)try{O=d.navigator.sendBeacon(R.v.toString(),"")}catch{}!O&&d.Image&&(new Image().src=R.v,O=!0),O||(R.g=$l(R.j,null),R.g.ea(R.v)),R.F=Date.now(),ir(R)}Yl(g)}function Fa(g){g.g&&(Ns(g),g.g.cancel(),g.g=null)}function Ql(g){Fa(g),g.u&&(d.clearTimeout(g.u),g.u=null),qa(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&d.clearTimeout(g.s),g.s=null)}function Ds(g){if(!Cr(g.h)&&!g.s){g.s=!0;var R=g.Ga;P||j(),W||(P(),W=!0),ee.add(R,g),g.B=0}}function rc(g,R){return on(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=R.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ve(w(g.Ga,g,R),Ga(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const me=new Jt(this,this.j,g);let Se=this.o;if(this.S&&(Se?(Se=A(Se),M(Se,this.S)):Se=this.S),this.m!==null||this.O||(me.H=Se,Se=null),this.P)e:{for(var R=0,O=0;O<this.i.length;O++){t:{var Y=this.i[O];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(R+=Y,4096<R){R=O;break e}if(R===4096||O===this.i.length-1){R=O+1;break e}}R=1e3}else R=1e3;R=sl(this,me,R),O=xn(this.I),_t(O,"RID",g),_t(O,"CVER",22),this.D&&_t(O,"X-HTTP-Session-Id",this.D),la(this,O),Se&&(this.O?R="headers="+encodeURIComponent(String(Ua(Se)))+"&"+R:this.m&&$n(O,this.m,Se)),ln(this.h,me),this.Ua&&_t(O,"TYPE","init"),this.P?(_t(O,"$req",R),_t(O,"SID","null"),me.T=!0,Yn(me,O,null)):Yn(me,O,R),this.G=2}}else this.G==3&&(g?Hi(this,g):this.i.length==0||Cr(this.h)||Hi(this))};function Hi(g,R){var O;R?O=R.l:O=g.U++;const Y=xn(g.I);_t(Y,"SID",g.K),_t(Y,"RID",O),_t(Y,"AID",g.T),la(g,Y),g.m&&g.o&&$n(Y,g.m,g.o),O=new Jt(g,g.j,O,g.B+1),g.m===null&&(O.H=g.o),R&&(g.i=R.D.concat(g.i)),R=sl(g,O,1e3),O.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ln(g.h,O),Yn(O,Y,R)}function la(g,R){g.H&&F(g.H,function(O,Y){_t(R,Y,O)}),g.l&&At({},function(O,Y){_t(R,Y,O)})}function sl(g,R,O){O=Math.min(g.i.length,O);var Y=g.l?w(g.l.Na,g.l,g):null;e:{var me=g.i;let Se=-1;for(;;){const Be=["count="+O];Se==-1?0<O?(Se=me[0].g,Be.push("ofs="+Se)):Se=0:Be.push("ofs="+Se);let Qt=!0;for(let qn=0;qn<O;qn++){let Yt=me[qn].g;const fn=me[qn].map;if(Yt-=Se,0>Yt)Se=Math.max(0,me[qn].g-100),Qt=!1;else try{gr(fn,Be,"req"+Yt+"_")}catch{Y&&Y(fn)}}if(Qt){Y=Be.join("&");break e}}}return g=g.i.splice(0,O),R.D=g,Y}function Pr(g){if(!g.g&&!g.u){g.Y=1;var R=g.Fa;P||j(),W||(P(),W=!0),ee.add(R,g),g.v=0}}function ja(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ve(w(g.Fa,g),Ga(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Ha(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ve(w(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),Fa(this),Ha(this))};function Ns(g){g.A!=null&&(d.clearTimeout(g.A),g.A=null)}function Ha(g){g.g=new Jt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var R=xn(g.qa);_t(R,"RID","rpc"),_t(R,"SID",g.K),_t(R,"AID",g.T),_t(R,"CI",g.F?"0":"1"),!g.F&&g.ja&&_t(R,"TO",g.ja),_t(R,"TYPE","xmlhttp"),la(g,R),g.m&&g.o&&$n(R,g.m,g.o),g.L&&(g.g.I=g.L);var O=g.g;g=g.ia,O.L=1,O.v=rr(xn(R)),O.m=null,O.P=!0,yi(O,g)}n.Za=function(){this.C!=null&&(this.C=null,Fa(this),ja(this),ve(19))};function qa(g){g.C!=null&&(d.clearTimeout(g.C),g.C=null)}function al(g,R){var O=null;if(g.g==R){qa(g),Ns(g),g.g=null;var Y=2}else if(Ct(g.h,R))O=R.D,Hn(g.h,R),Y=1;else return;if(g.G!=0){if(R.o)if(Y==1){O=R.m?R.m.length:0,R=Date.now()-R.F;var me=g.B;Y=tr(),nt(Y,new ke(Y,O)),Ds(g)}else Pr(g);else if(me=R.s,me==3||me==0&&0<R.X||!(Y==1&&rc(g,R)||Y==2&&ja(g)))switch(O&&0<O.length&&(R=g.h,R.i=R.i.concat(O)),me){case 1:_s(g,5);break;case 4:_s(g,10);break;case 3:_s(g,6);break;default:_s(g,2)}}}function Ga(g,R){let O=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(O*=2),O*R}function _s(g,R){if(g.j.info("Error code "+R),R==2){var O=w(g.fb,g),Y=g.Xa;const me=!Y;Y=new On(Y||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ra(Y,"https"),rr(Y),me?rn(Y.toString(),O):mr(Y.toString(),O)}else ve(2);g.G=0,g.l&&g.l.sa(R),Yl(g),Ql(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Yl(g){if(g.G=0,g.ka=[],g.l){const R=Yr(g.h);(R.length!=0||g.i.length!=0)&&(q(g.ka,R),q(g.ka,g.i),g.h.i.length=0,N(g.i),g.i.length=0),g.l.ra()}}function Za(g,R,O){var Y=O instanceof On?xn(O):new On(O);if(Y.g!="")R&&(Y.g=R+"."+Y.g),Rr(Y,Y.s);else{var me=d.location;Y=me.protocol,R=R?R+"."+me.hostname:me.hostname,me=+me.port;var Se=new On(null);Y&&ra(Se,Y),R&&(Se.g=R),me&&Rr(Se,me),O&&(Se.l=O),Y=Se}return O=g.D,R=g.ya,O&&R&&_t(Y,O,R),_t(Y,"VER",g.la),la(g,Y),Y}function $l(g,R,O){if(R&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=g.Ca&&!g.pa?new un(new ji({eb:O})):new un(g.pa),R.Ha(g.J),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ol(){}n=ol.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ua(){}ua.prototype.g=function(g,R){return new ni(g,R)};function ni(g,R){tt.call(this),this.g=new Ba(R),this.l=g,this.h=R&&R.messageUrlParams||null,g=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(g?g["X-WebChannel-Content-Type"]=R.messageContentType:g={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(g?g["X-WebChannel-Client-Profile"]=R.va:g={"X-WebChannel-Client-Profile":R.va}),this.g.S=g,(g=R&&R.Sb)&&!J(g)&&(this.g.m=g),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!J(R)&&(this.g.D=R,g=this.h,g!==null&&R in g&&(g=this.h,R in g&&delete g[R])),this.j=new qi(this)}x(ni,tt),ni.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ni.prototype.close=function(){za(this.g)},ni.prototype.o=function(g){var R=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.u&&(O={},O.__data__=Dn(g),g=O);R.i.push(new fi(R.Ya++,g)),R.G==3&&Ds(R)},ni.prototype.N=function(){this.g.l=null,delete this.j,za(this.g),delete this.g,ni.aa.N.call(this)};function Xr(g){Bn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var R=g.__sm__;if(R){e:{for(const O in R){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,R=R!==null&&g in R?R[g]:void 0),this.data=R}else this.data=g}x(Xr,Bn);function Wl(){ci.call(this),this.status=1}x(Wl,ci);function qi(g){this.g=g}x(qi,ol),qi.prototype.ua=function(){nt(this.g,"a")},qi.prototype.ta=function(g){nt(this.g,new Xr(g))},qi.prototype.sa=function(g){nt(this.g,new Wl)},qi.prototype.ra=function(){nt(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,ni.prototype.send=ni.prototype.o,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,AA=function(){return new ua},bA=function(){return tr()},TA=Nn,b_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,yd=ot,pt.COMPLETE="complete",wA=pt,zi.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",tt.prototype.listen=tt.prototype.K,nh=zi,un.prototype.listenOnce=un.prototype.L,un.prototype.getLastError=un.prototype.Ka,un.prototype.getLastErrorCode=un.prototype.Ba,un.prototype.getStatus=un.prototype.Z,un.prototype.getResponseJson=un.prototype.Oa,un.prototype.getResponseText=un.prototype.oa,un.prototype.send=un.prototype.ea,un.prototype.setWithCredentials=un.prototype.Ha,EA=un}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",_w="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new sv("@firebase/firestore");function Mu(){return Ul.logLevel}function Qe(n,...e){if(Ul.logLevel<=$t.DEBUG){const t=e.map(gv);Ul.debug(`Firestore (${Xu}): ${n}`,...t)}}function Ma(n,...e){if(Ul.logLevel<=$t.ERROR){const t=e.map(gv);Ul.error(`Firestore (${Xu}): ${n}`,...t)}}function Fo(n,...e){if(Ul.logLevel<=$t.WARN){const t=e.map(gv);Ul.warn(`Firestore (${Xu}): ${n}`,...t)}}function gv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,SA(n,i,t)}function SA(n,e,t){let i=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ma(i),new Error(i)}function pn(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||SA(e,s,i)}function xt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Is{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yi.UNAUTHENTICATED))}shutdown(){}}class HO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qO{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pn(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ra,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ra)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pn(typeof i.accessToken=="string",31837,{l:i}),new CA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pn(e===null||typeof e=="string",2055,{h:e}),new Yi(e)}}class GO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new GO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pn(this.o===void 0,3512);const i=l=>{l.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Qe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=QO(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Bt(n,e){return n<e?-1:n>e?1:0}function A_(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Bt(i,s);{const l=RA(),c=YO(l.encode(yw(n,t)),l.encode(yw(e,t)));return c!==0?c:Bt(i,s)}}t+=i>65535?2:1}return Bt(n.length,e.length)}function yw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function YO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Bt(n[t],e[t]);return Bt(n.length,e.length)}function qu(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__name__";class qs{constructor(e,t,i){t===void 0?t=0:t>e.length&&yt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&yt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return qs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qs?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=qs.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Bt(e.length,t.length)}static compareSegments(e,t){const i=qs.isNumericId(e),s=qs.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?qs.extractNumericId(e).compare(qs.extractNumericId(t)):A_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lo.fromString(e.substring(4,e.length-2))}}class Pn extends qs{construct(e,t,i){return new Pn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new qe(xe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Pn(t)}static emptyPath(){return new Pn([])}}const $O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends qs{construct(e,t,i){return new Ui(e,t,i)}static isValidIdentifier(e){return $O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ew}static keyField(){return new Ui([Ew])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new qe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new qe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new qe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new qe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ui(t)}static emptyPath(){return new Ui([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Pn.fromString(e))}static fromName(e){return new ut(Pn.fromString(e).popFirst(5))}static empty(){return new ut(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Pn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n,e,t){if(!t)throw new qe(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WO(n,e,t,i){if(e===!0&&i===!0)throw new qe(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ww(n){if(!ut.isDocumentKey(n))throw new qe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tw(n){if(ut.isDocumentKey(n))throw new qe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function IA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":yt(12329,{type:typeof n})}function Qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ep(n);throw new qe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hh(n,e){if(!IA(n))throw new qe(xe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new qe(xe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=-62135596800,Aw=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Aw);return new hn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bw)throw new qe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Aw}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hh(e,hn._jsonSchema))return new hn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hn._jsonSchemaVersion="firestore/timestamp/1.0",hn._jsonSchema={type:li("string",hn._jsonSchemaVersion),seconds:li("number"),nanoseconds:li("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new hn(0,0))}static max(){return new Rt(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=-1;function XO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Rt.fromTimestamp(i===1e9?new hn(t+1,0):new hn(t,i));return new jo(s,ut.empty(),e)}function JO(n){return new jo(n.readTime,n.key,wh)}class jo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new jo(Rt.min(),ut.empty(),wh)}static max(){return new jo(Rt.max(),ut.empty(),wh)}}function eD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ut.comparator(n.documentKey,e.documentKey),t!==0?t:Bt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==tD)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,i)=>{t(e)})}static reject(e){return new Pe((t,i)=>{i(e)})}static waitFor(e){return new Pe((t,i)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&t()},p=>i(p))}),c=!0,l===s&&t()})}static or(e){let t=Pe.resolve(!1);for(const i of e)t=t.next(s=>s?Pe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new Pe((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(_=>{c[m]=_,++d,d===l&&i(c)},_=>s(_))}})}static doWhile(e,t){return new Pe((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function iD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ec(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}wp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-1;function Tp(n){return n==null}function zd(n){return n===0&&1/n==-1/0}function rD(n){return typeof n=="number"&&Number.isInteger(n)&&!zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="";function sD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sw(e)),e=aD(n.get(t),e);return Sw(e)}function aD(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case kA:t+="";break;default:t+=l}}return t}function Sw(n){return n+kA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,t){this.comparator=e,this.root=t||Vi.EMPTY}insert(e,t){return new jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sd(this.root,e,this.comparator,!0)}}class sd{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vi{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??Vi.RED,this.left=s??Vi.EMPTY,this.right=l??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new Vi(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Vi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1;Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new Vi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rw(this.data.getIterator())}getIteratorFrom(e){return new Rw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gi(this.comparator);return t.data=e,t}}class Rw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(Ui.comparator)}static empty(){return new Zr([])}unionWith(e){let t=new gi(Ui.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PA("Invalid base64 string: "+l):l}}(e);return new Bi(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new Bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const oD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(n){if(pn(!!n,39018),typeof n=="string"){let e=0;const t=oD.exec(n);if(pn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qo(n){return typeof n=="string"?Bi.fromBase64String(n):Bi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",DA="__type__",NA="__previous_value__",LA="__local_write_time__";function yv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[DA])===null||t===void 0?void 0:t.stringValue)===OA}function bp(n){const e=n.mapValue.fields[NA];return yv(e)?bp(e):e}function Th(n){const e=Ho(n.mapValue.fields[LA].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,i,s,l,c,d,p,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=_}}const Fd="(default)";class bh{constructor(e,t){this.projectId=e,this.database=t||Fd}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Fd}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="__type__",uD="__max__",ad={mapValue:{}},UA="__vector__",jd="value";function Go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yv(n)?4:hD(n)?9007199254740991:cD(n)?10:11:yt(28295,{value:n})}function ta(n,e){if(n===e)return!0;const t=Go(n);if(t!==Go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Th(n).isEqual(Th(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ho(s.timestampValue),d=Ho(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return qo(s.bytesValue).isEqual(qo(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Jn(s.geoPointValue.latitude)===Jn(l.geoPointValue.latitude)&&Jn(s.geoPointValue.longitude)===Jn(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Jn(s.integerValue)===Jn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Jn(s.doubleValue),d=Jn(l.doubleValue);return c===d?zd(c)===zd(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return qu(n.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(Cw(c)!==Cw(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ta(c[p],d[p])))return!1;return!0}(n,e);default:return yt(52216,{left:n})}}function Ah(n,e){return(n.values||[]).find(t=>ta(t,e))!==void 0}function Gu(n,e){if(n===e)return 0;const t=Go(n),i=Go(e);if(t!==i)return Bt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Jn(l.integerValue||l.doubleValue),p=Jn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return xw(n.timestampValue,e.timestampValue);case 4:return xw(Th(n),Th(e));case 5:return A_(n.stringValue,e.stringValue);case 6:return function(l,c){const d=qo(l),p=qo(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const _=Bt(d[m],p[m]);if(_!==0)return _}return Bt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Bt(Jn(l.latitude),Jn(c.latitude));return d!==0?d:Bt(Jn(l.longitude),Jn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Iw(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,_;const E=l.fields||{},w=c.fields||{},C=(d=E[jd])===null||d===void 0?void 0:d.arrayValue,x=(p=w[jd])===null||p===void 0?void 0:p.arrayValue,N=Bt(((m=C?.values)===null||m===void 0?void 0:m.length)||0,((_=x?.values)===null||_===void 0?void 0:_.length)||0);return N!==0?N:Iw(C,x)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===ad.mapValue&&c===ad.mapValue)return 0;if(l===ad.mapValue)return 1;if(c===ad.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const w=A_(p[E],_[E]);if(w!==0)return w;const C=Gu(d[p[E]],m[_[E]]);if(C!==0)return C}return Bt(p.length,_.length)}(n.mapValue,e.mapValue);default:throw yt(23264,{le:t})}}function xw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Bt(n,e);const t=Ho(n),i=Ho(e),s=Bt(t.seconds,i.seconds);return s!==0?s:Bt(t.nanos,i.nanos)}function Iw(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Gu(t[s],i[s]);if(l)return l}return Bt(t.length,i.length)}function Zu(n){return S_(n)}function S_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ho(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ut.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=S_(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${S_(t.fields[c])}`;return s+"}"}(n.mapValue):yt(61005,{value:n})}function Ed(n){switch(Go(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bp(n);return e?16+Ed(e):16;case 5:return 2*n.stringValue.length;case 6:return qo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Ed(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Xo(i.fields,(l,c)=>{s+=l.length+Ed(c)}),s}(n.mapValue);default:throw yt(13486,{value:n})}}function kw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function C_(n){return!!n&&"integerValue"in n}function Ev(n){return!!n&&"arrayValue"in n}function Mw(n){return!!n&&"nullValue"in n}function Pw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wd(n){return!!n&&"mapValue"in n}function cD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[VA])===null||t===void 0?void 0:t.stringValue)===UA}function ch(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ch(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=Ui.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=ch(c):s.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];wd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Xo(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new br(ch(this.value))}}function BA(n){const e=[];return Xo(n.fields,(t,i)=>{const s=new Ui([t]);if(wd(i)){const l=BA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new $i(e,0,Rt.min(),Rt.min(),Rt.min(),br.empty(),0)}static newFoundDocument(e,t,i,s){return new $i(e,1,t,Rt.min(),i,s,0)}static newNoDocument(e,t){return new $i(e,2,t,Rt.min(),Rt.min(),br.empty(),0)}static newUnknownDocument(e,t){return new $i(e,3,t,Rt.min(),Rt.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.position=e,this.inclusive=t}}function Ow(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=ut.comparator(ut.fromName(c.referenceValue),t.key):i=Gu(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Dw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ta(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{}class oi extends zA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new pD(e,t,i):t==="array-contains"?new _D(e,i):t==="in"?new vD(e,i):t==="not-in"?new yD(e,i):t==="array-contains-any"?new ED(e,i):new oi(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new mD(e,i):new gD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Gu(t,this.value)):t!==null&&Go(this.value)===Go(t)&&this.matchesComparison(Gu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends zA{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new xs(e,t)}matches(e){return FA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function FA(n){return n.op==="and"}function jA(n){return dD(n)&&FA(n)}function dD(n){for(const e of n.filters)if(e instanceof xs)return!1;return!0}function R_(n){if(n instanceof oi)return n.field.canonicalString()+n.op.toString()+Zu(n.value);if(jA(n))return n.filters.map(e=>R_(e)).join(",");{const e=n.filters.map(t=>R_(t)).join(",");return`${n.op}(${e})`}}function HA(n,e){return n instanceof oi?function(i,s){return s instanceof oi&&i.op===s.op&&i.field.isEqual(s.field)&&ta(i.value,s.value)}(n,e):n instanceof xs?function(i,s){return s instanceof xs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,d)=>l&&HA(c,s.filters[d]),!0):!1}(n,e):void yt(19439)}function qA(n){return n instanceof oi?function(t){return`${t.field.canonicalString()} ${t.op} ${Zu(t.value)}`}(n):n instanceof xs?function(t){return t.op.toString()+" {"+t.getFilters().map(qA).join(" ,")+"}"}(n):"Filter"}class pD extends oi{constructor(e,t,i){super(e,t,i),this.key=ut.fromName(i.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class mD extends oi{constructor(e,t){super(e,"in",t),this.keys=GA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gD extends oi{constructor(e,t){super(e,"not-in",t),this.keys=GA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ut.fromName(i.referenceValue))}class _D extends oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ev(t)&&Ah(t.arrayValue,this.value)}}class vD extends oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ah(this.value.arrayValue,t)}}class yD extends oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ah(this.value.arrayValue,t)}}class ED extends oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ah(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function Nw(n,e=null,t=[],i=[],s=null,l=null,c=null){return new wD(n,e,t,i,s,l,c)}function wv(n){const e=xt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>R_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Tp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Zu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Zu(i)).join(",")),e.Pe=t}return e.Pe}function Tv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dw(n.startAt,e.startAt)&&Dw(n.endAt,e.endAt)}function x_(n){return ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function TD(n,e,t,i,s,l,c,d){return new tc(n,e,t,i,s,l,c,d)}function Ap(n){return new tc(n)}function Lw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZA(n){return n.collectionGroup!==null}function hh(n){const e=xt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new gi(Ui.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Sh(l,i))}),t.has(Ui.keyField().canonicalString())||e.Te.push(new Sh(Ui.keyField(),i))}return e.Te}function Ws(n){const e=xt(n);return e.Ie||(e.Ie=bD(e,hh(n))),e.Ie}function bD(n,e){if(n.limitType==="F")return Nw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Sh(s.field,l)});const t=n.endAt?new Hd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Hd(n.startAt.position,n.startAt.inclusive):null;return Nw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function I_(n,e){const t=n.filters.concat([e]);return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function k_(n,e,t){return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sp(n,e){return Tv(Ws(n),Ws(e))&&n.limitType===e.limitType}function KA(n){return`${wv(Ws(n))}|lt:${n.limitType}`}function Pu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>qA(s)).join(", ")}]`),Tp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Zu(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Zu(s)).join(",")),`Target(${i})`}(Ws(n))}; limitType=${n.limitType})`}function Cp(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ut.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of hh(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,d,p){const m=Ow(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,hh(i),s)||i.endAt&&!function(c,d,p){const m=Ow(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,hh(i),s))}(n,e)}function AD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QA(n){return(e,t)=>{let i=!1;for(const s of hh(n)){const l=SD(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function SD(n,e,t){const i=n.field.isKeyField()?ut.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?Gu(p,m):yt(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return MA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new jn(ut.comparator);function Pa(){return CD}const YA=new jn(ut.comparator);function ih(...n){let e=YA;for(const t of n)e=e.insert(t.key,t);return e}function $A(n){let e=YA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function kl(){return fh()}function WA(){return fh()}function fh(){return new Gl(n=>n.toString(),(n,e)=>n.isEqual(e))}const RD=new jn(ut.comparator),xD=new gi(ut.comparator);function Wt(...n){let e=xD;for(const t of n)e=e.add(t);return e}const ID=new gi(Bt);function kD(){return ID}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function XA(n){return{integerValue:""+n}}function MD(n,e){return rD(e)?XA(e):bv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this._=void 0}}function PD(n,e,t){return n instanceof qd?function(s,l){const c={fields:{[DA]:{stringValue:OA},[LA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&yv(l)&&(l=bp(l)),l&&(c.fields[NA]=l),{mapValue:c}}(t,e):n instanceof Ch?e2(n,e):n instanceof Rh?t2(n,e):function(s,l){const c=JA(s,l),d=Vw(c)+Vw(s.Ee);return C_(c)&&C_(s.Ee)?XA(d):bv(s.serializer,d)}(n,e)}function OD(n,e,t){return n instanceof Ch?e2(n,e):n instanceof Rh?t2(n,e):t}function JA(n,e){return n instanceof Gd?function(i){return C_(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class qd extends Rp{}class Ch extends Rp{constructor(e){super(),this.elements=e}}function e2(n,e){const t=n2(e);for(const i of n.elements)t.some(s=>ta(s,i))||t.push(i);return{arrayValue:{values:t}}}class Rh extends Rp{constructor(e){super(),this.elements=e}}function t2(n,e){let t=n2(e);for(const i of n.elements)t=t.filter(s=>!ta(s,i));return{arrayValue:{values:t}}}class Gd extends Rp{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Vw(n){return Jn(n.integerValue||n.doubleValue)}function n2(n){return Ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DD(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ch&&s instanceof Ch||i instanceof Rh&&s instanceof Rh?qu(i.elements,s.elements,ta):i instanceof Gd&&s instanceof Gd?ta(i.Ee,s.Ee):i instanceof qd&&s instanceof qd}(n.transform,e.transform)}class ND{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xp{}function i2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ip(n.key,Sr.none()):new qh(n.key,n.data,Sr.none());{const t=n.data,i=br.empty();let s=new gi(Ui.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Jo(n.key,i,new Zr(s.toArray()),Sr.none())}}function LD(n,e,t){n instanceof qh?function(s,l,c){const d=s.value.clone(),p=Bw(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Jo?function(s,l,c){if(!Td(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Bw(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(r2(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function dh(n,e,t,i){return n instanceof qh?function(l,c,d,p){if(!Td(l.precondition,c))return d;const m=l.value.clone(),_=zw(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jo?function(l,c,d,p){if(!Td(l.precondition,c))return d;const m=zw(l.fieldTransforms,p,c),_=c.data;return _.setAll(r2(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,d){return Td(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function VD(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=JA(i.transform,s||null);l!=null&&(t===null&&(t=br.empty()),t.set(i.field,l))}return t||null}function Uw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&qu(i,s,(l,c)=>DD(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class qh extends xp{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Jo extends xp{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function r2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Bw(n,e,t){const i=new Map;pn(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,OD(c,d,t[s]))}return i}function zw(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,PD(l,c,e))}return i}class Ip extends xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UD extends xp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&LD(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=WA();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const p=i2(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wt())}isEqual(e){return this.batchId===e.batchId&&qu(this.mutations,e.mutations,(t,i)=>Uw(t,i))&&qu(this.baseMutations,e.baseMutations,(t,i)=>Uw(t,i))}}class Av{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){pn(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let s=function(){return RD}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Av(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si,an;function jD(n){switch(n){case xe.OK:return yt(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return yt(15467,{code:n})}}function s2(n){if(n===void 0)return Ma("GRPC error has no .code"),xe.UNKNOWN;switch(n){case si.OK:return xe.OK;case si.CANCELLED:return xe.CANCELLED;case si.UNKNOWN:return xe.UNKNOWN;case si.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case si.INTERNAL:return xe.INTERNAL;case si.UNAVAILABLE:return xe.UNAVAILABLE;case si.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case si.NOT_FOUND:return xe.NOT_FOUND;case si.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case si.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case si.ABORTED:return xe.ABORTED;case si.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case si.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case si.DATA_LOSS:return xe.DATA_LOSS;default:return yt(39323,{code:n})}}(an=si||(si={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new Lo([4294967295,4294967295],0);function Fw(n){const e=RA().encode(n),t=new yA;return t.update(e),new Uint8Array(t.digest())}function jw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Lo([t,i],0),new Lo([s,l],0)]}class Sv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new rh(`Invalid padding: ${t}`);if(i<0)throw new rh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new rh(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Lo.fromNumber(this.fe)}pe(e,t,i){let s=e.add(t.multiply(Lo.fromNumber(i)));return s.compare(HD)===1&&(s=new Lo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Fw(e),[i,s]=jw(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Sv(l,s,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const t=Fw(e),[i,s]=jw(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,s,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new kp(Rt.min(),s,new jn(Bt),Pa(),Wt())}}class Gh{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gh(i,t,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=s}}class a2{constructor(e,t){this.targetId=e,this.De=t}}class o2{constructor(e,t,i=Bi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Hw{constructor(){this.ve=0,this.Ce=qw(),this.Fe=Bi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Wt(),t=Wt(),i=Wt();return this.Ce.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:yt(38017,{changeType:l})}}),new Gh(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=qw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,pn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class qD{constructor(e){this.We=e,this.Ge=new Map,this.ze=Pa(),this.je=od(),this.Je=od(),this.He=new jn(Bt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:yt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,i=e.De.count,s=this.st(t);if(s){const l=s.target;if(x_(l))if(i===0){const c=new ut(l.path);this.Xe(t,c,$i.newNoDocument(c,Rt.min()))}else pn(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const d=this._t(e),p=d?this.ut(d,e,c):1;if(p!==0){this.rt(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=qo(i).toUint8Array()}catch(p){if(p instanceof PA)return Fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sv(c,s,l)}catch(p){return Fo(p instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const d=this.st(c);if(d){if(l.current&&x_(d.target)){const p=new ut(d.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,$i.newNoDocument(p,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let i=Wt();this.Je.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this.st(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const s=new kp(e,t,this.He,this.ze,i);return this.ze=Pa(),this.je=od(),this.Je=od(),this.He=new jn(Bt),s}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Hw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new gi(Bt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new gi(Bt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Hw),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function od(){return new jn(ut.comparator)}function qw(){return new jn(ut.comparator)}const GD={asc:"ASCENDING",desc:"DESCENDING"},ZD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class QD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function M_(n,e){return n.useProto3Json||Tp(e)?e:{value:e}}function Zd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YD(n,e){return Zd(n,e.toTimestamp())}function Xs(n){return pn(!!n,49232),Rt.fromTimestamp(function(t){const i=Ho(t);return new hn(i.seconds,i.nanos)}(n))}function Cv(n,e){return P_(n,e).canonicalString()}function P_(n,e){const t=function(s){return new Pn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function u2(n){const e=Pn.fromString(n);return pn(p2(e),10190,{key:e.toString()}),e}function O_(n,e){return Cv(n.databaseId,e.path)}function Fg(n,e){const t=u2(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(h2(t))}function c2(n,e){return Cv(n.databaseId,e)}function $D(n){const e=u2(n);return e.length===4?Pn.emptyPath():h2(e)}function D_(n){return new Pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h2(n){return pn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Gw(n,e,t){return{name:O_(n,e),fields:t.value.mapValue.fields}}function WD(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:yt(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(pn(_===void 0||typeof _=="string",58123),Bi.fromBase64String(_||"")):(pn(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Bi.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const _=m.code===void 0?xe.UNKNOWN:s2(m.code);return new qe(_,m.message||"")}(c);t=new o2(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Fg(n,i.document.name),l=Xs(i.document.updateTime),c=i.document.createTime?Xs(i.document.createTime):Rt.min(),d=new br({mapValue:{fields:i.document.fields}}),p=$i.newFoundDocument(s,l,c,d),m=i.targetIds||[],_=i.removedTargetIds||[];t=new bd(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Fg(n,i.document),l=i.readTime?Xs(i.readTime):Rt.min(),c=$i.newNoDocument(s,l),d=i.removedTargetIds||[];t=new bd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Fg(n,i.document),l=i.removedTargetIds||[];t=new bd([],l,s,null)}else{if(!("filter"in e))return yt(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new FD(s,l),d=i.targetId;t=new a2(d,c)}}return t}function XD(n,e){let t;if(e instanceof qh)t={update:Gw(n,e.key,e.value)};else if(e instanceof Ip)t={delete:O_(n,e.key)};else if(e instanceof Jo)t={update:Gw(n,e.key,e.data),updateMask:oN(e.fieldMask)};else{if(!(e instanceof UD))return yt(16599,{Rt:e.type});t={verify:O_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof qd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ch)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Rh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gd)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw yt(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:YD(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:yt(27497)}(n,e.precondition)),t}function JD(n,e){return n&&n.length>0?(pn(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?Xs(s.updateTime):Xs(l);return c.isEqual(Rt.min())&&(c=Xs(l)),new ND(c,s.transformResults||[])}(t,e))):[]}function eN(n,e){return{documents:[c2(n,e.path)]}}function tN(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=c2(n,s);const l=function(m){if(m.length!==0)return d2(xs.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(_=>function(w){return{field:Ou(w.field),direction:rN(w.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=M_(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:t,parent:s}}function nN(n){let e=$D(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){pn(i===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(E){const w=f2(E);return w instanceof xs&&jA(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(w=>function(x){return new Sh(Du(x.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(E){let w;return w=typeof E=="object"?E.value:E,Tp(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(E){const w=!!E.before,C=E.values||[];return new Hd(C,w)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const w=!E.before,C=E.values||[];return new Hd(C,w)}(t.endAt)),TD(e,s,c,l,d,"F",p,m)}function iN(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Du(t.unaryFilter.field);return oi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Du(t.unaryFilter.field);return oi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Du(t.unaryFilter.field);return oi.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Du(t.unaryFilter.field);return oi.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(n):n.fieldFilter!==void 0?function(t){return oi.create(Du(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xs.create(t.compositeFilter.filters.map(i=>f2(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(t.compositeFilter.op))}(n):yt(30097,{filter:n})}function rN(n){return GD[n]}function sN(n){return ZD[n]}function aN(n){return KD[n]}function Ou(n){return{fieldPath:n.canonicalString()}}function Du(n){return Ui.fromServerFormat(n.fieldPath)}function d2(n){return n instanceof oi?function(t){if(t.op==="=="){if(Pw(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NAN"}};if(Mw(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Pw(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NOT_NAN"}};if(Mw(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(t.field),op:sN(t.op),value:t.value}}}(n):n instanceof xs?function(t){const i=t.getFilters().map(s=>d2(s));return i.length===1?i[0]:{compositeFilter:{op:aN(t.op),filters:i}}}(n):yt(54877,{filter:n})}function oN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t,i,s,l=Rt.min(),c=Rt.min(),d=Bi.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.gt=e}}function uN(n){const e=nN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?k_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.Dn=new hN}addToCollectionParentIndex(e,t){return this.Dn.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getIndexType(e,t){return Pe.resolve(0)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,t){return Pe.resolve(jo.min())}getMinOffsetFromCollectionGroup(e,t){return Pe.resolve(jo.min())}updateCollectionGroup(e,t,i){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class hN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new gi(Pn.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new gi(Pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m2=41943040;class wr{static withCacheSize(e){return new wr(e,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(m2,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ku(0)}static ur(){return new Ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LruGarbageCollector",fN=1048576;function Qw([n,e],[t,i]){const s=Bt(n,t);return s===0?Bt(e,i):s}class dN{constructor(e){this.Tr=e,this.buffer=new gi(Qw),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Qw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Qe(Kw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ec(t)?Qe(Kw,"Ignoring IndexedDB error during garbage collection: ",t):await Ju(t)}await this.Rr(3e5)})}}class mN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Pe.resolve(wp.ue);const i=new dN(t);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(Zw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zw):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,s,l,c,d,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),Mu()<=$t.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function gN(n,e){return new mN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.changes=new Gl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Pe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&dh(i.mutation,s,Zr.empty(),hn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Wt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Wt()){const s=kl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=ih();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=kl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Wt()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,s){let l=Pa();const c=fh(),d=function(){return fh()}();return t.forEach((p,m)=>{const _=i.get(m.key);s.has(m.key)&&(_===void 0||_.mutation instanceof Jo)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),dh(_.mutation,m,_.mutation.getFieldMask(),hn.now())):c.set(m.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var E;return d.set(m,new vN(_,(E=c.get(m))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=fh();let s=new jn((c,d)=>c-d),l=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let _=i.get(p)||Zr.empty();_=d.applyToLocalView(m,_),i.set(p,_);const E=(s.get(d.batchId)||Wt()).add(p);s=s.insert(d.batchId,E)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,_=p.value,E=WA();_.forEach(w=>{if(!l.has(w)){const C=i2(t.get(w),i.get(w));C!==null&&E.set(w,C),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return Pe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return ut.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):Pe.resolve(kl());let d=wh,p=l;return c.next(m=>Pe.forEach(m,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?Pe.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Wt())).next(_=>({batchId:d,changes:$A(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(i=>{let s=ih();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=ih();return this.indexManager.getCollectionParents(e,l).next(d=>Pe.forEach(d,p=>{const m=function(E,w){return new tc(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(_=>{_.forEach((E,w)=>{c=c.insert(E,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,$i.newInvalidDocument(_)))});let d=ih();return c.forEach((p,m)=>{const _=l.get(p);_!==void 0&&dh(_.mutation,m,Zr.empty(),hn.now()),Cp(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Pe.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Xs(s.createTime)}}(t)),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:uN(s.bundledQuery),readTime:Xs(s.readTime)}}(t)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.overlays=new jn(ut.comparator),this.kr=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=kl();return Pe.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.wt(e,t,l)}),Pe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),Pe.resolve()}getOverlaysForCollection(e,t,i){const s=kl(),l=t.length+1,c=new ut(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return Pe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new jn((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=l.get(m.largestBatchId);_===null&&(_=kl(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=kl(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=s)););return Pe.resolve(d)}wt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new zD(t,i));let l=this.kr.get(t);l===void 0&&(l=Wt(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.sessionToken=Bi.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.qr=new gi(xi.Qr),this.$r=new gi(xi.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new xi(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new xi(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new ut(new Pn([])),i=new xi(t,e),s=new xi(t,e+1),l=[];return this.$r.forEachInRange([i,s],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ut(new Pn([])),i=new xi(t,e),s=new xi(t,e+1);let l=Wt();return this.$r.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new xi(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class xi{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ut.comparator(e.key,t.key)||Bt(e.Hr,t.Hr)}static Ur(e,t){return Bt(e.Hr,t.Hr)||ut.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new gi(xi.Qr)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BD(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Yr=this.Yr.add(new xi(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Pe.resolve(c)}lookupMutationBatch(e,t){return Pe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),l=s<0?0:s;return Pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?vv:this.er-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xi(t,0),s=new xi(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,s],c=>{const d=this.Zr(c.Hr);l.push(d)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new gi(Bt);return t.forEach(s=>{const l=new xi(s,0),c=new xi(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],d=>{i=i.add(d.Hr)})}),Pe.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;ut.isDocumentKey(l)||(l=l.child(""));const c=new xi(new ut(l),0);let d=new gi(Bt);return this.Yr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(d=d.add(p.Hr)),!0)},c),Pe.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){pn(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return Pe.forEach(t.mutations,s=>{const l=new xi(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new xi(t,0),s=this.Yr.firstAfterOrEqual(i);return Pe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.ni=e,this.docs=function(){return new jn(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Pe.resolve(i?i.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let i=Pa();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():$i.newInvalidDocument(s))}),Pe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Pa();const c=t.path,d=new ut(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||eD(JO(_),i)<=0||(s.has(_.key)||Cp(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Pe.resolve(l)}getAllFromCollectionGroup(e,t,i,s){yt(9500)}ri(e,t){return Pe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new SN(this)}getSize(e){return Pe.resolve(this.size)}}class SN extends _N{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(i)}),Pe.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.persistence=e,this.ii=new Gl(t=>wv(t),Tv),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.si=0,this.oi=new Rv,this.targetCount=0,this._i=Ku.ar()}forEachTarget(e,t){return this.ii.forEach((i,s)=>t(s)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),Pe.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ku(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.hr(t),Pe.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Pe.waitFor(l).next(()=>s)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return Pe.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),Pe.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return Pe.resolve(i)}containsKey(e,t){return Pe.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t){this.ai={},this.overlays={},this.ui=new wp(0),this.ci=!1,this.ci=!0,this.li=new TN,this.referenceDelegate=e(this),this.hi=new CN(this),this.indexManager=new cN,this.remoteDocumentCache=function(s){return new AN(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new lN(t),this.Ti=new EN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new bN(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Qe("MemoryPersistence","Starting transaction:",e);const s=new RN(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(l=>this.referenceDelegate.di(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ei(e,t){return Pe.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class RN extends nD{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Ai=new Rv,this.Ri=null}static Vi(e){return new xv(e)}get mi(){if(this.Ri)return this.Ri;throw yt(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),Pe.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.mi,i=>{const s=ut.fromPath(i);return this.fi(e,s).next(l=>{l||t.removeEntry(s,Rt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Pe.or([()=>Pe.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Kd{constructor(e,t){this.persistence=e,this.gi=new Gl(i=>sD(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=gN(this,t)}static Vi(e,t){return new Kd(e,t)}Ii(){}di(e){return Pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return Pe.forEach(this.gi,(i,s)=>this.Sr(e,i,s).next(l=>l?Pe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Rt.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Pe.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Pe.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ed(e.data.value)),t}Sr(e,t,i){return Pe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return Pe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=s}static Es(e,t){let i=Wt(),s=Wt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Iv(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return uk()?8:iD(Ji())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new xN;return this.ws(e,t,c).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,c,d.size)})}).next(()=>l.result)}Ss(e,t,i,s){return i.documentReadCount<this.Vs?(Mu()<=$t.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",Pu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Pe.resolve()):(Mu()<=$t.DEBUG&&Qe("QueryEngine","Query:",Pu(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(Mu()<=$t.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",Pu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ws(t))):Pe.resolve())}ps(e,t){if(Lw(t))return Pe.resolve(null);let i=Ws(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=k_(t,null,"F"),i=Ws(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Wt(...l);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.bs(t,d);return this.Ds(t,m,c,p.readTime)?this.ps(e,k_(t,null,"F")):this.vs(e,m,t,p)}))})))}ys(e,t,i,s){return Lw(t)||s.isEqual(Rt.min())?Pe.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,i,s)?Pe.resolve(null):(Mu()<=$t.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pu(t)),this.vs(e,c,t,XO(s,wh)).next(d=>d))})}bs(e,t){let i=new gi(QA(e));return t.forEach((s,l)=>{Cp(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ws(e,t,i){return Mu()<=$t.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Pu(t)),this.gs.getDocumentsMatchingQuery(e,t,jo.min(),i)}vs(e,t,i,s){return this.gs.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LocalStore",kN=3e8;class MN{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new jn(Bt),this.Ms=new Gl(l=>wv(l),Tv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function PN(n,e,t,i){return new MN(n,e,t,i)}async function _2(n,e){const t=xt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Wt();for(const m of s){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){d.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Bs:m,removedBatchIds:c,addedBatchIds:d}))})})}function ON(n,e){const t=xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,m,_){const E=m.batch,w=E.keys();let C=Pe.resolve();return w.forEach(x=>{C=C.next(()=>_.getEntry(p,x)).next(N=>{const q=m.docVersions.get(x);pn(q!==null,48541),N.version.compareTo(q)<0&&(E.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),_.addEntry(N)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Wt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function v2(n){const e=xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function DN(n,e){const t=xt(n),i=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const d=[];e.targetChanges.forEach((_,E)=>{const w=s.get(E);if(!w)return;d.push(t.hi.removeMatchingKeys(l,_.removedDocuments,E).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,E)));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(Bi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),s=s.insert(E,C),function(N,q,H){return N.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=kN?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,C,_)&&d.push(t.hi.updateTargetData(l,C))});let p=Pa(),m=Wt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(NN(l,c,e.documentUpdates).next(_=>{p=_.Ls,m=_.ks})),!i.isEqual(Rt.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(E=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return Pe.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Fs=s,l))}function NN(n,e,t){let i=Wt(),s=Wt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Pa();return t.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Qe(kv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{Ls:c,ks:s}})}function LN(n,e){const t=xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function VN(n,e){const t=xt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.hi.getTargetData(i,e).next(l=>l?(s=l,Pe.resolve(s)):t.hi.allocateTargetId(i).next(c=>(s=new Po(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function N_(n,e,t){const i=xt(n),s=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!ec(c))throw c;Qe(kv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(s.target)}function Yw(n,e,t){const i=xt(n);let s=Rt.min(),l=Wt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const E=xt(p),w=E.Ms.get(_);return w!==void 0?Pe.resolve(E.Fs.get(w)):E.hi.getTargetData(m,_)}(i,c,Ws(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:Rt.min(),t?l:Wt())).next(d=>(UN(i,AD(e),d),{documents:d,qs:l})))}function UN(n,e,t){let i=n.xs.get(e)||Rt.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class $w{constructor(){this.activeTargetIds=kD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BN{constructor(){this.Fo=new $w,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $w,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="ConnectivityMonitor";class Xw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Qe(Ww,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Qe(Ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function L_(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="RestConnection",FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===Fd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,l){const c=L_(),d=this.Go(e,t.toUriEncodedString());Qe(jg,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,s,l);const{host:m}=new URL(d),_=Na(m);return this.jo(e,d,p,i,_).then(E=>(Qe(jg,`Received RPC '${e}' ${c}: `,E),E),E=>{throw Fo(jg,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E})}Jo(e,t,i,s,l,c){return this.Wo(e,t,i,s,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}Go(e,t){const i=FN[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="WebChannelConnection";class qN extends jN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,s,l){const c=L_();return new Promise((d,p)=>{const m=new EA;m.setWithCredentials(!0),m.listenOnce(wA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case yd.NO_ERROR:const E=m.getResponseJson();Qe(Ki,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case yd.TIMEOUT:Qe(Ki,`RPC '${e}' ${c} timed out`),p(new qe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const w=m.getStatus();if(Qe(Ki,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C?.error;if(x&&x.status&&x.message){const N=function(H){const J=H.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(J)>=0?J:xe.UNKNOWN}(x.status);p(new qe(N,x.message))}else p(new qe(xe.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new qe(xe.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{c_:e,streamId:c,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{Qe(Ki,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(s);Qe(Ki,`RPC '${e}' ${c} sending request:`,s),m.send(t,"POST",_,i,15)})}P_(e,t,i){const s=L_(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=AA(),d=bA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");Qe(Ki,`Creating RPC '${e}' stream ${s}: ${_}`,p);const E=c.createWebChannel(_,p);this.T_(E);let w=!1,C=!1;const x=new HN({Ho:q=>{C?Qe(Ki,`Not sending because RPC '${e}' stream ${s} is closed:`,q):(w||(Qe(Ki,`Opening RPC '${e}' stream ${s} transport.`),E.open(),w=!0),Qe(Ki,`RPC '${e}' stream ${s} sending:`,q),E.send(q))},Yo:()=>E.close()}),N=(q,H,J)=>{q.listen(H,Q=>{try{J(Q)}catch($){setTimeout(()=>{throw $},0)}})};return N(E,nh.EventType.OPEN,()=>{C||(Qe(Ki,`RPC '${e}' stream ${s} transport opened.`),x.s_())}),N(E,nh.EventType.CLOSE,()=>{C||(C=!0,Qe(Ki,`RPC '${e}' stream ${s} transport closed`),x.__(),this.I_(E))}),N(E,nh.EventType.ERROR,q=>{C||(C=!0,Fo(Ki,`RPC '${e}' stream ${s} transport errored. Name:`,q.name,"Message:",q.message),x.__(new qe(xe.UNAVAILABLE,"The operation could not be completed")))}),N(E,nh.EventType.MESSAGE,q=>{var H;if(!C){const J=q.data[0];pn(!!J,16349);const Q=J,$=Q?.error||((H=Q[0])===null||H===void 0?void 0:H.error);if($){Qe(Ki,`RPC '${e}' stream ${s} received error:`,$);const te=$.status;let F=function(S){const M=si[S];if(M!==void 0)return s2(M)}(te),G=$.message;F===void 0&&(F=xe.INTERNAL,G="Unknown error status: "+te+" with message "+$.message),C=!0,x.__(new qe(F,G)),E.close()}else Qe(Ki,`RPC '${e}' stream ${s} received:`,J),x.a_(J)}}),N(d,TA.STAT_EVENT,q=>{q.stat===b_.PROXY?Qe(Ki,`RPC '${e}' stream ${s} detected buffering proxy`):q.stat===b_.NOPROXY&&Qe(Ki,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n){return new QD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&Qe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="PersistentStream";class E2{constructor(e,t,i,s,l,c,d,p){this.Fi=e,this.w_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new y2(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(Ma(t.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===t&&this.W_(i,s)},i=>{e(()=>{const s=new qe(xe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Qe(Jw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Qe(Jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GN extends E2{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=WD(this.serializer,e),i=function(l){if(!("targetChange"in l))return Rt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Xs(c.readTime):Rt.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=D_(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=x_(p)?{documents:eN(l,p)}:{query:tN(l,p).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=l2(l,c.resumeToken);const m=M_(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=Zd(l,c.snapshotVersion.toTimestamp());const m=M_(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=iN(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=D_(this.serializer),t.removeTarget=e,this.k_(t)}}class ZN extends E2{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return pn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){pn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=JD(e.writeResults,e.commitTime),i=Xs(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=D_(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>XD(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{}class QN extends KN{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new qe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,P_(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qe(xe.UNKNOWN,l.toString())})}Jo(e,t,i,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,P_(t,i),s,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new qe(xe.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class YN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ma(t),this._a=!1):Qe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="RemoteStore";class $N{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{Zl(this)&&(Qe(Bl,"Restarting streams for network reachability change."),await async function(p){const m=xt(p);m.Ia.add(4),await Zh(m),m.Aa.set("Unknown"),m.Ia.delete(4),await Pp(m)}(this))})}),this.Aa=new YN(i,s)}}async function Pp(n){if(Zl(n))for(const e of n.da)await e(!0)}async function Zh(n){for(const e of n.da)await e(!1)}function w2(n,e){const t=xt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Dv(t)?Ov(t):nc(t).x_()&&Pv(t,e))}function Mv(n,e){const t=xt(n),i=nc(t);t.Ta.delete(e),i.x_()&&T2(t,e),t.Ta.size===0&&(i.x_()?i.B_():Zl(t)&&t.Aa.set("Unknown"))}function Pv(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nc(n).H_(e)}function T2(n,e){n.Ra.$e(e),nc(n).Y_(e)}function Ov(n){n.Ra=new qD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),nc(n).start(),n.Aa.aa()}function Dv(n){return Zl(n)&&!nc(n).M_()&&n.Ta.size>0}function Zl(n){return xt(n).Ia.size===0}function b2(n){n.Ra=void 0}async function WN(n){n.Aa.set("Online")}async function XN(n){n.Ta.forEach((e,t)=>{Pv(n,e)})}async function JN(n,e){b2(n),Dv(n)?(n.Aa.la(e),Ov(n)):n.Aa.set("Unknown")}async function e4(n,e,t){if(n.Aa.set("Online"),e instanceof o2&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ta.delete(d),s.Ra.removeTarget(d))}(n,e)}catch(i){Qe(Bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qd(n,i)}else if(e instanceof bd?n.Ra.Ye(e):e instanceof a2?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Rt.min()))try{const i=await v2(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ta.get(m);_&&l.Ta.set(m,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const _=l.Ta.get(p);if(!_)return;l.Ta.set(p,_.withResumeToken(Bi.EMPTY_BYTE_STRING,_.snapshotVersion)),T2(l,p);const E=new Po(_.target,p,m,_.sequenceNumber);Pv(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){Qe(Bl,"Failed to raise snapshot:",i),await Qd(n,i)}}async function Qd(n,e,t){if(!ec(e))throw e;n.Ia.add(1),await Zh(n),n.Aa.set("Offline"),t||(t=()=>v2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Qe(Bl,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Pp(n)})}function A2(n,e){return e().catch(t=>Qd(n,t,e))}async function Op(n){const e=xt(n),t=Zo(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:vv;for(;t4(e);)try{const s=await LN(e.localStore,i);if(s===null){e.Pa.length===0&&t.B_();break}i=s.batchId,n4(e,s)}catch(s){await Qd(e,s)}S2(e)&&C2(e)}function t4(n){return Zl(n)&&n.Pa.length<10}function n4(n,e){n.Pa.push(e);const t=Zo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function S2(n){return Zl(n)&&!Zo(n).M_()&&n.Pa.length>0}function C2(n){Zo(n).start()}async function i4(n){Zo(n).na()}async function r4(n){const e=Zo(n);for(const t of n.Pa)e.X_(t.mutations)}async function s4(n,e,t){const i=n.Pa.shift(),s=Av.from(i,e,t);await A2(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Op(n)}async function a4(n,e){e&&Zo(n).Z_&&await async function(i,s){if(function(c){return jD(c)&&c!==xe.ABORTED}(s.code)){const l=i.Pa.shift();Zo(i).N_(),await A2(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Op(i)}}(n,e),S2(n)&&C2(n)}async function eT(n,e){const t=xt(n);t.asyncQueue.verifyOperationInProgress(),Qe(Bl,"RemoteStore received new credentials");const i=Zl(t);t.Ia.add(3),await Zh(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Pp(t)}async function o4(n,e){const t=xt(n);e?(t.Ia.delete(2),await Pp(t)):e||(t.Ia.add(2),await Zh(t),t.Aa.set("Unknown"))}function nc(n){return n.Va||(n.Va=function(t,i,s){const l=xt(t);return l.ia(),new GN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:WN.bind(null,n),e_:XN.bind(null,n),n_:JN.bind(null,n),J_:e4.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Dv(n)?Ov(n):n.Aa.set("Unknown")):(await n.Va.stop(),b2(n))})),n.Va}function Zo(n){return n.ma||(n.ma=function(t,i,s){const l=xt(t);return l.ia(),new ZN(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:i4.bind(null,n),n_:a4.bind(null,n),ea:r4.bind(null,n),ta:s4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Op(n)):(await n.ma.stop(),n.Pa.length>0&&(Qe(Bl,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new Nv(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lv(n,e){if(Ma("AsyncQueue",`${e}: ${n}`),ec(n))return new qe(xe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static emptySet(e){return new ju(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ut.comparator(t.key,i.key):(t,i)=>ut.comparator(t.key,i.key),this.keyedMap=ih(),this.sortedSet=new jn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ju)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ju;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.fa=new jn(ut.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):yt(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qu{constructor(e,t,i,s,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Qu(e,t,ju.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class u4{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const s=xt(t),l=s.queries;s.queries=nT(),l.forEach((c,d)=>{for(const p of d.wa)p.onError(i)})})(this,new qe(xe.ABORTED,"Firestore shutting down"))}}function nT(){return new Gl(n=>KA(n),Sp)}async function Vv(n,e){const t=xt(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.ba()&&(i=2):(l=new l4,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(s,!0);break;case 1:l.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=Lv(c,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Bv(t)}async function Uv(n,e){const t=xt(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?s=e.ba()?0:1:!l.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function c4(n,e){const t=xt(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.wa)d.Ca(s)&&(i=!0);c.ya=s}}i&&Bv(t)}function h4(n,e,t){const i=xt(n),s=i.queries.get(e);if(s)for(const l of s.wa)l.onError(t);i.queries.delete(e)}function Bv(n){n.Da.forEach(e=>{e.next()})}var V_,iT;(iT=V_||(V_={})).Fa="default",iT.Cache="cache";class zv{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Qu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==V_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.key=e}}class x2{constructor(e){this.key=e}}class f4{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Wt(),this.mutatedKeys=Wt(),this.Xa=QA(e),this.eu=new ju(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new tT,s=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,E)=>{const w=s.get(_),C=Cp(this.query,E)?E:null,x=!!w&&this.mutatedKeys.has(w.key),N=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let q=!1;w&&C?w.data.isEqual(C.data)?x!==N&&(i.track({type:3,doc:C}),q=!0):this.iu(w,C)||(i.track({type:2,doc:C}),q=!0,(p&&this.Xa(C,p)>0||m&&this.Xa(C,m)<0)&&(d=!0)):!w&&C?(i.track({type:0,doc:C}),q=!0):w&&!C&&(i.track({type:1,doc:w}),q=!0,(p||m)&&(d=!0)),q&&(C?(c=c.add(C),l=N?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((_,E)=>function(C,x){const N=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{At:q})}};return N(C)-N(x)}(_.type,E.type)||this.Xa(_.doc,E.doc)),this.su(i),s=s!=null&&s;const d=t&&!s?this.ou():[],p=this.Za.size===0&&this.current&&!s?1:0,m=p!==this.Ya;return this.Ya=p,c.length!==0||m?{snapshot:new Qu(this.query,e.eu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Wt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new x2(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new R2(i))}),t}uu(e){this.Ha=e.qs,this.Za=Wt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Qu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Fv="SyncEngine";class d4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class p4{constructor(e){this.key=e,this.lu=!1}}class m4{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Gl(d=>KA(d),Sp),this.Tu=new Map,this.Iu=new Set,this.du=new jn(ut.comparator),this.Eu=new Map,this.Au=new Rv,this.Ru={},this.Vu=new Map,this.mu=Ku.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function g4(n,e,t=!0){const i=D2(n);let s;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.cu()):s=await I2(i,e,t,!0),s}async function _4(n,e){const t=D2(n);await I2(t,e,!0,!1)}async function I2(n,e,t,i){const s=await VN(n.localStore,Ws(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await v4(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&w2(n.remoteStore,s),d}async function v4(n,e,t,i,s){n.gu=(E,w,C)=>async function(N,q,H,J){let Q=q.view.nu(H);Q.Ds&&(Q=await Yw(N.localStore,q.query,!1).then(({documents:G})=>q.view.nu(G,Q)));const $=J&&J.targetChanges.get(q.targetId),te=J&&J.targetMismatches.get(q.targetId)!=null,F=q.view.applyChanges(Q,N.isPrimaryClient,$,te);return sT(N,q.targetId,F._u),F.snapshot}(n,E,w,C);const l=await Yw(n.localStore,e,!0),c=new f4(e,l.qs),d=c.nu(l.documents),p=Gh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),m=c.applyChanges(d,n.isPrimaryClient,p);sT(n,t,m._u);const _=new d4(e,t,c);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function y4(n,e,t){const i=xt(n),s=i.Pu.get(e),l=i.Tu.get(s.targetId);if(l.length>1)return i.Tu.set(s.targetId,l.filter(c=>!Sp(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await N_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Mv(i.remoteStore,s.targetId),U_(i,s.targetId)}).catch(Ju)):(U_(i,s.targetId),await N_(i.localStore,s.targetId,!0))}async function E4(n,e){const t=xt(n),i=t.Pu.get(e),s=t.Tu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Mv(t.remoteStore,i.targetId))}async function w4(n,e,t){const i=x4(n);try{const s=await function(c,d){const p=xt(c),m=hn.now(),_=d.reduce((C,x)=>C.add(x.key),Wt());let E,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=Pa(),N=Wt();return p.Os.getEntries(C,_).next(q=>{x=q,x.forEach((H,J)=>{J.isValidDocument()||(N=N.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,x)).next(q=>{E=q;const H=[];for(const J of d){const Q=VD(J,E.get(J.key).overlayedDocument);Q!=null&&H.push(new Jo(J.key,Q,BA(Q.value.mapValue),Sr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,H,d)}).next(q=>{w=q;const H=q.applyToLocalDocumentSet(E,N);return p.documentOverlayCache.saveOverlays(C,q.batchId,H)})}).then(()=>({batchId:w.batchId,changes:$A(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,p){let m=c.Ru[c.currentUser.toKey()];m||(m=new jn(Bt)),m=m.insert(d,p),c.Ru[c.currentUser.toKey()]=m}(i,s.batchId,t),await Kh(i,s.changes),await Op(i.remoteStore)}catch(s){const l=Lv(s,"Failed to persist write");t.reject(l)}}async function k2(n,e){const t=xt(n);try{const i=await DN(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(pn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?pn(c.lu,14607):s.removedDocuments.size>0&&(pn(c.lu,42227),c.lu=!1))}),await Kh(t,i,e)}catch(i){await Ju(i)}}function rT(n,e,t){const i=xt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Pu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const p=xt(c);p.onlineState=d;let m=!1;p.queries.forEach((_,E)=>{for(const w of E.wa)w.va(d)&&(m=!0)}),m&&Bv(p)}(i.eventManager,e),s.length&&i.hu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function T4(n,e,t){const i=xt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new jn(ut.comparator);c=c.insert(l,$i.newNoDocument(l,Rt.min()));const d=Wt().add(l),p=new kp(Rt.min(),new Map,new jn(Bt),c,d);await k2(i,p),i.du=i.du.remove(l),i.Eu.delete(e),jv(i)}else await N_(i.localStore,e,!1).then(()=>U_(i,e,t)).catch(Ju)}async function b4(n,e){const t=xt(n),i=e.batch.batchId;try{const s=await ON(t.localStore,e);P2(t,i,null),M2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Kh(t,s)}catch(s){await Ju(s)}}async function A4(n,e,t){const i=xt(n);try{const s=await function(c,d){const p=xt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,d).next(E=>(pn(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(m,E))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(i.localStore,e);P2(i,e,t),M2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Kh(i,s)}catch(s){await Ju(s)}}function M2(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function P2(n,e,t){const i=xt(n);let s=i.Ru[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Ru[i.currentUser.toKey()]=s}}function U_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||O2(n,i)})}function O2(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Mv(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),jv(n))}function sT(n,e,t){for(const i of t)i instanceof R2?(n.Au.addReference(i.key,e),S4(n,i)):i instanceof x2?(Qe(Fv,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||O2(n,i.key)):yt(19791,{yu:i})}function S4(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Qe(Fv,"New document in limbo: "+t),n.Iu.add(i),jv(n))}function jv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ut(Pn.fromString(e)),i=n.mu.next();n.Eu.set(i,new p4(t)),n.du=n.du.insert(t,i),w2(n.remoteStore,new Po(Ws(Ap(t.path)),i,"TargetPurposeLimboResolution",wp.ue))}}async function Kh(n,e,t){const i=xt(n),s=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((d,p)=>{c.push(i.gu(p,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(m){s.push(m);const E=Iv.Es(p.targetId,m);l.push(E)}}))}),await Promise.all(c),i.hu.J_(s),await async function(p,m){const _=xt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Pe.forEach(m,w=>Pe.forEach(w.Is,C=>_.persistence.referenceDelegate.addReference(E,w.targetId,C)).next(()=>Pe.forEach(w.ds,C=>_.persistence.referenceDelegate.removeReference(E,w.targetId,C)))))}catch(E){if(!ec(E))throw E;Qe(kv,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const C=_.Fs.get(w),x=C.snapshotVersion,N=C.withLastLimboFreeSnapshotVersion(x);_.Fs=_.Fs.insert(w,N)}}}(i.localStore,l))}async function C4(n,e){const t=xt(n);if(!t.currentUser.isEqual(e)){Qe(Fv,"User change. New user:",e.toKey());const i=await _2(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new qe(xe.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kh(t,i.Bs)}}function R4(n,e){const t=xt(n),i=t.Eu.get(e);if(i&&i.lu)return Wt().add(i.key);{let s=Wt();const l=t.Tu.get(e);if(!l)return s;for(const c of l){const d=t.Pu.get(c);s=s.unionWith(d.view.tu)}return s}}function D2(n){const e=xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T4.bind(null,e),e.hu.J_=c4.bind(null,e.eventManager),e.hu.pu=h4.bind(null,e.eventManager),e}function x4(n){const e=xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A4.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return PN(this.persistence,new IN,e.initialUser,this.serializer)}Du(e){return new g2(xv.Vi,this.serializer)}bu(e){return new BN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class I4 extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){pn(this.persistence.referenceDelegate instanceof Kd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new pN(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new g2(i=>Kd.Vi(i,t),this.serializer)}}class B_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=C4.bind(null,this.syncEngine),await o4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u4}()}createDatastore(e){const t=Mp(e.databaseInfo.databaseId),i=function(l){return new qN(l)}(e.databaseInfo);return function(l,c,d,p){return new QN(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,d){return new $N(i,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>rT(this.syncEngine,t,0),function(){return Xw.C()?new Xw:new zN}())}createSyncEngine(e,t){return function(s,l,c,d,p,m,_){const E=new m4(s,l,c,d,p,m);return _&&(E.fu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=xt(s);Qe(Bl,"RemoteStore shutting down."),l.Ia.add(5),await Zh(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}B_.provider={build:()=>new B_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="FirestoreClient";class k4{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Yi.UNAUTHENTICATED,this.clientId=_v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Qe(Ko,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Qe(Ko,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function qg(n,e){n.asyncQueue.verifyOperationInProgress(),Qe(Ko,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await _2(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>{Fo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Qe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Fo("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function aT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await M4(n);Qe(Ko,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>eT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>eT(e.remoteStore,s)),n._onlineComponents=e}async function M4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Qe(Ko,"Using user provided OfflineComponentProvider");try{await qg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===xe.FAILED_PRECONDITION||s.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Fo("Error using user provided cache. Falling back to memory cache: "+t),await qg(n,new Yd)}}else Qe(Ko,"Using default OfflineComponentProvider"),await qg(n,new I4(void 0));return n._offlineComponents}async function N2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Qe(Ko,"Using user provided OnlineComponentProvider"),await aT(n,n._uninitializedComponentsProvider._online)):(Qe(Ko,"Using default OnlineComponentProvider"),await aT(n,new B_))),n._onlineComponents}function P4(n){return N2(n).then(e=>e.syncEngine)}async function $d(n){const e=await N2(n),t=e.eventManager;return t.onListen=g4.bind(null,e.syncEngine),t.onUnlisten=y4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E4.bind(null,e.syncEngine),t}function O4(n,e,t={}){const i=new Ra;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const _=new Hv({next:w=>{_.Ou(),c.enqueueAndForget(()=>Uv(l,E));const C=w.docs.has(d);!C&&w.fromCache?m.reject(new qe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?m.reject(new qe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new zv(Ap(d.path),_,{includeMetadataChanges:!0,ka:!0});return Vv(l,E)}(await $d(n),n.asyncQueue,e,t,i)),i.promise}function D4(n,e,t={}){const i=new Ra;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const _=new Hv({next:w=>{_.Ou(),c.enqueueAndForget(()=>Uv(l,E)),w.fromCache&&p.source==="server"?m.reject(new qe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new zv(d,_,{includeMetadataChanges:!0,ka:!0});return Vv(l,E)}(await $d(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firestore.googleapis.com",lT=!0;class uT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new qe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V2,this.ssl=lT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fN)throw new qe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new qe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new qe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new qe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dp{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jO;switch(i.type){case"firstParty":return new ZO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new qe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=oT.get(t);i&&(Qe("ComponentProvider","Removing Datastore"),oT.delete(t),i.terminate())}(this),Promise.resolve()}}function N4(n,e,t,i={}){var s;n=Qr(n,Dp);const l=Na(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(dp(`https://${p}`),pp("Firestore",!0)),c.host!==V2&&c.host!==p&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Ll(m,d)&&(n._setSettings(m),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=Yi.MOCK_USER;else{_=Db(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new qe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yi(w)}n._authCredentials=new HO(new CA(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new el(this.firestore,e,this._query)}}class ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}toJSON(){return{type:ei._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Hh(t,ei._jsonSchema))return new ei(e,i||null,new ut(Pn.fromString(t.referencePath)))}}ei._jsonSchemaVersion="firestore/documentReference/1.0",ei._jsonSchema={type:li("string",ei._jsonSchemaVersion),referencePath:li("string")};class Vo extends el{constructor(e,t,i){super(e,t,Ap(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new ut(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function Qo(n,e,...t){if(n=Sn(n),xA("collection","path",e),n instanceof Dp){const i=Pn.fromString(e,...t);return Tw(i),new Vo(n,null,i)}{if(!(n instanceof ei||n instanceof Vo))throw new qe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pn.fromString(e,...t));return Tw(i),new Vo(n.firestore,null,i)}}function ls(n,e,...t){if(n=Sn(n),arguments.length===1&&(e=_v.newId()),xA("doc","path",e),n instanceof Dp){const i=Pn.fromString(e,...t);return ww(i),new ei(n,null,new ut(i))}{if(!(n instanceof ei||n instanceof Vo))throw new qe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pn.fromString(e,...t));return ww(i),new ei(n.firestore,n instanceof Vo?n.converter:null,new ut(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new y2(this,"async_queue_retry"),this.oc=()=>{const i=Hg();i&&Qe(cT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Hg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Hg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ra;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ec(e))throw e;Qe(cT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Ma("INTERNAL UNHANDLED ERROR: ",fT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Nv.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(s),s}ac(){this.tc&&yt(47125,{hc:fT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function fT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Oa extends Dp{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new hT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function L4(n,e){const t=typeof n=="object"?n:mp(),i=typeof n=="string"?n:Fd,s=Bh(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=rv("firestore");l&&N4(s,...l)}return s}function Qh(n){if(n._terminated)throw new qe(xe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V4(n),n._firestoreClient}function V4(n){var e,t,i;const s=n._freezeSettings(),l=function(d,p,m,_){return new lD(d,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,L2(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new k4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(Bi.fromBase64String(e))}catch(t){throw new qe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new us(Bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hh(e,us._jsonSchema))return us.fromBase64String(e.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:li("string",us._jsonSchemaVersion),bytes:li("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new qe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(e){if(Hh(e,Js._jsonSchema))return new Js(e.latitude,e.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:li("string",Js._jsonSchemaVersion),latitude:li("number"),longitude:li("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hh(e,ea._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ea(e.vectorValues);throw new qe(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:li("string",ea._jsonSchemaVersion),vectorValues:li("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=/^__.*__$/;class B4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new qh(e,this.data,t,this.fieldTransforms)}}class U2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function B2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ec:n})}}class Gv{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Gv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.fc(e),s}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(B2(this.Ec)&&U4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class z4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Mp(e)}Dc(e,t,i,s=!1){return new Gv({Ec:e,methodName:t,bc:i,path:Ui.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(n){const e=n._freezeSettings(),t=Mp(n._databaseId);return new z4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function z2(n,e,t,i,s,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,s);Zv("Data must be an object, but it was:",c,i);const d=H2(i,c);let p,m;if(l.merge)p=new Zr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const w=z_(e,E,t);if(!c.contains(w))throw new qe(xe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);G2(_,w)||_.push(w)}p=new Zr(_),m=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,m=c.fieldTransforms;return new B4(new br(d),p,m)}class Lp extends qv{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lp}}function F2(n,e,t,i){const s=n.Dc(1,e,t);Zv("Data must be an object, but it was:",s,i);const l=[],c=br.empty();Xo(i,(p,m)=>{const _=Kv(e,p,t);m=Sn(m);const E=s.gc(_);if(m instanceof Lp)l.push(_);else{const w=$h(m,E);w!=null&&(l.push(_),c.set(_,w))}});const d=new Zr(l);return new U2(c,d,s.fieldTransforms)}function j2(n,e,t,i,s,l){const c=n.Dc(1,e,t),d=[z_(e,i,t)],p=[s];if(l.length%2!=0)throw new qe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(z_(e,l[w])),p.push(l[w+1]);const m=[],_=br.empty();for(let w=d.length-1;w>=0;--w)if(!G2(m,d[w])){const C=d[w];let x=p[w];x=Sn(x);const N=c.gc(C);if(x instanceof Lp)m.push(C);else{const q=$h(x,N);q!=null&&(m.push(C),_.set(C,q))}}const E=new Zr(m);return new U2(_,E,c.fieldTransforms)}function F4(n,e,t,i=!1){return $h(t,n.Dc(i?4:3,e))}function $h(n,e){if(q2(n=Sn(n)))return Zv("Unsupported field value:",e,n),H2(n,e);if(n instanceof qv)return function(i,s){if(!B2(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const d of i){let p=$h(d,s.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=Sn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MD(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=hn.fromDate(i);return{timestampValue:Zd(s.serializer,l)}}if(i instanceof hn){const l=new hn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zd(s.serializer,l)}}if(i instanceof Js)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof us)return{bytesValue:l2(s.serializer,i._byteString)};if(i instanceof ei){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ea)return function(c,d){return{mapValue:{fields:{[VA]:{stringValue:UA},[jd]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return bv(d.serializer,m)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${Ep(i)}`)}(n,e)}function H2(n,e){const t={};return MA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(n,(i,s)=>{const l=$h(s,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function q2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof Js||n instanceof us||n instanceof ei||n instanceof qv||n instanceof ea)}function Zv(n,e,t){if(!q2(t)||!IA(t)){const i=Ep(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function z_(n,e,t){if((e=Sn(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return Kv(n,e);throw Wd("Field path arguments must be of type string or ",n,!1,void 0,t)}const j4=new RegExp("[~\\*/\\[\\]]");function Kv(n,e,t){if(e.search(j4)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yh(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wd(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new qe(xe.INVALID_ARGUMENT,d+n+p)}function G2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class H4 extends Z2{data(){return super.data()}}function Vp(n,e){return typeof e=="string"?Kv(n,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new qe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}class Q2 extends Qv{}function xh(n,e,...t){let i=[];e instanceof Qv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Yv).length,d=l.filter(p=>p instanceof Up).length;if(c>1||c>0&&d>0)throw new qe(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Up extends Q2{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Up(e,t,i)}_apply(e){const t=this._parse(e);return $2(e._query,t),new el(e.firestore,e.converter,I_(e._query,t))}_parse(e){const t=Np(e.firestore);return function(l,c,d,p,m,_,E){let w;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){mT(E,_);const x=[];for(const N of E)x.push(pT(p,l,N));w={arrayValue:{values:x}}}else w=pT(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||mT(E,_),w=F4(d,c,E,_==="in"||_==="not-in");return oi.create(m,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xd(n,e,t){const i=e,s=Vp("where",n);return Up._create(s,i,t)}class Yv extends Qv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:xs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)$2(c,p),c=I_(c,p)}(e._query,t),new el(e.firestore,e.converter,I_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $v extends Q2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $v(e,t)}_apply(e){const t=function(s,l,c){if(s.startAt!==null)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new qe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sh(l,c)}(e._query,this._field,this._direction);return new el(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new tc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Y2(n,e="asc"){const t=e,i=Vp("orderBy",n);return $v._create(i,t)}function pT(n,e,t){if(typeof(t=Sn(t))=="string"){if(t==="")throw new qe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZA(e)&&t.indexOf("/")!==-1)throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pn.fromString(t));if(!ut.isDocumentKey(i))throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kw(n,new ut(i))}if(t instanceof ei)return kw(n,t._key);throw new qe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ep(t)}.`)}function mT(n,e){if(!Array.isArray(n)||n.length===0)throw new qe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $2(n,e){const t=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new qe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q4{convertValue(e,t="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Xo(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[jd].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Jn(c.doubleValue));return new ea(l)}convertGeoPoint(e){return new Js(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const t=Ho(e);return new hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pn.fromString(e);pn(p2(i),9688,{name:e});const s=new bh(i.get(1),i.get(3)),l=new ut(i.popFirst(5));return s.isEqual(t)||Ma(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends Z2{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Vp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ol._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ol._jsonSchema={type:li("string",Ol._jsonSchemaVersion),bundleSource:li("string","DocumentSnapshot"),bundleName:li("string"),bundle:li("string")};class Ad extends Ol{data(e={}){return super.data(e)}}class Dl{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new sh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ad(this._firestore,this._userDataWriter,i.key,i,new sh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const p=new Ad(s._firestore,s._userDataWriter,d.doc.key,d.doc,new sh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Ad(s._firestore,s._userDataWriter,d.doc.key,d.doc,new sh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:G4(d.type),doc:p,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_v.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){n=Qr(n,ei);const e=Qr(n.firestore,Oa);return O4(Qh(e),n._key).then(t=>eS(e,n,t))}Dl._jsonSchemaVersion="firestore/querySnapshot/1.0",Dl._jsonSchema={type:li("string",Dl._jsonSchemaVersion),bundleSource:li("string","QuerySnapshot"),bundleName:li("string"),bundle:li("string")};class Wv extends q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function Ih(n){n=Qr(n,el);const e=Qr(n.firestore,Oa),t=Qh(e),i=new Wv(e);return K2(n._query),D4(t,n._query).then(s=>new Dl(e,i,n,s))}function ph(n,e,t,...i){n=Qr(n,ei);const s=Qr(n.firestore,Oa),l=Np(s);let c;return c=typeof(e=Sn(e))=="string"||e instanceof Yh?j2(l,"updateDoc",n._key,e,t,i):F2(l,"updateDoc",n._key,e),Bp(s,[c.toMutation(n._key,Sr.exists(!0))])}function X2(n){return Bp(Qr(n.firestore,Oa),[new Ip(n._key,Sr.none())])}function Xv(n,e){const t=Qr(n.firestore,Oa),i=ls(n),s=W2(n.converter,e);return Bp(t,[z2(Np(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Sr.exists(!1))]).then(()=>i)}function J2(n,...e){var t,i,s;n=Sn(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||dT(e[c])||(l=e[c++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(dT(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}let p,m,_;if(n instanceof ei)m=Qr(n.firestore,Oa),_=Ap(n._key.path),p={next:E=>{e[c]&&e[c](eS(m,n,E))},error:e[c+1],complete:e[c+2]};else{const E=Qr(n,el);m=Qr(E.firestore,Oa),_=E._query;const w=new Wv(m);p={next:C=>{e[c]&&e[c](new Dl(m,w,E,C))},error:e[c+1],complete:e[c+2]},K2(n._query)}return function(w,C,x,N){const q=new Hv(N),H=new zv(C,q,x);return w.asyncQueue.enqueueAndForget(async()=>Vv(await $d(w),H)),()=>{q.Ou(),w.asyncQueue.enqueueAndForget(async()=>Uv(await $d(w),H))}}(Qh(m),_,d,p)}function Bp(n,e){return function(i,s){const l=new Ra;return i.asyncQueue.enqueueAndForget(async()=>w4(await P4(i),s,l)),l.promise}(Qh(n),e)}function eS(n,e,t){const i=t.docs.get(e._key),s=new Wv(n);return new Ol(n,s,e._key,i,new sh(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,i){this._verifyNotCommitted();const s=Gg(e,this._firestore),l=W2(s.converter,t,i),c=z2(this._dataReader,"WriteBatch.set",s._key,l,s.converter!==null,i);return this._mutations.push(c.toMutation(s._key,Sr.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const l=Gg(e,this._firestore);let c;return c=typeof(t=Sn(t))=="string"||t instanceof Yh?j2(this._dataReader,"WriteBatch.update",l._key,t,i,s):F2(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gg(e,this._firestore);return this._mutations=this._mutations.concat(new Ip(t._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gg(n,e){if((n=Sn(n)).firestore!==e)throw new qe(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){return Qh(n=Qr(n,Oa)),new K4(n,e=>Bp(n,e))}(function(e,t=!0){(function(s){Xu=s})(Hl),zo(new xa("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Oa(new qO(i.getProvider("auth-internal")),new KO(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new qe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(m.options.projectId,_)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),cs(gw,_w,e),cs(gw,_w,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebasestorage.googleapis.com",iS="storageBucket",Q4=2*60*1e3,Y4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Is{constructor(e,t,i=0){super(Zg(e),`Firebase Storage: ${t} (${Zg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kn||(Kn={}));function Zg(n){return"storage/"+n}function Jv(){const n="An unknown error occurred, please check the error payload for server response.";return new Qn(Kn.UNKNOWN,n)}function $4(n){return new Qn(Kn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function W4(n){return new Qn(Kn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function X4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qn(Kn.UNAUTHENTICATED,n)}function J4(){return new Qn(Kn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eL(n){return new Qn(Kn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function tL(){return new Qn(Kn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nL(){return new Qn(Kn.CANCELED,"User canceled the upload/download.")}function iL(n){return new Qn(Kn.INVALID_URL,"Invalid URL '"+n+"'.")}function rL(n){return new Qn(Kn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function sL(){return new Qn(Kn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iS+"' property when initializing the app?")}function aL(){return new Qn(Kn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oL(){return new Qn(Kn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lL(n){return new Qn(Kn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function F_(n){return new Qn(Kn.INVALID_ARGUMENT,n)}function rS(){return new Qn(Kn.APP_DELETED,"The Firebase app was deleted.")}function uL(n){return new Qn(Kn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mh(n,e){return new Qn(Kn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Wc(n){throw new Qn(Kn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Kr.makeFromUrl(e,t)}catch{return new Kr(e,"")}if(i.path==="")return i;throw rL(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function l($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),p={bucket:1,path:3};function m($){$.path_=decodeURIComponent($.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${_}/b/${s}/o${w}`,"i"),x={bucket:1,path:3},N=t===nS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,q="([^?#]*)",H=new RegExp(`^https?://${N}/${s}/${q}`,"i"),Q=[{regex:d,indices:p,postModify:l},{regex:C,indices:x,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let $=0;$<Q.length;$++){const te=Q[$],F=te.regex.exec(e);if(F){const G=F[te.indices.bucket];let A=F[te.indices.path];A||(A=""),i=new Kr(G,A),te.postModify(i);break}}if(i==null)throw iL(e);return i}}class cL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n,e,t){let i=1,s=null,l=null,c=!1,d=0;function p(){return d===2}let m=!1;function _(...q){m||(m=!0,e.apply(null,q))}function E(q){s=setTimeout(()=>{s=null,n(C,p())},q)}function w(){l&&clearTimeout(l)}function C(q,...H){if(m){w();return}if(q){w(),_.call(null,q,...H);return}if(p()||c){w(),_.call(null,q,...H);return}i<64&&(i*=2);let Q;d===1?(d=2,Q=0):Q=(i+Math.random())*1e3,E(Q)}let x=!1;function N(q){x||(x=!0,w(),!m&&(s!==null?(q||(d=2),clearTimeout(s),E(0)):q||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,N(!0)},t),N}function fL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(n){return n!==void 0}function pL(n){return typeof n=="object"&&!Array.isArray(n)}function ey(n){return typeof n=="string"||n instanceof String}function gT(n){return ty()&&n instanceof Blob}function ty(){return typeof Blob<"u"}function _T(n,e,t,i){if(i<e)throw F_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw F_(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function sS(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var Nl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Nl||(Nl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t,i,s,l,c,d,p,m,_,E,w=!0,C=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,N)=>{this.resolve_=x,this.reject_=N,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new ud(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Nl.NO_ERROR,p=l.getStatus();if(!d||mL(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Nl.ABORT;i(!1,new ud(!1,null,_));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new ud(m,l))})},t=(i,s)=>{const l=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());dL(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Jv();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(s.canceled){const p=this.appDelete_?rS():nL();c(p)}else{const p=tL();c(p)}};this.canceled_?t(!1,new ud(!1,null,!0)):this.backoffId_=hL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ud{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function _L(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function vL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function EL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function wL(n,e,t,i,s,l,c=!0,d=!1){const p=sS(n.urlParams),m=n.url+p,_=Object.assign({},n.headers);return yL(_,e),_L(_,t),vL(_,l),EL(_,i),new gL(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bL(...n){const e=TL();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(ty())return new Blob(n);throw new Qn(Kn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){if(typeof atob>"u")throw lL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kg{constructor(e,t){this.data=e,this.contentType=t||null}}function CL(n,e){switch(n){case Zs.RAW:return new Kg(aS(e));case Zs.BASE64:case Zs.BASE64URL:return new Kg(oS(n,e));case Zs.DATA_URL:return new Kg(xL(e),IL(e))}throw Jv()}function aS(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function RL(n){let e;try{e=decodeURIComponent(n)}catch{throw mh(Zs.DATA_URL,"Malformed data URL.")}return aS(e)}function oS(n,e){switch(n){case Zs.BASE64:{const s=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(s||l)throw mh(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Zs.BASE64URL:{const s=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(s||l)throw mh(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=SL(e)}catch(s){throw s.message.includes("polyfill")?s:mh(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}class lS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw mh(Zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=kL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function xL(n){const e=new lS(n);return e.base64?oS(Zs.BASE64,e.rest):RL(e.rest)}function IL(n){return new lS(n).contentType}function kL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t){let i=0,s="";gT(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(gT(this.data_)){const i=this.data_,s=AL(i,e,t);return s===null?null:new Mo(s)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Mo(i,!0)}}static getBlob(...e){if(ty()){const t=e.map(i=>i instanceof Mo?i.data_:i);return new Mo(bL.apply(null,t))}else{const t=e.map(c=>ey(c)?CL(Zs.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const s=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)s[l++]=c[d]}),new Mo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n){let e;try{e=JSON.parse(n)}catch{return null}return pL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function PL(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function cS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(n,e){return e}class hr{constructor(e,t,i,s){this.server=e,this.local=t||e,this.writable=!!i,this.xform=s||OL}}let cd=null;function DL(n){return!ey(n)||n.length<2?n:cS(n)}function hS(){if(cd)return cd;const n=[];n.push(new hr("bucket")),n.push(new hr("generation")),n.push(new hr("metageneration")),n.push(new hr("name","fullPath",!0));function e(l,c){return DL(c)}const t=new hr("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const s=new hr("size");return s.xform=i,n.push(s),n.push(new hr("timeCreated")),n.push(new hr("updated")),n.push(new hr("md5Hash",null,!0)),n.push(new hr("cacheControl",null,!0)),n.push(new hr("contentDisposition",null,!0)),n.push(new hr("contentEncoding",null,!0)),n.push(new hr("contentLanguage",null,!0)),n.push(new hr("contentType",null,!0)),n.push(new hr("metadata","customMetadata",!0)),cd=n,cd}function NL(n,e){function t(){const i=n.bucket,s=n.fullPath,l=new Kr(i,s);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function LL(n,e,t){const i={};i.type="file";const s=t.length;for(let l=0;l<s;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return NL(i,n),i}function fS(n,e,t){const i=uS(e);return i===null?null:LL(n,i,t)}function VL(n,e,t,i){const s=uS(e);if(s===null||!ey(s.downloadTokens))return null;const l=s.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const _=n.bucket,E=n.fullPath,w="/b/"+c(_)+"/o/"+c(E),C=zp(w,t,i),x=sS({alt:"media",token:m});return C+x})[0]}function UL(n,e){const t={},i=e.length;for(let s=0;s<i;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class ny{constructor(e,t,i,s){this.url=e,this.method=t,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n){if(!n)throw Jv()}function BL(n,e){function t(i,s){const l=fS(n,s,e);return dS(l!==null),l}return t}function zL(n,e){function t(i,s){const l=fS(n,s,e);return dS(l!==null),VL(l,s,n.host,n._protocol)}return t}function pS(n){function e(t,i){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=J4():s=X4():t.getStatus()===402?s=W4(n.bucket):t.getStatus()===403?s=eL(n.path):s=i,s.status=t.getStatus(),s.serverResponse=i.serverResponse,s}return e}function mS(n){const e=pS(n);function t(i,s){let l=e(i,s);return i.getStatus()===404&&(l=$4(n.path)),l.serverResponse=s.serverResponse,l}return t}function FL(n,e,t){const i=e.fullServerUrl(),s=zp(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new ny(s,l,zL(n,t),c);return d.errorHandler=mS(e),d}function jL(n,e){const t=e.fullServerUrl(),i=zp(t,n.host,n._protocol),s="DELETE",l=n.maxOperationRetryTime;function c(p,m){}const d=new ny(i,s,c,l);return d.successCodes=[200,204],d.errorHandler=mS(e),d}function HL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function qL(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=HL(null,e)),i}function GL(n,e,t,i,s){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Q="";for(let $=0;$<2;$++)Q=Q+Math.random().toString().slice(2);return Q}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const m=qL(e,i,s),_=UL(m,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,w=`\r
--`+p+"--",C=Mo.getBlob(E,i,w);if(C===null)throw aL();const x={name:m.fullPath},N=zp(l,n.host,n._protocol),q="POST",H=n.maxUploadRetryTime,J=new ny(N,q,BL(n,t),H);return J.urlParams=x,J.headers=c,J.body=C.uploadData(),J.errorHandler=pS(e),J}class ZL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,s,l){if(this.sent_)throw Wc("cannot .send() more than once");if(Na(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KL extends ZL{initXhr(){this.xhr_.responseType="text"}}function iy(){return new KL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t){this._service=e,t instanceof Kr?this._location=t:this._location=Kr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zl(e,t)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cS(this._location.path)}get storage(){return this._service}get parent(){const e=ML(this._location.path);if(e===null)return null;const t=new Kr(this._location.bucket,e);return new zl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw uL(e)}}function QL(n,e,t){n._throwIfRoot("uploadBytes");const i=GL(n.storage,n._location,hS(),new Mo(e,!0),t);return n.storage.makeRequestWithTokens(i,iy).then(s=>({metadata:s,ref:n}))}function YL(n){n._throwIfRoot("getDownloadURL");const e=FL(n.storage,n._location,hS());return n.storage.makeRequestWithTokens(e,iy).then(t=>{if(t===null)throw oL();return t})}function $L(n){n._throwIfRoot("deleteObject");const e=jL(n.storage,n._location);return n.storage.makeRequestWithTokens(e,iy)}function WL(n,e){const t=PL(n._location.path,e),i=new Kr(n._location.bucket,t);return new zl(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n){return/^[A-Za-z]+:\/\//.test(n)}function JL(n,e){return new zl(n,e)}function gS(n,e){if(n instanceof ry){const t=n;if(t._bucket==null)throw sL();const i=new zl(t,t._bucket);return e!=null?gS(i,e):i}else return e!==void 0?WL(n,e):n}function e3(n,e){if(e&&XL(e)){if(n instanceof ry)return JL(n,e);throw F_("To use ref(service, url), the first argument must be a Storage instance.")}else return gS(n,e)}function vT(n,e){const t=e?.[iS];return t==null?null:Kr.makeFromBucketSpec(t,n)}function t3(n,e,t,i={}){n.host=`${e}:${t}`;const s=Na(e);s&&(dp(`https://${n.host}/b`),pp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:Db(l,n.app.options.projectId))}class ry{constructor(e,t,i,s,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=nS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q4,this._maxUploadRetryTime=Y4,this._requests=new Set,s!=null?this._bucket=Kr.makeFromBucketSpec(s,this._host):this._bucket=vT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=vT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zl(this,e)}_makeRequest(e,t,i,s,l=!0){if(this._deleted)return new cL(rS());{const c=wL(e,this._appId,i,s,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const yT="@firebase/storage",ET="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="storage";function wT(n,e,t){return n=Sn(n),QL(n,e,t)}function TT(n){return n=Sn(n),YL(n)}function n3(n){return n=Sn(n),$L(n)}function Qg(n,e){return n=Sn(n),e3(n,e)}function i3(n=mp(),e){n=Sn(n);const i=Bh(n,_S).getImmediate({identifier:e}),s=rv("storage");return s&&r3(i,...s),i}function r3(n,e,t,i={}){t3(n,e,t,i)}function s3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new ry(t,i,s,e,Hl)}function a3(){zo(new xa(_S,s3,"PUBLIC").setMultipleInstances(!0)),cs(yT,ET,""),cs(yT,ET,"esm2017")}a3();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="type.googleapis.com/google.protobuf.Int64Value",l3="type.googleapis.com/google.protobuf.UInt64Value";function vS(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function Jd(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Jd(e));if(typeof n=="function"||typeof n=="object")return vS(n,e=>Jd(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Yu(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case o3:case l3:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Yu(e)):typeof n=="function"||typeof n=="object"?vS(n,e=>Yu(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ar extends Is{constructor(e,t,i){super(`${sy}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,Ar.prototype)}}function u3(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ep(n,e){let t=u3(n),i=t,s;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!bT[c])return new Ar("internal","internal");t=bT[c],i=c}const d=l.message;typeof d=="string"&&(i=d),s=l.details,s!==void 0&&(s=Yu(s))}}catch{}return t==="ok"?null:new Ar(t,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t,i,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Gr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||i.get().then(l=>this.messaging=l,()=>{}),this.appCheck||s?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="us-central1",h3=/^data: (.*?)(?:\n|$)/;function f3(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new Ar("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class d3{constructor(e,t,i,s,l=j_,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new c3(e,t,i,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(l);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=j_}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function p3(n,e,t){const i=Na(e);n.emulatorOrigin=`http${i?"s":""}://${e}:${t}`,i&&(dp(n.emulatorOrigin),pp("Functions",!0))}function m3(n,e,t){const i=s=>_3(n,e,s,{});return i.stream=(s,l)=>y3(n,e,s,l),i}async function g3(n,e,t,i){t["Content-Type"]="application/json";let s;try{s=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let l=null;try{l=await s.json()}catch{}return{status:s.status,json:l}}async function yS(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function _3(n,e,t,i){const s=n._url(e);return v3(n,s,t,i)}async function v3(n,e,t,i){t=Jd(t);const s={data:t},l=await yS(n,i),c=i.timeout||7e4,d=f3(c),p=await Promise.race([g3(e,s,l,n.fetchImpl),d.promise,n.cancelAllRequests]);if(d.cancel(),!p)throw new Ar("cancelled","Firebase Functions instance was deleted.");const m=ep(p.status,p.json);if(m)throw m;if(!p.json)throw new Ar("internal","Response is not valid JSON object.");let _=p.json.data;if(typeof _>"u"&&(_=p.json.result),typeof _>"u")throw new Ar("internal","Response is missing data field.");return{data:Yu(_)}}function y3(n,e,t,i){const s=n._url(e);return E3(n,s,t,i||{})}async function E3(n,e,t,i){var s;t=Jd(t);const l={data:t},c=await yS(n,i);c["Content-Type"]="application/json",c.Accept="text/event-stream";let d;try{d=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:c,signal:i?.signal})}catch(C){if(C instanceof Error&&C.name==="AbortError"){const N=new Ar("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const x=ep(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let p,m;const _=new Promise((C,x)=>{p=C,m=x});(s=i?.signal)===null||s===void 0||s.addEventListener("abort",()=>{const C=new Ar("cancelled","Request was cancelled.");m(C)});const E=d.body.getReader(),w=w3(E,p,m,i?.signal);return{stream:{[Symbol.asyncIterator](){const C=w.getReader();return{async next(){const{value:x,done:N}=await C.read();return{value:x,done:N}},async return(){return await C.cancel(),{done:!0,value:void 0}}}}},data:_}}function w3(n,e,t,i){const s=(c,d)=>{const p=c.match(h3);if(!p)return;const m=p[1];try{const _=JSON.parse(m);if("result"in _){e(Yu(_.result));return}if("message"in _){d.enqueue(Yu(_.message));return}if("error"in _){const E=ep(0,_);d.error(E),t(E);return}}catch(_){if(_ instanceof Ar){d.error(_),t(_);return}}},l=new TextDecoder;return new ReadableStream({start(c){let d="";return p();async function p(){if(i?.aborted){const m=new Ar("cancelled","Request was cancelled");return c.error(m),t(m),Promise.resolve()}try{const{value:m,done:_}=await n.read();if(_){d.trim()&&s(d.trim(),c),c.close();return}if(i?.aborted){const w=new Ar("cancelled","Request was cancelled");c.error(w),t(w),await n.cancel();return}d+=l.decode(m,{stream:!0});const E=d.split(`
`);d=E.pop()||"";for(const w of E)w.trim()&&s(w.trim(),c);return p()}catch(m){const _=m instanceof Ar?m:ep(0,null);c.error(_),t(_)}}},cancel(){return n.cancel()}})}const AT="@firebase/functions",ST="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="auth-internal",b3="app-check-internal",A3="messaging-internal";function S3(n){const e=(t,{instanceIdentifier:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider(T3),c=t.getProvider(A3),d=t.getProvider(b3);return new d3(s,l,c,d,i)};zo(new xa(sy,e,"PUBLIC").setMultipleInstances(!0)),cs(AT,ST,n),cs(AT,ST,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(n=mp(),e=j_){const i=Bh(Sn(n),sy).getImmediate({identifier:e}),s=rv("functions");return s&&R3(i,...s),i}function R3(n,e,t){p3(Sn(n),e,t)}function x3(n,e,t){return m3(Sn(n),e)}S3();const I3={apiKey:"AIzaSyBOzvTb9IAQ2-x9JhZq2cE1x-KtBK9wucE",authDomain:"chapa-amigo-empresas.firebaseapp.com",projectId:"chapa-amigo-empresas",storageBucket:"chapa-amigo-empresas.firebasestorage.app",messagingSenderId:"912991691952",appId:"1:912991691952:web:339b7883ee6aee528c8775",measurementId:"G-SRM8HCL53Z"},Fp=Vb(I3),ES=zO(Fp),ai=L4(Fp),Yg=i3(Fp),k3=C3(Fp,"us-central1");/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),CT=n=>{const e=P3(n);return e.charAt(0).toUpperCase()+e.slice(1)},wS=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),O3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ce.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...d},p)=>ce.createElement("svg",{ref:p,...D3,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:wS("lucide",s),...!l&&!O3(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,_])=>ce.createElement(m,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=(n,e)=>{const t=ce.forwardRef(({className:i,...s},l)=>ce.createElement(N3,{ref:l,iconNode:e,className:wS(`lucide-${M3(CT(n))}`,`lucide-${n}`,i),...s}));return t.displayName=CT(n),t};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],tp=en("archive",L3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],U3=en("award",V3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],z3=en("banknote",B3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],TS=en("briefcase",F3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],H3=en("building-2",j3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],G3=en("building",q3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],K3=en("calendar",Z3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Y3=en("camera",Q3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],W3=en("chart-no-axes-column",$3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RT=en("circle-check-big",X3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ay=en("circle-plus",J3);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H_=en("circle-x",e6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],n6=en("clipboard-list",t6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],r6=en("clock",i6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],a6=en("dollar-sign",s6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bS=en("file-text",o6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],u6=en("hash",l6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],h6=en("hourglass",c6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AS=en("info",f6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],p6=en("layout-dashboard",d6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],np=en("loader-circle",m6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_6=en("log-out",g6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],y6=en("map-pin",v6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],w6=en("paperclip",E6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],b6=en("printer",T6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S6=en("search",A6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SS=en("square-pen",C6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],x6=en("star",R6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],xT=en("ticket",I6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],CS=en("trash-2",k6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oy=en("triangle-alert",M6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],O6=en("upload",P6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ly=en("user",D6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RS=en("users",N6);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xS=en("x",L6);function kh({isOpen:n,onClose:e,title:t,children:i}){return n?I.jsx("div",{className:"modal-overlay",onClick:e,children:I.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("h2",{className:"modal-title",children:t}),I.jsx("button",{onClick:e,className:"modal-close-button",children:I.jsx(xS,{size:24})})]}),I.jsxs("div",{className:"modal-body",children:[i," "]})]})}):null}function Uo(n){return typeof n=="string"||n instanceof String}function IT(n){var e;return typeof n=="object"&&n!=null&&(n==null||(e=n.constructor)==null?void 0:e.name)==="Object"}function IS(n,e){return Array.isArray(e)?IS(n,(t,i)=>e.includes(i)):Object.entries(n).reduce((t,i)=>{let[s,l]=i;return e(l,s)&&(t[s]=l),t},{})}const lt={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function V6(n){switch(n){case lt.LEFT:return lt.FORCE_LEFT;case lt.RIGHT:return lt.FORCE_RIGHT;default:return n}}function $g(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function ip(n,e){if(e===n)return!0;const t=Array.isArray(e),i=Array.isArray(n);let s;if(t&&i){if(e.length!=n.length)return!1;for(s=0;s<e.length;s++)if(!ip(e[s],n[s]))return!1;return!0}if(t!=i)return!1;if(e&&n&&typeof e=="object"&&typeof n=="object"){const l=e instanceof Date,c=n instanceof Date;if(l&&c)return e.getTime()==n.getTime();if(l!=c)return!1;const d=e instanceof RegExp,p=n instanceof RegExp;if(d&&p)return e.toString()==n.toString();if(d!=p)return!1;const m=Object.keys(e);for(s=0;s<m.length;s++)if(!Object.prototype.hasOwnProperty.call(n,m[s]))return!1;for(s=0;s<m.length;s++)if(!ip(n[m[s]],e[m[s]]))return!1;return!0}else if(e&&n&&typeof e=="function"&&typeof n=="function")return e.toString()===n.toString();return!1}class U6{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?lt.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?lt.RIGHT:lt.LEFT}}function St(n,e){return new St.InputMask(n,e)}function kS(n){if(n==null)throw new Error("mask property should be defined");return n instanceof RegExp?St.MaskedRegExp:Uo(n)?St.MaskedPattern:n===Date?St.MaskedDate:n===Number?St.MaskedNumber:Array.isArray(n)||n===Array?St.MaskedDynamic:St.Masked&&n.prototype instanceof St.Masked?n:St.Masked&&n instanceof St.Masked?n.constructor:n instanceof Function?St.MaskedFunction:(console.warn("Mask not found for mask",n),St.Masked)}function Mh(n){if(!n)throw new Error("Options in not defined");if(St.Masked){if(n.prototype instanceof St.Masked)return{mask:n};const{mask:e=void 0,...t}=n instanceof St.Masked?{mask:n}:IT(n)&&n.mask instanceof St.Masked?n:{};if(e){const i=e.mask;return{...IS(e,(s,l)=>!l.startsWith("_")),mask:e.constructor,_mask:i,...t}}}return IT(n)?{...n}:{mask:n}}function Da(n){if(St.Masked&&n instanceof St.Masked)return n;const e=Mh(n),t=kS(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}St.createMask=Da;class uy{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}St.MaskElement=uy;const kT=90,B6=89;class jp extends uy{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,i;return(e=(t=(i=this.input).getRootNode)==null?void 0:t.call(i))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===kT&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===B6&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===kT&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}St.HTMLMaskElement=jp;class z6 extends jp{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}St.HTMLMaskElement=jp;class MS extends jp{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,s=t&&t.focusOffset;return s==null||i==null||i<s?i:s}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,s=t&&t.focusOffset;return s==null||i==null||i>s?i:s}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const i=this.rootElement.createRange();i.setStart(this.input.firstChild||this.input,e),i.setEnd(this.input.lastChild||this.input,t);const s=this.rootElement,l=s.getSelection&&s.getSelection();l&&(l.removeAllRanges(),l.addRange(i))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}St.HTMLContenteditableMaskElement=MS;class Hp{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>Hp.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Hp.MAX_LENGTH=100;class F6{constructor(e,t){this.el=e instanceof uy?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new MS(e):new z6(e),this.masked=Da(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Hp,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof St.Masked)&&this.masked.constructor===kS(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof St.Masked?e:Da({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const i=this._listeners[e];i&&i.forEach(s=>s(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,i=this.masked.value,s=this.masked.rawInputValue,l=this.displayValue,c=this.unmaskedValue!==t||this.value!==i||this._rawInputValue!==s;this._unmaskedValue=t,this._value=i,this._rawInputValue=s,this.el.value!==l&&(this.el.value=l),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),c&&this._fireChangeEvents(),!this._historyChanging&&(c||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...i}=e,s=!this.maskEquals(t),l=this.masked.optionsIsChanged(i);s&&(this.mask=t),l&&this.masked.updateOptions(i),(s||l)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,lt.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const i=this._listeners[e].indexOf(t);return i>=0&&this._listeners[e].splice(i,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new U6({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),i=this.masked.rawInputValue,s=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,l=i===this.masked.rawInputValue?t.removeDirection:lt.NONE;let c=this.masked.nearestInputPos(t.startChangePos+s,l);l!==lt.NONE&&(c=this.masked.nearestInputPos(c,lt.NONE)),this.updateControl(c),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}St.InputMask=F6;class Vt{static normalize(e){return Array.isArray(e)?e:[e,new Vt]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}St.ChangeDetails=Vt;class Ks{constructor(e,t,i){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=i}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class Wi{constructor(e){this._value="",this._update({...Wi.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new Ks(this.extractInput(e,t),e)}appendTail(e){return Uo(e)&&(e=new Ks(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new Vt({inserted:e,rawInserted:e})):new Vt}_appendChar(e,t,i){t===void 0&&(t={});const s=this.state;let l;if([e,l]=this.doPrepareChar(e,t),e&&(l=l.aggregate(this._appendCharRaw(e,t)),!l.rawInserted&&this.autofix==="pad")){const c=this.state;this.state=s;let d=this.pad(t);const p=this._appendCharRaw(e,t);d=d.aggregate(p),p.rawInserted||d.equals(l)?l=d:this.state=c}if(l.inserted){let c,d=this.doValidate(t)!==!1;if(d&&i!=null){const p=this.state;if(this.overwrite===!0){c=i.state;for(let _=0;_<l.rawInserted.length;++_)i.unshift(this.displayValue.length-l.tailShift)}let m=this.appendTail(i);if(d=m.rawInserted.length===i.toString().length,!(d&&m.inserted)&&this.overwrite==="shift"){this.state=p,c=i.state;for(let _=0;_<l.rawInserted.length;++_)i.shift();m=this.appendTail(i),d=m.rawInserted.length===i.toString().length}d&&m.inserted&&(this.state=p)}d||(l=new Vt,this.state=s,i&&c&&(i.state=c))}return l}_appendPlaceholder(){return new Vt}_appendEager(){return new Vt}append(e,t,i){if(!Uo(e))throw new Error("value should be string");const s=Uo(i)?new Ks(String(i)):i;t!=null&&t.tail&&(t._beforeTailState=this.state);let l;[e,l]=this.doPrepare(e,t);for(let c=0;c<e.length;++c){const d=this._appendChar(e[c],t,s);if(!d.rawInserted&&!this.doSkipInvalid(e[c],t,s))break;l.aggregate(d)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&l.aggregate(this._appendEager()),s!=null&&(l.tailShift+=this.appendTail(s).tailShift),l}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new Vt}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,i=this.value,s=e();return this.rawInputValue=t,this.value&&this.value!==i&&i.indexOf(this.value)===0&&(this.append(i.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,s}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,i=e(this);return this.state=t,delete this._isolated,i}doSkipInvalid(e,t,i){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),Vt.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),Vt.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,i,s,l){i===void 0&&(i=""),s===void 0&&(s=lt.NONE),l===void 0&&(l={input:!0});const c=e+t,d=this.extractTail(c),p=this.eager===!0||this.eager==="remove";let m;p&&(s=V6(s),m=this.extractInput(0,c,{raw:!0}));let _=e;const E=new Vt;if(s!==lt.NONE&&(_=this.nearestInputPos(e,t>1&&e!==0&&!p?lt.NONE:s),E.tailShift=_-e),E.aggregate(this.remove(_)),p&&s!==lt.NONE&&m===this.rawInputValue)if(s===lt.FORCE_LEFT){let w;for(;m===this.rawInputValue&&(w=this.displayValue.length);)E.aggregate(new Vt({tailShift:-1})).aggregate(this.remove(w-1))}else s===lt.FORCE_RIGHT&&d.unshift();return E.aggregate(this.append(i,l,d))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!ip(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||Wi.EMPTY_VALUES.includes(e)&&Wi.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new Vt}}Wi.DEFAULTS={skipInvalid:!0};Wi.EMPTY_VALUES=[void 0,null,""];St.Masked=Wi;class Ml{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=Uo(e)?new Ks(String(e)):e;const t=this.chunks[this.chunks.length-1],i=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof Ks)i?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof Ml){if(e.stop==null){let s;for(;e.chunks.length&&e.chunks[0].stop==null;)s=e.chunks.shift(),s.from+=e.from,this.extend(s)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof St.MaskedPattern))return new Ks(this.toString()).appendTo(e);const t=new Vt;for(let i=0;i<this.chunks.length;++i){const s=this.chunks[i],l=e._mapPosToBlock(e.displayValue.length),c=s.stop;let d;if(c!=null&&(!l||l.index<=c)&&((s instanceof Ml||e._stops.indexOf(c)>=0)&&t.aggregate(e._appendPlaceholder(c)),d=s instanceof Ml&&e._blocks[c]),d){const p=d.appendTail(s);t.aggregate(p);const m=s.toString().slice(p.rawInserted.length);m&&t.aggregate(e.append(m,{tail:!0}))}else t.aggregate(e.append(s.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...i}=e;Object.assign(this,i),this.chunks=t.map(s=>{const l="chunks"in s?new Ml:new Ks;return l.state=s,l})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let i=0;for(;i<this.chunks.length;){const s=this.chunks[i],l=s.unshift(t);if(s.toString()){if(!l)break;++i}else this.chunks.splice(i,1);if(l)return l}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],i=t.shift();if(t.toString()){if(!i)break;--e}else this.chunks.splice(e,1);if(i)return i}return""}}class j6{constructor(e,t){this.masked=e,this._log=[];const{offset:i,index:s}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=i,this.index=s,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,lt.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,lt.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,lt.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,lt.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,lt.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,lt.NONE),!0})}}class PS{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new Vt}nearestInputPos(e,t){t===void 0&&(t=lt.NONE);const i=0,s=this._value.length;switch(t){case lt.LEFT:case lt.FORCE_LEFT:return i;case lt.NONE:case lt.RIGHT:case lt.FORCE_RIGHT:default:return s}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),i===void 0&&(i={}),i.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new Vt;const i=this.eager===!0||this.eager==="append",l=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!i)&&!t.tail,c=new Vt({inserted:this.char,rawInserted:l?this.char:""});return this._value=this.char,this._isRawInput=l&&(t.raw||t.input),c}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new Vt;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new Ks("")}appendTail(e){return Uo(e)&&(e=new Ks(String(e))),e.appendTo(this)}append(e,t,i){const s=this._appendChar(e[0],t);return i!=null&&(s.tailShift+=this.appendTail(i).tailShift),s}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class rp{constructor(e){const{parent:t,isOptional:i,placeholderChar:s,displayChar:l,lazy:c,eager:d,...p}=e;this.masked=Da(p),Object.assign(this,{parent:t,isOptional:i,placeholderChar:s,displayChar:l,lazy:c,eager:d})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new Vt}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new Vt;const i=this.masked.state;let s=this.masked._appendChar(e,this.currentMaskFlags(t));return s.inserted&&this.doValidate(t)===!1&&(s=new Vt,this.masked.state=i),!s.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(s.inserted=this.placeholderChar),s.skip=!s.inserted&&!this.isOptional,this.isFilled=!!s.inserted,s}append(e,t,i){return this.masked.append(e,this.currentMaskFlags(t),i)}_appendPlaceholder(){return this.isFilled||this.isOptional?new Vt:(this.isFilled=!0,new Vt({inserted:this.placeholderChar}))}_appendEager(){return new Vt}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,i)}nearestInputPos(e,t){t===void 0&&(t=lt.NONE);const i=0,s=this.value.length,l=Math.min(Math.max(e,i),s);switch(t){case lt.LEFT:case lt.FORCE_LEFT:return this.isComplete?l:i;case lt.RIGHT:case lt.FORCE_RIGHT:return this.isComplete?l:s;case lt.NONE:default:return l}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||e?._beforeTailState}}pad(e){return new Vt}}rp.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class H6 extends Wi{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=i=>i.search(t)>=0),super._update(e)}}St.MaskedRegExp=H6;class Xi extends Wi{constructor(e){super({...Xi.DEFAULTS,...e,definitions:Object.assign({},rp.DEFAULT_DEFINITIONS,e?.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let i=!1,s=!1;for(let l=0;l<t.length;++l){if(this.blocks){const m=t.slice(l),_=Object.keys(this.blocks).filter(w=>m.indexOf(w)===0);_.sort((w,C)=>C.length-w.length);const E=_[0];if(E){const{expose:w,repeat:C,...x}=Mh(this.blocks[E]),N={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...x,repeat:C,parent:this},q=C!=null?new St.RepeatBlock(N):Da(N);q&&(this._blocks.push(q),w&&(this.exposeBlock=q),this._maskedBlocks[E]||(this._maskedBlocks[E]=[]),this._maskedBlocks[E].push(this._blocks.length-1)),l+=E.length-1;continue}}let c=t[l],d=c in e;if(c===Xi.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(c==="{"||c==="}"){i=!i;continue}if(c==="["||c==="]"){s=!s;continue}if(c===Xi.ESCAPE_CHAR){if(++l,c=t[l],!c)break;d=!1}const p=d?new rp({isOptional:s,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...Mh(e[c]),parent:this}):new PS({char:c,eager:this.eager,isUnmasking:i});this._blocks.push(p)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...i}=e;this._blocks.forEach((s,l)=>s.state=t[l]),super.state=i}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new Vt;let i=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(i==null)return t;this._blocks[i].isFilled&&++i;for(let s=i;s<this._blocks.length;++s){const l=this._blocks[s]._appendEager();if(!l.inserted)break;t.aggregate(l)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const i=this._mapPosToBlock(this.displayValue.length),s=new Vt;if(!i)return s;for(let c=i.index,d;d=this._blocks[c];++c){var l;const p=d._appendChar(e,{...t,_beforeTailState:(l=t._beforeTailState)==null||(l=l._blocks)==null?void 0:l[c]});if(s.aggregate(p),p.consumed)break}return s}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=new Ml;return e===t||this._forEachBlocksInRange(e,t,(s,l,c,d)=>{const p=s.extractTail(c,d);p.stop=this._findStopBefore(l),p.from=this._blockStartPos(l),p instanceof Ml&&(p.blockIndex=l),i.extend(p)}),i}extractInput(e,t,i){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),i===void 0&&(i={}),e===t)return"";let s="";return this._forEachBlocksInRange(e,t,(l,c,d,p)=>{s+=l.extractInput(d,p,i)}),s}_findStopBefore(e){let t;for(let i=0;i<this._stops.length;++i){const s=this._stops[i];if(s<=e)t=s;else break}return t}_appendPlaceholder(e){const t=new Vt;if(this.lazy&&e==null)return t;const i=this._mapPosToBlock(this.displayValue.length);if(!i)return t;const s=i.index,l=e??this._blocks.length;return this._blocks.slice(s,l).forEach(c=>{if(!c.lazy||e!=null){var d;t.aggregate(c._appendPlaceholder((d=c._blocks)==null?void 0:d.length))}}),t}_mapPosToBlock(e){let t="";for(let i=0;i<this._blocks.length;++i){const s=this._blocks[i],l=t.length;if(t+=s.displayValue,e<=t.length)return{index:i,offset:e-l}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,i)=>t+=i.displayValue.length,0)}_forEachBlocksInRange(e,t,i){t===void 0&&(t=this.displayValue.length);const s=this._mapPosToBlock(e);if(s){const l=this._mapPosToBlock(t),c=l&&s.index===l.index,d=s.offset,p=l&&c?l.offset:this._blocks[s.index].displayValue.length;if(i(this._blocks[s.index],s.index,d,p),l&&!c){for(let m=s.index+1;m<l.index;++m)i(this._blocks[m],m,0,this._blocks[m].displayValue.length);i(this._blocks[l.index],l.index,0,l.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=super.remove(e,t);return this._forEachBlocksInRange(e,t,(s,l,c,d)=>{i.aggregate(s.remove(c,d))}),i}nearestInputPos(e,t){if(t===void 0&&(t=lt.NONE),!this._blocks.length)return 0;const i=new j6(this,e);if(t===lt.NONE)return i.pushRightBeforeInput()||(i.popState(),i.pushLeftBeforeInput())?i.pos:this.displayValue.length;if(t===lt.LEFT||t===lt.FORCE_LEFT){if(t===lt.LEFT){if(i.pushRightBeforeFilled(),i.ok&&i.pos===e)return e;i.popState()}if(i.pushLeftBeforeInput(),i.pushLeftBeforeRequired(),i.pushLeftBeforeFilled(),t===lt.LEFT){if(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.ok&&i.pos<=e||(i.popState(),i.ok&&i.pos<=e))return i.pos;i.popState()}return i.ok?i.pos:t===lt.FORCE_LEFT?0:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:0)}return t===lt.RIGHT||t===lt.FORCE_RIGHT?(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.pushRightBeforeFilled()?i.pos:t===lt.FORCE_RIGHT?this.displayValue.length:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:this.nearestInputPos(e,lt.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let i=0;return this._forEachBlocksInRange(e,t,(s,l,c,d)=>{i+=s.totalInputPositions(c,d)}),i}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(i=>this._blocks[i]):[]}pad(e){const t=new Vt;return this._forEachBlocksInRange(0,this.displayValue.length,i=>t.aggregate(i.pad(e))),t}}Xi.DEFAULTS={...Wi.DEFAULTS,lazy:!0,placeholderChar:"_"};Xi.STOP_CHAR="`";Xi.ESCAPE_CHAR="\\";Xi.InputDefinition=rp;Xi.FixedDefinition=PS;St.MaskedPattern=Xi;class Sd extends Xi{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:i=this.from||0,maxLength:s=this.maxLength||0,autofix:l=this.autofix,...c}=e;this.to=t,this.from=i,this.maxLength=Math.max(String(t).length,s),this.autofix=l;const d=String(this.from).padStart(this.maxLength,"0"),p=String(this.to).padStart(this.maxLength,"0");let m=0;for(;m<p.length&&p[m]===d[m];)++m;c.mask=p.slice(0,m).replace(/0/g,"\\0")+"0".repeat(this.maxLength-m),super._update(c)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",i="";const[,s,l]=e.match(/^(\D*)(\d*)(\D*)/)||[];return l&&(t="0".repeat(s.length)+l,i="9".repeat(s.length)+l),t=t.padEnd(this.maxLength,"0"),i=i.padEnd(this.maxLength,"9"),[t,i]}doPrepareChar(e,t){t===void 0&&(t={});let i;return[e,i]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(i.skip=!this.isComplete),[e,i]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const i=String(this.from).padStart(this.maxLength,"0"),s=String(this.to).padStart(this.maxLength,"0"),[l,c]=this.boundaries(this.value+e);return Number(c)<this.from?super._appendCharRaw(i[this.value.length],t):Number(l)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(i[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(s[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[s,l]=this.boundaries(t);return this.from<=Number(l)&&Number(s)<=this.to&&super.doValidate(e)}pad(e){const t=new Vt;if(this.value.length===this.maxLength)return t;const i=this.value,s=this.maxLength-this.value.length;if(s){this.reset();for(let l=0;l<s;++l)t.aggregate(super._appendCharRaw("0",e));i.split("").forEach(l=>this._appendCharRaw(l))}return t}}St.MaskedRange=Sd;const q6="d{.}`m{.}`Y";class Aa extends Xi{static extractPatternOptions(e){const{mask:t,pattern:i,...s}=e;return{...s,mask:Uo(t)?t:i}}constructor(e){super(Aa.extractPatternOptions({...Aa.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:i,blocks:s,...l}={...Aa.DEFAULTS,...e},c=Object.assign({},Aa.GET_DEFAULT_BLOCKS());e.min&&(c.Y.from=e.min.getFullYear()),e.max&&(c.Y.to=e.max.getFullYear()),e.min&&e.max&&c.Y.from===c.Y.to&&(c.m.from=e.min.getMonth()+1,c.m.to=e.max.getMonth()+1,c.m.from===c.m.to&&(c.d.from=e.min.getDate(),c.d.to=e.max.getDate())),Object.assign(c,this.blocks,s),super._update({...l,mask:Uo(t)?t:i,blocks:c})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(Aa.extractPatternOptions(e))}}Aa.GET_DEFAULT_BLOCKS=()=>({d:{mask:Sd,from:1,to:31,maxLength:2},m:{mask:Sd,from:1,to:12,maxLength:2},Y:{mask:Sd,from:1900,to:9999}});Aa.DEFAULTS={...Xi.DEFAULTS,mask:Date,pattern:q6,format:(n,e)=>{if(!n)return"";const t=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),s=n.getFullYear();return[t,i,s].join(".")},parse:(n,e)=>{const[t,i,s]=n.split(".").map(Number);return new Date(s,i-1,t)}};St.MaskedDate=Aa;class qp extends Wi{constructor(e){super({...qp.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:i,...s}=Mh(t),l=Da({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...s});return i&&(this.exposeMask=l),l}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const i=this._applyDispatch(e,t);return this.currentMask&&i.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),i}_applyDispatch(e,t,i){e===void 0&&(e=""),t===void 0&&(t={}),i===void 0&&(i="");const s=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,l=this.rawInputValue,c=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:l,d=l.slice(c.length),p=this.currentMask,m=new Vt,_=p?.state;return this.currentMask=this.doDispatch(e,{...t},i),this.currentMask&&(this.currentMask!==p?(this.currentMask.reset(),c&&(this.currentMask.append(c,{raw:!0}),m.tailShift=this.currentMask.value.length-s.length),d&&(m.tailShift+=this.currentMask.append(d,{raw:!0,tail:!0}).tailShift)):_&&(this.currentMask.state=_)),m}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new Vt;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,i;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((i=e._beforeTailState)==null?void 0:i.currentMask)||e._beforeTailState}}doDispatch(e,t,i){return t===void 0&&(t={}),i===void 0&&(i=""),this.dispatch(e,this,t,i)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[i,s]=super.doPrepare(e,t);if(this.currentMask){let l;[i,l]=super.doPrepare(i,this.currentMaskFlags(t)),s=s.aggregate(l)}return[i,s]}doPrepareChar(e,t){t===void 0&&(t={});let[i,s]=super.doPrepareChar(e,t);if(this.currentMask){let l;[i,l]=super.doPrepareChar(i,this.currentMaskFlags(t)),s=s.aggregate(l)}return[i,s]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const i=new Vt;return this.currentMask&&i.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),i}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:i,currentMask:s,...l}=e;t&&this.compiledMasks.forEach((c,d)=>c.state=t[d]),i!=null&&(this.currentMask=i,this.currentMask.state=s),super.state=l}extractInput(e,t,i){return this.currentMask?this.currentMask.extractInput(e,t,i):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,i)=>{if(!e[i])return;const{mask:s,...l}=e[i];return ip(t,l)&&t.maskEquals(s)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}qp.DEFAULTS={...Wi.DEFAULTS,dispatch:(n,e,t,i)=>{if(!e.compiledMasks.length)return;const s=e.rawInputValue,l=e.compiledMasks.map((c,d)=>{const p=e.currentMask===c,m=p?c.displayValue.length:c.nearestInputPos(c.displayValue.length,lt.FORCE_LEFT);return c.rawInputValue!==s?(c.reset(),c.append(s,{raw:!0})):p||c.remove(m),c.append(n,e.currentMaskFlags(t)),c.appendTail(i),{index:d,weight:c.rawInputValue.length,totalInputPositions:c.totalInputPositions(0,Math.max(m,c.nearestInputPos(c.displayValue.length,lt.FORCE_LEFT)))}});return l.sort((c,d)=>d.weight-c.weight||d.totalInputPositions-c.totalInputPositions),e.compiledMasks[l[0].index]}};St.MaskedDynamic=qp;class Gp extends Xi{constructor(e){super({...Gp.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...i}=e;if(t){const s=t.map(d=>d.length),l=Math.min(...s),c=Math.max(...s)-l;i.mask="*".repeat(l),c&&(i.mask+="["+"*".repeat(c)+"]"),this.enum=t}super._update(i)}_appendCharRaw(e,t){t===void 0&&(t={});const i=Math.min(this.nearestInputPos(0,lt.FORCE_RIGHT),this.value.length),s=this.enum.filter(l=>this.matchValue(l,this.unmaskedValue+e,i));if(s.length){s.length===1&&this._forEachBlocksInRange(0,this.value.length,(c,d)=>{const p=s[0][d];d>=this.value.length||p===c.value||(c.reset(),c._appendChar(p,t))});const l=super._appendCharRaw(s[0][this.value.length],t);return s.length===1&&s[0].slice(this.unmaskedValue.length).split("").forEach(c=>l.aggregate(super._appendCharRaw(c))),l}return new Vt({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new Ks("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new Vt;const i=Math.min(super.nearestInputPos(0,lt.FORCE_RIGHT),this.value.length);let s;for(s=e;s>=0&&!(this.enum.filter(d=>this.matchValue(d,this.value.slice(i,s),i)).length>1);--s);const l=super.remove(s,t);return l.tailShift+=s-e,l}get isComplete(){return this.enum.indexOf(this.value)>=0}}Gp.DEFAULTS={...Xi.DEFAULTS,matchValue:(n,e,t)=>n.indexOf(e,t)===t};St.MaskedEnum=Gp;class G6 extends Wi{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}St.MaskedFunction=G6;var OS;class qr extends Wi{constructor(e){super({...qr.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",i=(this.scale?"("+$g(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+i),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map($g).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp($g(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[i,s]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!i&&(s.skip=!0),i&&!this.allowPositive&&!this.value&&i!=="-"&&s.aggregate(this._appendChar("-")),[i,s]}_separatorsCount(e,t){t===void 0&&(t=!1);let i=0;for(let s=0;s<e;++s)this._value.indexOf(this.thousandsSeparator,s)===s&&(++i,t&&(e+=this.thousandsSeparator.length));return i}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,i))}_appendCharRaw(e,t){t===void 0&&(t={});const i=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,s=this._separatorsCountFromSlice(i);this._value=this._removeThousandsSeparators(this.value);const l=this._value;this._value+=e;const c=this.number;let d=!isNaN(c),p=!1;if(d){let w;this.min!=null&&this.min<0&&this.number<this.min&&(w=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(w=this.max),w!=null&&(this.autofix?(this._value=this.format(w,this).replace(qr.UNMASKED_RADIX,this.radix),p||(p=l===this._value&&!t.tail)):d=!1),d&&(d=!!this._value.match(this._numberRegExp))}let m;d?m=new Vt({inserted:this._value.slice(l.length),rawInserted:p?"":e,skip:p}):(this._value=l,m=new Vt),this._value=this._insertThousandsSeparators(this._value);const _=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,E=this._separatorsCountFromSlice(_);return m.tailShift+=(E-s)*this.thousandsSeparator.length,m}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,i=this.value.indexOf(this.thousandsSeparator,t);if(i<=e)return i}return-1}_adjustRangeWithSeparators(e,t){const i=this._findSeparatorAround(e);i>=0&&(e=i);const s=this._findSeparatorAround(t);return s>=0&&(t=s+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const i=this.value.slice(0,e),s=this.value.slice(t),l=this._separatorsCount(i.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(i+s));const c=this._separatorsCountFromSlice(i);return new Vt({tailShift:(c-l)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case lt.NONE:case lt.LEFT:case lt.FORCE_LEFT:{const i=this._findSeparatorAround(e-1);if(i>=0){const s=i+this.thousandsSeparator.length;if(e<s||this.value.length<=s||t===lt.FORCE_LEFT)return i}break}case lt.RIGHT:case lt.FORCE_RIGHT:{const i=this._findSeparatorAround(e);if(i>=0)return i+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let i=this.value;this.normalizeZeros&&(i=this._normalizeZeros(i)),this.padFractionalZeros&&this.scale>0&&(i=this._padFractionalZeros(i)),this._value=i}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(i,s,l,c)=>s+c),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,i){t===void 0&&(t={});const s=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===qr.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,i)&&!s}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,qr.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(qr.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||qr.EMPTY_VALUES.includes(e)&&qr.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}OS=qr;qr.UNMASKED_RADIX=".";qr.EMPTY_VALUES=[...Wi.EMPTY_VALUES,0];qr.DEFAULTS={...Wi.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[OS.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:n=>n.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};St.MaskedNumber=qr;const q_={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function DS(n,e,t){e===void 0&&(e=q_.MASKED),t===void 0&&(t=q_.MASKED);const i=Da(n);return s=>i.runIsolated(l=>(l[e]=s,l[t]))}function Z6(n,e,t,i){return DS(e,t,i)(n)}St.PIPE_TYPE=q_;St.createPipe=DS;St.pipe=Z6;class K6 extends Xi{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,i,s;const{repeat:l,...c}=Mh(e);this._blockOpts=Object.assign({},this._blockOpts,c);const d=Da(this._blockOpts);this.repeat=(t=(i=l??d.repeat)!=null?i:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((s=this._blocks)==null?void 0:s.length)||0,this.repeatFrom)),blocks:{m:d},eager:d.eager,overwrite:d.overwrite,skipInvalid:d.skipInvalid,lazy:d.lazy,placeholderChar:d.placeholderChar,displayChar:d.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(Da(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const i=new Vt;for(let p=(s=(l=this._mapPosToBlock(this.displayValue.length))==null?void 0:l.index)!=null?s:Math.max(this._blocks.length-1,0),m,_;m=(c=this._blocks[p])!=null?c:_=!_&&this._allocateBlock(p);++p){var s,l,c,d;const E=m._appendChar(e,{...t,_beforeTailState:(d=t._beforeTailState)==null||(d=d._blocks)==null?void 0:d[p]});if(E.skip&&_){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(i.aggregate(E),E.consumed)break}return i}_trimEmptyTail(e,t){var i,s;e===void 0&&(e=0);const l=Math.max(((i=this._mapPosToBlock(e))==null?void 0:i.index)||0,this.repeatFrom,0);let c;t!=null&&(c=(s=this._mapPosToBlock(t))==null?void 0:s.index),c==null&&(c=this._blocks.length-1);let d=0;for(let p=c;l<=p&&!this._blocks[p].unmaskedValue;--p,++d);d&&(this._blocks.splice(c-d+1,d),this.mask=this.mask.slice(d))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=super.remove(e,t);return this._trimEmptyTail(e,t),i}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}St.RepeatBlock=K6;try{globalThis.IMask=St}catch{}var Wg={exports:{}},Xg,MT;function Q6(){if(MT)return Xg;MT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xg=n,Xg}var Jg,PT;function Y6(){if(PT)return Jg;PT=1;var n=Q6();function e(){}function t(){}return t.resetWarningCache=e,Jg=function(){function i(c,d,p,m,_,E){if(E!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Jg}var OT;function cy(){return OT||(OT=1,Wg.exports=Y6()()),Wg.exports}var $6=cy();const st=Ph($6),NS={mask:st.oneOfType([st.array,st.func,st.string,st.instanceOf(RegExp),st.oneOf([Date,Number,St.Masked]),st.instanceOf(St.Masked)]),value:st.any,unmask:st.oneOfType([st.bool,st.oneOf(["typed"])]),prepare:st.func,prepareChar:st.func,validate:st.func,commit:st.func,overwrite:st.oneOfType([st.bool,st.oneOf(["shift"])]),eager:st.oneOfType([st.bool,st.oneOf(["append","remove"])]),skipInvalid:st.bool,onAccept:st.func,onComplete:st.func,placeholderChar:st.string,displayChar:st.string,lazy:st.bool,definitions:st.object,blocks:st.object,enum:st.arrayOf(st.string),maxLength:st.number,from:st.number,to:st.number,pattern:st.string,format:st.func,parse:st.func,autofix:st.oneOfType([st.bool,st.oneOf(["pad"])]),radix:st.string,thousandsSeparator:st.string,mapToRadix:st.arrayOf(st.string),scale:st.number,normalizeZeros:st.bool,padFractionalZeros:st.bool,min:st.oneOfType([st.number,st.instanceOf(Date)]),max:st.oneOfType([st.number,st.instanceOf(Date)]),dispatch:st.func,inputRef:st.oneOfType([st.func,st.shape({current:st.object})])},LS=Object.keys(NS).filter(n=>n!=="value"),W6=["value","unmask","onAccept","onComplete","inputRef"],X6=LS.filter(n=>W6.indexOf(n)<0);function J6(n){var e;const t=(e=class extends dn.Component{constructor(l){super(l),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const l=this.props,c=this._extractMaskOptionsFromProps(l);if(c.mask)this.maskRef?(this.maskRef.updateOptions(c),"value"in l&&l.value!==void 0&&(this.maskValue=l.value)):this.initMask(c);else if(this.destroyMask(),"value"in l&&l.value!==void 0){var d;(d=this.element)!=null&&d.isContentEditable&&this.element.tagName!=="INPUT"&&this.element.tagName!=="TEXTAREA"?this.element.textContent=l.value:this.element.value=l.value}}componentWillUnmount(){this.destroyMask()}_inputRef(l){this.element=l,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=l:this.props.inputRef(l))}initMask(l){l===void 0&&(l=this._extractMaskOptionsFromProps(this.props)),this.maskRef=St(this.element,l).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&this.props.value!==void 0&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(l){const{...c}=l;return Object.keys(c).filter(d=>X6.indexOf(d)<0).forEach(d=>{delete c[d]}),c}_extractNonMaskProps(l){const{...c}=l;return LS.forEach(d=>{d!=="maxLength"&&delete c[d]}),"defaultValue"in c||(c.defaultValue=l.mask?"":c.value),delete c.value,c}get maskValue(){return this.maskRef?this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(l){this.maskRef&&(l=l==null&&this.props.unmask!=="typed"?"":l,this.props.unmask==="typed"?this.maskRef.typedValue=l:this.props.unmask?this.maskRef.unmaskedValue=l:this.maskRef.value=l)}_onAccept(l){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,l)}_onComplete(l){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,l)}render(){return dn.createElement(n,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}},e.displayName=void 0,e.propTypes=void 0,e),i=n.displayName||n.name||"Component";return t.displayName="IMask("+i+")",t.propTypes=NS,dn.forwardRef((s,l)=>dn.createElement(t,{...s,ref:l}))}const e5=J6(n=>{let{inputRef:e,...t}=n;return dn.createElement("input",{...t,ref:e})}),t5=(n,e)=>dn.createElement(e5,{...n,ref:e}),ah=dn.forwardRef(t5),n5=n=>{switch(n){case"/dashboard":return"Dashboard";case"/operacoes":return"Mesa de Operaes";case"/talentos":return"Gesto de Trabalhadores";case"/frota":return"Minha Frota";case"/historico":return"Central de Inteligncia";default:return"Painel"}},i5=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],DT={frotaId:"",descricaoServico:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"SP",dataServico:"",periodoInicio:"",valorOfertado:"",formaPagamento:"PIX",requisitos:"",advertencias:"",necessitaAutorizacao:!1};function r5(){const n=J_(),e=$o(),t="teste@empresa.com",[i,s]=ce.useState([]),[l,c]=ce.useState(!1),[d,p]=ce.useState(DT),[m,_]=ce.useState(!1),[E,w]=ce.useState(!1);ce.useEffect(()=>{(async()=>{const $=Qo(ai,"frota"),F=(await Ih($)).docs.map(G=>({...G.data(),id:G.id}));s(F)})()},[]);const C=()=>{c(!0)},x=()=>{m||(c(!1),p(DT))},N=Q=>{const{name:$,value:te,type:F,checked:G}=Q.target;p(A=>({...A,[$]:F==="checkbox"?G:te}))},q=async Q=>{const $=Q.replace(/\D/g,"");if($.length===8){w(!0);try{const te=await fetch(`https://viacep.com.br/ws/${$}/json/`);if(!te.ok)throw new Error("CEP no encontrado.");const F=await te.json();if(F.erro)throw new Error("CEP invlido.");p(G=>({...G,logradouro:F.logradouro,bairro:F.bairro,cidade:F.localidade,estado:F.uf}))}catch(te){console.error("Erro ao buscar CEP:",te),alert(te.message)}finally{w(!1)}}};ce.useEffect(()=>{const Q=d.cep.replace(/\D/g,"");Q.length===8&&q(Q)},[d.cep]);const H=async Q=>{Q.preventDefault(),_(!0);try{const $=i.find(G=>G.id===d.frotaId);if(!$){alert("Por favor, selecione um cliente/veculo da frota."),_(!1);return}const te={descricaoServico:d.descricaoServico,endereco:{cep:d.cep,logradouro:d.logradouro,numero:d.numero,complemento:d.complemento,bairro:d.bairro,cidade:d.cidade,estado:d.estado},dataServico:hn.fromDate(new Date(d.dataServico+"T00:00:00")),periodo:d.periodoInicio,valorServicoBruto:Number(d.valorOfertado),formaPagamento:d.formaPagamento,requisitos:d.requisitos,advertencias:d.advertencias,necessitaAutorizacao:d.necessitaAutorizacao,status:"pendente",dataSolicitacao:hn.now(),cliente:$.nome,frotaId:$.id},F=await Xv(Qo(ai,"solicitacoes"),te);alert(`Ordem de Servio criada com sucesso para '${$.nome}'!`),window.dispatchEvent(new CustomEvent("os-criada")),x()}catch($){console.error("Erro ao criar Ordem de Servio: ",$),alert("Ocorreu um erro ao criar a OS. Verifique o console para mais detalhes.")}finally{_(!1)}},J=()=>{n("/login")};return I.jsxs("div",{className:"main-layout",children:[I.jsxs("aside",{className:"sidebar",children:[I.jsxs("div",{className:"sidebar-header",children:[I.jsx("img",{src:"/images/logo.svg",alt:"Chapa Amigo Empresas Logo",className:"logo"}),I.jsx("h1",{children:"Chapa Amigo Empresas"})]}),I.jsxs("nav",{className:"sidebar-nav",children:[I.jsxs(ku,{to:"/dashboard",className:"nav-link",children:[I.jsx(p6,{size:20}),I.jsx("span",{children:"Dashboard"})]}),I.jsxs(ku,{to:"/operacoes",className:"nav-link",children:[I.jsx(n6,{size:20}),I.jsx("span",{children:"Mesa de Operaes"})]}),I.jsxs(ku,{to:"/talentos",className:"nav-link",children:[I.jsx(U3,{size:20}),I.jsx("span",{children:"Gesto de Trabalhadores"})]}),I.jsxs(ku,{to:"/frota",className:"nav-link",children:[I.jsx(RS,{size:20}),I.jsx("span",{children:"Minha Frota"})]}),I.jsxs(ku,{to:"/historico",className:"nav-link",children:[I.jsx(tp,{size:20}),I.jsx("span",{children:"Histrico"})]})]}),I.jsxs("div",{className:"sidebar-footer",children:[I.jsx("div",{className:"user-info",children:I.jsx("span",{className:"user-email",children:t})}),I.jsxs("button",{onClick:J,className:"logout-button",children:[I.jsx(_6,{size:20}),I.jsx("span",{children:"Sair"})]})]})]}),I.jsxs("main",{className:"content",children:[I.jsxs("header",{className:"content-header",children:[I.jsx("h2",{className:"page-title",children:n5(e.pathname)}),I.jsxs("button",{className:"new-os-button",onClick:C,children:[I.jsx(ay,{size:20}),I.jsx("span",{children:"Nova Ordem de Servio"})]})]}),I.jsx("div",{className:"page-content",children:I.jsx(uI,{})})]}),I.jsx(kh,{isOpen:l,onClose:x,title:"Criar Nova Ordem de Servio",children:I.jsxs("form",{onSubmit:H,className:"modal-form",children:[I.jsxs("div",{className:"form-section",children:[I.jsxs("h3",{className:"form-section-title",children:[I.jsx(G3,{size:20})," Cliente / Veculo"]}),I.jsxs("div",{className:"input-group full-width",children:[I.jsx("label",{htmlFor:"frotaId",children:"Selecione o Cliente / Veculo"}),I.jsxs("select",{id:"frotaId",name:"frotaId",value:d.frotaId,onChange:N,required:!0,children:[I.jsx("option",{value:"",disabled:!0,children:"-- Escolha um item da sua frota --"}),i.map(Q=>I.jsxs("option",{value:Q.id,children:[Q.nome," (Placa: ",Q.placa,")"]},Q.id))]})]})]}),I.jsxs("div",{className:"form-section",children:[I.jsxs("h3",{className:"form-section-title",children:[I.jsx(AS,{size:20})," Informaes Gerais"]}),I.jsxs("div",{className:"input-group full-width",children:[I.jsx("label",{htmlFor:"descricaoServico",children:"Descrio do Servio"}),I.jsx("textarea",{id:"descricaoServico",name:"descricaoServico",rows:"3",value:d.descricaoServico,onChange:N,placeholder:"Ex: Descarga de 200 caixas de arroz e armazenamento no estoque.",required:!0})]})]}),I.jsxs("div",{className:"form-section",children:[I.jsxs("h3",{className:"form-section-title",children:[I.jsx(y6,{size:20})," Endereo do Servio"]}),I.jsx("div",{className:"form-row",children:I.jsxs("div",{className:"input-group cep-group",children:[I.jsx("label",{htmlFor:"cep",children:"CEP"}),I.jsx(ah,{mask:"00000-000",id:"cep",name:"cep",value:d.cep,onAccept:Q=>N({target:{name:"cep",value:Q}}),placeholder:"Digite o CEP"}),E&&I.jsx(np,{className:"spinner",size:18})]})}),I.jsx("div",{className:"form-row",children:I.jsxs("div",{className:"input-group",style:{gridColumn:"span 2"},children:[I.jsx("label",{htmlFor:"logradouro",children:"Rua / Logradouro"}),I.jsx("input",{type:"text",id:"logradouro",name:"logradouro",value:d.logradouro,onChange:N,required:!0})]})}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"numero",children:"Nmero"}),I.jsx("input",{type:"text",id:"numero",name:"numero",value:d.numero,onChange:N,required:!0})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"complemento",children:"Complemento"}),I.jsx("input",{type:"text",id:"complemento",name:"complemento",value:d.complemento,onChange:N})]})]}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"bairro",children:"Bairro"}),I.jsx("input",{type:"text",id:"bairro",name:"bairro",value:d.bairro,onChange:N,required:!0})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"cidade",children:"Cidade"}),I.jsx("input",{type:"text",id:"cidade",name:"cidade",value:d.cidade,onChange:N,required:!0})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"estado",children:"Estado"}),I.jsx("select",{id:"estado",name:"estado",value:d.estado,onChange:N,required:!0,children:i5.map(Q=>I.jsx("option",{value:Q,children:Q},Q))})]})]})]}),I.jsxs("div",{className:"form-section",children:[I.jsxs("h3",{className:"form-section-title",children:[I.jsx(K3,{size:20})," Data e Hora"]}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"dataServico",children:"Data do Servio"}),I.jsx("input",{type:"date",id:"dataServico",name:"dataServico",value:d.dataServico,onChange:N,required:!0})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"periodoInicio",children:"Perodo de Incio"}),I.jsxs("select",{id:"periodoInicio",name:"periodoInicio",value:d.periodoInicio,onChange:N,required:!0,children:[I.jsx("option",{value:"",children:"Selecione..."}),I.jsx("option",{value:"Imediato",children:"Imediato"}),I.jsx("option",{value:"Manh (08h-12h)",children:"Manh (08h-12h)"}),I.jsx("option",{value:"Tarde (13h-18h)",children:"Tarde (13h-18h)"}),I.jsx("option",{value:"Noite (19h-22h)",children:"Noite (19h-22h)"})]})]})]})]}),I.jsxs("div",{className:"form-section",children:[I.jsxs("h3",{className:"form-section-title",children:[I.jsx(a6,{size:20})," Detalhes Financeiros"]}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"valorOfertado",children:"Valor Ofertado (R$)"}),I.jsx("input",{type:"number",step:"0.01",id:"valorOfertado",name:"valorOfertado",value:d.valorOfertado,onChange:N,placeholder:"Ex: 150.00",required:!0})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"formaPagamento",children:"Forma de Pagamento"}),I.jsxs("select",{id:"formaPagamento",name:"formaPagamento",value:d.formaPagamento,onChange:N,required:!0,children:[I.jsx("option",{value:"PIX",children:"PIX"}),I.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),I.jsx("option",{value:"Faturado",children:"Faturado"})]})]})]})]}),I.jsxs("div",{className:"form-section",children:[I.jsxs("h3",{className:"form-section-title",children:[I.jsx(oy,{size:20})," Requisitos e Advertncias"]}),I.jsxs("div",{className:"input-group full-width",children:[I.jsx("label",{htmlFor:"requisitos",children:"Requisitos (EPIs, etc.)"}),I.jsx("textarea",{id:"requisitos",name:"requisitos",rows:"2",value:d.requisitos,onChange:N,placeholder:"Ex: Obrigatrio uso de capacete e botas."})]}),I.jsxs("div",{className:"input-group full-width",children:[I.jsx("label",{htmlFor:"advertencias",children:"Advertncias Importantes"}),I.jsx("textarea",{id:"advertencias",name:"advertencias",rows:"2",value:d.advertencias,onChange:N,placeholder:"Ex: Proibido uso de celular na rea de descarga."})]})]}),I.jsx("div",{className:"form-section",children:I.jsxs("div",{className:"checkbox-group",children:[I.jsx("input",{type:"checkbox",id:"necessitaAutorizacao",name:"necessitaAutorizacao",checked:d.necessitaAutorizacao,onChange:N}),I.jsx("label",{htmlFor:"necessitaAutorizacao",children:"Necessario Autorizao de Entrada - favor levar documento pessoal"})]})}),I.jsxs("div",{className:"form-actions",children:[I.jsx("button",{type:"button",className:"cancel-button",onClick:x,disabled:m,children:"Cancelar"}),I.jsx("button",{type:"submit",className:"add-button",disabled:m,children:m?"Salvando...":"Criar Ordem de Servio"})]})]})})]})}function s5(){const[n,e]=ce.useState(""),[t,i]=ce.useState(""),s=J_(),l=c=>{c.preventDefault(),CP(ES,n,t).then(d=>{console.log("Login com sucesso:",d.user.email),s("/dashboard")}).catch(d=>{const p=d.message;alert("Falha no login: "+p)})};return I.jsx("div",{className:"login-page-container",children:I.jsxs("div",{className:"login-box",children:[I.jsx("img",{src:"/images/logo.svg",alt:"Logo Chapa Amigo",className:"login-logo"}),I.jsx("h1",{className:"login-title",children:"Painel Chapa Amigo Empresas"}),I.jsx("p",{className:"login-subtitle",children:"Por favor, insira suas credenciais para continuar."}),I.jsxs("form",{className:"login-form",onSubmit:l,children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"email",children:"E-mail Corporativo"}),I.jsx("input",{type:"email",id:"email",value:n,onChange:c=>e(c.target.value),required:!0})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"password",children:"Senha"}),I.jsx("input",{type:"password",id:"password",value:t,onChange:c=>i(c.target.value),required:!0})]}),I.jsx("button",{type:"submit",className:"login-button",children:"Entrar"})]})]})})}function VS(n,e){const t=ce.useRef(e);ce.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const a5=1;function o5(n){return Object.freeze({__version:a5,map:n})}function l5(n,e){return Object.freeze({...n,...e})}const hy=ce.createContext(null);function US(){const n=ce.use(hy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function u5(n){function e(t,i){const{instance:s,context:l}=n(t).current;ce.useImperativeHandle(i,()=>s);const{children:c}=t;return c==null?null:dn.createElement(hy,{value:l},c)}return ce.forwardRef(e)}function c5(n){function e(t,i){const[s,l]=ce.useState(!1),{instance:c}=n(t,l).current;ce.useImperativeHandle(i,()=>c),ce.useEffect(function(){s&&c.update()},[c,s,t.children]);const d=c._contentNode;return d?Rb.createPortal(t.children,d):null}return ce.forwardRef(e)}function h5(n){function e(t,i){const{instance:s}=n(t).current;return ce.useImperativeHandle(i,()=>s),null}return ce.forwardRef(e)}function BS(n,e){const t=ce.useRef(void 0);ce.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function fy(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function f5(n,e){return function(i,s){const l=US(),c=n(fy(i,l),l);return VS(l.map,i.attribution),BS(c.current,i.eventHandlers),e(c.current,l,i,s),c}}var oh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var d5=oh.exports,NT;function p5(){return NT||(NT=1,function(n,e){(function(t,i){i(e)})(d5,function(t){var i="1.9.4";function s(o){var h,v,b,k;for(v=1,b=arguments.length;v<b;v++){k=arguments[v];for(h in k)o[h]=k[h]}return o}var l=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function c(o,h){var v=Array.prototype.slice;if(o.bind)return o.bind.apply(o,v.call(arguments,1));var b=v.call(arguments,2);return function(){return o.apply(h,b.length?b.concat(v.call(arguments)):arguments)}}var d=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function m(o,h,v){var b,k,Z,re;return re=function(){b=!1,k&&(Z.apply(v,k),k=!1)},Z=function(){b?k=arguments:(o.apply(v,arguments),setTimeout(re,h),b=!0)},Z}function _(o,h,v){var b=h[1],k=h[0],Z=b-k;return o===b&&v?o:((o-k)%Z+Z)%Z+k}function E(){return!1}function w(o,h){if(h===!1)return o;var v=Math.pow(10,h===void 0?6:h);return Math.round(o*v)/v}function C(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function x(o){return C(o).split(/\s+/)}function N(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var v in h)o.options[v]=h[v];return o.options}function q(o,h,v){var b=[];for(var k in o)b.push(encodeURIComponent(v?k.toUpperCase():k)+"="+encodeURIComponent(o[k]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function J(o,h){return o.replace(H,function(v,b){var k=h[b];if(k===void 0)throw new Error("No value provided for variable "+v);return typeof k=="function"&&(k=k(h)),k})}var Q=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function $(o,h){for(var v=0;v<o.length;v++)if(o[v]===h)return v;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var G=0;function A(o){var h=+new Date,v=Math.max(0,16-(h-G));return G=h+v,window.setTimeout(o,v)}var S=window.requestAnimationFrame||F("RequestAnimationFrame")||A,M=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function D(o,h,v){if(v&&S===A)o.call(h);else return S.call(window,c(o,h))}function z(o){o&&M.call(window,o)}var V={__proto__:null,extend:s,create:l,bind:c,get lastId(){return d},stamp:p,throttle:m,wrapNum:_,falseFn:E,formatNum:w,trim:C,splitWords:x,setOptions:N,getParamString:q,template:J,isArray:Q,indexOf:$,emptyImageUrl:te,requestFn:S,cancelFn:M,requestAnimFrame:D,cancelAnimFrame:z};function X(){}X.extend=function(o){var h=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=h.__super__=this.prototype,b=l(v);b.constructor=h,h.prototype=b;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(h[k]=this[k]);return o.statics&&s(h,o.statics),o.includes&&(ue(o.includes),s.apply(null,[b].concat(o.includes))),s(b,o),delete b.statics,delete b.includes,b.options&&(b.options=v.options?l(v.options):{},s(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,re=b._initHooks.length;Z<re;Z++)b._initHooks[Z].call(this)}},h},X.include=function(o){var h=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},X.mergeOptions=function(o){return s(this.prototype.options,o),this},X.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),v=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function ue(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=Q(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var B={on:function(o,h,v){if(typeof o=="object")for(var b in o)this._on(b,o[b],h);else{o=x(o);for(var k=0,Z=o.length;k<Z;k++)this._on(o[k],h,v)}return this},off:function(o,h,v){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],h);else{o=x(o);for(var k=arguments.length===1,Z=0,re=o.length;Z<re;Z++)k?this._off(o[Z]):this._off(o[Z],h,v)}return this},_on:function(o,h,v,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,v)===!1){v===this&&(v=void 0);var k={fn:h,ctx:v};b&&(k.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(k)}},_off:function(o,h,v){var b,k,Z;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(k=0,Z=b.length;k<Z;k++)b[k].fn=E;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var re=this._listens(o,h,v);if(re!==!1){var ge=b[re];this._firingCount&&(ge.fn=E,this._events[o]=b=b.slice()),b.splice(re,1)}}},fire:function(o,h,v){if(!this.listens(o,v))return this;var b=s({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var k=this._events[o];if(k){this._firingCount=this._firingCount+1||1;for(var Z=0,re=k.length;Z<re;Z++){var ge=k[Z],Ae=ge.fn;ge.once&&this.off(o,Ae,ge.ctx),Ae.call(ge.ctx||this,b)}this._firingCount--}}return v&&this._propagateEvent(b),this},listens:function(o,h,v,b){typeof o!="string"&&console.warn('"string" type argument expected');var k=h;typeof h!="function"&&(b=!!h,k=void 0,v=void 0);var Z=this._events&&this._events[o];if(Z&&Z.length&&this._listens(o,k,v)!==!1)return!0;if(b){for(var re in this._eventParents)if(this._eventParents[re].listens(o,h,v,b))return!0}return!1},_listens:function(o,h,v){if(!this._events)return!1;var b=this._events[o]||[];if(!h)return!!b.length;v===this&&(v=void 0);for(var k=0,Z=b.length;k<Z;k++)if(b[k].fn===h&&b[k].ctx===v)return k;return!1},once:function(o,h,v){if(typeof o=="object")for(var b in o)this._on(b,o[b],h,!0);else{o=x(o);for(var k=0,Z=o.length;k<Z;k++)this._on(o[k],h,v,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var P=X.extend(B);function W(o,h,v){this.x=v?Math.round(o):o,this.y=v?Math.round(h):h}var ee=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(o){return this.clone()._add(j(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(j(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new W(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new W(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(o){o=j(o);var h=o.x-this.x,v=o.y-this.y;return Math.sqrt(h*h+v*v)},equals:function(o){return o=j(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=j(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function j(o,h,v){return o instanceof W?o:Q(o)?new W(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new W(o.x,o.y):new W(o,h,v)}function ne(o,h){if(o)for(var v=h?[o,h]:o,b=0,k=v.length;b<k;b++)this.extend(v[b])}ne.prototype={extend:function(o){var h,v;if(!o)return this;if(o instanceof W||typeof o[0]=="number"||"x"in o)h=v=j(o);else if(o=ae(o),h=o.min,v=o.max,!h||!v)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=v.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(o){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,v;return typeof o[0]=="number"||o instanceof W?o=j(o):o=ae(o),o instanceof ne?(h=o.min,v=o.max):h=v=o,h.x>=this.min.x&&v.x<=this.max.x&&h.y>=this.min.y&&v.y<=this.max.y},intersects:function(o){o=ae(o);var h=this.min,v=this.max,b=o.min,k=o.max,Z=k.x>=h.x&&b.x<=v.x,re=k.y>=h.y&&b.y<=v.y;return Z&&re},overlaps:function(o){o=ae(o);var h=this.min,v=this.max,b=o.min,k=o.max,Z=k.x>h.x&&b.x<v.x,re=k.y>h.y&&b.y<v.y;return Z&&re},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,v=this.max,b=Math.abs(h.x-v.x)*o,k=Math.abs(h.y-v.y)*o;return ae(j(h.x-b,h.y-k),j(v.x+b,v.y+k))},equals:function(o){return o?(o=ae(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ae(o,h){return!o||o instanceof ne?o:new ne(o,h)}function ie(o,h){if(o)for(var v=h?[o,h]:o,b=0,k=v.length;b<k;b++)this.extend(v[b])}ie.prototype={extend:function(o){var h=this._southWest,v=this._northEast,b,k;if(o instanceof le)b=o,k=o;else if(o instanceof ie){if(b=o._southWest,k=o._northEast,!b||!k)return this}else return o?this.extend(Ee(o)||he(o)):this;return!h&&!v?(this._southWest=new le(b.lat,b.lng),this._northEast=new le(k.lat,k.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),v.lat=Math.max(k.lat,v.lat),v.lng=Math.max(k.lng,v.lng)),this},pad:function(o){var h=this._southWest,v=this._northEast,b=Math.abs(h.lat-v.lat)*o,k=Math.abs(h.lng-v.lng)*o;return new ie(new le(h.lat-b,h.lng-k),new le(v.lat+b,v.lng+k))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof le||"lat"in o?o=Ee(o):o=he(o);var h=this._southWest,v=this._northEast,b,k;return o instanceof ie?(b=o.getSouthWest(),k=o.getNorthEast()):b=k=o,b.lat>=h.lat&&k.lat<=v.lat&&b.lng>=h.lng&&k.lng<=v.lng},intersects:function(o){o=he(o);var h=this._southWest,v=this._northEast,b=o.getSouthWest(),k=o.getNorthEast(),Z=k.lat>=h.lat&&b.lat<=v.lat,re=k.lng>=h.lng&&b.lng<=v.lng;return Z&&re},overlaps:function(o){o=he(o);var h=this._southWest,v=this._northEast,b=o.getSouthWest(),k=o.getNorthEast(),Z=k.lat>h.lat&&b.lat<v.lat,re=k.lng>h.lng&&b.lng<v.lng;return Z&&re},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=he(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(o,h){return o instanceof ie?o:new ie(o,h)}function le(o,h,v){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,v!==void 0&&(this.alt=+v)}le.prototype={equals:function(o,h){if(!o)return!1;o=Ee(o);var v=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return v<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+w(this.lat,o)+", "+w(this.lng,o)+")"},distanceTo:function(o){return De.distance(this,Ee(o))},wrap:function(){return De.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,v=h/Math.cos(Math.PI/180*this.lat);return he([this.lat-h,this.lng-v],[this.lat+h,this.lng+v])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function Ee(o,h,v){return o instanceof le?o:Q(o)&&typeof o[0]!="object"?o.length===3?new le(o[0],o[1],o[2]):o.length===2?new le(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new le(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new le(o,h,v)}var Ze={latLngToPoint:function(o,h){var v=this.projection.project(o),b=this.scale(h);return this.transformation._transform(v,b)},pointToLatLng:function(o,h){var v=this.scale(h),b=this.transformation.untransform(o,v);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,v=this.scale(o),b=this.transformation.transform(h.min,v),k=this.transformation.transform(h.max,v);return new ne(b,k)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?_(o.lng,this.wrapLng,!0):o.lng,v=this.wrapLat?_(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new le(v,h,b)},wrapLatLngBounds:function(o){var h=o.getCenter(),v=this.wrapLatLng(h),b=h.lat-v.lat,k=h.lng-v.lng;if(b===0&&k===0)return o;var Z=o.getSouthWest(),re=o.getNorthEast(),ge=new le(Z.lat-b,Z.lng-k),Ae=new le(re.lat-b,re.lng-k);return new ie(ge,Ae)}},De=s({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var v=Math.PI/180,b=o.lat*v,k=h.lat*v,Z=Math.sin((h.lat-o.lat)*v/2),re=Math.sin((h.lng-o.lng)*v/2),ge=Z*Z+Math.cos(b)*Math.cos(k)*re*re,Ae=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*Ae}}),Fe=6378137,je={R:Fe,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,v=this.MAX_LATITUDE,b=Math.max(Math.min(v,o.lat),-v),k=Math.sin(b*h);return new W(this.R*o.lng*h,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(o){var h=180/Math.PI;return new le((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=Fe*Math.PI;return new ne([-o,-o],[o,o])}()};function ze(o,h,v,b){if(Q(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=v,this._d=b}ze.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new W((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function et(o,h,v,b){return new ze(o,h,v,b)}var kt=s({},De,{code:"EPSG:3857",projection:je,transformation:function(){var o=.5/(Math.PI*je.R);return et(o,.5,-o,.5)}()}),Te=s({},kt,{code:"EPSG:900913"});function Ne(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Le(o,h){var v="",b,k,Z,re,ge,Ae;for(b=0,Z=o.length;b<Z;b++){for(ge=o[b],k=0,re=ge.length;k<re;k++)Ae=ge[k],v+=(k?"L":"M")+Ae.x+" "+Ae.y;v+=h?Ce.svg?"z":"x":""}return v||"M0 0"}var He=document.documentElement.style,Ue="ActiveXObject"in window,rt=Ue&&!document.addEventListener,dt="msLaunchUri"in navigator&&!("documentMode"in document),It=Xe("webkit"),Pt=Xe("android"),Mt=Xe("android 2")||Xe("android 3"),ct=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xt=Pt&&Xe("Google")&&ct<537&&!("AudioNode"in window),tt=!!window.opera,nt=!dt&&Xe("chrome"),bt=Xe("gecko")&&!It&&!tt&&!Ue,tn=!nt&&Xe("safari"),yn=Xe("phantom"),nn="OTransition"in He,Kt=navigator.platform.indexOf("Win")===0,mn=Ue&&"transition"in He,En="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mt,Dn="MozPerspective"in He,er=!window.L_DISABLE_3D&&(mn||En||Dn)&&!nn&&!yn,ti=typeof orientation<"u"||Xe("mobile"),fr=ti&&It,dr=ti&&En,zi=!window.PointerEvent&&window.MSPointerEvent,Ii=!!(window.PointerEvent||zi),Bn="ontouchstart"in window||!!window.TouchEvent,ci=!window.L_NO_TOUCH&&(Bn||Ii),Nn=ti&&tt,_i=ti&&bt,tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vi=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",E,h),window.removeEventListener("testPassiveEventSupport",E,h)}catch{}return o}(),oe=function(){return!!document.createElement("canvas").getContext}(),pe=!!(document.createElementNS&&Ne("svg").createSVGRect),ve=!!pe&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ke=!pe&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Ve=navigator.platform.indexOf("Mac")===0,Ke=navigator.platform.indexOf("Linux")===0;function Xe(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ce={ie:Ue,ielt9:rt,edge:dt,webkit:It,android:Pt,android23:Mt,androidStock:Xt,opera:tt,chrome:nt,gecko:bt,safari:tn,phantom:yn,opera12:nn,win:Kt,ie3d:mn,webkit3d:En,gecko3d:Dn,any3d:er,mobile:ti,mobileWebkit:fr,mobileWebkit3d:dr,msPointer:zi,pointer:Ii,touch:ci,touchNative:Bn,mobileOpera:Nn,mobileGecko:_i,retina:tr,passiveEvents:vi,canvas:oe,svg:pe,vml:ke,inlineSvg:ve,mac:Ve,linux:Ke},$e=Ce.msPointer?"MSPointerDown":"pointerdown",Ye=Ce.msPointer?"MSPointerMove":"pointermove",ht=Ce.msPointer?"MSPointerUp":"pointerup",ot=Ce.msPointer?"MSPointerCancel":"pointercancel",pt={touchstart:$e,touchmove:Ye,touchend:ht,touchcancel:ot},Nt={touchstart:ir,touchmove:nr,touchend:nr,touchcancel:nr},Ft={},Jt=!1;function jt(o,h,v){return h==="touchstart"&&hi(),Nt[h]?(v=Nt[h].bind(this,v),o.addEventListener(pt[h],v,!1),v):(console.warn("wrong event specified:",h),E)}function Lt(o,h,v){if(!pt[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(pt[h],v,!1)}function pr(o){Ft[o.pointerId]=o}function Yn(o){Ft[o.pointerId]&&(Ft[o.pointerId]=o)}function yi(o){delete Ft[o.pointerId]}function hi(){Jt||(document.addEventListener($e,pr,!0),document.addEventListener(Ye,Yn,!0),document.addEventListener(ht,yi,!0),document.addEventListener(ot,yi,!0),Jt=!0)}function nr(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var v in Ft)h.touches.push(Ft[v]);h.changedTouches=[h],o(h)}}function ir(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&wn(h),nr(o,h)}function ks(o){var h={},v,b;for(b in o)v=o[b],h[b]=v&&v.bind?v.bind(o):v;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Ei=200;function ki(o,h){o.addEventListener("dblclick",h);var v=0,b;function k(Z){if(Z.detail!==1){b=Z.detail;return}if(!(Z.pointerType==="mouse"||Z.sourceCapabilities&&!Z.sourceCapabilities.firesTouchEvents)){var re=Ua(Z);if(!(re.some(function(Ae){return Ae instanceof HTMLLabelElement&&Ae.attributes.for})&&!re.some(function(Ae){return Ae instanceof HTMLInputElement||Ae instanceof HTMLSelectElement}))){var ge=Date.now();ge-v<=Ei?(b++,b===2&&h(ks(Z))):b=1,v=ge}}}return o.addEventListener("click",k),{dblclick:h,simDblclick:k}}function Et(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var Ln=Rr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fi=Rr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mi=fi==="webkitTransition"||fi==="OTransition"?fi+"End":"transitionend";function Cr(o){return typeof o=="string"?document.getElementById(o):o}function on(o,h){var v=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!v||v==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);v=b?b[h]:null}return v==="auto"?null:v}function Ct(o,h,v){var b=document.createElement(o);return b.className=h||"",v&&v.appendChild(b),b}function ln(o){var h=o.parentNode;h&&h.removeChild(o)}function Hn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Yr(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function Ms(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Ps(o,h){if(o.classList!==void 0)return o.classList.contains(h);var v=On(o);return v.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(v)}function At(o,h){if(o.classList!==void 0)for(var v=x(h),b=0,k=v.length;b<k;b++)o.classList.add(v[b]);else if(!Ps(o,h)){var Z=On(o);tl(o,(Z?Z+" ":"")+h)}}function gn(o,h){o.classList!==void 0?o.classList.remove(h):tl(o,C((" "+On(o)+" ").replace(" "+h+" "," ")))}function tl(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function On(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function xn(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&ra(o,h)}function ra(o,h){var v=!1,b="DXImageTransform.Microsoft.Alpha";try{v=o.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),v?(v.Enabled=h!==100,v.Opacity=h):o.style.filter+=" progid:"+b+"(opacity="+h+")"}function Rr(o){for(var h=document.documentElement.style,v=0;v<o.length;v++)if(o[v]in h)return o[v];return!1}function Pi(o,h,v){var b=h||new W(0,0);o.style[Ln]=(Ce.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(v?" scale("+v+")":"")}function _t(o,h){o._leaflet_pos=h,Ce.any3d?Pi(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function rr(o){return o._leaflet_pos||new W(0,0)}var wi,xr,La;if("onselectstart"in document)wi=function(){ft(window,"selectstart",wn)},xr=function(){rn(window,"selectstart",wn)};else{var fs=Rr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wi=function(){if(fs){var o=document.documentElement.style;La=o[fs],o[fs]="none"}},xr=function(){fs&&(document.documentElement.style[fs]=La,La=void 0)}}function sa(){ft(window,"dragstart",wn)}function nl(){rn(window,"dragstart",wn)}var Va,Os;function Ir(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Oi(),Va=o,Os=o.style.outlineStyle,o.style.outlineStyle="none",ft(window,"keydown",Oi))}function Oi(){Va&&(Va.style.outlineStyle=Os,Va=void 0,Os=void 0,rn(window,"keydown",Oi))}function $r(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function kr(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var il={__proto__:null,TRANSFORM:Ln,TRANSITION:fi,TRANSITION_END:Mi,get:Cr,getStyle:on,create:Ct,remove:ln,empty:Hn,toFront:Yr,toBack:Ms,hasClass:Ps,addClass:At,removeClass:gn,setClass:tl,getClass:On,setOpacity:xn,testProp:Rr,setTransform:Pi,setPosition:_t,getPosition:rr,get disableTextSelection(){return wi},get enableTextSelection(){return xr},disableImageDrag:sa,enableImageDrag:nl,preventOutline:Ir,restoreOutline:Oi,getSizedParentNode:$r,getScale:kr};function ft(o,h,v,b){if(h&&typeof h=="object")for(var k in h)ds(o,k,h[k],v);else{h=x(h);for(var Z=0,re=h.length;Z<re;Z++)ds(o,h[Z],v,b)}return this}var sr="_leaflet_events";function rn(o,h,v,b){if(arguments.length===1)mr(o),delete o[sr];else if(h&&typeof h=="object")for(var k in h)gr(o,k,h[k],v);else if(h=x(h),arguments.length===2)mr(o,function(ge){return $(h,ge)!==-1});else for(var Z=0,re=h.length;Z<re;Z++)gr(o,h[Z],v,b);return this}function mr(o,h){for(var v in o[sr]){var b=v.split(/\d/)[0];(!h||h(b))&&gr(o,b,null,null,v)}}var Fi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ds(o,h,v,b){var k=h+p(v)+(b?"_"+p(b):"");if(o[sr]&&o[sr][k])return this;var Z=function(ge){return v.call(b||o,ge||window.event)},re=Z;!Ce.touchNative&&Ce.pointer&&h.indexOf("touch")===0?Z=jt(o,h,Z):Ce.touch&&h==="dblclick"?Z=ki(o,Z):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Fi[h]||h,Z,Ce.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(Z=function(ge){ge=ge||window.event,ms(o,ge)&&re(ge)},o.addEventListener(Fi[h],Z,!1)):o.addEventListener(h,re,!1):o.attachEvent("on"+h,Z),o[sr]=o[sr]||{},o[sr][k]=Z}function gr(o,h,v,b,k){k=k||h+p(v)+(b?"_"+p(b):"");var Z=o[sr]&&o[sr][k];if(!Z)return this;!Ce.touchNative&&Ce.pointer&&h.indexOf("touch")===0?Lt(o,h,Z):Ce.touch&&h==="dblclick"?Et(o,Z):"removeEventListener"in o?o.removeEventListener(Fi[h]||h,Z,!1):o.detachEvent("on"+h,Z),o[sr][k]=null}function ji(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Mr(o){return ds(o,"wheel",ji),this}function ps(o){return ft(o,"mousedown touchstart dblclick contextmenu",ji),o._leaflet_disable_click=!0,this}function wn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ti(o){return wn(o),ji(o),this}function Ua(o){if(o.composedPath)return o.composedPath();for(var h=[],v=o.target;v;)h.push(v),v=v.parentNode;return h}function $n(o,h){if(!h)return new W(o.clientX,o.clientY);var v=kr(h),b=v.boundingClientRect;return new W((o.clientX-b.left)/v.x-h.clientLeft,(o.clientY-b.top)/v.y-h.clientTop)}var un=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function aa(o){return Ce.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/un:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ms(o,h){var v=h.relatedTarget;if(!v)return!0;try{for(;v&&v!==o;)v=v.parentNode}catch{return!1}return v!==o}var Kl={__proto__:null,on:ft,off:rn,stopPropagation:ji,disableScrollPropagation:Mr,disableClickPropagation:ps,preventDefault:wn,stop:Ti,getPropagationPath:Ua,getMousePosition:$n,getWheelDelta:aa,isExternalTarget:ms,addListener:ft,removeListener:rn},oa=P.extend({run:function(o,h,v,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=rr(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,v=this._duration*1e3;h<v?this._runFrame(this._easeOut(h/v),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var v=this._startPos.add(this._offset.multiplyBy(o));h&&v._round(),_t(this._el,v),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ot=P.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=N(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Ee(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fi&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,Mi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,v){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Ee(o),h,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=s({animate:v.animate},v.zoom),v.pan=s({animate:v.animate,duration:v.duration},v.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,v.zoom):this._tryAnimatedPan(o,v.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,v.pan&&v.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,v){var b=this.getZoomScale(h),k=this.getSize().divideBy(2),Z=o instanceof W?o:this.latLngToContainerPoint(o),re=Z.subtract(k).multiplyBy(1-1/b),ge=this.containerPointToLatLng(k.add(re));return this.setView(ge,h,{zoom:v})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():he(o);var v=j(h.paddingTopLeft||h.padding||[0,0]),b=j(h.paddingBottomRight||h.padding||[0,0]),k=this.getBoundsZoom(o,!1,v.add(b));if(k=typeof h.maxZoom=="number"?Math.min(h.maxZoom,k):k,k===1/0)return{center:o.getCenter(),zoom:k};var Z=b.subtract(v).divideBy(2),re=this.project(o.getSouthWest(),k),ge=this.project(o.getNorthEast(),k),Ae=this.unproject(re.add(ge).divideBy(2).add(Z),k);return{center:Ae,zoom:k}},fitBounds:function(o,h){if(o=he(o),!o.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(o,h);return this.setView(v.center,v.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=j(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,v,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,v){if(v=v||{},v.animate===!1||!Ce.any3d)return this.setView(o,h,v);this._stop();var b=this.project(this.getCenter()),k=this.project(o),Z=this.getSize(),re=this._zoom;o=Ee(o),h=h===void 0?re:h;var ge=Math.max(Z.x,Z.y),Ae=ge*this.getZoomScale(re,h),Oe=k.distanceTo(b)||1,Ge=1.42,We=Ge*Ge;function it(Vn){var is=Vn?-1:1,ws=Vn?Ae:ge,Bs=Ae*Ae-ge*ge+is*We*We*Oe*Oe,Ts=2*ws*We*Oe,vl=Bs/Ts,au=Math.sqrt(vl*vl+1)-vl,yl=au<1e-9?-18:Math.log(au);return yl}function Tt(Vn){return(Math.exp(Vn)-Math.exp(-Vn))/2}function kn(Vn){return(Math.exp(Vn)+Math.exp(-Vn))/2}function zn(Vn){return Tt(Vn)/kn(Vn)}var Ai=it(0);function _r(Vn){return ge*(kn(Ai)/kn(Ai+Ge*Vn))}function sf(Vn){return ge*(kn(Ai)*zn(Ai+Ge*Vn)-Tt(Ai))/We}function af(Vn){return 1-Math.pow(1-Vn,1.5)}var _l=Date.now(),to=(it(1)-Ai)/Ge,of=v.duration?1e3*v.duration:1e3*to*.8;function no(){var Vn=(Date.now()-_l)/of,is=af(Vn)*to;Vn<=1?(this._flyToFrame=D(no,this),this._move(this.unproject(b.add(k.subtract(b).multiplyBy(sf(is)/Oe)),re),this.getScaleZoom(ge/_r(is),re),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),no.call(this),this},flyToBounds:function(o,h){var v=this._getBoundsCenterZoom(o,h);return this.flyTo(v.center,v.zoom,h)},setMaxBounds:function(o){return o=he(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var v=this.getCenter(),b=this._limitCenter(v,this._zoom,he(o));return v.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var v=j(h.paddingTopLeft||h.padding||[0,0]),b=j(h.paddingBottomRight||h.padding||[0,0]),k=this.project(this.getCenter()),Z=this.project(o),re=this.getPixelBounds(),ge=ae([re.min.add(v),re.max.subtract(b)]),Ae=ge.getSize();if(!ge.contains(Z)){this._enforcingBounds=!0;var Oe=Z.subtract(ge.getCenter()),Ge=ge.extend(Z).getSize().subtract(Ae);k.x+=Oe.x<0?-Ge.x:Ge.x,k.y+=Oe.y<0?-Ge.y:Ge.y,this.panTo(this.unproject(k),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),b=h.divideBy(2).round(),k=v.divideBy(2).round(),Z=b.subtract(k);return!Z.x&&!Z.y?this:(o.animate&&o.pan?this.panBy(Z):(o.pan&&this._rawPanBy(Z),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),v=c(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,v,o):navigator.geolocation.getCurrentPosition(h,v,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,v=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,v=o.coords.longitude,b=new le(h,v),k=b.toBounds(o.coords.accuracy*2),Z=this._locateOptions;if(Z.setView){var re=this.getBoundsZoom(k);this.setView(b,Z.maxZoom?Math.min(re,Z.maxZoom):re)}var ge={latlng:b,bounds:k,timestamp:o.timestamp};for(var Ae in o.coords)typeof o.coords[Ae]=="number"&&(ge[Ae]=o.coords[Ae]);this.fire("locationfound",ge)}},addHandler:function(o,h){if(!h)return this;var v=this[o]=new h(this);return this._handlers.push(v),this.options[o]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ln(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ln(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var v="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=Ct("div",v,h||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),v=this.unproject(o.getTopRight());return new ie(h,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,v){o=he(o),v=j(v||[0,0]);var b=this.getZoom()||0,k=this.getMinZoom(),Z=this.getMaxZoom(),re=o.getNorthWest(),ge=o.getSouthEast(),Ae=this.getSize().subtract(v),Oe=ae(this.project(ge,b),this.project(re,b)).getSize(),Ge=Ce.any3d?this.options.zoomSnap:1,We=Ae.x/Oe.x,it=Ae.y/Oe.y,Tt=h?Math.max(We,it):Math.min(We,it);return b=this.getScaleZoom(Tt,b),Ge&&(b=Math.round(b/(Ge/100))*(Ge/100),b=h?Math.ceil(b/Ge)*Ge:Math.floor(b/Ge)*Ge),Math.max(k,Math.min(Z,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var v=this._getTopLeftPoint(o,h);return new ne(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var v=this.options.crs;return h=h===void 0?this._zoom:h,v.scale(o)/v.scale(h)},getScaleZoom:function(o,h){var v=this.options.crs;h=h===void 0?this._zoom:h;var b=v.zoom(o*v.scale(h));return isNaN(b)?1/0:b},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Ee(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(j(o),h)},layerPointToLatLng:function(o){var h=j(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Ee(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ee(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(he(o))},distance:function(o,h){return this.options.crs.distance(Ee(o),Ee(h))},containerPointToLayerPoint:function(o){return j(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return j(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(j(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(o)))},mouseEventToContainerPoint:function(o){return $n(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=Cr(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(h,"scroll",this._onScroll,this),this._containerId=p(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,At(o,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=on(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_t(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(o.markerPane,"leaflet-zoom-hide"),At(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,v){_t(this._mapPane,new W(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var k=this._zoom!==h;this._moveStart(k,v)._move(o,h)._moveEnd(k),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,v,b){h===void 0&&(h=this._zoom);var k=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?v&&v.pinch&&this.fire("zoom",v):((k||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){_t(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var h=o?rn:ft;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var v=[],b,k=h==="mouseout"||h==="mouseover",Z=o.target||o.srcElement,re=!1;Z;){if(b=this._targets[p(Z)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){re=!0;break}if(b&&b.listens(h,!0)&&(k&&!ms(Z,o)||(v.push(b),k))||Z===this._container)break;Z=Z.parentNode}return!v.length&&!re&&!k&&this.listens(h,!0)&&(v=[this]),v},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var v=o.type;v==="mousedown"&&Ir(h),this._fireDOMEvent(o,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,v){if(o.type==="click"){var b=s({},o);b.type="preclick",this._fireDOMEvent(b,b.type,v)}var k=this._findEventTargets(o,h);if(v){for(var Z=[],re=0;re<v.length;re++)v[re].listens(h,!0)&&Z.push(v[re]);k=Z.concat(k)}if(k.length){h==="contextmenu"&&wn(o);var ge=k[0],Ae={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Oe=ge.getLatLng&&(!ge._radius||ge._radius<=10);Ae.containerPoint=Oe?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(o),Ae.layerPoint=this.containerPointToLayerPoint(Ae.containerPoint),Ae.latlng=Oe?ge.getLatLng():this.layerPointToLatLng(Ae.layerPoint)}for(re=0;re<k.length;re++)if(k[re].fire(h,Ae,!0),Ae.originalEvent._stopped||k[re].options.bubblingMouseEvents===!1&&$(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return rr(this._mapPane)||new W(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var v=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var v=this.getSize()._divideBy(2);return this.project(o,h)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,v){var b=this._getNewPixelOrigin(v,h);return this.project(o,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,h,v){var b=this._getNewPixelOrigin(v,h);return ae([this.project(o.getSouthWest(),h)._subtract(b),this.project(o.getNorthWest(),h)._subtract(b),this.project(o.getSouthEast(),h)._subtract(b),this.project(o.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,v){if(!v)return o;var b=this.project(o,h),k=this.getSize().divideBy(2),Z=new ne(b.subtract(k),b.add(k)),re=this._getBoundsOffset(Z,v,h);return Math.abs(re.x)<=1&&Math.abs(re.y)<=1?o:this.unproject(b.add(re),h)},_limitOffset:function(o,h){if(!h)return o;var v=this.getPixelBounds(),b=new ne(v.min.add(o),v.max.add(o));return o.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(o,h,v){var b=ae(this.project(h.getNorthEast(),v),this.project(h.getSouthWest(),v)),k=b.min.subtract(o.min),Z=b.max.subtract(o.max),re=this._rebound(k.x,-Z.x),ge=this._rebound(k.y,-Z.y);return new W(re,ge)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),v=this.getMaxZoom(),b=Ce.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(h,Math.min(v,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var v=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,h),!0)},_createAnimProxy:function(){var o=this._proxy=Ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var v=Ln,b=this._proxy.style[v];Pi(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ln(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();Pi(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),k=this._getCenterOffset(o)._divideBy(1-1/b);return v.animate!==!0&&!this.getSize().contains(k)?!1:(D(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,v,b){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wr(o,h){return new Ot(o,h)}var di=X.extend({options:{position:"topright"},initialize:function(o){N(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),v=this.getPosition(),b=o._controlCorners[v];return At(h,"leaflet-control"),v.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ln(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),bi=function(o){return new di(o)};Ot.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",v=this._controlContainer=Ct("div",h+"control-container",this._container);function b(k,Z){var re=h+k+" "+h+Z;o[k+Z]=Ct("div",re,v)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ln(this._controlCorners[o]);ln(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rl=di.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,v,b){return v<b?-1:b<v?1:0}},initialize:function(o,h,v){N(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return di.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(p(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):gn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=Ct("div",o),v=this.options.collapsed;h.setAttribute("aria-haspopup",!0),ps(h),Mr(h);var b=this._section=Ct("section",o+"-list");v&&(this._map.on("click",this.collapse,this),ft(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=Ct("a",o+"-toggle",h);k.href="#",k.title="Layers",k.setAttribute("role","button"),ft(k,{keydown:function(Z){Z.keyCode===13&&this._expandSafely()},click:function(Z){wn(Z),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Ct("div",o+"-base",b),this._separator=Ct("div",o+"-separator",b),this._overlaysList=Ct("div",o+"-overlays",b),h.appendChild(b)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&p(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,v){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:v}),this.options.sortLayers&&this._layers.sort(c(function(b,k){return this.options.sortFunction(b.layer,k.layer,b.name,k.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hn(this._baseLayersList),Hn(this._overlaysList),this._layerControlInputs=[];var o,h,v,b,k=0;for(v=0;v<this._layers.length;v++)b=this._layers[v],this._addItem(b),h=h||b.overlay,o=o||!b.overlay,k+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&k>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(p(o.target)),v=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;v&&this._map.fire(v,h)},_createRadioElement:function(o,h){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=v,b.firstChild},_addItem:function(o){var h=document.createElement("label"),v=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=v):b=this._createRadioElement("leaflet-base-layers_"+p(this),v),this._layerControlInputs.push(b),b.layerId=p(o.layer),ft(b,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+o.name;var Z=document.createElement("span");h.appendChild(Z),Z.appendChild(b),Z.appendChild(k);var re=o.overlay?this._overlaysList:this._baseLayersList;return re.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,v,b=[],k=[];this._handlingClick=!0;for(var Z=o.length-1;Z>=0;Z--)h=o[Z],v=this._getLayer(h.layerId).layer,h.checked?b.push(v):h.checked||k.push(v);for(Z=0;Z<k.length;Z++)this._map.hasLayer(k[Z])&&this._map.removeLayer(k[Z]);for(Z=0;Z<b.length;Z++)this._map.hasLayer(b[Z])||this._map.addLayer(b[Z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,v,b=this._map.getZoom(),k=o.length-1;k>=0;k--)h=o[k],v=this._getLayer(h.layerId).layer,h.disabled=v.options.minZoom!==void 0&&b<v.options.minZoom||v.options.maxZoom!==void 0&&b>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ft(o,"click",wn),this.expand();var h=this;setTimeout(function(){rn(o,"click",wn),h._preventClick=!1})}}),ic=function(o,h,v){return new rl(o,h,v)},gs=di.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",v=Ct("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",v,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,v,b,k){var Z=Ct("a",v,b);return Z.innerHTML=o,Z.href="#",Z.title=h,Z.setAttribute("role","button"),Z.setAttribute("aria-label",h),ps(Z),ft(Z,"click",Ti),ft(Z,"click",k,this),ft(Z,"click",this._refocusOnMap,this),Z},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";gn(this._zoomInButton,h),gn(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(At(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(At(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ot.mergeOptions({zoomControl:!0}),Ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gs,this.addControl(this.zoomControl))});var Ba=function(o){return new gs(o)},za=di.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",v=Ct("div",h),b=this.options;return this._addScales(b,h+"-line",v),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),v},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,v){o.metric&&(this._mScale=Ct("div",h,v)),o.imperial&&(this._iScale=Ct("div",h,v))},_update:function(){var o=this._map,h=o.getSize().y/2,v=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(v)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),v=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,v,h/o)},_updateImperial:function(o){var h=o*3.2808399,v,b,k;h>5280?(v=h/5280,b=this._getRoundNum(v),this._updateScale(this._iScale,b+" mi",b/v)):(k=this._getRoundNum(h),this._updateScale(this._iScale,k+" ft",k/h))},_updateScale:function(o,h,v){o.style.width=Math.round(this.options.maxWidth*v)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),v=o/h;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,h*v}}),Fa=function(o){return new za(o)},Ql='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ds=di.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Ql+" ":"")+"Leaflet</a>"},initialize:function(o){N(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ct("div","leaflet-control-attribution"),ps(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var v=[];this.options.prefix&&v.push(this.options.prefix),o.length&&v.push(o.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Ot.mergeOptions({attributionControl:!0}),Ot.addInitHook(function(){this.options.attributionControl&&new Ds().addTo(this)});var rc=function(o){return new Ds(o)};di.Layers=rl,di.Zoom=gs,di.Scale=za,di.Attribution=Ds,bi.layers=ic,bi.zoom=Ba,bi.scale=Fa,bi.attribution=rc;var Hi=X.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hi.addTo=function(o,h){return o.addHandler(h,this),this};var la={Events:B},sl=Ce.touch?"touchstart mousedown":"mousedown",Pr=P.extend({options:{clickTolerance:3},initialize:function(o,h,v,b){N(this,b),this._element=o,this._dragStartTarget=h||o,this._preventOutline=v},enable:function(){this._enabled||(ft(this._dragStartTarget,sl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pr._dragging===this&&this.finishDrag(!0),rn(this._dragStartTarget,sl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ps(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Pr._dragging===this&&this.finishDrag();return}if(!(Pr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Pr._dragging=this,this._preventOutline&&Ir(this._element),sa(),wi(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,v=$r(this._element);this._startPoint=new W(h.clientX,h.clientY),this._startPos=rr(this._element),this._parentScale=kr(v);var b=o.type==="mousedown";ft(document,b?"mousemove":"touchmove",this._onMove,this),ft(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,v=new W(h.clientX,h.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,wn(o),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),_t(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){gn(document.body,"leaflet-dragging"),this._lastTarget&&(gn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rn(document,"mousemove touchmove",this._onMove,this),rn(document,"mouseup touchend touchcancel",this._onUp,this),nl(),xr();var h=this._moved&&this._moving;this._moving=!1,Pr._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function ja(o,h,v){var b,k=[1,4,2,8],Z,re,ge,Ae,Oe,Ge,We,it;for(Z=0,Ge=o.length;Z<Ge;Z++)o[Z]._code=Xr(o[Z],h);for(ge=0;ge<4;ge++){for(We=k[ge],b=[],Z=0,Ge=o.length,re=Ge-1;Z<Ge;re=Z++)Ae=o[Z],Oe=o[re],Ae._code&We?Oe._code&We||(it=ni(Oe,Ae,We,h,v),it._code=Xr(it,h),b.push(it)):(Oe._code&We&&(it=ni(Oe,Ae,We,h,v),it._code=Xr(it,h),b.push(it)),b.push(Ae));o=b}return o}function Ns(o,h){var v,b,k,Z,re,ge,Ae,Oe,Ge;if(!o||o.length===0)throw new Error("latlngs not passed");g(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var We=Ee([0,0]),it=he(o),Tt=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());Tt<1700&&(We=Ha(o));var kn=o.length,zn=[];for(v=0;v<kn;v++){var Ai=Ee(o[v]);zn.push(h.project(Ee([Ai.lat-We.lat,Ai.lng-We.lng])))}for(ge=Ae=Oe=0,v=0,b=kn-1;v<kn;b=v++)k=zn[v],Z=zn[b],re=k.y*Z.x-Z.y*k.x,Ae+=(k.x+Z.x)*re,Oe+=(k.y+Z.y)*re,ge+=re*3;ge===0?Ge=zn[0]:Ge=[Ae/ge,Oe/ge];var _r=h.unproject(j(Ge));return Ee([_r.lat+We.lat,_r.lng+We.lng])}function Ha(o){for(var h=0,v=0,b=0,k=0;k<o.length;k++){var Z=Ee(o[k]);h+=Z.lat,v+=Z.lng,b++}return Ee([h/b,v/b])}var qa={__proto__:null,clipPolygon:ja,polygonCenter:Ns,centroid:Ha};function al(o,h){if(!h||!o.length)return o.slice();var v=h*h;return o=$l(o,v),o=Yl(o,v),o}function Ga(o,h,v){return Math.sqrt(qi(o,h,v,!0))}function _s(o,h,v){return qi(o,h,v)}function Yl(o,h){var v=o.length,b=typeof Uint8Array<"u"?Uint8Array:Array,k=new b(v);k[0]=k[v-1]=1,Za(o,k,h,0,v-1);var Z,re=[];for(Z=0;Z<v;Z++)k[Z]&&re.push(o[Z]);return re}function Za(o,h,v,b,k){var Z=0,re,ge,Ae;for(ge=b+1;ge<=k-1;ge++)Ae=qi(o[ge],o[b],o[k],!0),Ae>Z&&(re=ge,Z=Ae);Z>v&&(h[re]=1,Za(o,h,v,b,re),Za(o,h,v,re,k))}function $l(o,h){for(var v=[o[0]],b=1,k=0,Z=o.length;b<Z;b++)Wl(o[b],o[k])>h&&(v.push(o[b]),k=b);return k<Z-1&&v.push(o[Z-1]),v}var ol;function ua(o,h,v,b,k){var Z=b?ol:Xr(o,v),re=Xr(h,v),ge,Ae,Oe;for(ol=re;;){if(!(Z|re))return[o,h];if(Z&re)return!1;ge=Z||re,Ae=ni(o,h,ge,v,k),Oe=Xr(Ae,v),ge===Z?(o=Ae,Z=Oe):(h=Ae,re=Oe)}}function ni(o,h,v,b,k){var Z=h.x-o.x,re=h.y-o.y,ge=b.min,Ae=b.max,Oe,Ge;return v&8?(Oe=o.x+Z*(Ae.y-o.y)/re,Ge=Ae.y):v&4?(Oe=o.x+Z*(ge.y-o.y)/re,Ge=ge.y):v&2?(Oe=Ae.x,Ge=o.y+re*(Ae.x-o.x)/Z):v&1&&(Oe=ge.x,Ge=o.y+re*(ge.x-o.x)/Z),new W(Oe,Ge,k)}function Xr(o,h){var v=0;return o.x<h.min.x?v|=1:o.x>h.max.x&&(v|=2),o.y<h.min.y?v|=4:o.y>h.max.y&&(v|=8),v}function Wl(o,h){var v=h.x-o.x,b=h.y-o.y;return v*v+b*b}function qi(o,h,v,b){var k=h.x,Z=h.y,re=v.x-k,ge=v.y-Z,Ae=re*re+ge*ge,Oe;return Ae>0&&(Oe=((o.x-k)*re+(o.y-Z)*ge)/Ae,Oe>1?(k=v.x,Z=v.y):Oe>0&&(k+=re*Oe,Z+=ge*Oe)),re=o.x-k,ge=o.y-Z,b?re*re+ge*ge:new W(k,Z)}function g(o){return!Q(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function R(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),g(o)}function O(o,h){var v,b,k,Z,re,ge,Ae,Oe;if(!o||o.length===0)throw new Error("latlngs not passed");g(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ge=Ee([0,0]),We=he(o),it=We.getNorthWest().distanceTo(We.getSouthWest())*We.getNorthEast().distanceTo(We.getNorthWest());it<1700&&(Ge=Ha(o));var Tt=o.length,kn=[];for(v=0;v<Tt;v++){var zn=Ee(o[v]);kn.push(h.project(Ee([zn.lat-Ge.lat,zn.lng-Ge.lng])))}for(v=0,b=0;v<Tt-1;v++)b+=kn[v].distanceTo(kn[v+1])/2;if(b===0)Oe=kn[0];else for(v=0,Z=0;v<Tt-1;v++)if(re=kn[v],ge=kn[v+1],k=re.distanceTo(ge),Z+=k,Z>b){Ae=(Z-b)/k,Oe=[ge.x-Ae*(ge.x-re.x),ge.y-Ae*(ge.y-re.y)];break}var Ai=h.unproject(j(Oe));return Ee([Ai.lat+Ge.lat,Ai.lng+Ge.lng])}var Y={__proto__:null,simplify:al,pointToSegmentDistance:Ga,closestPointOnSegment:_s,clipSegment:ua,_getEdgeIntersection:ni,_getBitCode:Xr,_sqClosestPointOnSegment:qi,isFlat:g,_flat:R,polylineCenter:O},me={project:function(o){return new W(o.lng,o.lat)},unproject:function(o){return new le(o.y,o.x)},bounds:new ne([-180,-90],[180,90])},Se={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,v=this.R,b=o.lat*h,k=this.R_MINOR/v,Z=Math.sqrt(1-k*k),re=Z*Math.sin(b),ge=Math.tan(Math.PI/4-b/2)/Math.pow((1-re)/(1+re),Z/2);return b=-v*Math.log(Math.max(ge,1e-10)),new W(o.lng*h*v,b)},unproject:function(o){for(var h=180/Math.PI,v=this.R,b=this.R_MINOR/v,k=Math.sqrt(1-b*b),Z=Math.exp(-o.y/v),re=Math.PI/2-2*Math.atan(Z),ge=0,Ae=.1,Oe;ge<15&&Math.abs(Ae)>1e-7;ge++)Oe=k*Math.sin(re),Oe=Math.pow((1-Oe)/(1+Oe),k/2),Ae=Math.PI/2-2*Math.atan(Z*Oe)-re,re+=Ae;return new le(re*h,o.x*h/v)}},Be={__proto__:null,LonLat:me,Mercator:Se,SphericalMercator:je},Qt=s({},De,{code:"EPSG:3395",projection:Se,transformation:function(){var o=.5/(Math.PI*Se.R);return et(o,.5,-o,.5)}()}),qn=s({},De,{code:"EPSG:4326",projection:me,transformation:et(1/180,1,-1/180,.5)}),Yt=s({},Ze,{projection:me,transformation:et(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var v=h.lng-o.lng,b=h.lat-o.lat;return Math.sqrt(v*v+b*b)},infinite:!0});Ze.Earth=De,Ze.EPSG3395=Qt,Ze.EPSG3857=kt,Ze.EPSG900913=Te,Ze.EPSG4326=qn,Ze.Simple=Yt;var fn=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var v=this.getEvents();h.on(v,this),this.once("remove",function(){h.off(v,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Ot.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=p(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=p(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,h){for(var v in this._layers)o.call(h,this._layers[v]);return this},_addLayers:function(o){o=o?Q(o)?o:[o]:[];for(var h=0,v=o.length;h<v;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=p(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,v=this._getZoomSpan();for(var b in this._zoomBoundLayers){var k=this._zoomBoundLayers[b].options;o=k.minZoom===void 0?o:Math.min(o,k.minZoom),h=k.maxZoom===void 0?h:Math.max(h,k.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var In=fn.extend({initialize:function(o,h){N(this,h),this._layers={};var v,b;if(o)for(v=0,b=o.length;v<b;v++)this.addLayer(o[v])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),v,b;for(v in this._layers)b=this._layers[v],b[o]&&b[o].apply(b,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var v in this._layers)o.call(h,this._layers[v]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),vs=function(o,h){return new In(o,h)},Cn=In.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),In.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),In.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ie;for(var h in this._layers){var v=this._layers[h];o.extend(v.getBounds?v.getBounds():v.getLatLng())}return o}}),Jr=function(o,h){return new Cn(o,h)},es=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){N(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var v=this._getIconUrl(o);if(!v){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(v,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,h){var v=this.options,b=v[h+"Size"];typeof b=="number"&&(b=[b,b]);var k=j(b),Z=j(h==="shadow"&&v.shadowAnchor||v.iconAnchor||k&&k.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(v.className||""),Z&&(o.style.marginLeft=-Z.x+"px",o.style.marginTop=-Z.y+"px"),k&&(o.style.width=k.x+"px",o.style.height=k.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Ce.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Xl(o){return new es(o)}var Ka=es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ka.imagePath!="string"&&(Ka.imagePath=this._detectIconPath()),(this.options.imagePath||Ka.imagePath)+es.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(v,b,k){var Z=b.exec(v);return Z&&Z[k]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ct("div","leaflet-default-icon-path",document.body),h=on(o,"background-image")||on(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),sc=Hi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Pr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,v=h._map,b=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,Z=rr(h._icon),re=v.getPixelBounds(),ge=v.getPixelOrigin(),Ae=ae(re.min._subtract(ge).add(k),re.max._subtract(ge).subtract(k));if(!Ae.contains(Z)){var Oe=j((Math.max(Ae.max.x,Z.x)-Ae.max.x)/(re.max.x-Ae.max.x)-(Math.min(Ae.min.x,Z.x)-Ae.min.x)/(re.min.x-Ae.min.x),(Math.max(Ae.max.y,Z.y)-Ae.max.y)/(re.max.y-Ae.max.y)-(Math.min(Ae.min.y,Z.y)-Ae.min.y)/(re.min.y-Ae.min.y)).multiplyBy(b);v.panBy(Oe,{animate:!1}),this._draggable._newPos._add(Oe),this._draggable._startPos._add(Oe),_t(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=D(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,v=h._shadow,b=rr(h._icon),k=h._map.layerPointToLatLng(b);v&&_t(v,b),h._latlng=k,o.latlng=k,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Qa=fn.extend({options:{icon:new Ka,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){N(this,h),this._latlng=Ee(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=o.icon.createIcon(this._icon),b=!1;v!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(v.title=o.title),v.tagName==="IMG"&&(v.alt=o.alt||"")),At(v,h),o.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(v,"focus",this._panOnFocus,this);var k=o.icon.createShadow(this._shadow),Z=!1;k!==this._shadow&&(this._removeShadow(),Z=!0),k&&(At(k,h),k.alt=""),this._shadow=k,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&Z&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rn(this._icon,"focus",this._panOnFocus,this),ln(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ln(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&_t(this._icon,o),this._shadow&&_t(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sc)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sc(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&xn(this._icon,o),this._shadow&&xn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,v=h.iconSize?j(h.iconSize):j(0,0),b=h.iconAnchor?j(h.iconAnchor):j(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:v.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ac(o,h){return new Qa(o,h)}var ys=fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return N(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ll=ys.extend({options:{fill:!0,radius:10},initialize:function(o,h){N(this,h),this._latlng=Ee(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Ee(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return ys.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,v=this._clickTolerance(),b=[o+v,h+v];this._pxBounds=new ne(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xh(o,h){return new ll(o,h)}var oc=ll.extend({initialize:function(o,h,v){if(typeof h=="number"&&(h=s({},v,{radius:h})),N(this,h),this._latlng=Ee(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ys.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,v=this._map,b=v.options.crs;if(b.distance===De.distance){var k=Math.PI/180,Z=this._mRadius/De.R/k,re=v.project([h+Z,o]),ge=v.project([h-Z,o]),Ae=re.add(ge).divideBy(2),Oe=v.unproject(Ae).lat,Ge=Math.acos((Math.cos(Z*k)-Math.sin(h*k)*Math.sin(Oe*k))/(Math.cos(h*k)*Math.cos(Oe*k)))/k;(isNaN(Ge)||Ge===0)&&(Ge=Z/Math.cos(Math.PI/180*h)),this._point=Ae.subtract(v.getPixelOrigin()),this._radius=isNaN(Ge)?0:Ae.x-v.project([Oe,o-Ge]).x,this._radiusY=Ae.y-re.y}else{var We=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(We).x}this._updateBounds()}});function Kp(o,h,v){return new oc(o,h,v)}var Es=ys.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){N(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,v=null,b=qi,k,Z,re=0,ge=this._parts.length;re<ge;re++)for(var Ae=this._parts[re],Oe=1,Ge=Ae.length;Oe<Ge;Oe++){k=Ae[Oe-1],Z=Ae[Oe];var We=b(o,k,Z,!0);We<h&&(h=We,v=b(o,k,Z))}return v&&(v.distance=Math.sqrt(h)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return O(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Ee(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ie,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return g(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],v=g(o),b=0,k=o.length;b<k;b++)v?(h[b]=Ee(o[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(o[b]);return h},_project:function(){var o=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new W(o,o);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,v){var b=o[0]instanceof le,k=o.length,Z,re;if(b){for(re=[],Z=0;Z<k;Z++)re[Z]=this._map.latLngToLayerPoint(o[Z]),v.extend(re[Z]);h.push(re)}else for(Z=0;Z<k;Z++)this._projectLatlngs(o[Z],h,v)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,v,b,k,Z,re,ge,Ae;for(v=0,k=0,Z=this._rings.length;v<Z;v++)for(Ae=this._rings[v],b=0,re=Ae.length;b<re-1;b++)ge=ua(Ae[b],Ae[b+1],o,b,!0),ge&&(h[k]=h[k]||[],h[k].push(ge[0]),(ge[1]!==Ae[b+1]||b===re-2)&&(h[k].push(ge[1]),k++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,v=0,b=o.length;v<b;v++)o[v]=al(o[v],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var v,b,k,Z,re,ge,Ae=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(v=0,Z=this._parts.length;v<Z;v++)for(ge=this._parts[v],b=0,re=ge.length,k=re-1;b<re;k=b++)if(!(!h&&b===0)&&Ga(o,ge[k],ge[b])<=Ae)return!0;return!1}});function Qp(o,h){return new Es(o,h)}Es._flat=R;var Ya=Es.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ns(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Es.prototype._convertLatLngs.call(this,o),v=h.length;return v>=2&&h[0]instanceof le&&h[0].equals(h[v-1])&&h.pop(),h},_setLatLngs:function(o){Es.prototype._setLatLngs.call(this,o),g(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return g(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,v=new W(h,h);if(o=new ne(o.min.subtract(v),o.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,k=this._rings.length,Z;b<k;b++)Z=ja(this._rings[b],o,!0),Z.length&&this._parts.push(Z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,v,b,k,Z,re,ge,Ae,Oe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(Z=0,Ae=this._parts.length;Z<Ae;Z++)for(v=this._parts[Z],re=0,Oe=v.length,ge=Oe-1;re<Oe;ge=re++)b=v[re],k=v[ge],b.y>o.y!=k.y>o.y&&o.x<(k.x-b.x)*(o.y-b.y)/(k.y-b.y)+b.x&&(h=!h);return h||Es.prototype._containsPoint.call(this,o,!0)}});function ar(o,h){return new Ya(o,h)}var or=Cn.extend({initialize:function(o,h){N(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=Q(o)?o:o.features,v,b,k;if(h){for(v=0,b=h.length;v<b;v++)k=h[v],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var Z=this.options;if(Z.filter&&!Z.filter(o))return this;var re=ul(o,Z);return re?(re.feature=$a(o),re.defaultOptions=re.options,this.resetStyle(re),Z.onEachFeature&&Z.onEachFeature(o,re),this.addLayer(re)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function ul(o,h){var v=o.type==="Feature"?o.geometry:o,b=v?v.coordinates:null,k=[],Z=h&&h.pointToLayer,re=h&&h.coordsToLatLng||Jl,ge,Ae,Oe,Ge;if(!b&&!v)return null;switch(v.type){case"Point":return ge=re(b),lc(Z,o,ge,h);case"MultiPoint":for(Oe=0,Ge=b.length;Oe<Ge;Oe++)ge=re(b[Oe]),k.push(lc(Z,o,ge,h));return new Cn(k);case"LineString":case"MultiLineString":return Ae=cl(b,v.type==="LineString"?0:1,re),new Es(Ae,h);case"Polygon":case"MultiPolygon":return Ae=cl(b,v.type==="Polygon"?1:2,re),new Ya(Ae,h);case"GeometryCollection":for(Oe=0,Ge=v.geometries.length;Oe<Ge;Oe++){var We=ul({geometry:v.geometries[Oe],type:"Feature",properties:o.properties},h);We&&k.push(We)}return new Cn(k);case"FeatureCollection":for(Oe=0,Ge=v.features.length;Oe<Ge;Oe++){var it=ul(v.features[Oe],h);it&&k.push(it)}return new Cn(k);default:throw new Error("Invalid GeoJSON object.")}}function lc(o,h,v,b){return o?o(h,v):new Qa(v,b&&b.markersInheritOptions&&b)}function Jl(o){return new le(o[1],o[0],o[2])}function cl(o,h,v){for(var b=[],k=0,Z=o.length,re;k<Z;k++)re=h?cl(o[k],h-1,v):(v||Jl)(o[k]),b.push(re);return b}function hl(o,h){return o=Ee(o),o.alt!==void 0?[w(o.lng,h),w(o.lat,h),w(o.alt,h)]:[w(o.lng,h),w(o.lat,h)]}function eu(o,h,v,b){for(var k=[],Z=0,re=o.length;Z<re;Z++)k.push(h?eu(o[Z],g(o[Z])?0:h-1,v,b):hl(o[Z],b));return!h&&v&&k.length>0&&k.push(k[0].slice()),k}function Or(o,h){return o.feature?s({},o.feature,{geometry:h}):$a(h)}function $a(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ca={toGeoJSON:function(o){return Or(this,{type:"Point",coordinates:hl(this.getLatLng(),o)})}};Qa.include(ca),oc.include(ca),ll.include(ca),Es.include({toGeoJSON:function(o){var h=!g(this._latlngs),v=eu(this._latlngs,h?1:0,!1,o);return Or(this,{type:(h?"Multi":"")+"LineString",coordinates:v})}}),Ya.include({toGeoJSON:function(o){var h=!g(this._latlngs),v=h&&!g(this._latlngs[0]),b=eu(this._latlngs,v?2:h?1:0,!0,o);return h||(b=[b]),Or(this,{type:(v?"Multi":"")+"Polygon",coordinates:b})}}),In.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(v){h.push(v.toGeoJSON(o).geometry.coordinates)}),Or(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var v=h==="GeometryCollection",b=[];return this.eachLayer(function(k){if(k.toGeoJSON){var Z=k.toGeoJSON(o);if(v)b.push(Z.geometry);else{var re=$a(Z);re.type==="FeatureCollection"?b.push.apply(b,re.features):b.push(re)}}}),v?Or(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function tu(o,h){return new or(o,h)}var Jh=tu,ts=fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,v){this._url=o,this._bounds=he(h),N(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ln(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Yr(this._image),this},bringToBack:function(){return this._map&&Ms(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=he(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:Ct("img");if(At(h,"leaflet-image-layer"),this._zoomAnimated&&At(h,"leaflet-zoom-animated"),this.options.className&&At(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Pi(this._image,v,h)},_reset:function(){var o=this._image,h=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=h.getSize();_t(o,h.min),o.style.width=v.x+"px",o.style.height=v.y+"px"},_updateOpacity:function(){xn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Wa=function(o,h,v){return new ts(o,h,v)},nu=ts.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:Ct("video");if(At(h,"leaflet-image-layer"),this._zoomAnimated&&At(h,"leaflet-zoom-animated"),this.options.className&&At(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onloadeddata=c(this.fire,this,"load"),o){for(var v=h.getElementsByTagName("source"),b=[],k=0;k<v.length;k++)b.push(v[k].src);this._url=v.length>0?b:[h.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var Z=0;Z<this._url.length;Z++){var re=Ct("source");re.src=this._url[Z],h.appendChild(re)}}});function ef(o,h,v){return new nu(o,h,v)}var Ls=ts.extend({_initImage:function(){var o=this._image=this._url;At(o,"leaflet-image-layer"),this._zoomAnimated&&At(o,"leaflet-zoom-animated"),this.options.className&&At(o,this.options.className),o.onselectstart=E,o.onmousemove=E}});function tf(o,h,v){return new Ls(o,h,v)}var Dr=fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof le||Q(o))?(this._latlng=Ee(o),N(this,h)):(N(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&xn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&xn(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(xn(this._container,0),this._removeTimeout=setTimeout(c(ln,void 0,this._container),200)):ln(this._container),this.options.interactive&&(gn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ee(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yr(this._container),this},bringToBack:function(){return this._map&&Ms(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Cn){h=null;var v=this._source._layers;for(var b in v)if(v[b]._map){h=v[b];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=j(this.options.offset),v=this._getAnchor();this._zoomAnimated?_t(this._container,o.add(v)):h=h.add(o).add(v);var b=this._containerBottom=-h.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});Ot.include({_initOverlay:function(o,h,v,b){var k=h;return k instanceof o||(k=new o(b).setContent(h)),v&&k.setLatLng(v),k}}),fn.include({_initOverlay:function(o,h,v,b){var k=v;return k instanceof o?(N(k,b),k._source=this):(k=h&&!b?h:new o(b,this),k.setContent(v)),k}});var fl=Dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Dr.prototype.openOn.call(this,o)},onAdd:function(o){Dr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ys||this._source.on("preclick",ji))},onRemove:function(o){Dr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ys||this._source.off("preclick",ji))},getEvents:function(){var o=Dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=Ct("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Ct("div",o+"-content-wrapper",h);if(this._contentNode=Ct("div",o+"-content",v),ps(h),Mr(this._contentNode),ft(h,"contextmenu",ji),this._tipContainer=Ct("div",o+"-tip-container",h),this._tip=Ct("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Ct("a",o+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',ft(b,"click",function(k){wn(k),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var v=o.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),h.width=v+1+"px",h.whiteSpace="",h.height="";var b=o.offsetHeight,k=this.options.maxHeight,Z="leaflet-popup-scrolled";k&&b>k?(h.height=k+"px",At(o,Z)):gn(o,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),v=this._getAnchor();_t(this._container,h.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt(on(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+h,b=this._containerWidth,k=new W(this._containerLeft,-v-this._containerBottom);k._add(rr(this._container));var Z=o.layerPointToContainerPoint(k),re=j(this.options.autoPanPadding),ge=j(this.options.autoPanPaddingTopLeft||re),Ae=j(this.options.autoPanPaddingBottomRight||re),Oe=o.getSize(),Ge=0,We=0;Z.x+b+Ae.x>Oe.x&&(Ge=Z.x+b-Oe.x+Ae.x),Z.x-Ge-ge.x<0&&(Ge=Z.x-ge.x),Z.y+v+Ae.y>Oe.y&&(We=Z.y+v-Oe.y+Ae.y),Z.y-We-ge.y<0&&(We=Z.y-ge.y),(Ge||We)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ge,We]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yp=function(o,h){return new fl(o,h)};Ot.mergeOptions({closePopupOnClick:!0}),Ot.include({openPopup:function(o,h,v){return this._initOverlay(fl,o,h,v).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),fn.include({bindPopup:function(o,h){return this._popup=this._initOverlay(fl,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Cn||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ti(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof ys)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var iu=Dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Dr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Dr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Dr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ct("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,v,b=this._map,k=this._container,Z=b.latLngToContainerPoint(b.getCenter()),re=b.layerPointToContainerPoint(o),ge=this.options.direction,Ae=k.offsetWidth,Oe=k.offsetHeight,Ge=j(this.options.offset),We=this._getAnchor();ge==="top"?(h=Ae/2,v=Oe):ge==="bottom"?(h=Ae/2,v=0):ge==="center"?(h=Ae/2,v=Oe/2):ge==="right"?(h=0,v=Oe/2):ge==="left"?(h=Ae,v=Oe/2):re.x<Z.x?(ge="right",h=0,v=Oe/2):(ge="left",h=Ae+(Ge.x+We.x)*2,v=Oe/2),o=o.subtract(j(h,v,!0)).add(Ge).add(We),gn(k,"leaflet-tooltip-right"),gn(k,"leaflet-tooltip-left"),gn(k,"leaflet-tooltip-top"),gn(k,"leaflet-tooltip-bottom"),At(k,"leaflet-tooltip-"+ge),_t(k,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&xn(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$p=function(o,h){return new iu(o,h)};Ot.include({openTooltip:function(o,h,v){return this._initOverlay(iu,o,h,v).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),fn.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(iu,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[h](v),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Cn||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(ft(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ft(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,v,b;this._tooltip.options.sticky&&o.originalEvent&&(v=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(v),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var uc=es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Hn(h),h.appendChild(v.html)):h.innerHTML=v.html!==!1?v.html:"",v.bgPos){var b=j(v.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function nf(o){return new uc(o)}es.Default=Ka;var ha=fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){N(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ln(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ms(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof W?o:new W(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,v=-o(-1/0,1/0),b=0,k=h.length,Z;b<k;b++)Z=h[b].style.zIndex,h[b]!==this._container&&Z&&(v=o(v,+Z));isFinite(v)&&(this.options.zIndex=v+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){xn(this._container,this.options.opacity);var o=+new Date,h=!1,v=!1;for(var b in this._tiles){var k=this._tiles[b];if(!(!k.current||!k.loaded)){var Z=Math.min(1,(o-k.loaded)/200);xn(k.el,Z),Z<1?h=!0:(k.active?v=!0:this._onOpaqueTile(k),k.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),h&&(z(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===o?(this._levels[v].el.style.zIndex=h-Math.abs(o-v),this._onUpdateLevel(v)):(ln(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var b=this._levels[o],k=this._map;return b||(b=this._levels[o]={},b.el=Ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=k.project(k.unproject(k.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,k.getCenter(),k.getZoom()),E(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var o,h,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ln(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,v,b){var k=Math.floor(o/2),Z=Math.floor(h/2),re=v-1,ge=new W(+k,+Z);ge.z=+re;var Ae=this._tileCoordsToKey(ge),Oe=this._tiles[Ae];return Oe&&Oe.active?(Oe.retain=!0,!0):(Oe&&Oe.loaded&&(Oe.retain=!0),re>b?this._retainParent(k,Z,re,b):!1)},_retainChildren:function(o,h,v,b){for(var k=2*o;k<2*o+2;k++)for(var Z=2*h;Z<2*h+2;Z++){var re=new W(k,Z);re.z=v+1;var ge=this._tileCoordsToKey(re),Ae=this._tiles[ge];if(Ae&&Ae.active){Ae.retain=!0;continue}else Ae&&Ae.loaded&&(Ae.retain=!0);v+1<b&&this._retainChildren(k,Z,v+1,b)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,v,b){var k=Math.round(h);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var Z=this.options.updateWhenZooming&&k!==this._tileZoom;(!b||Z)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(o),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var v in this._levels)this._setZoomTransform(this._levels[v],o,h)},_setZoomTransform:function(o,h,v){var b=this._map.getZoomScale(v,o.zoom),k=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,v)).round();Ce.any3d?Pi(o.el,k,b):_t(o.el,k)},_resetGrid:function(){var o=this._map,h=o.options.crs,v=this._tileSize=this.getTileSize(),b=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],b).x/v.x),Math.ceil(o.project([0,h.wrapLng[1]],b).x/v.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],b).y/v.x),Math.ceil(o.project([h.wrapLat[1],0],b).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,v=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(v,this._tileZoom),k=h.project(o,this._tileZoom).floor(),Z=h.getSize().divideBy(b*2);return new ne(k.subtract(Z),k.add(Z))},_update:function(o){var h=this._map;if(h){var v=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),k=this._pxBoundsToTileRange(b),Z=k.getCenter(),re=[],ge=this.options.keepBuffer,Ae=new ne(k.getBottomLeft().subtract([ge,-ge]),k.getTopRight().add([ge,-ge]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Oe in this._tiles){var Ge=this._tiles[Oe].coords;(Ge.z!==this._tileZoom||!Ae.contains(new W(Ge.x,Ge.y)))&&(this._tiles[Oe].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(o,v);return}for(var We=k.min.y;We<=k.max.y;We++)for(var it=k.min.x;it<=k.max.x;it++){var Tt=new W(it,We);if(Tt.z=this._tileZoom,!!this._isValidTile(Tt)){var kn=this._tiles[this._tileCoordsToKey(Tt)];kn?kn.current=!0:re.push(Tt)}}if(re.sort(function(Ai,_r){return Ai.distanceTo(Z)-_r.distanceTo(Z)}),re.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zn=document.createDocumentFragment();for(it=0;it<re.length;it++)this._addTile(re[it],zn);this._level.el.appendChild(zn)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var v=this._globalTileRange;if(!h.wrapLng&&(o.x<v.min.x||o.x>v.max.x)||!h.wrapLat&&(o.y<v.min.y||o.y>v.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return he(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,v=this.getTileSize(),b=o.scaleBy(v),k=b.add(v),Z=h.unproject(b,o.z),re=h.unproject(k,o.z);return[Z,re]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),v=new ie(h[0],h[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),v=new W(+h[0],+h[1]);return v.z=+h[2],v},_removeTile:function(o){var h=this._tiles[o];h&&(ln(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){At(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=E,o.onmousemove=E,Ce.ielt9&&this.options.opacity<1&&xn(o,this.options.opacity)},_addTile:function(o,h){var v=this._getTilePos(o),b=this._tileCoordsToKey(o),k=this.createTile(this._wrapCoords(o),c(this._tileReady,this,o));this._initTile(k),this.createTile.length<2&&D(c(this._tileReady,this,o,null,k)),_t(k,v),this._tiles[b]={el:k,coords:o,current:!0},h.appendChild(k),this.fire("tileloadstart",{tile:k,coords:o})},_tileReady:function(o,h,v){h&&this.fire("tileerror",{error:h,tile:v,coords:o});var b=this._tileCoordsToKey(o);v=this._tiles[b],v&&(v.loaded=+new Date,this._map._fadeAnimated?(xn(v.el,0),z(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),h||(At(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new W(this._wrapX?_(o.x,this._wrapX):o.x,this._wrapY?_(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new ne(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Nr(o){return new ha(o)}var fa=ha.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=N(this,h),h.detectRetina&&Ce.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var v=document.createElement("img");return ft(v,"load",c(this._tileOnLoad,this,h,v)),ft(v,"error",c(this._tileOnError,this,h,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(o),v},getTileUrl:function(o){var h={r:Ce.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=v),h["-y"]=v}return J(this._url,s(h,this.options))},_tileOnLoad:function(o,h){Ce.ielt9?setTimeout(c(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,v){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),o(v,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,v=this.options.zoomReverse,b=this.options.zoomOffset;return v&&(o=h-o),o+b},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=E,h.onerror=E,!h.complete)){h.src=te;var v=this._tiles[o].coords;ln(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:v})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",te),ha.prototype._removeTile.call(this,o)},_tileReady:function(o,h,v){if(!(!this._map||v&&v.getAttribute("src")===te))return ha.prototype._tileReady.call(this,o,h,v)}});function lr(o,h){return new fa(o,h)}var ur=fa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var v=s({},this.defaultWmsParams);for(var b in h)b in this.options||(v[b]=h[b]);h=N(this,h);var k=h.detectRetina&&Ce.retina?2:1,Z=this.getTileSize();v.width=Z.x*k,v.height=Z.y*k,this.wmsParams=v},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,fa.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),v=this._crs,b=ae(v.project(h[0]),v.project(h[1])),k=b.min,Z=b.max,re=(this._wmsVersion>=1.3&&this._crs===qn?[k.y,k.x,Z.y,Z.x]:[k.x,k.y,Z.x,Z.y]).join(","),ge=fa.prototype.getTileUrl.call(this,o);return ge+q(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+re},setParams:function(o,h){return s(this.wmsParams,o),h||this.redraw(),this}});function Xa(o,h){return new ur(o,h)}fa.WMS=ur,lr.wms=Xa;var Lr=fn.extend({options:{padding:.1},initialize:function(o){N(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var v=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,h),Z=b.multiplyBy(-v).add(k).subtract(this._map._getNewPixelOrigin(o,h));Ce.any3d?Pi(this._container,Z,v):_t(this._container,Z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),v=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new ne(v,v.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dl=Lr.extend({options:{tolerance:0},getEvents:function(){var o=Lr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ft(o,"mousemove",this._onMouseMove,this),ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,ln(this._container),rn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var o=this._bounds,h=this._container,v=o.getSize(),b=Ce.retina?2:1;_t(h,o.min),h.width=b*v.x,h.height=b*v.y,h.style.width=v.x+"px",h.style.height=v.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,v=h.next,b=h.prev;v?v.prev=b:this._drawLast=b,b?b.next=v:this._drawFirst=v,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),v=[],b,k;for(k=0;k<h.length;k++){if(b=Number(h[k]),isNaN(b))return;v.push(b)}o.options._dashArray=v}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var v=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var v,b,k,Z,re=o._parts,ge=re.length,Ae=this._ctx;if(ge){for(Ae.beginPath(),v=0;v<ge;v++){for(b=0,k=re[v].length;b<k;b++)Z=re[v][b],Ae[b?"lineTo":"moveTo"](Z.x,Z.y);h&&Ae.closePath()}this._fillStroke(Ae,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,v=this._ctx,b=Math.max(Math.round(o._radius),1),k=(Math.max(Math.round(o._radiusY),1)||b)/b;k!==1&&(v.save(),v.scale(1,k)),v.beginPath(),v.arc(h.x,h.y/k,b,0,Math.PI*2,!1),k!==1&&v.restore(),this._fillStroke(v,o)}},_fillStroke:function(o,h){var v=h.options;v.fill&&(o.globalAlpha=v.fillOpacity,o.fillStyle=v.fillColor||v.color,o.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=v.opacity,o.lineWidth=v.weight,o.strokeStyle=v.color,o.lineCap=v.lineCap,o.lineJoin=v.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),v,b,k=this._drawFirst;k;k=k.next)v=k.layer,v.options.interactive&&v._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(v))&&(b=v);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(gn(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var v,b,k=this._drawFirst;k;k=k.next)v=k.layer,v.options.interactive&&v._containsPoint(h)&&(b=v);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(At(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,v){this._map._fireDOMEvent(h,v||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var v=h.next,b=h.prev;if(v)v.prev=b;else return;b?b.next=v:v&&(this._drawFirst=v),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var v=h.next,b=h.prev;if(b)b.next=v;else return;v?v.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function pl(o){return Ce.canvas?new dl(o):null}var da=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ja={_initContainer:function(){this._container=Ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=da("shape");At(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=da("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;ln(h),o.removeInteractiveTarget(h),delete this._layers[p(o)]},_updateStyle:function(o){var h=o._stroke,v=o._fill,b=o.options,k=o._container;k.stroked=!!b.stroke,k.filled=!!b.fill,b.stroke?(h||(h=o._stroke=da("stroke")),k.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=Q(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(k.removeChild(h),o._stroke=null),b.fill?(v||(v=o._fill=da("fill")),k.appendChild(v),v.color=b.fillColor||b.color,v.opacity=b.fillOpacity):v&&(k.removeChild(v),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),v=Math.round(o._radius),b=Math.round(o._radiusY||v);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+v+","+b+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Yr(o._container)},_bringToBack:function(o){Ms(o._container)}},ml=Ce.vml?da:Ne,Vs=Lr.extend({_initContainer:function(){this._container=ml("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ml("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ln(this._container),rn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var o=this._bounds,h=o.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,v.setAttribute("width",h.x),v.setAttribute("height",h.y)),_t(v,o.min),v.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=ml("path");o.options.className&&At(h,o.options.className),o.options.interactive&&At(h,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ln(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,v=o.options;h&&(v.stroke?(h.setAttribute("stroke",v.color),h.setAttribute("stroke-opacity",v.opacity),h.setAttribute("stroke-width",v.weight),h.setAttribute("stroke-linecap",v.lineCap),h.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?h.setAttribute("stroke-dasharray",v.dashArray):h.removeAttribute("stroke-dasharray"),v.dashOffset?h.setAttribute("stroke-dashoffset",v.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),v.fill?(h.setAttribute("fill",v.fillColor||v.color),h.setAttribute("fill-opacity",v.fillOpacity),h.setAttribute("fill-rule",v.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,Le(o._parts,h))},_updateCircle:function(o){var h=o._point,v=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||v,k="a"+v+","+b+" 0 1,0 ",Z=o._empty()?"M0 0":"M"+(h.x-v)+","+h.y+k+v*2+",0 "+k+-v*2+",0 ";this._setPath(o,Z)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Yr(o._path)},_bringToBack:function(o){Ms(o._path)}});Ce.vml&&Vs.include(Ja);function pa(o){return Ce.svg||Ce.vml?new Vs(o):null}Ot.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&pl(o)||pa(o)}});var rf=Ya.extend({initialize:function(o,h){Ya.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=he(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function cr(o,h){return new rf(o,h)}Vs.create=ml,Vs.pointsToPath=Le,or.geometryToLayer=ul,or.coordsToLatLng=Jl,or.coordsToLatLngs=cl,or.latLngToCoords=hl,or.latLngsToCoords=eu,or.getFeature=Or,or.asFeature=$a,Ot.mergeOptions({boxZoom:!0});var ru=Hi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ln(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wi(),sa(),this._startPoint=this._map.mouseEventToContainerPoint(o),ft(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ct("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new ne(this._point,this._startPoint),v=h.getSize();_t(this._box,h.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(ln(this._box),gn(this._container,"leaflet-crosshair")),xr(),nl(),rn(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ot.addInitHook("addHandler","boxZoom",ru),Ot.mergeOptions({doubleClickZoom:!0});var ns=Hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,v=h.getZoom(),b=h.options.zoomDelta,k=o.originalEvent.shiftKey?v-b:v+b;h.options.doubleClickZoom==="center"?h.setZoom(k):h.setZoomAround(o.containerPoint,k)}});Ot.addInitHook("addHandler","doubleClickZoom",ns),Ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cc=Hi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Pr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gn(this._map._container,"leaflet-grab"),gn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=he(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),v=this._initialWorldOffset,b=this._draggable._newPos.x,k=(b-h+v)%o+h-v,Z=(b+h+v)%o-h-v,re=Math.abs(k+v)<Math.abs(Z+v)?k:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=re},_onDragEnd:function(o){var h=this._map,v=h.options,b=!v.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),b)h.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,re=v.easeLinearity,ge=k.multiplyBy(re/Z),Ae=ge.distanceTo([0,0]),Oe=Math.min(v.inertiaMaxSpeed,Ae),Ge=ge.multiplyBy(Oe/Ae),We=Oe/(v.inertiaDeceleration*re),it=Ge.multiplyBy(-We/2).round();!it.x&&!it.y?h.fire("moveend"):(it=h._limitOffset(it,h.options.maxBounds),D(function(){h.panBy(it,{duration:We,easeLinearity:re,noMoveStart:!0,animate:!0})}))}}});Ot.addInitHook("addHandler","dragging",cc),Ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gl=Hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,v=o.scrollTop||h.scrollTop,b=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},v=this.keyCodes,b,k;for(b=0,k=v.left.length;b<k;b++)h[v.left[b]]=[-1*o,0];for(b=0,k=v.right.length;b<k;b++)h[v.right[b]]=[o,0];for(b=0,k=v.down.length;b<k;b++)h[v.down[b]]=[0,o];for(b=0,k=v.up.length;b<k;b++)h[v.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},v=this.keyCodes,b,k;for(b=0,k=v.zoomIn.length;b<k;b++)h[v.zoomIn[b]]=o;for(b=0,k=v.zoomOut.length;b<k;b++)h[v.zoomOut[b]]=-o},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,v=this._map,b;if(h in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(b=this._panKeys[h],o.shiftKey&&(b=j(b).multiplyBy(3)),v.options.maxBounds&&(b=v._limitOffset(j(b),v.options.maxBounds)),v.options.worldCopyJump){var k=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(b)));v.panTo(k)}else v.panBy(b)}else if(h in this._zoomKeys)v.setZoom(v.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;Ti(o)}}});Ot.addInitHook("addHandler","keyboard",gl),Ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Us=Hi.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=aa(o),v=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),b),Ti(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),v=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,Z=v?Math.ceil(k/v)*v:k,re=o._limitZoom(h+(this._delta>0?Z:-Z))-h;this._delta=0,this._startTime=null,re&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+re):o.setZoomAround(this._lastMousePos,h+re))}});Ot.addInitHook("addHandler","scrollWheelZoom",Us);var hc=600;Ot.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var su=Hi.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new W(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",wn),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),hc),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){rn(document,"touchend",wn),rn(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),rn(document,"touchend touchcancel contextmenu",this._cancel,this),rn(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new W(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var v=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});v._simulated=!0,h.target.dispatchEvent(v)}});Ot.addInitHook("addHandler","tapHold",su),Ot.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var ma=Hi.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gn(this._map._container,"leaflet-touch-zoom"),rn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var v=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(v.add(b)._divideBy(2))),this._startDist=v.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),wn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,v=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]),k=v.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(k,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&k<1||this._zoom>h.getMaxZoom()&&k>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var Z=v._add(b)._divideBy(2)._subtract(this._centerPoint);if(k===1&&Z.x===0&&Z.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var re=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(re,this,!0),wn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),rn(document,"touchmove",this._onTouchMove,this),rn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ot.addInitHook("addHandler","touchZoom",ma),Ot.BoxZoom=ru,Ot.DoubleClickZoom=ns,Ot.Drag=cc,Ot.Keyboard=gl,Ot.ScrollWheelZoom=Us,Ot.TapHold=su,Ot.TouchZoom=ma,t.Bounds=ne,t.Browser=Ce,t.CRS=Ze,t.Canvas=dl,t.Circle=oc,t.CircleMarker=ll,t.Class=X,t.Control=di,t.DivIcon=uc,t.DivOverlay=Dr,t.DomEvent=Kl,t.DomUtil=il,t.Draggable=Pr,t.Evented=P,t.FeatureGroup=Cn,t.GeoJSON=or,t.GridLayer=ha,t.Handler=Hi,t.Icon=es,t.ImageOverlay=ts,t.LatLng=le,t.LatLngBounds=ie,t.Layer=fn,t.LayerGroup=In,t.LineUtil=Y,t.Map=Ot,t.Marker=Qa,t.Mixin=la,t.Path=ys,t.Point=W,t.PolyUtil=qa,t.Polygon=Ya,t.Polyline=Es,t.Popup=fl,t.PosAnimation=oa,t.Projection=Be,t.Rectangle=rf,t.Renderer=Lr,t.SVG=Vs,t.SVGOverlay=Ls,t.TileLayer=fa,t.Tooltip=iu,t.Transformation=ze,t.Util=V,t.VideoOverlay=nu,t.bind=c,t.bounds=ae,t.canvas=pl,t.circle=Kp,t.circleMarker=Xh,t.control=bi,t.divIcon=nf,t.extend=s,t.featureGroup=Jr,t.geoJSON=tu,t.geoJson=Jh,t.gridLayer=Nr,t.icon=Xl,t.imageOverlay=Wa,t.latLng=Ee,t.latLngBounds=he,t.layerGroup=vs,t.map=Wr,t.marker=ac,t.point=j,t.polygon=ar,t.polyline=Qp,t.popup=Yp,t.rectangle=cr,t.setOptions=N,t.stamp=p,t.svg=pa,t.svgOverlay=tf,t.tileLayer=lr,t.tooltip=$p,t.transformation=et,t.version=i,t.videoOverlay=ef;var eo=window.L;t.noConflict=function(){return window.L=eo,this},window.L=t})}(oh,oh.exports)),oh.exports}var Wh=p5();const dy=Ph(Wh);function py(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function my(n,e){return e==null?function(i,s){const l=ce.useRef(void 0);return l.current||(l.current=n(i,s)),l}:function(i,s){const l=ce.useRef(void 0);l.current||(l.current=n(i,s));const c=ce.useRef(i),{instance:d}=l.current;return ce.useEffect(function(){c.current!==i&&(e(d,i,c.current),c.current=i)},[d,i,e]),l}}function m5(n,e){ce.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function zS(n){return function(t){const i=US(),s=n(fy(t,i),i);return VS(i.map,t.attribution),BS(s.current,t.eventHandlers),m5(s.current,i),s}}function g5(n,e){const t=my(n,e),i=zS(t);return u5(i)}function _5(n,e){const t=my(n),i=f5(t,e);return c5(i)}function v5(n,e){const t=my(n,e),i=zS(t);return h5(i)}function y5(n,e,t){const{opacity:i,zIndex:s}=e;i!=null&&i!==t.opacity&&n.setOpacity(i),s!=null&&s!==t.zIndex&&n.setZIndex(s)}function E5({bounds:n,boundsOptions:e,center:t,children:i,className:s,id:l,placeholder:c,style:d,whenReady:p,zoom:m,..._},E){const[w]=ce.useState({className:s,id:l,style:d}),[C,x]=ce.useState(null),N=ce.useRef(void 0);ce.useImperativeHandle(E,()=>C?.map??null,[C]);const q=ce.useCallback(J=>{if(J!==null&&!N.current){const Q=new Wh.Map(J,_);N.current=Q,t!=null&&m!=null?Q.setView(t,m):n!=null&&Q.fitBounds(n,e),p!=null&&Q.whenReady(p),x(o5(Q))}},[]);ce.useEffect(()=>()=>{C?.map.remove()},[C]);const H=C?dn.createElement(hy,{value:C},i):c??null;return dn.createElement("div",{...w,ref:q},H)}const w5=ce.forwardRef(E5),T5=g5(function({position:e,...t},i){const s=new Wh.Marker(e,t);return py(s,l5(i,{overlayContainer:s}))},function(e,t,i){t.position!==i.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==i.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==i.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==i.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),b5=_5(function(e,t){const i=new Wh.Popup(e,t.overlayContainer);return py(i,t)},function(e,t,{position:i},s){ce.useEffect(function(){const{instance:c}=e;function d(m){m.popup===c&&(c.update(),s(!0))}function p(m){m.popup===c&&s(!1)}return t.map.on({popupopen:d,popupclose:p}),t.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(t.map)):t.overlayContainer.bindPopup(c),function(){t.map.off({popupopen:d,popupclose:p}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(c)}},[e,t,s,i])}),A5=v5(function({url:e,...t},i){const s=new Wh.TileLayer(e,fy(t,i));return py(s,i)},function(e,t,i){y5(e,t,i);const{url:s}=t;s!=null&&s!==i.url&&e.setUrl(s)}),S5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",C5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",R5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",e_=n=>{const e=`
    <svg viewBox="0 0 24 24" width="32" height="32" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"
            fill="${n}"/>
    </svg>`;return new dy.DivIcon({html:e,className:"leaflet-div-icon",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},LT={pendente:e_("#f97316"),aguardando_resposta:e_("#3b82f6"),confirmado:e_("#22c55e")};delete dy.Icon.Default.prototype._getIconUrl;dy.Icon.Default.mergeOptions({iconRetinaUrl:S5,iconUrl:C5,shadowUrl:R5});function x5({solicitacoes:n=[]}){const e=[-14.235,-51.9253];return I.jsx("div",{className:"leaflet-container",style:{height:"450px",width:"100%",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:I.jsxs(w5,{center:e,zoom:4,style:{height:"100%",width:"100%"},children:[I.jsx(A5,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map(t=>t.latitude&&t.longitude&&LT[t.status]?I.jsx(T5,{position:[t.latitude,t.longitude],icon:LT[t.status],children:I.jsxs(b5,{children:[I.jsx("strong",{children:"Cliente:"})," ",t.cliente," ",I.jsx("br",{}),I.jsx("strong",{children:"Endereo:"})," ",t.endereco?.logradouro,", ",t.endereco?.numero," ",I.jsx("br",{}),I.jsx("strong",{children:"Status:"})," ",t.status]})},t.id):null)]})})}function VT(){const[n,e]=ce.useState(""),[t,i]=ce.useState([]),[s,l]=ce.useState(!0),[c,d]=ce.useState(0);return ce.useEffect(()=>{const p=IP(ES,m=>{e(m?m.email:"")});return()=>p()},[]),ce.useEffect(()=>{const p=["pendente","aguardando_resposta","confirmado"],m=Qo(ai,"solicitacoes"),_=xh(m,Xd("status","in",p)),E=J2(_,w=>{const C=[];let x=0;const N=new Date,q=new Date(N.getFullYear(),N.getMonth(),1);w.forEach(H=>{const J={...H.data(),id:H.id};C.push(J),J.dataSolicitacao&&typeof J.dataSolicitacao.toDate=="function"&&J.dataSolicitacao.toDate()>=q&&typeof J.valorServicoBruto=="number"&&(x+=J.valorServicoBruto)}),i(C),d(x),l(!1)},w=>{console.error("Erro ao buscar dados do dashboard: ",w),l(!1)});return()=>E()},[]),I.jsxs("div",{className:"dashboard-container",children:[I.jsxs("header",{className:"dashboard-header",children:[I.jsxs("h1",{className:"dashboard-welcome",children:["Ol, ",n||"Gestor","!"]}),I.jsx("p",{children:"Aqui est um resumo da sua operao hoje."})]}),s?I.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"150px"},children:I.jsx(np,{size:32,className:"animate-spin"})}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"kpi-grid",children:[I.jsxs("div",{className:"kpi-card",children:[I.jsx("div",{className:"kpi-icon",style:{backgroundColor:"#e0f2fe"},children:I.jsx(TS,{size:24,color:"#0ea5e9"})}),I.jsxs("div",{className:"kpi-info",children:[I.jsx("div",{className:"kpi-value",children:t.length}),I.jsx("div",{className:"kpi-title",children:"Servios Ativos"})]})]}),I.jsxs("div",{className:"kpi-card",children:[I.jsx("div",{className:"kpi-icon",style:{backgroundColor:"#dcfce7"},children:I.jsx(W3,{size:24,color:"#22c55e"})}),I.jsxs("div",{className:"kpi-info",children:[I.jsx("div",{className:"kpi-value",children:c.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),I.jsx("div",{className:"kpi-title",children:"Custo (Ms Atual)"})]})]}),I.jsxs("div",{className:"kpi-card",children:[I.jsx("div",{className:"kpi-icon",style:{backgroundColor:"#fef3c7"},children:I.jsx(x6,{size:24,color:"#f59e0b"})}),I.jsxs("div",{className:"kpi-info",children:[I.jsx("div",{className:"kpi-value",children:"4.8"}),I.jsx("div",{className:"kpi-title",children:"Avaliao Mdia"})]})]})]}),I.jsxs("div",{style:{marginTop:"2.5rem"},children:[I.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#333"},children:"Mapa de Operaes"}),I.jsxs("div",{className:"map-legend",style:{display:"flex",gap:"20px",marginBottom:"1rem",flexWrap:"wrap"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[I.jsx("span",{style:{height:"15px",width:"15px",backgroundColor:"#f97316",borderRadius:"50%"}}),I.jsx("span",{children:"Pendente"})]}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[I.jsx("span",{style:{height:"15px",width:"15px",backgroundColor:"#3b82f6",borderRadius:"50%"}}),I.jsx("span",{children:"Aguardando Resposta"})]}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[I.jsx("span",{style:{height:"15px",width:"15px",backgroundColor:"#22c55e",borderRadius:"50%"}}),I.jsx("span",{children:"Confirmado"})]})]}),I.jsx(x5,{solicitacoes:t})]})]})]})}function FS({isOpen:n,onClose:e,onConfirm:t,title:i,children:s}){return n?I.jsx("div",{className:"confirm-modal-overlay",children:I.jsxs("div",{className:"confirm-modal-content",children:[I.jsxs("div",{className:"confirm-modal-header",children:[I.jsx(oy,{size:24,className:"confirm-modal-icon"}),I.jsx("h2",{className:"confirm-modal-title",children:i})]}),I.jsx("div",{className:"confirm-modal-body",children:s}),I.jsxs("div",{className:"confirm-modal-footer",children:[I.jsx("button",{onClick:e,className:"confirm-modal-btn cancel-btn",children:"Cancelar"}),I.jsx("button",{onClick:t,className:"confirm-modal-btn confirm-btn",children:"Confirmar Excluso"})]})]})}):null}const UT={nome:"",cnh:"",telefone:"",placa:""};function I5(){const[n,e]=ce.useState([]),[t,i]=ce.useState(!1),[s,l]=ce.useState(UT),[c,d]=ce.useState(null),[p,m]=ce.useState(!1),[_,E]=ce.useState(null),w=Qo(ai,"frota"),C=async()=>{const F=(await Ih(w)).docs.map(G=>({...G.data(),id:G.id}));e(F)};ce.useEffect(()=>{C()},[]);const x=te=>{const{id:F,value:G}=te.target;l(A=>({...A,[F]:G}))},N=()=>{l(UT),d(null),i(!0)},q=te=>{l({nome:te.nome,cnh:te.cnh,telefone:te.telefone,placa:te.placa}),d(te.id),i(!0)},H=async te=>{if(te.preventDefault(),c){const F=ls(ai,"frota",c);await ph(F,s)}else await Xv(w,s);C(),i(!1)},J=te=>{E(te),m(!0)},Q=async()=>{if(_){const te=ls(ai,"frota",_.id);await X2(te),C(),m(!1),E(null)}},$=()=>{i(!1)};return I.jsxs("div",{children:[I.jsxs("div",{className:"frota-header",children:[I.jsx("h1",{className:"frota-title",children:"Minha Frota"}),I.jsxs("button",{className:"add-button",onClick:N,children:[I.jsx(ay,{size:20}),"Adicionar Membro"]})]}),I.jsx("div",{className:"table-container",children:I.jsxs("table",{className:"frota-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Motorista"}),I.jsx("th",{children:"CNH"}),I.jsx("th",{children:"Telefone"}),I.jsx("th",{children:"Placa do Veculo"}),I.jsx("th",{children:"Aes"})]})}),I.jsx("tbody",{children:n.map(te=>I.jsxs("tr",{children:[I.jsx("td",{children:te.nome}),I.jsx("td",{children:te.cnh}),I.jsx("td",{children:te.telefone}),I.jsx("td",{children:te.placa}),I.jsx("td",{children:I.jsxs("div",{className:"action-buttons",children:[I.jsx("button",{title:"Editar",onClick:()=>q(te),children:I.jsx(SS,{size:18,color:"#0056b3"})}),I.jsx("button",{title:"Excluir",onClick:()=>J(te),children:I.jsx(CS,{size:18,color:"#dc3545"})})]})})]},te.id))})]})}),I.jsx(kh,{isOpen:t,onClose:$,title:c?"Editar Membro":"Adicionar Novo Membro",children:I.jsxs("form",{onSubmit:H,className:"modal-form",children:[I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"nome",children:"Nome Completo"})," ",I.jsx("input",{id:"nome",type:"text",value:s.nome,onChange:x,required:!0})," "]}),I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"cnh",children:"CNH"})," ",I.jsx("input",{id:"cnh",type:"text",value:s.cnh,onChange:x,required:!0})," "]}),I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"telefone",children:"Telefone"})," ",I.jsx("input",{id:"telefone",type:"text",value:s.telefone,onChange:x,required:!0})," "]}),I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"placa",children:"Placa do Veculo"})," ",I.jsx("input",{id:"placa",type:"text",value:s.placa,onChange:x,required:!0})," "]}),I.jsxs("div",{style:{marginTop:"1rem",textAlign:"right"},children:[" ",I.jsxs("button",{type:"submit",className:"add-button",children:[" ",c?"Salvar Alteraes":"Adicionar Membro"," "]})," "]})]})}),I.jsxs(FS,{isOpen:p,onClose:()=>m(!1),onConfirm:Q,title:"Confirmar Excluso",children:[I.jsx("p",{children:"Voc tem certeza que deseja excluir o membro da frota permanentemente?"}),_&&I.jsx("p",{className:"membro-destaque",children:_.nome})]})]})}var k5=Object.defineProperty,sp=Object.getOwnPropertySymbols,jS=Object.prototype.hasOwnProperty,HS=Object.prototype.propertyIsEnumerable,BT=(n,e,t)=>e in n?k5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,G_=(n,e)=>{for(var t in e||(e={}))jS.call(e,t)&&BT(n,t,e[t]);if(sp)for(var t of sp(e))HS.call(e,t)&&BT(n,t,e[t]);return n},Z_=(n,e)=>{var t={};for(var i in n)jS.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&sp)for(var i of sp(n))e.indexOf(i)<0&&HS.call(n,i)&&(t[i]=n[i]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Fl;(n=>{const e=class Gt{constructor(p,m,_,E){if(this.version=p,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],p<Gt.MIN_VERSION||p>Gt.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let w=[];for(let x=0;x<this.size;x++)w.push(!1);for(let x=0;x<this.size;x++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(_);if(this.drawCodewords(C),E==-1){let x=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const q=this.getPenaltyScore();q<x&&(E=N,x=q),this.applyMask(N)}}s(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(p,m){const _=n.QrSegment.makeSegments(p);return Gt.encodeSegments(_,m)}static encodeBinary(p,m){const _=n.QrSegment.makeBytes(p);return Gt.encodeSegments([_],m)}static encodeSegments(p,m,_=1,E=40,w=-1,C=!0){if(!(Gt.MIN_VERSION<=_&&_<=E&&E<=Gt.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let x,N;for(x=_;;x++){const Q=Gt.getNumDataCodewords(x,m)*8,$=c.getTotalBits(p,x);if($<=Q){N=$;break}if(x>=E)throw new RangeError("Data too long")}for(const Q of[Gt.Ecc.MEDIUM,Gt.Ecc.QUARTILE,Gt.Ecc.HIGH])C&&N<=Gt.getNumDataCodewords(x,Q)*8&&(m=Q);let q=[];for(const Q of p){t(Q.mode.modeBits,4,q),t(Q.numChars,Q.mode.numCharCountBits(x),q);for(const $ of Q.getData())q.push($)}s(q.length==N);const H=Gt.getNumDataCodewords(x,m)*8;s(q.length<=H),t(0,Math.min(4,H-q.length),q),t(0,(8-q.length%8)%8,q),s(q.length%8==0);for(let Q=236;q.length<H;Q^=253)t(Q,8,q);let J=[];for(;J.length*8<q.length;)J.push(0);return q.forEach((Q,$)=>J[$>>>3]|=Q<<7-($&7)),new Gt(x,m,J,w)}getModule(p,m){return 0<=p&&p<this.size&&0<=m&&m<this.size&&this.modules[m][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let _=0;_<this.size;_++)this.setFunctionModule(6,_,_%2==0),this.setFunctionModule(_,6,_%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),m=p.length;for(let _=0;_<m;_++)for(let E=0;E<m;E++)_==0&&E==0||_==0&&E==m-1||_==m-1&&E==0||this.drawAlignmentPattern(p[_],p[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const m=this.errorCorrectionLevel.formatBits<<3|p;let _=m;for(let w=0;w<10;w++)_=_<<1^(_>>>9)*1335;const E=(m<<10|_)^21522;s(E>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(E,w));this.setFunctionModule(8,7,i(E,6)),this.setFunctionModule(8,8,i(E,7)),this.setFunctionModule(7,8,i(E,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(E,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(E,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(E,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let _=0;_<12;_++)p=p<<1^(p>>>11)*7973;const m=this.version<<12|p;s(m>>>18==0);for(let _=0;_<18;_++){const E=i(m,_),w=this.size-11+_%3,C=Math.floor(_/3);this.setFunctionModule(w,C,E),this.setFunctionModule(C,w,E)}}drawFinderPattern(p,m){for(let _=-4;_<=4;_++)for(let E=-4;E<=4;E++){const w=Math.max(Math.abs(E),Math.abs(_)),C=p+E,x=m+_;0<=C&&C<this.size&&0<=x&&x<this.size&&this.setFunctionModule(C,x,w!=2&&w!=4)}}drawAlignmentPattern(p,m){for(let _=-2;_<=2;_++)for(let E=-2;E<=2;E++)this.setFunctionModule(p+E,m+_,Math.max(Math.abs(E),Math.abs(_))!=1)}setFunctionModule(p,m,_){this.modules[m][p]=_,this.isFunction[m][p]=!0}addEccAndInterleave(p){const m=this.version,_=this.errorCorrectionLevel;if(p.length!=Gt.getNumDataCodewords(m,_))throw new RangeError("Invalid argument");const E=Gt.NUM_ERROR_CORRECTION_BLOCKS[_.ordinal][m],w=Gt.ECC_CODEWORDS_PER_BLOCK[_.ordinal][m],C=Math.floor(Gt.getNumRawDataModules(m)/8),x=E-C%E,N=Math.floor(C/E);let q=[];const H=Gt.reedSolomonComputeDivisor(w);for(let Q=0,$=0;Q<E;Q++){let te=p.slice($,$+N-w+(Q<x?0:1));$+=te.length;const F=Gt.reedSolomonComputeRemainder(te,H);Q<x&&te.push(0),q.push(te.concat(F))}let J=[];for(let Q=0;Q<q[0].length;Q++)q.forEach(($,te)=>{(Q!=N-w||te>=x)&&J.push($[Q])});return s(J.length==C),J}drawCodewords(p){if(p.length!=Math.floor(Gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let _=this.size-1;_>=1;_-=2){_==6&&(_=5);for(let E=0;E<this.size;E++)for(let w=0;w<2;w++){const C=_-w,N=(_+1&2)==0?this.size-1-E:E;!this.isFunction[N][C]&&m<p.length*8&&(this.modules[N][C]=i(p[m>>>3],7-(m&7)),m++)}}s(m==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let _=0;_<this.size;_++){let E;switch(p){case 0:E=(_+m)%2==0;break;case 1:E=m%2==0;break;case 2:E=_%3==0;break;case 3:E=(_+m)%3==0;break;case 4:E=(Math.floor(_/3)+Math.floor(m/2))%2==0;break;case 5:E=_*m%2+_*m%3==0;break;case 6:E=(_*m%2+_*m%3)%2==0;break;case 7:E=((_+m)%2+_*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][_]&&E&&(this.modules[m][_]=!this.modules[m][_])}}getPenaltyScore(){let p=0;for(let w=0;w<this.size;w++){let C=!1,x=0,N=[0,0,0,0,0,0,0];for(let q=0;q<this.size;q++)this.modules[w][q]==C?(x++,x==5?p+=Gt.PENALTY_N1:x>5&&p++):(this.finderPenaltyAddHistory(x,N),C||(p+=this.finderPenaltyCountPatterns(N)*Gt.PENALTY_N3),C=this.modules[w][q],x=1);p+=this.finderPenaltyTerminateAndCount(C,x,N)*Gt.PENALTY_N3}for(let w=0;w<this.size;w++){let C=!1,x=0,N=[0,0,0,0,0,0,0];for(let q=0;q<this.size;q++)this.modules[q][w]==C?(x++,x==5?p+=Gt.PENALTY_N1:x>5&&p++):(this.finderPenaltyAddHistory(x,N),C||(p+=this.finderPenaltyCountPatterns(N)*Gt.PENALTY_N3),C=this.modules[q][w],x=1);p+=this.finderPenaltyTerminateAndCount(C,x,N)*Gt.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let C=0;C<this.size-1;C++){const x=this.modules[w][C];x==this.modules[w][C+1]&&x==this.modules[w+1][C]&&x==this.modules[w+1][C+1]&&(p+=Gt.PENALTY_N2)}let m=0;for(const w of this.modules)m=w.reduce((C,x)=>C+(x?1:0),m);const _=this.size*this.size,E=Math.ceil(Math.abs(m*20-_*10)/_)-1;return s(0<=E&&E<=9),p+=E*Gt.PENALTY_N4,s(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let _=[6];for(let E=this.size-7;_.length<p;E-=m)_.splice(1,0,E);return _}}static getNumRawDataModules(p){if(p<Gt.MIN_VERSION||p>Gt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*p+128)*p+64;if(p>=2){const _=Math.floor(p/7)+2;m-=(25*_-10)*_-55,p>=7&&(m-=36)}return s(208<=m&&m<=29648),m}static getNumDataCodewords(p,m){return Math.floor(Gt.getNumRawDataModules(p)/8)-Gt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p]*Gt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let m=[];for(let E=0;E<p-1;E++)m.push(0);m.push(1);let _=1;for(let E=0;E<p;E++){for(let w=0;w<m.length;w++)m[w]=Gt.reedSolomonMultiply(m[w],_),w+1<m.length&&(m[w]^=m[w+1]);_=Gt.reedSolomonMultiply(_,2)}return m}static reedSolomonComputeRemainder(p,m){let _=m.map(E=>0);for(const E of p){const w=E^_.shift();_.push(0),m.forEach((C,x)=>_[x]^=Gt.reedSolomonMultiply(C,w))}return _}static reedSolomonMultiply(p,m){if(p>>>8||m>>>8)throw new RangeError("Byte out of range");let _=0;for(let E=7;E>=0;E--)_=_<<1^(_>>>7)*285,_^=(m>>>E&1)*p;return s(_>>>8==0),_}finderPenaltyCountPatterns(p){const m=p[1];s(m<=this.size*3);const _=m>0&&p[2]==m&&p[3]==m*3&&p[4]==m&&p[5]==m;return(_&&p[0]>=m*4&&p[6]>=m?1:0)+(_&&p[6]>=m*4&&p[0]>=m?1:0)}finderPenaltyTerminateAndCount(p,m,_){return p&&(this.finderPenaltyAddHistory(m,_),m=0),m+=this.size,this.finderPenaltyAddHistory(m,_),this.finderPenaltyCountPatterns(_)}finderPenaltyAddHistory(p,m){m[0]==0&&(p+=this.size),m.pop(),m.unshift(p)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(d,p,m){if(p<0||p>31||d>>>p)throw new RangeError("Value out of range");for(let _=p-1;_>=0;_--)m.push(d>>>_&1)}function i(d,p){return(d>>>p&1)!=0}function s(d){if(!d)throw new Error("Assertion error")}const l=class Zn{constructor(p,m,_){if(this.mode=p,this.numChars=m,this.bitData=_,m<0)throw new RangeError("Invalid argument");this.bitData=_.slice()}static makeBytes(p){let m=[];for(const _ of p)t(_,8,m);return new Zn(Zn.Mode.BYTE,p.length,m)}static makeNumeric(p){if(!Zn.isNumeric(p))throw new RangeError("String contains non-numeric characters");let m=[];for(let _=0;_<p.length;){const E=Math.min(p.length-_,3);t(parseInt(p.substring(_,_+E),10),E*3+1,m),_+=E}return new Zn(Zn.Mode.NUMERIC,p.length,m)}static makeAlphanumeric(p){if(!Zn.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],_;for(_=0;_+2<=p.length;_+=2){let E=Zn.ALPHANUMERIC_CHARSET.indexOf(p.charAt(_))*45;E+=Zn.ALPHANUMERIC_CHARSET.indexOf(p.charAt(_+1)),t(E,11,m)}return _<p.length&&t(Zn.ALPHANUMERIC_CHARSET.indexOf(p.charAt(_)),6,m),new Zn(Zn.Mode.ALPHANUMERIC,p.length,m)}static makeSegments(p){return p==""?[]:Zn.isNumeric(p)?[Zn.makeNumeric(p)]:Zn.isAlphanumeric(p)?[Zn.makeAlphanumeric(p)]:[Zn.makeBytes(Zn.toUtf8ByteArray(p))]}static makeEci(p){let m=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)t(p,8,m);else if(p<16384)t(2,2,m),t(p,14,m);else if(p<1e6)t(6,3,m),t(p,21,m);else throw new RangeError("ECI assignment value out of range");return new Zn(Zn.Mode.ECI,0,m)}static isNumeric(p){return Zn.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Zn.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,m){let _=0;for(const E of p){const w=E.mode.numCharCountBits(m);if(E.numChars>=1<<w)return 1/0;_+=4+w+E.bitData.length}return _}static toUtf8ByteArray(p){p=encodeURI(p);let m=[];for(let _=0;_<p.length;_++)p.charAt(_)!="%"?m.push(p.charCodeAt(_)):(m.push(parseInt(p.substring(_+1,_+3),16)),_+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=l;n.QrSegment=l})(Fl||(Fl={}));(n=>{(e=>{const t=class{constructor(s,l){this.ordinal=s,this.formatBits=l}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(Fl||(Fl={}));(n=>{(e=>{const t=class{constructor(s,l){this.modeBits=s,this.numBitsCharCount=l}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(Fl||(Fl={}));var Lu=Fl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var M5={L:Lu.QrCode.Ecc.LOW,M:Lu.QrCode.Ecc.MEDIUM,Q:Lu.QrCode.Ecc.QUARTILE,H:Lu.QrCode.Ecc.HIGH},qS=128,GS="L",ZS="#FFFFFF",KS="#000000",QS=!1,YS=1,P5=4,O5=0,D5=.1;function $S(n,e=0){const t=[];return n.forEach(function(i,s){let l=null;i.forEach(function(c,d){if(!c&&l!==null){t.push(`M${l+e} ${s+e}h${d-l}v1H${l+e}z`),l=null;return}if(d===i.length-1){if(!c)return;l===null?t.push(`M${d+e},${s+e} h1v1H${d+e}z`):t.push(`M${l+e},${s+e} h${d+1-l}v1H${l+e}z`);return}c&&l===null&&(l=d)})}),t.join("")}function WS(n,e){return n.slice().map((t,i)=>i<e.y||i>=e.y+e.h?t:t.map((s,l)=>l<e.x||l>=e.x+e.w?s:!1))}function N5(n,e,t,i){if(i==null)return null;const s=n.length+t*2,l=Math.floor(e*D5),c=s/e,d=(i.width||l)*c,p=(i.height||l)*c,m=i.x==null?n.length/2-d/2:i.x*c,_=i.y==null?n.length/2-p/2:i.y*c,E=i.opacity==null?1:i.opacity;let w=null;if(i.excavate){let x=Math.floor(m),N=Math.floor(_),q=Math.ceil(d+m-x),H=Math.ceil(p+_-N);w={x,y:N,w:q,h:H}}const C=i.crossOrigin;return{x:m,y:_,h:p,w:d,excavation:w,opacity:E,crossOrigin:C}}function L5(n,e){return e!=null?Math.max(Math.floor(e),0):n?P5:O5}function XS({value:n,level:e,minVersion:t,includeMargin:i,marginSize:s,imageSettings:l,size:c,boostLevel:d}){let p=dn.useMemo(()=>{const x=(Array.isArray(n)?n:[n]).reduce((N,q)=>(N.push(...Lu.QrSegment.makeSegments(q)),N),[]);return Lu.QrCode.encodeSegments(x,M5[e],t,void 0,void 0,d)},[n,e,t,d]);const{cells:m,margin:_,numCells:E,calculatedImageSettings:w}=dn.useMemo(()=>{let C=p.getModules();const x=L5(i,s),N=C.length+x*2,q=N5(C,c,x,l);return{cells:C,margin:x,numCells:N,calculatedImageSettings:q}},[p,c,l,i,s]);return{qrcode:p,margin:_,cells:m,numCells:E,calculatedImageSettings:w}}var V5=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),U5=dn.forwardRef(function(e,t){const i=e,{value:s,size:l=qS,level:c=GS,bgColor:d=ZS,fgColor:p=KS,includeMargin:m=QS,minVersion:_=YS,boostLevel:E,marginSize:w,imageSettings:C}=i,N=Z_(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:q}=N,H=Z_(N,["style"]),J=C?.src,Q=dn.useRef(null),$=dn.useRef(null),te=dn.useCallback(X=>{Q.current=X,typeof t=="function"?t(X):t&&(t.current=X)},[t]),[F,G]=dn.useState(!1),{margin:A,cells:S,numCells:M,calculatedImageSettings:D}=XS({value:s,level:c,minVersion:_,boostLevel:E,includeMargin:m,marginSize:w,imageSettings:C,size:l});dn.useEffect(()=>{if(Q.current!=null){const X=Q.current,ue=X.getContext("2d");if(!ue)return;let B=S;const P=$.current,W=D!=null&&P!==null&&P.complete&&P.naturalHeight!==0&&P.naturalWidth!==0;W&&D.excavation!=null&&(B=WS(S,D.excavation));const ee=window.devicePixelRatio||1;X.height=X.width=l*ee;const j=l/M*ee;ue.scale(j,j),ue.fillStyle=d,ue.fillRect(0,0,M,M),ue.fillStyle=p,V5?ue.fill(new Path2D($S(B,A))):S.forEach(function(ne,ae){ne.forEach(function(ie,he){ie&&ue.fillRect(he+A,ae+A,1,1)})}),D&&(ue.globalAlpha=D.opacity),W&&ue.drawImage(P,D.x+A,D.y+A,D.w,D.h)}}),dn.useEffect(()=>{G(!1)},[J]);const z=G_({height:l,width:l},q);let V=null;return J!=null&&(V=dn.createElement("img",{src:J,key:J,style:{display:"none"},onLoad:()=>{G(!0)},ref:$,crossOrigin:D?.crossOrigin})),dn.createElement(dn.Fragment,null,dn.createElement("canvas",G_({style:z,height:l,width:l,ref:te,role:"img"},H)),V)});U5.displayName="QRCodeCanvas";var JS=dn.forwardRef(function(e,t){const i=e,{value:s,size:l=qS,level:c=GS,bgColor:d=ZS,fgColor:p=KS,includeMargin:m=QS,minVersion:_=YS,boostLevel:E,title:w,marginSize:C,imageSettings:x}=i,N=Z_(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:q,cells:H,numCells:J,calculatedImageSettings:Q}=XS({value:s,level:c,minVersion:_,boostLevel:E,includeMargin:m,marginSize:C,imageSettings:x,size:l});let $=H,te=null;x!=null&&Q!=null&&(Q.excavation!=null&&($=WS(H,Q.excavation)),te=dn.createElement("image",{href:x.src,height:Q.h,width:Q.w,x:Q.x+q,y:Q.y+q,preserveAspectRatio:"none",opacity:Q.opacity,crossOrigin:Q.crossOrigin}));const F=$S($,q);return dn.createElement("svg",G_({height:l,width:l,viewBox:`0 0 ${J} ${J}`,ref:t,role:"img"},N),!!w&&dn.createElement("title",null,w),dn.createElement("path",{fill:d,d:`M0,0 h${J}v${J}H0z`,shapeRendering:"crispEdges"}),dn.createElement("path",{fill:p,d:F,shapeRendering:"crispEdges"}),te)});JS.displayName="QRCodeSVG";const zT=(n,e)=>n?e==="cpf"?n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.***.***-$4"):e==="rg"?n.replace(/(\d{2})(\d{3})(\d{3})(\d{1})/,"$1.***.***-$4"):n:"N/A";function B5({solicitacao:n,trabalhador:e}){if(!n||!e)return I.jsx("div",{className:"cartao-os-loading",children:"Carregando dados do Ticket..."});const t=`https://verificar.chapaamigo.com.br/servico/${n.id}`,i=JS,s=`OS-${n.id.slice(-6).toUpperCase()}`;return i?I.jsxs("div",{id:"cartao-os-para-exportar",className:"cartao-os-container",children:[I.jsxs("header",{className:"cartao-os-header",children:[I.jsx("h2",{children:"TICKET DE SERVIO"}),I.jsxs("div",{className:"cartao-os-os",children:[I.jsx(u6,{size:16}),I.jsx("span",{children:s})]})]}),I.jsxs("section",{className:"cartao-os-secao-solicitante",children:[I.jsx("div",{className:"solicitante-icone",children:I.jsx(H3,{size:40})}),I.jsxs("div",{className:"solicitante-info",children:[I.jsx("span",{className:"solicitante-label",children:"SOLICITADO POR"}),I.jsx("h3",{className:"solicitante-nome",children:n?.cliente||"Cliente no informado"})]})]}),I.jsxs("section",{className:"cartao-os-secao-trabalhador",children:[I.jsx("div",{className:"trabalhador-avatar",children:e?.fotoURL?I.jsx("img",{src:e.fotoURL,alt:e.nomeCompleto}):I.jsx(ly,{size:60})}),I.jsxs("div",{className:"trabalhador-info",children:[I.jsx("span",{className:"trabalhador-label",children:"Trabalhador"}),I.jsx("h3",{className:"trabalhador-nome",children:e?.nomeCompleto}),I.jsxs("div",{className:"trabalhador-docs",children:[I.jsxs("span",{children:[I.jsx("strong",{children:"CPF:"})," ",zT(e?.cpf,"cpf")]}),I.jsxs("span",{children:[I.jsx("strong",{children:"RG:"})," ",zT(e?.rg,"rg")]})]})]})]}),I.jsxs("section",{className:"cartao-os-secao",children:[I.jsxs("h4",{children:[I.jsx(TS,{size:14})," Detalhes da Operao"]}),I.jsxs("div",{className:"detalhe-item-cartao-os",children:[I.jsx("span",{className:"detalhe-label",children:"LOCAL DE APRESENTAO"}),I.jsx("p",{children:n?.local||"No informado"})]}),I.jsxs("div",{className:"detalhe-item-cartao-os",children:[I.jsx("span",{className:"detalhe-label",children:"DESCRIO DO SERVIO"}),I.jsx("p",{children:n?.descricaoServico||"No informado"})]})]}),I.jsxs("section",{className:"cartao-os-secao",children:[I.jsxs("h4",{children:[I.jsx(AS,{size:14})," Requisitos e Equipamentos (EPIs)"]}),I.jsx("p",{className:"requisitos-texto-cartao-os",children:n?.requisitos||"Nenhum requisito especfico."})]}),n?.advertencia&&I.jsxs("section",{className:"cartao-os-secao advertencia",children:[I.jsxs("h4",{children:[I.jsx(oy,{size:14})," Advertncia Importante"]}),I.jsx("p",{children:n.advertencia})]}),I.jsxs("footer",{className:"cartao-os-footer",children:[I.jsx("div",{className:"qr-code-placeholder",children:I.jsx(i,{value:t,size:80,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})}),I.jsxs("div",{className:"plataforma-info",children:[I.jsx("span",{children:"Operao gerenciada pela"}),I.jsx("p",{children:"Plataforma Chapa Amigo"})]})]})]}):I.jsx("div",{children:"Erro ao carregar o componente de QR Code."})}const z5=n=>{switch(n){case"pendente":return{icon:I.jsx(r6,{size:16}),text:"Pendente",color:"text-yellow-500"};case"aguardando_resposta":return{icon:I.jsx(h6,{size:16}),text:"Aguardando Resposta",color:"text-cyan-500"};case"confirmado":return{icon:I.jsx(RT,{size:16}),text:"Chapa Confirmado",color:"text-green-500"};case"finalizado":return{icon:I.jsx(RT,{size:16}),text:"Servio Finalizado",color:"text-blue-500"};case"cancelado":return{icon:I.jsx(H_,{size:16}),text:"Cancelado",color:"text-red-500"};case"arquivado":return{icon:I.jsx(tp,{size:16}),text:"Arquivado",color:"text-gray-400"};default:return{icon:I.jsx(bS,{size:16}),text:"Status Desconhecido",color:"text-gray-500"}}},F5={"So Paulo (Capital)":["SP (Capital)"],"SP (Capital)":["So Paulo (Capital)"]};function j5(){const[n,e]=ce.useState([]),[t,i]=ce.useState(!0),[s,l]=ce.useState(!1),[c,d]=ce.useState(null),[p,m]=ce.useState([]),[_,E]=ce.useState(!1),[w,C]=ce.useState(!1),[x,N]=ce.useState(null),[q,H]=ce.useState(""),[J,Q]=ce.useState(!1),$=x3(k3,"enviarConviteOS");ce.useEffect(()=>{i(!0);const P=Qo(ai,"solicitacoes"),ee=xh(P,Xd("status","in",["pendente","aguardando_resposta","confirmado","finalizado","cancelado"]),Y2("dataSolicitacao","desc")),j=J2(ee,ne=>{const ae=ne.docs.map(ie=>({...ie.data(),id:ie.id}));e(ae),i(!1)},ne=>{console.error("Erro ao escutar atualizaes de solicitaes: ",ne),i(!1)});return()=>j()},[]);const te=async(P=null,W="")=>{E(!0),m([]);try{const ee=Qo(ai,"chapas_b2b"),j=xh(ee,Xd("status","==","Disponvel")),ae=(await Ih(j)).docs.map(he=>({...he.data(),id:he.id}));let ie=[];if(W){const he=W.toLowerCase();ie=ae.filter(le=>le.nomeCompleto.toLowerCase().includes(he))}else if(P){const he=[P,...F5[P]||[]];ie=ae.filter(le=>he.includes(le.regiao?.trim()))}else ie=ae;m(ie)}catch(ee){console.error("Erro ao buscar trabalhadores:",ee)}finally{E(!1)}},F=P=>{d(P),l(!0),P.status==="pendente"&&te(P.regiao)},G=P=>{H(P.target.value)},A=P=>{P.preventDefault(),te(null,q)},S=()=>{H(""),c&&te(c.regiao)},M=async P=>{if(!P.chapaAlocadoId)return;N(null);const W=ls(ai,"chapas_b2b",P.chapaAlocadoId),ee=await Z4(W);ee.exists()?(N(ee.data()),d(P),C(!0)):alert("No foi possvel encontrar os dados do trabalhador alocado.")},D=()=>{l(!1),d(null),m([]),H("")},z=()=>{C(!1),d(null),N(null)},V=async P=>{if(!c||!P){alert("Erro: Solicitao ou trabalhador no selecionado.");return}Q(!0);try{const W=ls(ai,"solicitacoes",c.id);await ph(W,{status:"aguardando_resposta"});const ee={chapaId:P.id,nomeChapa:P.nomeCompleto,telefoneChapa:P.telefone,idOS:c.id,nomeEmpresa:c.cliente,localServico:`${c.endereco.logradouro}, ${c.endereco.numero}`,valorServicoBruto:c.valorServicoBruto,tipoCarga:c.descricaoServico};await $(ee),alert(`Convite via WhatsApp enviado para ${P.nomeCompleto}!`),D()}catch(W){console.error("Erro ao enviar convite: ",W),alert(`Ocorreu um erro ao tentar enviar o convite: ${W.message}`);const ee=ls(ai,"solicitacoes",c.id);await ph(ee,{status:"pendente"})}finally{Q(!1)}},X=async P=>{if(P.chapaAlocadoId&&window.confirm(`Tem certeza que deseja finalizar este servio e liberar o trabalhador ${P.chapaAlocadoNome}?`))try{const W=tS(ai),ee=ls(ai,"solicitacoes",P.id);W.update(ee,{status:"finalizado",timestampFim:hn.now()});const j=ls(ai,"chapas_b2b",P.chapaAlocadoId);W.update(j,{status:"Disponvel"}),await W.commit()}catch(W){console.error("Erro ao finalizar servio: ",W)}},ue=async P=>{if(window.confirm("Tem certeza que deseja arquivar este servio?"))try{const W=ls(ai,"solicitacoes",P);await ph(W,{status:"arquivado"})}catch(W){console.error("Erro ao arquivar servio:",W),alert("Ocorreu um erro ao tentar arquivar o servio.")}},B=()=>{window.print()};return I.jsxs("div",{children:[I.jsxs("div",{className:"solicitacoes-header",children:[I.jsx("h1",{className:"solicitacoes-title",children:"Mesa de Operaes"}),I.jsx("p",{className:"solicitacoes-subtitle",children:"Viso geral de todas as solicitaes de servio dos clientes."})]}),I.jsx("div",{className:"table-container",children:I.jsxs("table",{className:"solicitacoes-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Cliente / Trabalhador"}),I.jsx("th",{children:"Datas"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Aes"})]})}),I.jsx("tbody",{children:t?I.jsxs("tr",{children:[" ",I.jsxs("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:[" ",I.jsx(np,{size:24,className:"animate-spin inline-block mr-2"})," Carregando..."]})," "]}):n.length>0?n.map(P=>{const W=z5(P.status);return I.jsxs("tr",{children:[I.jsxs("td",{children:[I.jsx("div",{style:{fontWeight:600},children:P.cliente}),P.chapaAlocadoNome&&I.jsxs("div",{style:{fontSize:"0.8rem",color:"#6b7280",marginTop:"4px"},children:[" ",I.jsx("span",{style:{fontWeight:500},children:"Alocado:"})," ",P.chapaAlocadoNome," "]})]}),I.jsx("td",{children:I.jsxs("div",{className:"datas-cell",children:[I.jsxs("span",{children:[I.jsx("strong",{children:"Solicitado:"})," ",P.dataSolicitacao.toDate().toLocaleDateString("pt-BR")]}),P.timestampFim&&I.jsxs("span",{children:[I.jsx("strong",{children:"Finalizado:"})," ",P.timestampFim.toDate().toLocaleDateString("pt-BR")]})]})}),I.jsx("td",{children:I.jsxs("div",{className:`status-cell ${W.color}`,children:[" ",W.icon," ",I.jsx("span",{children:W.text})," "]})}),I.jsx("td",{children:I.jsxs("div",{className:"acoes-cell",children:[P.status==="pendente"&&I.jsx("button",{className:"view-details-button",onClick:()=>F(P),children:" Encontrar Chapa "}),P.status==="aguardando_resposta"&&I.jsx("button",{className:"view-details-button-disabled",disabled:!0,children:" Aguardando... "}),P.status==="confirmado"&&I.jsxs(I.Fragment,{children:[" ",I.jsx("button",{className:"view-details-button",onClick:()=>F(P),children:" Ver Detalhes "})," ",I.jsxs("button",{className:"ticket-button",onClick:()=>M(P),children:[" ",I.jsx(xT,{size:16})," Ver Ticket "]})," ",I.jsx("button",{className:"finish-button",onClick:()=>X(P),children:" Finalizar "})," "]}),P.status==="finalizado"&&I.jsxs(I.Fragment,{children:[" ",I.jsx("button",{className:"view-details-button",onClick:()=>F(P),children:" Ver Detalhes "})," ",I.jsxs("button",{className:"ticket-button",onClick:()=>M(P),children:[" ",I.jsx(xT,{size:16})," Ver Ticket "]})," ",I.jsxs("button",{className:"archive-button",onClick:()=>ue(P.id),children:[" ",I.jsx(tp,{size:16})," Arquivar "]})," "]}),P.status==="cancelado"&&I.jsxs(I.Fragment,{children:[" ",I.jsx("button",{className:"view-details-button",onClick:()=>F(P),children:" Ver Detalhes "})," ",I.jsxs("button",{className:"archive-button",onClick:()=>ue(P.id),children:[" ",I.jsx(tp,{size:16})," Arquivar "]})," "]})]})})]},P.id)}):I.jsxs("tr",{children:[" ",I.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Nenhuma solicitao ativa encontrada."})," "]})})]})}),I.jsx(kh,{isOpen:s,onClose:D,title:c?.status==="pendente"?"Encontrar Trabalhador":"",hideHeader:c?.status!=="pendente",children:c?.status!=="pendente"?I.jsxs("div",{children:[I.jsxs("div",{className:"printable-area documento-gala-container",children:[I.jsxs("header",{className:"gala-header",children:[I.jsx("img",{src:"/images/logochapa.svg",alt:"Chapa Amigo Empresas",className:"gala-logo"}),I.jsxs("div",{className:"gala-title",children:[I.jsx("h2",{children:"Documento de Servio"}),I.jsxs("p",{children:["OS #",c?.id.substring(0,8).toUpperCase()]})]})]}),I.jsxs("section",{className:"gala-section",children:[I.jsx("h3",{className:"gala-section-title",children:"Detalhes da Operao"}),I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Cliente:"}),I.jsx("span",{className:"gala-dado",children:c?.cliente})]}),I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Local:"}),I.jsx("span",{className:"gala-dado",children:`${c?.endereco?.logradouro}, ${c?.endereco?.numero} - ${c?.endereco?.bairro}, ${c?.endereco?.cidade}-${c?.endereco?.estado}`})]}),c?.chapaAlocadoNome&&I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Trabalhador:"}),I.jsx("span",{className:"gala-dado alocado",children:c?.chapaAlocadoNome})]})]}),I.jsxs("section",{className:"gala-section",children:[I.jsx("h3",{className:"gala-section-title",children:"Escopo do Servio"}),I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Descrio:"}),I.jsx("span",{className:"gala-dado descricao",children:c?.descricaoServico})]}),c?.requisitos&&I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Requisitos:"}),I.jsx("span",{className:"gala-dado",children:c?.requisitos})]}),c?.advertencias&&I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Advertncias:"}),I.jsx("span",{className:"gala-dado",children:c?.advertencias})]})]}),I.jsxs("section",{className:"gala-section",children:[I.jsx("h3",{className:"gala-section-title",children:"Informaes Financeiras e Temporais"}),I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Valor Ofertado:"}),I.jsxs("span",{className:"gala-dado",children:["R$ ",c?.valorServicoBruto?.toFixed(2).replace(".",",")]})]}),I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Pagamento:"}),I.jsx("span",{className:"gala-dado",children:c?.formaPagamento})]}),I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Solicitado em:"}),I.jsx("span",{className:"gala-dado",children:c?.dataSolicitacao.toDate().toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})})]}),c?.timestampFim&&I.jsxs("div",{className:"gala-item",children:[I.jsx("span",{className:"gala-label",children:"Fim do Servio:"}),I.jsx("span",{className:"gala-dado",children:c?.timestampFim.toDate().toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})})]})]}),I.jsx("footer",{className:"gala-footer",children:"Documento gerado por Chapa Amigo Empresas"})]}),I.jsx("div",{className:"modal-footer-actions",style:{justifyContent:"flex-end",paddingTop:"1rem"},children:I.jsxs("button",{onClick:B,className:"print-button",children:[I.jsx(b6,{size:16})," Imprimir / Salvar PDF"]})})]}):I.jsx("div",{className:"curadoria-container",children:I.jsxs("div",{className:"curadoria-coluna",children:[I.jsx("h3",{children:"Buscar Trabalhadores"}),I.jsxs("div",{className:"search-container",children:[I.jsxs("form",{onSubmit:A,className:"search-form",children:[I.jsxs("div",{className:"search-input-wrapper",children:[I.jsx(S6,{size:18,className:"search-icon"}),I.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:q,onChange:G})]}),I.jsx("button",{type:"submit",children:"Buscar"})]}),I.jsxs("button",{onClick:S,className:"clear-search-button",children:[I.jsx(xS,{size:14})," Limpar e ver sugestes"]})]}),_?I.jsx("p",{style:{textAlign:"center",flexGrow:1},children:"Buscando..."}):I.jsx("div",{className:"lista-sugeridos",children:p.length>0?p.map(P=>I.jsxs("div",{className:"sugerido-item",children:[I.jsxs("div",{className:"sugerido-info",children:[P.fotoURL?I.jsx("img",{src:P.fotoURL,alt:P.nomeCompleto,className:"sugerido-avatar"}):I.jsx("div",{className:"user-avatar",style:{width:"40px",height:"40px"},children:I.jsx(ly,{size:18})}),I.jsxs("div",{children:[I.jsx("span",{className:"sugerido-nome",children:P.nomeCompleto}),I.jsx("span",{className:"sugerido-regiao",children:P.regiao})]})]}),I.jsx("button",{className:"alocar-btn",onClick:()=>V(P),disabled:J,children:J?I.jsx(np,{size:16,className:"animate-spin"}):"Alocar"})]},P.id)):I.jsx("p",{style:{textAlign:"center",padding:"1rem"},children:"Nenhum trabalhador encontrado."})})]})})}),I.jsx(kh,{isOpen:w,onClose:z,title:"Ticket de Servio",children:I.jsx(B5,{solicitacao:c,trabalhador:x})})]})}var Cd={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var H5=Cd.exports,FT;function q5(){return FT||(FT=1,function(n,e){((t,i)=>{n.exports=i()})(H5,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s,l=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,d={},p=0,m={};function _(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var M=te(S);M.chunkSize=parseInt(M.chunkSize),S.step||S.chunk||(M.chunkSize=null),this._handle=new N(M),(this._handle.streamer=this)._config=M}).call(this,A),this.parseChunk=function(S,M){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let V=this._config.newline;V||(z=this._config.quoteChar||'"',V=this._handle.guessLineEndings(S,z)),S=[...S.split(V).slice(D)].join(V)}this.isFirstChunk&&G(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(S))!==void 0&&(S=z),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+S,z=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=z.meta.cursor,D=(this._finished||(this._partialLine=D.substring(S-this._baseIndex),this._baseIndex=S),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:z,workerId:m.WORKER_ID,finished:D});else if(G(this._config.chunk)&&!M){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!D||!G(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(S){G(this._config.error)?this._config.error(S):c&&this._config.error&&i.postMessage({workerId:m.WORKER_ID,error:S,finished:!1})}}function E(A){var S;(A=A||{}).chunkSize||(A.chunkSize=m.RemoteChunkSize),_.call(this,A),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),l||(S.onload=F(this._chunkLoaded,this),S.onerror=F(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var M,D=this._config.downloadRequestHeaders;for(M in D)S.setRequestHeader(M,D[M])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+z));try{S.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}l&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(M){M=S.statusText||M,this._sendError(new Error(M))}}function w(A){(A=A||{}).chunkSize||(A.chunkSize=m.LocalChunkSize),_.call(this,A);var S,M,D=typeof FileReader<"u";this.stream=function(z){this._input=z,M=z.slice||z.webkitSlice||z.mozSlice,D?((S=new FileReader).onload=F(this._chunkLoaded,this),S.onerror=F(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,V=(this._config.chunkSize&&(V=Math.min(this._start+this._config.chunkSize,this._input.size),z=M.call(z,this._start,V)),S.readAsText(z,this._config.encoding));D||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(S.error)}}function C(A){var S;_.call(this,A=A||{}),this.stream=function(M){return S=M,this._nextChunk()},this._nextChunk=function(){var M,D;if(!this._finished)return M=this._config.chunkSize,S=M?(D=S.substring(0,M),S.substring(M)):(D=S,""),this._finished=!S,this.parseChunk(D)}}function x(A){_.call(this,A=A||{});var S=[],M=!0,D=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):M=!0},this._streamData=F(function(z){try{S.push(typeof z=="string"?z:z.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(V){this._streamError(V)}},this),this._streamError=F(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=F(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=F(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function N(A){var S,M,D,z,V=Math.pow(2,53),X=-V,ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,P=this,W=0,ee=0,j=!1,ne=!1,ae=[],ie={data:[],errors:[],meta:{}};function he(De){return A.skipEmptyLines==="greedy"?De.join("").trim()==="":De.length===1&&De[0].length===0}function le(){if(ie&&D&&(Ze("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),D=!1),A.skipEmptyLines&&(ie.data=ie.data.filter(function(et){return!he(et)})),Ee()){let et=function(kt,Te){G(A.transformHeader)&&(kt=A.transformHeader(kt,Te)),ae.push(kt)};var ze=et;if(ie)if(Array.isArray(ie.data[0])){for(var De=0;Ee()&&De<ie.data.length;De++)ie.data[De].forEach(et);ie.data.splice(0,1)}else ie.data.forEach(et)}function Fe(et,kt){for(var Te=A.header?{}:[],Ne=0;Ne<et.length;Ne++){var Le=Ne,He=et[Ne],He=((Ue,rt)=>(dt=>(A.dynamicTypingFunction&&A.dynamicTyping[dt]===void 0&&(A.dynamicTyping[dt]=A.dynamicTypingFunction(dt)),(A.dynamicTyping[dt]||A.dynamicTyping)===!0))(Ue)?rt==="true"||rt==="TRUE"||rt!=="false"&&rt!=="FALSE"&&((dt=>{if(ue.test(dt)&&(dt=parseFloat(dt),X<dt&&dt<V))return 1})(rt)?parseFloat(rt):B.test(rt)?new Date(rt):rt===""?null:rt):rt)(Le=A.header?Ne>=ae.length?"__parsed_extra":ae[Ne]:Le,He=A.transform?A.transform(He,Le):He);Le==="__parsed_extra"?(Te[Le]=Te[Le]||[],Te[Le].push(He)):Te[Le]=He}return A.header&&(Ne>ae.length?Ze("FieldMismatch","TooManyFields","Too many fields: expected "+ae.length+" fields but parsed "+Ne,ee+kt):Ne<ae.length&&Ze("FieldMismatch","TooFewFields","Too few fields: expected "+ae.length+" fields but parsed "+Ne,ee+kt)),Te}var je;ie&&(A.header||A.dynamicTyping||A.transform)&&(je=1,!ie.data.length||Array.isArray(ie.data[0])?(ie.data=ie.data.map(Fe),je=ie.data.length):ie.data=Fe(ie.data,0),A.header&&ie.meta&&(ie.meta.fields=ae),ee+=je)}function Ee(){return A.header&&ae.length===0}function Ze(De,Fe,je,ze){De={type:De,code:Fe,message:je},ze!==void 0&&(De.row=ze),ie.errors.push(De)}G(A.step)&&(z=A.step,A.step=function(De){ie=De,Ee()?le():(le(),ie.data.length!==0&&(W+=De.data.length,A.preview&&W>A.preview?M.abort():(ie.data=ie.data[0],z(ie,P))))}),this.parse=function(De,Fe,je){var ze=A.quoteChar||'"',ze=(A.newline||(A.newline=this.guessLineEndings(De,ze)),D=!1,A.delimiter?G(A.delimiter)&&(A.delimiter=A.delimiter(De),ie.meta.delimiter=A.delimiter):((ze=((et,kt,Te,Ne,Le)=>{var He,Ue,rt,dt;Le=Le||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var It=0;It<Le.length;It++){for(var Pt,Mt=Le[It],ct=0,Xt=0,tt=0,nt=(rt=void 0,new H({comments:Ne,delimiter:Mt,newline:kt,preview:10}).parse(et)),bt=0;bt<nt.data.length;bt++)Te&&he(nt.data[bt])?tt++:(Pt=nt.data[bt].length,Xt+=Pt,rt===void 0?rt=Pt:0<Pt&&(ct+=Math.abs(Pt-rt),rt=Pt));0<nt.data.length&&(Xt/=nt.data.length-tt),(Ue===void 0||ct<=Ue)&&(dt===void 0||dt<Xt)&&1.99<Xt&&(Ue=ct,He=Mt,dt=Xt)}return{successful:!!(A.delimiter=He),bestDelimiter:He}})(De,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=ze.bestDelimiter:(D=!0,A.delimiter=m.DefaultDelimiter),ie.meta.delimiter=A.delimiter),te(A));return A.preview&&A.header&&ze.preview++,S=De,M=new H(ze),ie=M.parse(S,Fe,je),le(),j?{meta:{paused:!0}}:ie||{meta:{paused:!1}}},this.paused=function(){return j},this.pause=function(){j=!0,M.abort(),S=G(A.chunk)?"":S.substring(M.getCharIndex())},this.resume=function(){P.streamer._halted?(j=!1,P.streamer.parseChunk(S,!0)):setTimeout(P.resume,3)},this.aborted=function(){return ne},this.abort=function(){ne=!0,M.abort(),ie.meta.aborted=!0,G(A.complete)&&A.complete(ie),S=""},this.guessLineEndings=function(et,ze){et=et.substring(0,1048576);var ze=new RegExp(q(ze)+"([^]*?)"+q(ze),"gm"),je=(et=et.replace(ze,"")).split("\r"),ze=et.split(`
`),et=1<ze.length&&ze[0].length<je[0].length;if(je.length===1||et)return`
`;for(var kt=0,Te=0;Te<je.length;Te++)je[Te][0]===`
`&&kt++;return kt>=je.length/2?`\r
`:"\r"}}function q(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function H(A){var S=(A=A||{}).delimiter,M=A.newline,D=A.comments,z=A.step,V=A.preview,X=A.fastMode,ue=null,B=!1,P=A.quoteChar==null?'"':A.quoteChar,W=P;if(A.escapeChar!==void 0&&(W=A.escapeChar),(typeof S!="string"||-1<m.BAD_DELIMITERS.indexOf(S))&&(S=","),D===S)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<m.BAD_DELIMITERS.indexOf(D))&&(D=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var ee=0,j=!1;this.parse=function(ne,ae,ie){if(typeof ne!="string")throw new Error("Input must be a string");var he=ne.length,le=S.length,Ee=M.length,Ze=D.length,De=G(z),Fe=[],je=[],ze=[],et=ee=0;if(!ne)return ct();if(X||X!==!1&&ne.indexOf(P)===-1){for(var kt=ne.split(M),Te=0;Te<kt.length;Te++){if(ze=kt[Te],ee+=ze.length,Te!==kt.length-1)ee+=M.length;else if(ie)return ct();if(!D||ze.substring(0,Ze)!==D){if(De){if(Fe=[],dt(ze.split(S)),Xt(),j)return ct()}else dt(ze.split(S));if(V&&V<=Te)return Fe=Fe.slice(0,V),ct(!0)}}return ct()}for(var Ne=ne.indexOf(S,ee),Le=ne.indexOf(M,ee),He=new RegExp(q(W)+q(P),"g"),Ue=ne.indexOf(P,ee);;)if(ne[ee]===P)for(Ue=ee,ee++;;){if((Ue=ne.indexOf(P,Ue+1))===-1)return ie||je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Fe.length,index:ee}),Pt();if(Ue===he-1)return Pt(ne.substring(ee,Ue).replace(He,P));if(P===W&&ne[Ue+1]===W)Ue++;else if(P===W||Ue===0||ne[Ue-1]!==W){Ne!==-1&&Ne<Ue+1&&(Ne=ne.indexOf(S,Ue+1));var rt=It((Le=Le!==-1&&Le<Ue+1?ne.indexOf(M,Ue+1):Le)===-1?Ne:Math.min(Ne,Le));if(ne.substr(Ue+1+rt,le)===S){ze.push(ne.substring(ee,Ue).replace(He,P)),ne[ee=Ue+1+rt+le]!==P&&(Ue=ne.indexOf(P,ee)),Ne=ne.indexOf(S,ee),Le=ne.indexOf(M,ee);break}if(rt=It(Le),ne.substring(Ue+1+rt,Ue+1+rt+Ee)===M){if(ze.push(ne.substring(ee,Ue).replace(He,P)),Mt(Ue+1+rt+Ee),Ne=ne.indexOf(S,ee),Ue=ne.indexOf(P,ee),De&&(Xt(),j))return ct();if(V&&Fe.length>=V)return ct(!0);break}je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Fe.length,index:ee}),Ue++}}else if(D&&ze.length===0&&ne.substring(ee,ee+Ze)===D){if(Le===-1)return ct();ee=Le+Ee,Le=ne.indexOf(M,ee),Ne=ne.indexOf(S,ee)}else if(Ne!==-1&&(Ne<Le||Le===-1))ze.push(ne.substring(ee,Ne)),ee=Ne+le,Ne=ne.indexOf(S,ee);else{if(Le===-1)break;if(ze.push(ne.substring(ee,Le)),Mt(Le+Ee),De&&(Xt(),j))return ct();if(V&&Fe.length>=V)return ct(!0)}return Pt();function dt(tt){Fe.push(tt),et=ee}function It(tt){var nt=0;return nt=tt!==-1&&(tt=ne.substring(Ue+1,tt))&&tt.trim()===""?tt.length:nt}function Pt(tt){return ie||(tt===void 0&&(tt=ne.substring(ee)),ze.push(tt),ee=he,dt(ze),De&&Xt()),ct()}function Mt(tt){ee=tt,dt(ze),ze=[],Le=ne.indexOf(M,ee)}function ct(tt){if(A.header&&!ae&&Fe.length&&!B){var nt=Fe[0],bt=Object.create(null),tn=new Set(nt);let yn=!1;for(let nn=0;nn<nt.length;nn++){let Kt=nt[nn];if(bt[Kt=G(A.transformHeader)?A.transformHeader(Kt,nn):Kt]){let mn,En=bt[Kt];for(;mn=Kt+"_"+En,En++,tn.has(mn););tn.add(mn),nt[nn]=mn,bt[Kt]++,yn=!0,(ue=ue===null?{}:ue)[mn]=Kt}else bt[Kt]=1,nt[nn]=Kt;tn.add(Kt)}yn&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:Fe,errors:je,meta:{delimiter:S,linebreak:M,aborted:j,truncated:!!tt,cursor:et+(ae||0),renamedHeaders:ue}}}function Xt(){z(ct()),Fe=[],je=[]}},this.abort=function(){j=!0},this.getCharIndex=function(){return ee}}function J(A){var S=A.data,M=d[S.workerId],D=!1;if(S.error)M.userError(S.error,S.file);else if(S.results&&S.results.data){var z={abort:function(){D=!0,Q(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:$,resume:$};if(G(M.userStep)){for(var V=0;V<S.results.data.length&&(M.userStep({data:S.results.data[V],errors:S.results.errors,meta:S.results.meta},z),!D);V++);delete S.results}else G(M.userChunk)&&(M.userChunk(S.results,z,S.file),delete S.results)}S.finished&&!D&&Q(S.workerId,S.results)}function Q(A,S){var M=d[A];G(M.userComplete)&&M.userComplete(S),M.terminate(),delete d[A]}function $(){throw new Error("Not implemented.")}function te(A){if(typeof A!="object"||A===null)return A;var S,M=Array.isArray(A)?[]:{};for(S in A)M[S]=te(A[S]);return M}function F(A,S){return function(){A.apply(S,arguments)}}function G(A){return typeof A=="function"}return m.parse=function(A,S){var M=(S=S||{}).dynamicTyping||!1;if(G(M)&&(S.dynamicTypingFunction=M,M={}),S.dynamicTyping=M,S.transform=!!G(S.transform)&&S.transform,!S.worker||!m.WORKERS_SUPPORTED)return M=null,m.NODE_STREAM_INPUT,typeof A=="string"?(A=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(A),M=new(S.download?E:C)(S)):A.readable===!0&&G(A.read)&&G(A.on)?M=new x(S):(i.File&&A instanceof File||A instanceof Object)&&(M=new w(S)),M.stream(A);(M=(()=>{var D;return!!m.WORKERS_SUPPORTED&&(D=(()=>{var z=i.URL||i.webkitURL||null,V=t.toString();return m.BLOB_URL||(m.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))})(),(D=new i.Worker(D)).onmessage=J,D.id=p++,d[D.id]=D)})()).userStep=S.step,M.userChunk=S.chunk,M.userComplete=S.complete,M.userError=S.error,S.step=G(S.step),S.chunk=G(S.chunk),S.complete=G(S.complete),S.error=G(S.error),delete S.worker,M.postMessage({input:A,config:S,workerId:M.id})},m.unparse=function(A,S){var M=!1,D=!0,z=",",V=`\r
`,X='"',ue=X+X,B=!1,P=null,W=!1,ee=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||m.BAD_DELIMITERS.filter(function(ae){return S.delimiter.indexOf(ae)!==-1}).length||(z=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(M=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(B=S.skipEmptyLines),typeof S.newline=="string"&&(V=S.newline),typeof S.quoteChar=="string"&&(X=S.quoteChar),typeof S.header=="boolean"&&(D=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");P=S.columns}S.escapeChar!==void 0&&(ue=S.escapeChar+X),S.escapeFormulae instanceof RegExp?W=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(q(X),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return j(null,A,B);if(typeof A[0]=="object")return j(P||Object.keys(A[0]),A,B)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||P),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),j(A.fields||[],A.data||[],B);throw new Error("Unable to serialize unrecognized input");function j(ae,ie,he){var le="",Ee=(typeof ae=="string"&&(ae=JSON.parse(ae)),typeof ie=="string"&&(ie=JSON.parse(ie)),Array.isArray(ae)&&0<ae.length),Ze=!Array.isArray(ie[0]);if(Ee&&D){for(var De=0;De<ae.length;De++)0<De&&(le+=z),le+=ne(ae[De],De);0<ie.length&&(le+=V)}for(var Fe=0;Fe<ie.length;Fe++){var je=(Ee?ae:ie[Fe]).length,ze=!1,et=Ee?Object.keys(ie[Fe]).length===0:ie[Fe].length===0;if(he&&!Ee&&(ze=he==="greedy"?ie[Fe].join("").trim()==="":ie[Fe].length===1&&ie[Fe][0].length===0),he==="greedy"&&Ee){for(var kt=[],Te=0;Te<je;Te++){var Ne=Ze?ae[Te]:Te;kt.push(ie[Fe][Ne])}ze=kt.join("").trim()===""}if(!ze){for(var Le=0;Le<je;Le++){0<Le&&!et&&(le+=z);var He=Ee&&Ze?ae[Le]:Le;le+=ne(ie[Fe][He],Le)}Fe<ie.length-1&&(!he||0<je&&!et)&&(le+=V)}}return le}function ne(ae,ie){var he,le;return ae==null?"":ae.constructor===Date?JSON.stringify(ae).slice(1,25):(le=!1,W&&typeof ae=="string"&&W.test(ae)&&(ae="'"+ae,le=!0),he=ae.toString().replace(ee,ue),(le=le||M===!0||typeof M=="function"&&M(ae,ie)||Array.isArray(M)&&M[ie]||((Ee,Ze)=>{for(var De=0;De<Ze.length;De++)if(-1<Ee.indexOf(Ze[De]))return!0;return!1})(he,m.BAD_DELIMITERS)||-1<he.indexOf(z)||he.charAt(0)===" "||he.charAt(he.length-1)===" ")?X+he+X:he)}},m.RECORD_SEP="",m.UNIT_SEP="",m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!l&&!!i.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=H,m.ParserHandle=N,m.NetworkStreamer=E,m.FileStreamer=w,m.StringStreamer=C,m.ReadableStreamStreamer=x,i.jQuery&&((s=i.jQuery).fn.parse=function(A){var S=A.config||{},M=[];return this.each(function(V){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var X=0;X<this.files.length;X++)M.push({file:this.files[X],inputElem:this,instanceConfig:s.extend({},S)})}),D(),this;function D(){if(M.length===0)G(A.complete)&&A.complete();else{var V,X,ue,B,P=M[0];if(G(A.before)){var W=A.before(P.file,P.inputElem);if(typeof W=="object"){if(W.action==="abort")return V="AbortError",X=P.file,ue=P.inputElem,B=W.reason,void(G(A.error)&&A.error({name:V},X,ue,B));if(W.action==="skip")return void z();typeof W.config=="object"&&(P.instanceConfig=s.extend(P.instanceConfig,W.config))}else if(W==="skip")return void z()}var ee=P.instanceConfig.complete;P.instanceConfig.complete=function(j){G(ee)&&ee(j,P.file,P.inputElem),z()},m.parse(P.file,P.instanceConfig)}}function z(){M.splice(0,1),D()}}),c&&(i.onmessage=function(A){A=A.data,m.WORKER_ID===void 0&&A&&(m.WORKER_ID=A.workerId),typeof A.input=="string"?i.postMessage({workerId:m.WORKER_ID,results:m.parse(A.input,A.config),finished:!0}):(i.File&&A.input instanceof File||A.input instanceof Object)&&(A=m.parse(A.input,A.config))&&i.postMessage({workerId:m.WORKER_ID,results:A,finished:!0})}),(E.prototype=Object.create(_.prototype)).constructor=E,(w.prototype=Object.create(_.prototype)).constructor=w,(C.prototype=Object.create(C.prototype)).constructor=C,(x.prototype=Object.create(_.prototype)).constructor=x,m})}(Cd)),Cd.exports}var G5=q5();const Z5=Ph(G5);function K5(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(i){if(i!=="default"&&!(i in n)){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})}),Object.freeze(n)}function eC(n,e){return new Promise(function(t,i){let s;return Q5(n).then(function(l){try{return s=l,t(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(c){return i(c)}},i)})}const Q5=n=>new Promise((e,t)=>{const i=new FileReader;i.addEventListener("load",({target:{result:s}})=>{const l=new DataView(s);let c=0;if(l.getUint16(c)!==65496)return t("not a valid JPEG");for(c+=2;;){const d=l.getUint16(c);if(d===65498)break;const p=l.getUint16(c+2);if(d===65505&&l.getUint32(c+4)===1165519206){const m=c+10;let _;switch(l.getUint16(m)){case 18761:_=!0;break;case 19789:_=!1;break;default:return t("TIFF header contains invalid endian")}if(l.getUint16(m+2,_)!==42)return t("TIFF header contains invalid version");const E=l.getUint32(m+4,_),w=m+E+2+12*l.getUint16(m+E,_);for(let C=m+E+2;C<w;C+=12)if(l.getUint16(C,_)==274){if(l.getUint16(C+2,_)!==3)return t("Orientation data type is invalid");if(l.getUint32(C+4,_)!==1)return t("Orientation data count is invalid");l.setUint16(C+8,1,_);break}return e(s.slice(c,c+2+p))}c+=2+p}return e(new Blob)}),i.readAsArrayBuffer(n)});var ap={},Y5={get exports(){return ap},set exports(n){ap=n}};(function(n){var e,t,i={};Y5.exports=i,i.parse=function(s,l){for(var c=i.bin.readUshort,d=i.bin.readUint,p=0,m={},_=new Uint8Array(s),E=_.length-4;d(_,E)!=101010256;)E--;p=E,p+=4;var w=c(_,p+=4);c(_,p+=2);var C=d(_,p+=2),x=d(_,p+=4);p+=4,p=x;for(var N=0;N<w;N++){d(_,p),p+=4,p+=4,p+=4,d(_,p+=4),C=d(_,p+=4);var q=d(_,p+=4),H=c(_,p+=4),J=c(_,p+2),Q=c(_,p+4);p+=6;var $=d(_,p+=8);p+=4,p+=H+J+Q,i._readLocal(_,$,m,C,q,l)}return m},i._readLocal=function(s,l,c,d,p,m){var _=i.bin.readUshort,E=i.bin.readUint;E(s,l),_(s,l+=4),_(s,l+=2);var w=_(s,l+=2);E(s,l+=2),E(s,l+=4),l+=4;var C=_(s,l+=8),x=_(s,l+=2);l+=2;var N=i.bin.readUTF8(s,l,C);if(l+=C,l+=x,m)c[N]={size:p,csize:d};else{var q=new Uint8Array(s.buffer,l);if(w==0)c[N]=new Uint8Array(q.buffer.slice(l,l+d));else{if(w!=8)throw"unknown compression method: "+w;var H=new Uint8Array(p);i.inflateRaw(q,H),c[N]=H}}},i.inflateRaw=function(s,l){return i.F.inflate(s,l)},i.inflate=function(s,l){return s[0],s[1],i.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),l)},i.deflate=function(s,l){l==null&&(l={level:6});var c=0,d=new Uint8Array(50+Math.floor(1.1*s.length));d[c]=120,d[c+1]=156,c+=2,c=i.F.deflateRaw(s,d,c,l.level);var p=i.adler(s,0,s.length);return d[c+0]=p>>>24&255,d[c+1]=p>>>16&255,d[c+2]=p>>>8&255,d[c+3]=p>>>0&255,new Uint8Array(d.buffer,0,c+4)},i.deflateRaw=function(s,l){l==null&&(l={level:6});var c=new Uint8Array(50+Math.floor(1.1*s.length)),d=i.F.deflateRaw(s,c,d,l.level);return new Uint8Array(c.buffer,0,d)},i.encode=function(s,l){l==null&&(l=!1);var c=0,d=i.bin.writeUint,p=i.bin.writeUshort,m={};for(var _ in s){var E=!i._noNeed(_)&&!l,w=s[_],C=i.crc.crc(w,0,w.length);m[_]={cpr:E,usize:w.length,crc:C,file:E?i.deflateRaw(w):w}}for(var _ in m)c+=m[_].file.length+30+46+2*i.bin.sizeUTF8(_);c+=22;var x=new Uint8Array(c),N=0,q=[];for(var _ in m){var H=m[_];q.push(N),N=i._writeHeader(x,N,_,H,0)}var J=0,Q=N;for(var _ in m)H=m[_],q.push(N),N=i._writeHeader(x,N,_,H,1,q[J++]);var $=N-Q;return d(x,N,101010256),N+=4,p(x,N+=4,J),p(x,N+=2,J),d(x,N+=2,$),d(x,N+=4,Q),N+=4,N+=2,x.buffer},i._noNeed=function(s){var l=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(l)!=-1},i._writeHeader=function(s,l,c,d,p,m){var _=i.bin.writeUint,E=i.bin.writeUshort,w=d.file;return _(s,l,p==0?67324752:33639248),l+=4,p==1&&(l+=2),E(s,l,20),E(s,l+=2,0),E(s,l+=2,d.cpr?8:0),_(s,l+=2,0),_(s,l+=4,d.crc),_(s,l+=4,w.length),_(s,l+=4,d.usize),E(s,l+=4,i.bin.sizeUTF8(c)),E(s,l+=2,0),l+=2,p==1&&(l+=2,l+=2,_(s,l+=6,m),l+=4),l+=i.bin.writeUTF8(s,l,c),p==0&&(s.set(w,l),l+=w.length),l},i.crc={table:function(){for(var s=new Uint32Array(256),l=0;l<256;l++){for(var c=l,d=0;d<8;d++)1&c?c=3988292384^c>>>1:c>>>=1;s[l]=c}return s}(),update:function(s,l,c,d){for(var p=0;p<d;p++)s=i.crc.table[255&(s^l[c+p])]^s>>>8;return s},crc:function(s,l,c){return 4294967295^i.crc.update(4294967295,s,l,c)}},i.adler=function(s,l,c){for(var d=1,p=0,m=l,_=l+c;m<_;){for(var E=Math.min(m+5552,_);m<E;)p+=d+=s[m++];d%=65521,p%=65521}return p<<16|d},i.bin={readUshort:function(s,l){return s[l]|s[l+1]<<8},writeUshort:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255},readUint:function(s,l){return 16777216*s[l+3]+(s[l+2]<<16|s[l+1]<<8|s[l])},writeUint:function(s,l,c){s[l]=255&c,s[l+1]=c>>8&255,s[l+2]=c>>16&255,s[l+3]=c>>24&255},readASCII:function(s,l,c){for(var d="",p=0;p<c;p++)d+=String.fromCharCode(s[l+p]);return d},writeASCII:function(s,l,c){for(var d=0;d<c.length;d++)s[l+d]=c.charCodeAt(d)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,l,c){for(var d,p="",m=0;m<c;m++)p+="%"+i.bin.pad(s[l+m].toString(16));try{d=decodeURIComponent(p)}catch{return i.bin.readASCII(s,l,c)}return d},writeUTF8:function(s,l,c){for(var d=c.length,p=0,m=0;m<d;m++){var _=c.charCodeAt(m);if((4294967168&_)==0)s[l+p]=_,p++;else if((4294965248&_)==0)s[l+p]=192|_>>6,s[l+p+1]=128|_>>0&63,p+=2;else if((4294901760&_)==0)s[l+p]=224|_>>12,s[l+p+1]=128|_>>6&63,s[l+p+2]=128|_>>0&63,p+=3;else{if((4292870144&_)!=0)throw"e";s[l+p]=240|_>>18,s[l+p+1]=128|_>>12&63,s[l+p+2]=128|_>>6&63,s[l+p+3]=128|_>>0&63,p+=4}}return p},sizeUTF8:function(s){for(var l=s.length,c=0,d=0;d<l;d++){var p=s.charCodeAt(d);if((4294967168&p)==0)c++;else if((4294965248&p)==0)c+=2;else if((4294901760&p)==0)c+=3;else{if((4292870144&p)!=0)throw"e";c+=4}}return c}},i.F={},i.F.deflateRaw=function(s,l,c,d){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],m=i.F.U,_=i.F._goodIndex;i.F._hash;var E=i.F._putsE,w=0,C=c<<3,x=0,N=s.length;if(d==0){for(;w<N;)E(l,C,w+(D=Math.min(65535,N-w))==N?1:0),C=i.F._copyExact(s,w,D,l,C+8),w+=D;return C>>>3}var q=m.lits,H=m.strt,J=m.prev,Q=0,$=0,te=0,F=0,G=0,A=0;for(N>2&&(H[A=i.F._hash(s,0)]=0),w=0;w<N;w++){if(G=A,w+1<N-2){A=i.F._hash(s,w+1);var S=w+1&32767;J[S]=H[A],H[A]=S}if(x<=w){(Q>14e3||$>26697)&&N-w>100&&(x<w&&(q[Q]=w-x,Q+=2,x=w),C=i.F._writeBlock(w==N-1||x==N?1:0,q,Q,F,s,te,w-te,l,C),Q=$=F=0,te=w);var M=0;w<N-2&&(M=i.F._bestMatch(s,w,J,G,Math.min(p[2],N-w),p[3]));var D=M>>>16,z=65535&M;if(M!=0){z=65535&M;var V=_(D=M>>>16,m.of0);m.lhst[257+V]++;var X=_(z,m.df0);m.dhst[X]++,F+=m.exb[V]+m.dxb[X],q[Q]=D<<23|w-x,q[Q+1]=z<<16|V<<8|X,Q+=2,x=w+D}else m.lhst[s[w]]++;$++}}for(te==w&&s.length!=0||(x<w&&(q[Q]=w-x,Q+=2,x=w),C=i.F._writeBlock(1,q,Q,F,s,te,w-te,l,C),Q=0,$=0,Q=$=F=0,te=w);(7&C)!=0;)C++;return C>>>3},i.F._bestMatch=function(s,l,c,d,p,m){var _=32767&l,E=c[_],w=_-E+32768&32767;if(E==_||d!=i.F._hash(s,l-w))return 0;for(var C=0,x=0,N=Math.min(32767,l);w<=N&&--m!=0&&E!=_;){if(C==0||s[l+C]==s[l+C-w]){var q=i.F._howLong(s,l,w);if(q>C){if(x=w,(C=q)>=p)break;w+2<q&&(q=w+2);for(var H=0,J=0;J<q-2;J++){var Q=l-w+J+32768&32767,$=Q-c[Q]+32768&32767;$>H&&(H=$,E=Q)}}}w+=(_=E)-(E=c[_])+32768&32767}return C<<16|x},i.F._howLong=function(s,l,c){if(s[l]!=s[l-c]||s[l+1]!=s[l+1-c]||s[l+2]!=s[l+2-c])return 0;var d=l,p=Math.min(s.length,l+258);for(l+=3;l<p&&s[l]==s[l-c];)l++;return l-d},i.F._hash=function(s,l){return(s[l]<<8|s[l+1])+(s[l+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(s,l,c,d,p,m,_,E,w){var C,x,N,q,H,J,Q,$,te,F=i.F.U,G=i.F._putsF,A=i.F._putsE;F.lhst[256]++,x=(C=i.F.getTrees())[0],N=C[1],q=C[2],H=C[3],J=C[4],Q=C[5],$=C[6],te=C[7];var S=32+((w+3&7)==0?0:8-(w+3&7))+(_<<3),M=d+i.F.contSize(F.fltree,F.lhst)+i.F.contSize(F.fdtree,F.dhst),D=d+i.F.contSize(F.ltree,F.lhst)+i.F.contSize(F.dtree,F.dhst);D+=14+3*Q+i.F.contSize(F.itree,F.ihst)+(2*F.ihst[16]+3*F.ihst[17]+7*F.ihst[18]);for(var z=0;z<286;z++)F.lhst[z]=0;for(z=0;z<30;z++)F.dhst[z]=0;for(z=0;z<19;z++)F.ihst[z]=0;var V=S<M&&S<D?0:M<D?1:2;if(G(E,w,s),G(E,w+1,V),w+=3,V==0){for(;(7&w)!=0;)w++;w=i.F._copyExact(p,m,_,E,w)}else{var X,ue;if(V==1&&(X=F.fltree,ue=F.fdtree),V==2){i.F.makeCodes(F.ltree,x),i.F.revCodes(F.ltree,x),i.F.makeCodes(F.dtree,N),i.F.revCodes(F.dtree,N),i.F.makeCodes(F.itree,q),i.F.revCodes(F.itree,q),X=F.ltree,ue=F.dtree,A(E,w,H-257),A(E,w+=5,J-1),A(E,w+=5,Q-4),w+=4;for(var B=0;B<Q;B++)A(E,w+3*B,F.itree[1+(F.ordr[B]<<1)]);w+=3*Q,w=i.F._codeTiny($,F.itree,E,w),w=i.F._codeTiny(te,F.itree,E,w)}for(var P=m,W=0;W<c;W+=2){for(var ee=l[W],j=ee>>>23,ne=P+(8388607&ee);P<ne;)w=i.F._writeLit(p[P++],X,E,w);if(j!=0){var ae=l[W+1],ie=ae>>16,he=ae>>8&255,le=255&ae;A(E,w=i.F._writeLit(257+he,X,E,w),j-F.of0[he]),w+=F.exb[he],G(E,w=i.F._writeLit(le,ue,E,w),ie-F.df0[le]),w+=F.dxb[le],P+=j}}w=i.F._writeLit(256,X,E,w)}return w},i.F._copyExact=function(s,l,c,d,p){var m=p>>>3;return d[m]=c,d[m+1]=c>>>8,d[m+2]=255-d[m],d[m+3]=255-d[m+1],m+=4,d.set(new Uint8Array(s.buffer,l,c),m),p+(c+4<<3)},i.F.getTrees=function(){for(var s=i.F.U,l=i.F._hufTree(s.lhst,s.ltree,15),c=i.F._hufTree(s.dhst,s.dtree,15),d=[],p=i.F._lenCodes(s.ltree,d),m=[],_=i.F._lenCodes(s.dtree,m),E=0;E<d.length;E+=2)s.ihst[d[E]]++;for(E=0;E<m.length;E+=2)s.ihst[m[E]]++;for(var w=i.F._hufTree(s.ihst,s.itree,7),C=19;C>4&&s.itree[1+(s.ordr[C-1]<<1)]==0;)C--;return[l,c,w,p,_,C,d,m]},i.F.getSecond=function(s){for(var l=[],c=0;c<s.length;c+=2)l.push(s[c+1]);return l},i.F.nonZero=function(s){for(var l="",c=0;c<s.length;c+=2)s[c+1]!=0&&(l+=(c>>1)+",");return l},i.F.contSize=function(s,l){for(var c=0,d=0;d<l.length;d++)c+=l[d]*s[1+(d<<1)];return c},i.F._codeTiny=function(s,l,c,d){for(var p=0;p<s.length;p+=2){var m=s[p],_=s[p+1];d=i.F._writeLit(m,l,c,d);var E=m==16?2:m==17?3:7;m>15&&(i.F._putsE(c,d,_,E),d+=E)}return d},i.F._lenCodes=function(s,l){for(var c=s.length;c!=2&&s[c-1]==0;)c-=2;for(var d=0;d<c;d+=2){var p=s[d+1],m=d+3<c?s[d+3]:-1,_=d+5<c?s[d+5]:-1,E=d==0?-1:s[d-1];if(p==0&&m==p&&_==p){for(var w=d+5;w+2<c&&s[w+2]==p;)w+=2;(C=Math.min(w+1-d>>>1,138))<11?l.push(17,C-3):l.push(18,C-11),d+=2*C-2}else if(p==E&&m==p&&_==p){for(w=d+5;w+2<c&&s[w+2]==p;)w+=2;var C=Math.min(w+1-d>>>1,6);l.push(16,C-3),d+=2*C-2}else l.push(p,0)}return c>>>1},i.F._hufTree=function(s,l,c){var d=[],p=s.length,m=l.length,_=0;for(_=0;_<m;_+=2)l[_]=0,l[_+1]=0;for(_=0;_<p;_++)s[_]!=0&&d.push({lit:_,f:s[_]});var E=d.length,w=d.slice(0);if(E==0)return 0;if(E==1){var C=d[0].lit;return w=C==0?1:0,l[1+(C<<1)]=1,l[1+(w<<1)]=1,1}d.sort(function($,te){return $.f-te.f});var x=d[0],N=d[1],q=0,H=1,J=2;for(d[0]={lit:-1,f:x.f+N.f,l:x,r:N,d:0};H!=E-1;)x=q!=H&&(J==E||d[q].f<d[J].f)?d[q++]:d[J++],N=q!=H&&(J==E||d[q].f<d[J].f)?d[q++]:d[J++],d[H++]={lit:-1,f:x.f+N.f,l:x,r:N};var Q=i.F.setDepth(d[H-1],0);for(Q>c&&(i.F.restrictDepth(w,c,Q),Q=c),_=0;_<E;_++)l[1+(w[_].lit<<1)]=w[_].d;return Q},i.F.setDepth=function(s,l){return s.lit!=-1?(s.d=l,l):Math.max(i.F.setDepth(s.l,l+1),i.F.setDepth(s.r,l+1))},i.F.restrictDepth=function(s,l,c){var d=0,p=1<<c-l,m=0;for(s.sort(function(E,w){return w.d==E.d?E.f-w.f:w.d-E.d}),d=0;d<s.length&&s[d].d>l;d++){var _=s[d].d;s[d].d=l,m+=p-(1<<c-_)}for(m>>>=c-l;m>0;)(_=s[d].d)<l?(s[d].d++,m-=1<<l-_-1):d++;for(;d>=0;d--)s[d].d==l&&m<0&&(s[d].d--,m++);m!=0&&console.log("debt left")},i.F._goodIndex=function(s,l){var c=0;return l[16|c]<=s&&(c|=16),l[8|c]<=s&&(c|=8),l[4|c]<=s&&(c|=4),l[2|c]<=s&&(c|=2),l[1|c]<=s&&(c|=1),c},i.F._writeLit=function(s,l,c,d){return i.F._putsF(c,d,l[s<<1]),d+l[1+(s<<1)]},i.F.inflate=function(s,l){var c=Uint8Array;if(s[0]==3&&s[1]==0)return l||new c(0);var d=i.F,p=d._bitsF,m=d._bitsE,_=d._decodeTiny,E=d.makeCodes,w=d.codes2map,C=d._get17,x=d.U,N=l==null;N&&(l=new c(s.length>>>2<<3));for(var q,H,J=0,Q=0,$=0,te=0,F=0,G=0,A=0,S=0,M=0;J==0;)if(J=p(s,M,1),Q=p(s,M+1,2),M+=3,Q!=0){if(N&&(l=i.F._check(l,S+(1<<17))),Q==1&&(q=x.flmap,H=x.fdmap,G=511,A=31),Q==2){$=m(s,M,5)+257,te=m(s,M+5,5)+1,F=m(s,M+10,4)+4,M+=14;for(var D=0;D<38;D+=2)x.itree[D]=0,x.itree[D+1]=0;var z=1;for(D=0;D<F;D++){var V=m(s,M+3*D,3);x.itree[1+(x.ordr[D]<<1)]=V,V>z&&(z=V)}M+=3*F,E(x.itree,z),w(x.itree,z,x.imap),q=x.lmap,H=x.dmap,M=_(x.imap,(1<<z)-1,$+te,s,M,x.ttree);var X=d._copyOut(x.ttree,0,$,x.ltree);G=(1<<X)-1;var ue=d._copyOut(x.ttree,$,te,x.dtree);A=(1<<ue)-1,E(x.ltree,X),w(x.ltree,X,q),E(x.dtree,ue),w(x.dtree,ue,H)}for(;;){var B=q[C(s,M)&G];M+=15&B;var P=B>>>4;if(!(P>>>8))l[S++]=P;else{if(P==256)break;var W=S+P-254;if(P>264){var ee=x.ldef[P-257];W=S+(ee>>>3)+m(s,M,7&ee),M+=7&ee}var j=H[C(s,M)&A];M+=15&j;var ne=j>>>4,ae=x.ddef[ne],ie=(ae>>>4)+p(s,M,15&ae);for(M+=15&ae,N&&(l=i.F._check(l,S+(1<<17)));S<W;)l[S]=l[S++-ie],l[S]=l[S++-ie],l[S]=l[S++-ie],l[S]=l[S++-ie];S=W}}}else{(7&M)!=0&&(M+=8-(7&M));var he=4+(M>>>3),le=s[he-4]|s[he-3]<<8;N&&(l=i.F._check(l,S+le)),l.set(new c(s.buffer,s.byteOffset+he,le),S),M=he+le<<3,S+=le}return l.length==S?l:l.slice(0,S)},i.F._check=function(s,l){var c=s.length;if(l<=c)return s;var d=new Uint8Array(Math.max(c<<1,l));return d.set(s,0),d},i.F._decodeTiny=function(s,l,c,d,p,m){for(var _=i.F._bitsE,E=i.F._get17,w=0;w<c;){var C=s[E(d,p)&l];p+=15&C;var x=C>>>4;if(x<=15)m[w]=x,w++;else{var N=0,q=0;x==16?(q=3+_(d,p,2),p+=2,N=m[w-1]):x==17?(q=3+_(d,p,3),p+=3):x==18&&(q=11+_(d,p,7),p+=7);for(var H=w+q;w<H;)m[w]=N,w++}}return p},i.F._copyOut=function(s,l,c,d){for(var p=0,m=0,_=d.length>>>1;m<c;){var E=s[m+l];d[m<<1]=0,d[1+(m<<1)]=E,E>p&&(p=E),m++}for(;m<_;)d[m<<1]=0,d[1+(m<<1)]=0,m++;return p},i.F.makeCodes=function(s,l){for(var c,d,p,m,_=i.F.U,E=s.length,w=_.bl_count,C=0;C<=l;C++)w[C]=0;for(C=1;C<E;C+=2)w[s[C]]++;var x=_.next_code;for(c=0,w[0]=0,d=1;d<=l;d++)c=c+w[d-1]<<1,x[d]=c;for(p=0;p<E;p+=2)(m=s[p+1])!=0&&(s[p]=x[m],x[m]++)},i.F.codes2map=function(s,l,c){for(var d=s.length,p=i.F.U.rev15,m=0;m<d;m+=2)if(s[m+1]!=0)for(var _=m>>1,E=s[m+1],w=_<<4|E,C=l-E,x=s[m]<<C,N=x+(1<<C);x!=N;)c[p[x]>>>15-l]=w,x++},i.F.revCodes=function(s,l){for(var c=i.F.U.rev15,d=15-l,p=0;p<s.length;p+=2){var m=s[p]<<l-s[p+1];s[p]=c[m]>>>d}},i.F._putsE=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8},i.F._putsF=function(s,l,c){c<<=7&l;var d=l>>>3;s[d]|=c,s[d+1]|=c>>>8,s[d+2]|=c>>>16},i.F._bitsE=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8)>>>(7&l)&(1<<c)-1},i.F._bitsF=function(s,l,c){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)&(1<<c)-1},i.F._get17=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16)>>>(7&l)},i.F._get25=function(s,l){return(s[l>>>3]|s[1+(l>>>3)]<<8|s[2+(l>>>3)]<<16|s[3+(l>>>3)]<<24)>>>(7&l)},i.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=i.F.U,l=0;l<32768;l++){var c=l;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,s.rev15[l]=(c>>>16|c<<16)>>>17}function d(p,m,_){for(;m--!=0;)p.push(0,_)}for(l=0;l<32;l++)s.ldef[l]=s.of0[l]<<3|s.exb[l],s.ddef[l]=s.df0[l]<<4|s.dxb[l];d(s.fltree,144,8),d(s.fltree,112,9),d(s.fltree,24,7),d(s.fltree,8,8),i.F.makeCodes(s.fltree,9),i.F.codes2map(s.fltree,9,s.flmap),i.F.revCodes(s.fltree,9),d(s.fdtree,32,5),i.F.makeCodes(s.fdtree,5),i.F.codes2map(s.fdtree,5,s.fdmap),i.F.revCodes(s.fdtree,5),d(s.itree,19,0),d(s.ltree,286,0),d(s.dtree,30,0),d(s.ttree,320,0)}()})();var $5=K5({__proto__:null,default:ap},[ap]);const Ss=function(){var n={nextZero(_,E){for(;_[E]!=0;)E++;return E},readUshort:(_,E)=>_[E]<<8|_[E+1],writeUshort(_,E,w){_[E]=w>>8&255,_[E+1]=255&w},readUint:(_,E)=>16777216*_[E]+(_[E+1]<<16|_[E+2]<<8|_[E+3]),writeUint(_,E,w){_[E]=w>>24&255,_[E+1]=w>>16&255,_[E+2]=w>>8&255,_[E+3]=255&w},readASCII(_,E,w){let C="";for(let x=0;x<w;x++)C+=String.fromCharCode(_[E+x]);return C},writeASCII(_,E,w){for(let C=0;C<w.length;C++)_[E+C]=w.charCodeAt(C)},readBytes(_,E,w){const C=[];for(let x=0;x<w;x++)C.push(_[E+x]);return C},pad:_=>_.length<2?`0${_}`:_,readUTF8(_,E,w){let C,x="";for(let N=0;N<w;N++)x+=`%${n.pad(_[E+N].toString(16))}`;try{C=decodeURIComponent(x)}catch{return n.readASCII(_,E,w)}return C}};function e(_,E,w,C){const x=E*w,N=l(C),q=Math.ceil(E*N/8),H=new Uint8Array(4*x),J=new Uint32Array(H.buffer),{ctype:Q}=C,{depth:$}=C,te=n.readUshort;if(Q==6){const ee=x<<2;if($==8)for(var F=0;F<ee;F+=4)H[F]=_[F],H[F+1]=_[F+1],H[F+2]=_[F+2],H[F+3]=_[F+3];if($==16)for(F=0;F<ee;F++)H[F]=_[F<<1]}else if(Q==2){const ee=C.tabs.tRNS;if(ee==null){if($==8)for(F=0;F<x;F++){var G=3*F;J[F]=255<<24|_[G+2]<<16|_[G+1]<<8|_[G]}if($==16)for(F=0;F<x;F++)G=6*F,J[F]=255<<24|_[G+4]<<16|_[G+2]<<8|_[G]}else{var A=ee[0];const j=ee[1],ne=ee[2];if($==8)for(F=0;F<x;F++){var S=F<<2;G=3*F,J[F]=255<<24|_[G+2]<<16|_[G+1]<<8|_[G],_[G]==A&&_[G+1]==j&&_[G+2]==ne&&(H[S+3]=0)}if($==16)for(F=0;F<x;F++)S=F<<2,G=6*F,J[F]=255<<24|_[G+4]<<16|_[G+2]<<8|_[G],te(_,G)==A&&te(_,G+2)==j&&te(_,G+4)==ne&&(H[S+3]=0)}}else if(Q==3){const ee=C.tabs.PLTE,j=C.tabs.tRNS,ne=j?j.length:0;if($==1)for(var M=0;M<w;M++){var D=M*q,z=M*E;for(F=0;F<E;F++){S=z+F<<2;var V=3*(X=_[D+(F>>3)]>>7-((7&F)<<0)&1);H[S]=ee[V],H[S+1]=ee[V+1],H[S+2]=ee[V+2],H[S+3]=X<ne?j[X]:255}}if($==2)for(M=0;M<w;M++)for(D=M*q,z=M*E,F=0;F<E;F++)S=z+F<<2,V=3*(X=_[D+(F>>2)]>>6-((3&F)<<1)&3),H[S]=ee[V],H[S+1]=ee[V+1],H[S+2]=ee[V+2],H[S+3]=X<ne?j[X]:255;if($==4)for(M=0;M<w;M++)for(D=M*q,z=M*E,F=0;F<E;F++)S=z+F<<2,V=3*(X=_[D+(F>>1)]>>4-((1&F)<<2)&15),H[S]=ee[V],H[S+1]=ee[V+1],H[S+2]=ee[V+2],H[S+3]=X<ne?j[X]:255;if($==8)for(F=0;F<x;F++){var X;S=F<<2,V=3*(X=_[F]),H[S]=ee[V],H[S+1]=ee[V+1],H[S+2]=ee[V+2],H[S+3]=X<ne?j[X]:255}}else if(Q==4){if($==8)for(F=0;F<x;F++){S=F<<2;var ue=_[B=F<<1];H[S]=ue,H[S+1]=ue,H[S+2]=ue,H[S+3]=_[B+1]}if($==16)for(F=0;F<x;F++){var B;S=F<<2,ue=_[B=F<<2],H[S]=ue,H[S+1]=ue,H[S+2]=ue,H[S+3]=_[B+2]}}else if(Q==0)for(A=C.tabs.tRNS?C.tabs.tRNS:-1,M=0;M<w;M++){const ee=M*q,j=M*E;if($==1)for(var P=0;P<E;P++){var W=(ue=255*(_[ee+(P>>>3)]>>>7-(7&P)&1))==255*A?0:255;J[j+P]=W<<24|ue<<16|ue<<8|ue}else if($==2)for(P=0;P<E;P++)W=(ue=85*(_[ee+(P>>>2)]>>>6-((3&P)<<1)&3))==85*A?0:255,J[j+P]=W<<24|ue<<16|ue<<8|ue;else if($==4)for(P=0;P<E;P++)W=(ue=17*(_[ee+(P>>>1)]>>>4-((1&P)<<2)&15))==17*A?0:255,J[j+P]=W<<24|ue<<16|ue<<8|ue;else if($==8)for(P=0;P<E;P++)W=(ue=_[ee+P])==A?0:255,J[j+P]=W<<24|ue<<16|ue<<8|ue;else if($==16)for(P=0;P<E;P++)ue=_[ee+(P<<1)],W=te(_,ee+(P<<1))==A?0:255,J[j+P]=W<<24|ue<<16|ue<<8|ue}return H}function t(_,E,w,C){const x=l(_),N=Math.ceil(w*x/8),q=new Uint8Array((N+1+_.interlace)*C);return E=_.tabs.CgBI?s(E,q):i(E,q),_.interlace==0?E=c(E,_,0,w,C):_.interlace==1&&(E=function(J,Q){const $=Q.width,te=Q.height,F=l(Q),G=F>>3,A=Math.ceil($*F/8),S=new Uint8Array(te*A);let M=0;const D=[0,0,4,0,2,0,1],z=[0,4,0,2,0,1,0],V=[8,8,8,4,4,2,2],X=[8,8,4,4,2,2,1];let ue=0;for(;ue<7;){const P=V[ue],W=X[ue];let ee=0,j=0,ne=D[ue];for(;ne<te;)ne+=P,j++;let ae=z[ue];for(;ae<$;)ae+=W,ee++;const ie=Math.ceil(ee*F/8);c(J,Q,M,ee,j);let he=0,le=D[ue];for(;le<te;){let Ee=z[ue],Ze=M+he*ie<<3;for(;Ee<$;){var B;if(F==1&&(B=(B=J[Ze>>3])>>7-(7&Ze)&1,S[le*A+(Ee>>3)]|=B<<7-((7&Ee)<<0)),F==2&&(B=(B=J[Ze>>3])>>6-(7&Ze)&3,S[le*A+(Ee>>2)]|=B<<6-((3&Ee)<<1)),F==4&&(B=(B=J[Ze>>3])>>4-(7&Ze)&15,S[le*A+(Ee>>1)]|=B<<4-((1&Ee)<<2)),F>=8){const De=le*A+Ee*G;for(let Fe=0;Fe<G;Fe++)S[De+Fe]=J[(Ze>>3)+Fe]}Ze+=F,Ee+=W}he++,le+=P}ee*j!=0&&(M+=j*(1+ie)),ue+=1}return S}(E,_)),E}function i(_,E){return s(new Uint8Array(_.buffer,2,_.length-6),E)}var s=function(){const _={H:{}};return _.H.N=function(E,w){const C=Uint8Array;let x,N,q=0,H=0,J=0,Q=0,$=0,te=0,F=0,G=0,A=0;if(E[0]==3&&E[1]==0)return w||new C(0);const S=_.H,M=S.b,D=S.e,z=S.R,V=S.n,X=S.A,ue=S.Z,B=S.m,P=w==null;for(P&&(w=new C(E.length>>>2<<5));q==0;)if(q=M(E,A,1),H=M(E,A+1,2),A+=3,H!=0){if(P&&(w=_.H.W(w,G+(1<<17))),H==1&&(x=B.J,N=B.h,te=511,F=31),H==2){J=D(E,A,5)+257,Q=D(E,A+5,5)+1,$=D(E,A+10,4)+4,A+=14;let ee=1;for(var W=0;W<38;W+=2)B.Q[W]=0,B.Q[W+1]=0;for(W=0;W<$;W++){const ae=D(E,A+3*W,3);B.Q[1+(B.X[W]<<1)]=ae,ae>ee&&(ee=ae)}A+=3*$,V(B.Q,ee),X(B.Q,ee,B.u),x=B.w,N=B.d,A=z(B.u,(1<<ee)-1,J+Q,E,A,B.v);const j=S.V(B.v,0,J,B.C);te=(1<<j)-1;const ne=S.V(B.v,J,Q,B.D);F=(1<<ne)-1,V(B.C,j),X(B.C,j,x),V(B.D,ne),X(B.D,ne,N)}for(;;){const ee=x[ue(E,A)&te];A+=15&ee;const j=ee>>>4;if(!(j>>>8))w[G++]=j;else{if(j==256)break;{let ne=G+j-254;if(j>264){const Ee=B.q[j-257];ne=G+(Ee>>>3)+D(E,A,7&Ee),A+=7&Ee}const ae=N[ue(E,A)&F];A+=15&ae;const ie=ae>>>4,he=B.c[ie],le=(he>>>4)+M(E,A,15&he);for(A+=15&he;G<ne;)w[G]=w[G++-le],w[G]=w[G++-le],w[G]=w[G++-le],w[G]=w[G++-le];G=ne}}}}else{(7&A)!=0&&(A+=8-(7&A));const ee=4+(A>>>3),j=E[ee-4]|E[ee-3]<<8;P&&(w=_.H.W(w,G+j)),w.set(new C(E.buffer,E.byteOffset+ee,j),G),A=ee+j<<3,G+=j}return w.length==G?w:w.slice(0,G)},_.H.W=function(E,w){const C=E.length;if(w<=C)return E;const x=new Uint8Array(C<<1);return x.set(E,0),x},_.H.R=function(E,w,C,x,N,q){const H=_.H.e,J=_.H.Z;let Q=0;for(;Q<C;){const $=E[J(x,N)&w];N+=15&$;const te=$>>>4;if(te<=15)q[Q]=te,Q++;else{let F=0,G=0;te==16?(G=3+H(x,N,2),N+=2,F=q[Q-1]):te==17?(G=3+H(x,N,3),N+=3):te==18&&(G=11+H(x,N,7),N+=7);const A=Q+G;for(;Q<A;)q[Q]=F,Q++}}return N},_.H.V=function(E,w,C,x){let N=0,q=0;const H=x.length>>>1;for(;q<C;){const J=E[q+w];x[q<<1]=0,x[1+(q<<1)]=J,J>N&&(N=J),q++}for(;q<H;)x[q<<1]=0,x[1+(q<<1)]=0,q++;return N},_.H.n=function(E,w){const C=_.H.m,x=E.length;let N,q,H,J;const Q=C.j;for(var $=0;$<=w;$++)Q[$]=0;for($=1;$<x;$+=2)Q[E[$]]++;const te=C.K;for(N=0,Q[0]=0,q=1;q<=w;q++)N=N+Q[q-1]<<1,te[q]=N;for(H=0;H<x;H+=2)J=E[H+1],J!=0&&(E[H]=te[J],te[J]++)},_.H.A=function(E,w,C){const x=E.length,N=_.H.m.r;for(let q=0;q<x;q+=2)if(E[q+1]!=0){const H=q>>1,J=E[q+1],Q=H<<4|J,$=w-J;let te=E[q]<<$;const F=te+(1<<$);for(;te!=F;)C[N[te]>>>15-w]=Q,te++}},_.H.l=function(E,w){const C=_.H.m.r,x=15-w;for(let N=0;N<E.length;N+=2){const q=E[N]<<w-E[N+1];E[N]=C[q]>>>x}},_.H.M=function(E,w,C){C<<=7&w;const x=w>>>3;E[x]|=C,E[x+1]|=C>>>8},_.H.I=function(E,w,C){C<<=7&w;const x=w>>>3;E[x]|=C,E[x+1]|=C>>>8,E[x+2]|=C>>>16},_.H.e=function(E,w,C){return(E[w>>>3]|E[1+(w>>>3)]<<8)>>>(7&w)&(1<<C)-1},_.H.b=function(E,w,C){return(E[w>>>3]|E[1+(w>>>3)]<<8|E[2+(w>>>3)]<<16)>>>(7&w)&(1<<C)-1},_.H.Z=function(E,w){return(E[w>>>3]|E[1+(w>>>3)]<<8|E[2+(w>>>3)]<<16)>>>(7&w)},_.H.i=function(E,w){return(E[w>>>3]|E[1+(w>>>3)]<<8|E[2+(w>>>3)]<<16|E[3+(w>>>3)]<<24)>>>(7&w)},_.H.m=function(){const E=Uint16Array,w=Uint32Array;return{K:new E(16),j:new E(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new E(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new w(32),J:new E(512),_:[],h:new E(32),$:[],w:new E(32768),C:[],v:[],d:new E(32768),D:[],u:new E(512),Q:[],r:new E(32768),s:new w(286),Y:new w(30),a:new w(19),t:new w(15e3),k:new E(65536),g:new E(32768)}}(),function(){const E=_.H.m;for(var w=0;w<32768;w++){let x=w;x=(2863311530&x)>>>1|(1431655765&x)<<1,x=(3435973836&x)>>>2|(858993459&x)<<2,x=(4042322160&x)>>>4|(252645135&x)<<4,x=(4278255360&x)>>>8|(16711935&x)<<8,E.r[w]=(x>>>16|x<<16)>>>17}function C(x,N,q){for(;N--!=0;)x.push(0,q)}for(w=0;w<32;w++)E.q[w]=E.S[w]<<3|E.T[w],E.c[w]=E.p[w]<<4|E.z[w];C(E._,144,8),C(E._,112,9),C(E._,24,7),C(E._,8,8),_.H.n(E._,9),_.H.A(E._,9,E.J),_.H.l(E._,9),C(E.$,32,5),_.H.n(E.$,5),_.H.A(E.$,5,E.h),_.H.l(E.$,5),C(E.Q,19,0),C(E.C,286,0),C(E.D,30,0),C(E.v,320,0)}(),_.H.N}();function l(_){return[1,null,3,1,2,null,4][_.ctype]*_.depth}function c(_,E,w,C,x){let N=l(E);const q=Math.ceil(C*N/8);let H,J;N=Math.ceil(N/8);let Q=_[w],$=0;if(Q>1&&(_[w]=[0,0,1][Q-2]),Q==3)for($=N;$<q;$++)_[$+1]=_[$+1]+(_[$+1-N]>>>1)&255;for(let te=0;te<x;te++)if(H=w+te*q,J=H+te+1,Q=_[J-1],$=0,Q==0)for(;$<q;$++)_[H+$]=_[J+$];else if(Q==1){for(;$<N;$++)_[H+$]=_[J+$];for(;$<q;$++)_[H+$]=_[J+$]+_[H+$-N]}else if(Q==2)for(;$<q;$++)_[H+$]=_[J+$]+_[H+$-q];else if(Q==3){for(;$<N;$++)_[H+$]=_[J+$]+(_[H+$-q]>>>1);for(;$<q;$++)_[H+$]=_[J+$]+(_[H+$-q]+_[H+$-N]>>>1)}else{for(;$<N;$++)_[H+$]=_[J+$]+d(0,_[H+$-q],0);for(;$<q;$++)_[H+$]=_[J+$]+d(_[H+$-N],_[H+$-q],_[H+$-N-q])}return _}function d(_,E,w){const C=_+E-w,x=C-_,N=C-E,q=C-w;return x*x<=N*N&&x*x<=q*q?_:N*N<=q*q?E:w}function p(_,E,w){w.width=n.readUint(_,E),E+=4,w.height=n.readUint(_,E),E+=4,w.depth=_[E],E++,w.ctype=_[E],E++,w.compress=_[E],E++,w.filter=_[E],E++,w.interlace=_[E],E++}function m(_,E,w,C,x,N,q,H,J){const Q=Math.min(E,x),$=Math.min(w,N);let te=0,F=0;for(let ue=0;ue<$;ue++)for(let B=0;B<Q;B++)if(q>=0&&H>=0?(te=ue*E+B<<2,F=(H+ue)*x+q+B<<2):(te=(-H+ue)*E-q+B<<2,F=ue*x+B<<2),J==0)C[F]=_[te],C[F+1]=_[te+1],C[F+2]=_[te+2],C[F+3]=_[te+3];else if(J==1){var G=_[te+3]*.00392156862745098,A=_[te]*G,S=_[te+1]*G,M=_[te+2]*G,D=C[F+3]*(1/255),z=C[F]*D,V=C[F+1]*D,X=C[F+2]*D;const P=1-G,W=G+D*P,ee=W==0?0:1/W;C[F+3]=255*W,C[F+0]=(A+z*P)*ee,C[F+1]=(S+V*P)*ee,C[F+2]=(M+X*P)*ee}else if(J==2)G=_[te+3],A=_[te],S=_[te+1],M=_[te+2],D=C[F+3],z=C[F],V=C[F+1],X=C[F+2],G==D&&A==z&&S==V&&M==X?(C[F]=0,C[F+1]=0,C[F+2]=0,C[F+3]=0):(C[F]=A,C[F+1]=S,C[F+2]=M,C[F+3]=G);else if(J==3){if(G=_[te+3],A=_[te],S=_[te+1],M=_[te+2],D=C[F+3],z=C[F],V=C[F+1],X=C[F+2],G==D&&A==z&&S==V&&M==X)continue;if(G<220&&D>20)return!1}return!0}return{decode:function(E){const w=new Uint8Array(E);let C=8;const x=n,N=x.readUshort,q=x.readUint,H={tabs:{},frames:[]},J=new Uint8Array(w.length);let Q,$=0,te=0;const F=[137,80,78,71,13,10,26,10];for(var G=0;G<8;G++)if(w[G]!=F[G])throw"The input is not a PNG file!";for(;C<w.length;){const ue=x.readUint(w,C);C+=4;const B=x.readASCII(w,C,4);if(C+=4,B=="IHDR")p(w,C,H);else if(B=="iCCP"){for(var A=C;w[A]!=0;)A++;x.readASCII(w,C,A-C),w[A+1];const P=w.slice(A+2,C+ue);let W=null;try{W=i(P)}catch{W=s(P)}H.tabs[B]=W}else if(B=="CgBI")H.tabs[B]=w.slice(C,C+4);else if(B=="IDAT"){for(G=0;G<ue;G++)J[$+G]=w[C+G];$+=ue}else if(B=="acTL")H.tabs[B]={num_frames:q(w,C),num_plays:q(w,C+4)},Q=new Uint8Array(w.length);else if(B=="fcTL"){te!=0&&((X=H.frames[H.frames.length-1]).data=t(H,Q.slice(0,te),X.rect.width,X.rect.height),te=0);const P={x:q(w,C+12),y:q(w,C+16),width:q(w,C+4),height:q(w,C+8)};let W=N(w,C+22);W=N(w,C+20)/(W==0?100:W);const ee={rect:P,delay:Math.round(1e3*W),dispose:w[C+24],blend:w[C+25]};H.frames.push(ee)}else if(B=="fdAT"){for(G=0;G<ue-4;G++)Q[te+G]=w[C+G+4];te+=ue-4}else if(B=="pHYs")H.tabs[B]=[x.readUint(w,C),x.readUint(w,C+4),w[C+8]];else if(B=="cHRM")for(H.tabs[B]=[],G=0;G<8;G++)H.tabs[B].push(x.readUint(w,C+4*G));else if(B=="tEXt"||B=="zTXt"){H.tabs[B]==null&&(H.tabs[B]={});var S=x.nextZero(w,C),M=x.readASCII(w,C,S-C),D=C+ue-S-1;if(B=="tEXt")V=x.readASCII(w,S+1,D);else{var z=i(w.slice(S+2,S+2+D));V=x.readUTF8(z,0,z.length)}H.tabs[B][M]=V}else if(B=="iTXt"){H.tabs[B]==null&&(H.tabs[B]={}),S=0,A=C,S=x.nextZero(w,A),M=x.readASCII(w,A,S-A);const P=w[A=S+1];var V;w[A+1],A+=2,S=x.nextZero(w,A),x.readASCII(w,A,S-A),A=S+1,S=x.nextZero(w,A),x.readUTF8(w,A,S-A),D=ue-((A=S+1)-C),P==0?V=x.readUTF8(w,A,D):(z=i(w.slice(A,A+D)),V=x.readUTF8(z,0,z.length)),H.tabs[B][M]=V}else if(B=="PLTE")H.tabs[B]=x.readBytes(w,C,ue);else if(B=="hIST"){const P=H.tabs.PLTE.length/3;for(H.tabs[B]=[],G=0;G<P;G++)H.tabs[B].push(N(w,C+2*G))}else if(B=="tRNS")H.ctype==3?H.tabs[B]=x.readBytes(w,C,ue):H.ctype==0?H.tabs[B]=N(w,C):H.ctype==2&&(H.tabs[B]=[N(w,C),N(w,C+2),N(w,C+4)]);else if(B=="gAMA")H.tabs[B]=x.readUint(w,C)/1e5;else if(B=="sRGB")H.tabs[B]=w[C];else if(B=="bKGD")H.ctype==0||H.ctype==4?H.tabs[B]=[N(w,C)]:H.ctype==2||H.ctype==6?H.tabs[B]=[N(w,C),N(w,C+2),N(w,C+4)]:H.ctype==3&&(H.tabs[B]=w[C]);else if(B=="IEND")break;C+=ue,x.readUint(w,C),C+=4}var X;return te!=0&&((X=H.frames[H.frames.length-1]).data=t(H,Q.slice(0,te),X.rect.width,X.rect.height)),H.data=t(H,J,H.width,H.height),delete H.compress,delete H.interlace,delete H.filter,H},toRGBA8:function(E){const w=E.width,C=E.height;if(E.tabs.acTL==null)return[e(E.data,w,C,E).buffer];const x=[];E.frames[0].data==null&&(E.frames[0].data=E.data);const N=w*C*4,q=new Uint8Array(N),H=new Uint8Array(N),J=new Uint8Array(N);for(let $=0;$<E.frames.length;$++){const te=E.frames[$],F=te.rect.x,G=te.rect.y,A=te.rect.width,S=te.rect.height,M=e(te.data,A,S,E);if($!=0)for(var Q=0;Q<N;Q++)J[Q]=q[Q];if(te.blend==0?m(M,A,S,q,w,C,F,G,0):te.blend==1&&m(M,A,S,q,w,C,F,G,1),x.push(q.buffer.slice(0)),te.dispose!=0){if(te.dispose==1)m(H,A,S,q,w,C,F,G,0);else if(te.dispose==2)for(Q=0;Q<N;Q++)q[Q]=J[Q]}}return x},_paeth:d,_copyTile:m,_bin:n}}();(function(){const{_copyTile:n}=Ss,{_bin:e}=Ss,t=Ss._paeth;var i={table:function(){const A=new Uint32Array(256);for(let S=0;S<256;S++){let M=S;for(let D=0;D<8;D++)1&M?M=3988292384^M>>>1:M>>>=1;A[S]=M}return A}(),update(A,S,M,D){for(let z=0;z<D;z++)A=i.table[255&(A^S[M+z])]^A>>>8;return A},crc:(A,S,M)=>4294967295^i.update(4294967295,A,S,M)};function s(A,S,M,D){S[M]+=A[0]*D>>4,S[M+1]+=A[1]*D>>4,S[M+2]+=A[2]*D>>4,S[M+3]+=A[3]*D>>4}function l(A){return Math.max(0,Math.min(255,A))}function c(A,S){const M=A[0]-S[0],D=A[1]-S[1],z=A[2]-S[2],V=A[3]-S[3];return M*M+D*D+z*z+V*V}function d(A,S,M,D,z,V,X){X==null&&(X=1);const ue=D.length,B=[];for(var P=0;P<ue;P++){const le=D[P];B.push([le>>>0&255,le>>>8&255,le>>>16&255,le>>>24&255])}for(P=0;P<ue;P++){let le=4294967295;for(var W=0,ee=0;ee<ue;ee++){var j=c(B[P],B[ee]);ee!=P&&j<le&&(le=j,W=ee)}}const ne=new Uint32Array(z.buffer),ae=new Int16Array(S*M*4),ie=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<ie.length;P++)ie[P]=255*((ie[P]+.5)/16-.5);for(let le=0;le<M;le++)for(let Ee=0;Ee<S;Ee++){var he;P=4*(le*S+Ee),X!=2?he=[l(A[P]+ae[P]),l(A[P+1]+ae[P+1]),l(A[P+2]+ae[P+2]),l(A[P+3]+ae[P+3])]:(j=ie[4*(3&le)+(3&Ee)],he=[l(A[P]+j),l(A[P+1]+j),l(A[P+2]+j),l(A[P+3]+j)]),W=0;let Ze=16777215;for(ee=0;ee<ue;ee++){const je=c(he,B[ee]);je<Ze&&(Ze=je,W=ee)}const De=B[W],Fe=[he[0]-De[0],he[1]-De[1],he[2]-De[2],he[3]-De[3]];X==1&&(Ee!=S-1&&s(Fe,ae,P+4,7),le!=M-1&&(Ee!=0&&s(Fe,ae,P+4*S-4,3),s(Fe,ae,P+4*S,5),Ee!=S-1&&s(Fe,ae,P+4*S+4,1))),V[P>>2]=W,ne[P>>2]=D[W]}}function p(A,S,M,D,z){z==null&&(z={});const{crc:V}=i,X=e.writeUint,ue=e.writeUshort,B=e.writeASCII;let P=8;const W=A.frames.length>1;let ee,j=!1,ne=33+(W?20:0);if(z.sRGB!=null&&(ne+=13),z.pHYs!=null&&(ne+=21),z.iCCP!=null&&(ee=pako.deflate(z.iCCP),ne+=21+ee.length+4),A.ctype==3){for(var ae=A.plte.length,ie=0;ie<ae;ie++)A.plte[ie]>>>24!=255&&(j=!0);ne+=8+3*ae+4+(j?8+1*ae+4:0)}for(var he=0;he<A.frames.length;he++)W&&(ne+=38),ne+=(De=A.frames[he]).cimg.length+12,he!=0&&(ne+=4);ne+=12;const le=new Uint8Array(ne),Ee=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)le[ie]=Ee[ie];if(X(le,P,13),P+=4,B(le,P,"IHDR"),P+=4,X(le,P,S),P+=4,X(le,P,M),P+=4,le[P]=A.depth,P++,le[P]=A.ctype,P++,le[P]=0,P++,le[P]=0,P++,le[P]=0,P++,X(le,P,V(le,P-17,17)),P+=4,z.sRGB!=null&&(X(le,P,1),P+=4,B(le,P,"sRGB"),P+=4,le[P]=z.sRGB,P++,X(le,P,V(le,P-5,5)),P+=4),z.iCCP!=null){const Fe=13+ee.length;X(le,P,Fe),P+=4,B(le,P,"iCCP"),P+=4,B(le,P,"ICC profile"),P+=11,P+=2,le.set(ee,P),P+=ee.length,X(le,P,V(le,P-(Fe+4),Fe+4)),P+=4}if(z.pHYs!=null&&(X(le,P,9),P+=4,B(le,P,"pHYs"),P+=4,X(le,P,z.pHYs[0]),P+=4,X(le,P,z.pHYs[1]),P+=4,le[P]=z.pHYs[2],P++,X(le,P,V(le,P-13,13)),P+=4),W&&(X(le,P,8),P+=4,B(le,P,"acTL"),P+=4,X(le,P,A.frames.length),P+=4,X(le,P,z.loop!=null?z.loop:0),P+=4,X(le,P,V(le,P-12,12)),P+=4),A.ctype==3){for(X(le,P,3*(ae=A.plte.length)),P+=4,B(le,P,"PLTE"),P+=4,ie=0;ie<ae;ie++){const Fe=3*ie,je=A.plte[ie],ze=255&je,et=je>>>8&255,kt=je>>>16&255;le[P+Fe+0]=ze,le[P+Fe+1]=et,le[P+Fe+2]=kt}if(P+=3*ae,X(le,P,V(le,P-3*ae-4,3*ae+4)),P+=4,j){for(X(le,P,ae),P+=4,B(le,P,"tRNS"),P+=4,ie=0;ie<ae;ie++)le[P+ie]=A.plte[ie]>>>24&255;P+=ae,X(le,P,V(le,P-ae-4,ae+4)),P+=4}}let Ze=0;for(he=0;he<A.frames.length;he++){var De=A.frames[he];W&&(X(le,P,26),P+=4,B(le,P,"fcTL"),P+=4,X(le,P,Ze++),P+=4,X(le,P,De.rect.width),P+=4,X(le,P,De.rect.height),P+=4,X(le,P,De.rect.x),P+=4,X(le,P,De.rect.y),P+=4,ue(le,P,D[he]),P+=2,ue(le,P,1e3),P+=2,le[P]=De.dispose,P++,le[P]=De.blend,P++,X(le,P,V(le,P-30,30)),P+=4);const Fe=De.cimg;X(le,P,(ae=Fe.length)+(he==0?0:4)),P+=4;const je=P;B(le,P,he==0?"IDAT":"fdAT"),P+=4,he!=0&&(X(le,P,Ze++),P+=4),le.set(Fe,P),P+=ae,X(le,P,V(le,je,P-je)),P+=4}return X(le,P,0),P+=4,B(le,P,"IEND"),P+=4,X(le,P,V(le,P-4,4)),P+=4,le.buffer}function m(A,S,M){for(let D=0;D<A.frames.length;D++){const z=A.frames[D];z.rect.width;const V=z.rect.height,X=new Uint8Array(V*z.bpl+V);z.cimg=C(z.img,V,z.bpp,z.bpl,X,S,M)}}function _(A,S,M,D,z){const V=z[0],X=z[1],ue=z[2],B=z[3],P=z[4],W=z[5];let ee=6,j=8,ne=255;for(var ae=0;ae<A.length;ae++){const Le=new Uint8Array(A[ae]);for(var ie=Le.length,he=0;he<ie;he+=4)ne&=Le[he+3]}const le=ne!=255,Ee=function(He,Ue,rt,dt,It,Pt){const Mt=[];for(var ct=0;ct<He.length;ct++){const yn=new Uint8Array(He[ct]),nn=new Uint32Array(yn.buffer);var Xt;let Kt=0,mn=0,En=Ue,Dn=rt,er=dt?1:0;if(ct!=0){const ti=Pt||dt||ct==1||Mt[ct-2].dispose!=0?1:2;let fr=0,dr=1e9;for(let zi=0;zi<ti;zi++){var tt=new Uint8Array(He[ct-1-zi]);const Ii=new Uint32Array(He[ct-1-zi]);let Bn=Ue,ci=rt,Nn=-1,_i=-1;for(let vi=0;vi<rt;vi++)for(let oe=0;oe<Ue;oe++)nn[bt=vi*Ue+oe]!=Ii[bt]&&(oe<Bn&&(Bn=oe),oe>Nn&&(Nn=oe),vi<ci&&(ci=vi),vi>_i&&(_i=vi));Nn==-1&&(Bn=ci=Nn=_i=0),It&&((1&Bn)==1&&Bn--,(1&ci)==1&&ci--);const tr=(Nn-Bn+1)*(_i-ci+1);tr<dr&&(dr=tr,fr=zi,Kt=Bn,mn=ci,En=Nn-Bn+1,Dn=_i-ci+1)}tt=new Uint8Array(He[ct-1-fr]),fr==1&&(Mt[ct-1].dispose=2),Xt=new Uint8Array(En*Dn*4),n(tt,Ue,rt,Xt,En,Dn,-Kt,-mn,0),er=n(yn,Ue,rt,Xt,En,Dn,-Kt,-mn,3)?1:0,er==1?w(yn,Ue,rt,Xt,{x:Kt,y:mn,width:En,height:Dn}):n(yn,Ue,rt,Xt,En,Dn,-Kt,-mn,0)}else Xt=yn.slice(0);Mt.push({rect:{x:Kt,y:mn,width:En,height:Dn},img:Xt,blend:er,dispose:0})}if(dt)for(ct=0;ct<Mt.length;ct++){if((tn=Mt[ct]).blend==1)continue;const yn=tn.rect,nn=Mt[ct-1].rect,Kt=Math.min(yn.x,nn.x),mn=Math.min(yn.y,nn.y),En={x:Kt,y:mn,width:Math.max(yn.x+yn.width,nn.x+nn.width)-Kt,height:Math.max(yn.y+yn.height,nn.y+nn.height)-mn};Mt[ct-1].dispose=1,ct-1!=0&&E(He,Ue,rt,Mt,ct-1,En,It),E(He,Ue,rt,Mt,ct,En,It)}let nt=0;if(He.length!=1)for(var bt=0;bt<Mt.length;bt++){var tn;nt+=(tn=Mt[bt]).rect.width*tn.rect.height}return Mt}(A,S,M,V,X,ue),Ze={},De=[],Fe=[];if(D!=0){const Le=[];for(he=0;he<Ee.length;he++)Le.push(Ee[he].img.buffer);const He=function(It){let Pt=0;for(var Mt=0;Mt<It.length;Mt++)Pt+=It[Mt].byteLength;const ct=new Uint8Array(Pt);let Xt=0;for(Mt=0;Mt<It.length;Mt++){const tt=new Uint8Array(It[Mt]),nt=tt.length;for(let bt=0;bt<nt;bt+=4){let tn=tt[bt],yn=tt[bt+1],nn=tt[bt+2];const Kt=tt[bt+3];Kt==0&&(tn=yn=nn=0),ct[Xt+bt]=tn,ct[Xt+bt+1]=yn,ct[Xt+bt+2]=nn,ct[Xt+bt+3]=Kt}Xt+=nt}return ct.buffer}(Le),Ue=N(He,D);for(he=0;he<Ue.plte.length;he++)De.push(Ue.plte[he].est.rgba);let rt=0;for(he=0;he<Ee.length;he++){const dt=(ze=Ee[he]).img.length;var je=new Uint8Array(Ue.inds.buffer,rt>>2,dt>>2);Fe.push(je);const It=new Uint8Array(Ue.abuf,rt,dt);W&&d(ze.img,ze.rect.width,ze.rect.height,De,It,je),ze.img.set(It),rt+=dt}}else for(ae=0;ae<Ee.length;ae++){var ze=Ee[ae];const Le=new Uint32Array(ze.img.buffer);var et=ze.rect.width;for(ie=Le.length,je=new Uint8Array(ie),Fe.push(je),he=0;he<ie;he++){const He=Le[he];if(he!=0&&He==Le[he-1])je[he]=je[he-1];else if(he>et&&He==Le[he-et])je[he]=je[he-et];else{let Ue=Ze[He];if(Ue==null&&(Ze[He]=Ue=De.length,De.push(He),De.length>=300))break;je[he]=Ue}}}const kt=De.length;for(kt<=256&&P==0&&(j=kt<=2?1:kt<=4?2:kt<=16?4:8,j=Math.max(j,B)),ae=0;ae<Ee.length;ae++){(ze=Ee[ae]).rect.x,ze.rect.y,et=ze.rect.width;const Le=ze.rect.height;let He=ze.img;new Uint32Array(He.buffer);let Ue=4*et,rt=4;if(kt<=256&&P==0){Ue=Math.ceil(j*et/8);var Te=new Uint8Array(Ue*Le);const dt=Fe[ae];for(let It=0;It<Le;It++){he=It*Ue;const Pt=It*et;if(j==8)for(var Ne=0;Ne<et;Ne++)Te[he+Ne]=dt[Pt+Ne];else if(j==4)for(Ne=0;Ne<et;Ne++)Te[he+(Ne>>1)]|=dt[Pt+Ne]<<4-4*(1&Ne);else if(j==2)for(Ne=0;Ne<et;Ne++)Te[he+(Ne>>2)]|=dt[Pt+Ne]<<6-2*(3&Ne);else if(j==1)for(Ne=0;Ne<et;Ne++)Te[he+(Ne>>3)]|=dt[Pt+Ne]<<7-1*(7&Ne)}He=Te,ee=3,rt=1}else if(le==0&&Ee.length==1){Te=new Uint8Array(et*Le*3);const dt=et*Le;for(he=0;he<dt;he++){const It=3*he,Pt=4*he;Te[It]=He[Pt],Te[It+1]=He[Pt+1],Te[It+2]=He[Pt+2]}He=Te,ee=2,rt=3,Ue=3*et}ze.img=He,ze.bpl=Ue,ze.bpp=rt}return{ctype:ee,depth:j,plte:De,frames:Ee}}function E(A,S,M,D,z,V,X){const ue=Uint8Array,B=Uint32Array,P=new ue(A[z-1]),W=new B(A[z-1]),ee=z+1<A.length?new ue(A[z+1]):null,j=new ue(A[z]),ne=new B(j.buffer);let ae=S,ie=M,he=-1,le=-1;for(let Ze=0;Ze<V.height;Ze++)for(let De=0;De<V.width;De++){const Fe=V.x+De,je=V.y+Ze,ze=je*S+Fe,et=ne[ze];et==0||D[z-1].dispose==0&&W[ze]==et&&(ee==null||ee[4*ze+3]!=0)||(Fe<ae&&(ae=Fe),Fe>he&&(he=Fe),je<ie&&(ie=je),je>le&&(le=je))}he==-1&&(ae=ie=he=le=0),X&&((1&ae)==1&&ae--,(1&ie)==1&&ie--),V={x:ae,y:ie,width:he-ae+1,height:le-ie+1};const Ee=D[z];Ee.rect=V,Ee.blend=1,Ee.img=new Uint8Array(V.width*V.height*4),D[z-1].dispose==0?(n(P,S,M,Ee.img,V.width,V.height,-V.x,-V.y,0),w(j,S,M,Ee.img,V)):n(j,S,M,Ee.img,V.width,V.height,-V.x,-V.y,0)}function w(A,S,M,D,z){n(A,S,M,D,z.width,z.height,-z.x,-z.y,2)}function C(A,S,M,D,z,V,X){const ue=[];let B,P=[0,1,2,3,4];V!=-1?P=[V]:(S*D>5e5||M==1)&&(P=[0]),X&&(B={level:0});const W=$5;for(var ee=0;ee<P.length;ee++){for(let ae=0;ae<S;ae++)x(z,A,ae,D,M,P[ee]);ue.push(W.deflate(z,B))}let j,ne=1e9;for(ee=0;ee<ue.length;ee++)ue[ee].length<ne&&(j=ee,ne=ue[ee].length);return ue[j]}function x(A,S,M,D,z,V){const X=M*D;let ue=X+M;if(A[ue]=V,ue++,V==0)if(D<500)for(var B=0;B<D;B++)A[ue+B]=S[X+B];else A.set(new Uint8Array(S.buffer,X,D),ue);else if(V==1){for(B=0;B<z;B++)A[ue+B]=S[X+B];for(B=z;B<D;B++)A[ue+B]=S[X+B]-S[X+B-z]+256&255}else if(M==0){for(B=0;B<z;B++)A[ue+B]=S[X+B];if(V==2)for(B=z;B<D;B++)A[ue+B]=S[X+B];if(V==3)for(B=z;B<D;B++)A[ue+B]=S[X+B]-(S[X+B-z]>>1)+256&255;if(V==4)for(B=z;B<D;B++)A[ue+B]=S[X+B]-t(S[X+B-z],0,0)+256&255}else{if(V==2)for(B=0;B<D;B++)A[ue+B]=S[X+B]+256-S[X+B-D]&255;if(V==3){for(B=0;B<z;B++)A[ue+B]=S[X+B]+256-(S[X+B-D]>>1)&255;for(B=z;B<D;B++)A[ue+B]=S[X+B]+256-(S[X+B-D]+S[X+B-z]>>1)&255}if(V==4){for(B=0;B<z;B++)A[ue+B]=S[X+B]+256-t(0,S[X+B-D],0)&255;for(B=z;B<D;B++)A[ue+B]=S[X+B]+256-t(S[X+B-z],S[X+B-D],S[X+B-z-D])&255}}}function N(A,S){const M=new Uint8Array(A),D=M.slice(0),z=new Uint32Array(D.buffer),V=q(D,S),X=V[0],ue=V[1],B=M.length,P=new Uint8Array(B>>2);let W;if(M.length<2e7)for(var ee=0;ee<B;ee+=4)W=H(X,j=M[ee]*(1/255),ne=M[ee+1]*(1/255),ae=M[ee+2]*(1/255),ie=M[ee+3]*(1/255)),P[ee>>2]=W.ind,z[ee>>2]=W.est.rgba;else for(ee=0;ee<B;ee+=4){var j=M[ee]*.00392156862745098,ne=M[ee+1]*(1/255),ae=M[ee+2]*(1/255),ie=M[ee+3]*(1/255);for(W=X;W.left;)W=J(W.est,j,ne,ae,ie)<=0?W.left:W.right;P[ee>>2]=W.ind,z[ee>>2]=W.est.rgba}return{abuf:D.buffer,inds:P,plte:ue}}function q(A,S,M){M==null&&(M=1e-4);const D=new Uint32Array(A.buffer),z={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};z.bst=te(A,z.i0,z.i1),z.est=F(z.bst);const V=[z];for(;V.length<S;){let ue=0,B=0;for(var X=0;X<V.length;X++)V[X].est.L>ue&&(ue=V[X].est.L,B=X);if(ue<M)break;const P=V[B],W=Q(A,D,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=W||P.i1<=W){P.est.L=0;continue}const ee={i0:P.i0,i1:W,bst:null,est:null,tdst:0,left:null,right:null};ee.bst=te(A,ee.i0,ee.i1),ee.est=F(ee.bst);const j={i0:W,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:P.bst.N-ee.bst.N},X=0;X<16;X++)j.bst.R[X]=P.bst.R[X]-ee.bst.R[X];for(X=0;X<4;X++)j.bst.m[X]=P.bst.m[X]-ee.bst.m[X];j.est=F(j.bst),P.left=ee,P.right=j,V[B]=ee,V.push(j)}for(V.sort((ue,B)=>B.bst.N-ue.bst.N),X=0;X<V.length;X++)V[X].ind=X;return[z,V]}function H(A,S,M,D,z){if(A.left==null)return A.tdst=function(ee,j,ne,ae,ie){const he=j-ee[0],le=ne-ee[1],Ee=ae-ee[2],Ze=ie-ee[3];return he*he+le*le+Ee*Ee+Ze*Ze}(A.est.q,S,M,D,z),A;const V=J(A.est,S,M,D,z);let X=A.left,ue=A.right;V>0&&(X=A.right,ue=A.left);const B=H(X,S,M,D,z);if(B.tdst<=V*V)return B;const P=H(ue,S,M,D,z);return P.tdst<B.tdst?P:B}function J(A,S,M,D,z){const{e:V}=A;return V[0]*S+V[1]*M+V[2]*D+V[3]*z-A.eMq}function Q(A,S,M,D,z,V){for(D-=4;M<D;){for(;$(A,M,z)<=V;)M+=4;for(;$(A,D,z)>V;)D-=4;if(M>=D)break;const X=S[M>>2];S[M>>2]=S[D>>2],S[D>>2]=X,M+=4,D-=4}for(;$(A,M,z)>V;)M-=4;return M+4}function $(A,S,M){return A[S]*M[0]+A[S+1]*M[1]+A[S+2]*M[2]+A[S+3]*M[3]}function te(A,S,M){const D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],z=[0,0,0,0],V=M-S>>2;for(let X=S;X<M;X+=4){const ue=A[X]*.00392156862745098,B=A[X+1]*(1/255),P=A[X+2]*(1/255),W=A[X+3]*(1/255);z[0]+=ue,z[1]+=B,z[2]+=P,z[3]+=W,D[0]+=ue*ue,D[1]+=ue*B,D[2]+=ue*P,D[3]+=ue*W,D[5]+=B*B,D[6]+=B*P,D[7]+=B*W,D[10]+=P*P,D[11]+=P*W,D[15]+=W*W}return D[4]=D[1],D[8]=D[2],D[9]=D[6],D[12]=D[3],D[13]=D[7],D[14]=D[11],{R:D,m:z,N:V}}function F(A){const{R:S}=A,{m:M}=A,{N:D}=A,z=M[0],V=M[1],X=M[2],ue=M[3],B=D==0?0:1/D,P=[S[0]-z*z*B,S[1]-z*V*B,S[2]-z*X*B,S[3]-z*ue*B,S[4]-V*z*B,S[5]-V*V*B,S[6]-V*X*B,S[7]-V*ue*B,S[8]-X*z*B,S[9]-X*V*B,S[10]-X*X*B,S[11]-X*ue*B,S[12]-ue*z*B,S[13]-ue*V*B,S[14]-ue*X*B,S[15]-ue*ue*B],W=P,ee=G;let j=[Math.random(),Math.random(),Math.random(),Math.random()],ne=0,ae=0;if(D!=0)for(let he=0;he<16&&(j=ee.multVec(W,j),ae=Math.sqrt(ee.dot(j,j)),j=ee.sml(1/ae,j),!(he!=0&&Math.abs(ae-ne)<1e-9));he++)ne=ae;const ie=[z*B,V*B,X*B,ue*B];return{Cov:P,q:ie,e:j,L:ne,eMq255:ee.dot(ee.sml(255,ie),j),eMq:ee.dot(j,ie),rgba:(Math.round(255*ie[3])<<24|Math.round(255*ie[2])<<16|Math.round(255*ie[1])<<8|Math.round(255*ie[0])<<0)>>>0}}var G={multVec:(A,S)=>[A[0]*S[0]+A[1]*S[1]+A[2]*S[2]+A[3]*S[3],A[4]*S[0]+A[5]*S[1]+A[6]*S[2]+A[7]*S[3],A[8]*S[0]+A[9]*S[1]+A[10]*S[2]+A[11]*S[3],A[12]*S[0]+A[13]*S[1]+A[14]*S[2]+A[15]*S[3]],dot:(A,S)=>A[0]*S[0]+A[1]*S[1]+A[2]*S[2]+A[3]*S[3],sml:(A,S)=>[A*S[0],A*S[1],A*S[2],A*S[3]]};Ss.encode=function(S,M,D,z,V,X,ue){z==null&&(z=0),ue==null&&(ue=!1);const B=_(S,M,D,z,[!1,!1,!1,0,ue,!1]);return m(B,-1),p(B,M,D,V,X)},Ss.encodeLL=function(S,M,D,z,V,X,ue,B){const P={ctype:0+(z==1?0:2)+(V==0?0:4),depth:X,frames:[]},W=(z+V)*X,ee=W*M;for(let j=0;j<S.length;j++)P.frames.push({rect:{x:0,y:0,width:M,height:D},img:new Uint8Array(S[j]),blend:0,dispose:1,bpp:Math.ceil(W/8),bpl:Math.ceil(ee/8)});return m(P,0,!0),p(P,M,D,ue,B)},Ss.encode.compress=_,Ss.encode.dither=d,Ss.quantize=N,Ss.quantize.getKDtree=q,Ss.quantize.getNearest=H})();const tC={toArrayBuffer(n,e){const t=n.width,i=n.height,s=t<<2,l=n.getContext("2d").getImageData(0,0,t,i),c=new Uint32Array(l.data.buffer),d=(32*t+31)/32<<2,p=d*i,m=122+p,_=new ArrayBuffer(m),E=new DataView(_),w=1<<20;let C,x,N,q,H=w,J=0,Q=0,$=0;function te(A){E.setUint16(Q,A,!0),Q+=2}function F(A){E.setUint32(Q,A,!0),Q+=4}function G(A){Q+=A}te(19778),F(m),G(4),F(122),F(108),F(t),F(-i>>>0),te(1),te(32),F(3),F(p),F(2835),F(2835),G(8),F(16711680),F(65280),F(255),F(4278190080),F(1466527264),function A(){for(;J<i&&H>0;){for(q=122+J*d,C=0;C<s;)H--,x=c[$++],N=x>>>24,E.setUint32(q+C,x<<8|N),C+=4;J++}$<c.length?(H=w,setTimeout(A,tC._dly)):e(_)}()},toBlob(n,e){this.toArrayBuffer(n,t=>{e(new Blob([t],{type:"image/bmp"}))})},_dly:9};var Tr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},W5={[Tr.CHROME]:16384,[Tr.FIREFOX]:11180,[Tr.DESKTOP_SAFARI]:16384,[Tr.IE]:8192,[Tr.IOS]:4096,[Tr.ETC]:8192};const gy=typeof window<"u",nC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,op=gy&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),X5=(gy||nC)&&(op&&op.getOriginalSymbol(window,"File")||typeof File<"u"&&File),iC=(gy||nC)&&(op&&op.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function _y(n,e,t=Date.now()){return new Promise(i=>{const s=n.split(","),l=s[0].match(/:(.*?);/)[1],c=globalThis.atob(s[1]);let d=c.length;const p=new Uint8Array(d);for(;d--;)p[d]=c.charCodeAt(d);const m=new Blob([p],{type:l});m.name=e,m.lastModified=t,i(m)})}function rC(n){return new Promise((e,t)=>{const i=new iC;i.onload=()=>e(i.result),i.onerror=s=>t(s),i.readAsDataURL(n)})}function sC(n){return new Promise((e,t)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s=>t(s),i.src=n})}function Pl(){if(Pl.cachedResult!==void 0)return Pl.cachedResult;let n=Tr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Tr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Tr.IOS:/Safari/i.test(e)?n=Tr.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Tr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=Tr.IE),Pl.cachedResult=n,Pl.cachedResult}function aC(n,e){const t=Pl(),i=W5[t];let s=n,l=e,c=s*l;const d=s>l?l/s:s/l;for(;c>i*i;){const p=(i+s)/2,m=(i+l)/2;p<m?(l=m,s=m*d):(l=p*d,s=p),c=s*l}return{width:s,height:l}}function Zp(n,e){let t,i;try{if(t=new OffscreenCanvas(n,e),i=t.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),i=t.getContext("2d")}return t.width=n,t.height=e,[t,i]}function oC(n,e){const{width:t,height:i}=aC(n.width,n.height),[s,l]=Zp(t,i);return e&&/jpe?g/.test(e)&&(l.fillStyle="white",l.fillRect(0,0,s.width,s.height)),l.drawImage(n,0,0,s.width,s.height),s}function Rd(){return Rd.cachedResult!==void 0||(Rd.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Rd.cachedResult}function lp(n,e={}){return new Promise(function(t,i){let s,l;var c=function(){try{return l=oC(s,e.fileType||n.type),t([s,l])}catch(p){return i(p)}},d=function(p){try{var m=function(_){try{throw _}catch(E){return i(E)}};try{let _;return rC(n).then(function(E){try{return _=E,sC(_).then(function(w){try{return s=w,function(){try{return c()}catch(C){return i(C)}}()}catch(C){return m(C)}},m)}catch(w){return m(w)}},m)}catch(_){m(_)}}catch(_){return i(_)}};try{if(Rd()||[Tr.DESKTOP_SAFARI,Tr.MOBILE_SAFARI].includes(Pl()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(p){try{return s=p,c()}catch{return d()}},d)}catch{d()}})}function up(n,e,t,i,s=1){return new Promise(function(l,c){let d;if(e==="image/png"){let E,w,C;return E=n.getContext("2d"),{data:w}=E.getImageData(0,0,n.width,n.height),C=Ss.encode([w.buffer],n.width,n.height,4096*s),d=new Blob([C],{type:e}),d.name=t,d.lastModified=i,p.call(this)}{let E=function(){return p.call(this)};var m=E;if(e==="image/bmp")return new Promise(w=>tC.toBlob(n,w)).then((function(w){try{return d=w,d.name=t,d.lastModified=i,E.call(this)}catch(C){return c(C)}}).bind(this),c);{let w=function(){return E.call(this)};var _=w;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:s}).then((function(C){try{return d=C,d.name=t,d.lastModified=i,w.call(this)}catch(x){return c(x)}}).bind(this),c);{let C;return C=n.toDataURL(e,s),_y(C,t,i).then((function(x){try{return d=x,w.call(this)}catch(N){return c(N)}}).bind(this),c)}}}function p(){return l(d)}})}function Gs(n){n.width=0,n.height=0}function Vu(){return new Promise(function(n,e){let t,i,s,l;return Vu.cachedResult!==void 0?n(Vu.cachedResult):_y("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return t=c,lp(t).then(function(d){try{return i=d[1],up(i,t.type,t.name,t.lastModified).then(function(p){try{return s=p,Gs(i),lp(s).then(function(m){try{return l=m[0],Vu.cachedResult=l.width===1&&l.height===2,n(Vu.cachedResult)}catch(_){return e(_)}},e)}catch(m){return e(m)}},e)}catch(p){return e(p)}},e)}catch(d){return e(d)}},e)})}function lC(n){return new Promise((e,t)=>{const i=new iC;i.onload=s=>{const l=new DataView(s.target.result);if(l.getUint16(0,!1)!=65496)return e(-2);const c=l.byteLength;let d=2;for(;d<c;){if(l.getUint16(d+2,!1)<=8)return e(-1);const p=l.getUint16(d,!1);if(d+=2,p==65505){if(l.getUint32(d+=2,!1)!=1165519206)return e(-1);const m=l.getUint16(d+=6,!1)==18761;d+=l.getUint32(d+4,m);const _=l.getUint16(d,m);d+=2;for(let E=0;E<_;E++)if(l.getUint16(d+12*E,m)==274)return e(l.getUint16(d+12*E+8,m))}else{if((65280&p)!=65280)break;d+=l.getUint16(d,!1)}}return e(-1)},i.onerror=s=>t(s),i.readAsArrayBuffer(n)})}function uC(n,e){const{width:t}=n,{height:i}=n,{maxWidthOrHeight:s}=e;let l,c=n;return isFinite(s)&&(t>s||i>s)&&([c,l]=Zp(t,i),t>i?(c.width=s,c.height=i/t*s):(c.width=t/i*s,c.height=s),l.drawImage(n,0,0,c.width,c.height),Gs(n)),c}function cC(n,e){const{width:t}=n,{height:i}=n,[s,l]=Zp(t,i);switch(e>4&&e<9?(s.width=i,s.height=t):(s.width=t,s.height=i),e){case 2:l.transform(-1,0,0,1,t,0);break;case 3:l.transform(-1,0,0,-1,t,i);break;case 4:l.transform(1,0,0,-1,0,i);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,i,0);break;case 7:l.transform(0,-1,-1,0,i,t);break;case 8:l.transform(0,-1,1,0,0,t)}return l.drawImage(n,0,0,t,i),Gs(n),s}function jT(n,e,t=0){return new Promise(function(i,s){let l,c,d,p,m,_,E,w,C,x,N,q,H,J,Q,$,te,F,G,A;function S(D=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;l+=D,e.onProgress(Math.min(l,100))}function M(D){if(e.signal&&e.signal.aborted)throw e.signal.reason;l=Math.min(Math.max(D,l),100),e.onProgress(l)}return l=t,c=e.maxIteration||10,d=1024*e.maxSizeMB*1024,S(),lp(n,e).then((function(D){try{return[,p]=D,S(),m=uC(p,e),S(),new Promise(function(z,V){var X;if(!(X=e.exifOrientation))return lC(n).then((function(B){try{return X=B,ue.call(this)}catch(P){return V(P)}}).bind(this),V);function ue(){return z(X)}return ue.call(this)}).then((function(z){try{return _=z,S(),Vu().then((function(V){try{return E=V?m:cC(m,_),S(),w=e.initialQuality||1,C=e.fileType||n.type,up(E,C,n.name,n.lastModified,w).then((function(X){try{{let W=function(){if(c--&&(Q>d||Q>H)){let j,ne;return j=A?.95*G.width:G.width,ne=A?.95*G.height:G.height,[te,F]=Zp(j,ne),F.drawImage(G,0,0,j,ne),w*=C==="image/png"?.85:.95,up(te,C,n.name,n.lastModified,w).then(function(ae){try{return $=ae,Gs(G),G=te,Q=$.size,M(Math.min(99,Math.floor((J-Q)/(J-d)*100))),W}catch(ie){return s(ie)}},s)}return[1]},ee=function(){return Gs(G),Gs(te),Gs(m),Gs(E),Gs(p),M(100),i($)};var B=W,P=ee;if(x=X,S(),N=x.size>d,q=x.size>n.size,!N&&!q)return M(100),i(x);var ue;return H=n.size,J=x.size,Q=J,G=E,A=!e.alwaysKeepResolution&&N,(ue=(function(j){for(;j;){if(j.then)return void j.then(ue,s);try{if(j.pop){if(j.length)return j.pop()?ee.call(this):j;j=W}else j=j.call(this)}catch(ne){return s(ne)}}}).bind(this))(W)}}catch(W){return s(W)}}).bind(this),s)}catch(X){return s(X)}}).bind(this),s)}catch(V){return s(V)}}).bind(this),s)}catch(z){return s(z)}}).bind(this),s)})}const J5=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let t_;function eV(n,e){return new Promise((t,i)=>{t_||(t_=function(c){const d=[];return d.push(c),URL.createObjectURL(new Blob(d))}(J5));const s=new Worker(t_);s.addEventListener("message",function(c){if(e.signal&&e.signal.aborted)s.terminate();else if(c.data.progress===void 0){if(c.data.error)return i(new Error(c.data.error)),void s.terminate();t(c.data.file),s.terminate()}else e.onProgress(c.data.progress)}),s.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",()=>{i(e.signal.reason),s.terminate()}),s.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Qi(n,e){return new Promise(function(t,i){let s,l,c,d,p,m;if(s={...e},c=0,{onProgress:d}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=C=>{c=C,typeof d=="function"&&d(c)},!(n instanceof Blob||n instanceof X5))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return i(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||m)return jT(n,s).then((function(C){try{return l=C,w.call(this)}catch(x){return i(x)}}).bind(this),i);var _=(function(){try{return w.call(this)}catch(C){return i(C)}}).bind(this),E=function(C){try{return jT(n,s).then(function(x){try{return l=x,_()}catch(N){return i(N)}},i)}catch(x){return i(x)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",eV(n,s).then(function(C){try{return l=C,_()}catch{return E()}},E)}catch{E()}function w(){try{l.name=n.name,l.lastModified=n.lastModified}catch{}try{s.preserveExif&&n.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===n.type)&&(l=eC(n,l))}catch{}return t(l)}})}Qi.getDataUrlFromFile=rC,Qi.getFilefromDataUrl=_y,Qi.loadImage=sC,Qi.drawImageInCanvas=oC,Qi.drawFileInCanvas=lp,Qi.canvasToFile=up,Qi.getExifOrientation=lC,Qi.handleMaxWidthOrHeight=uC,Qi.followExifOrientation=cC,Qi.cleanupCanvasMemory=Gs,Qi.isAutoOrientationInBrowser=Vu,Qi.approximateBelowMaximumCanvasSizeOfBrowser=aC,Qi.copyExifWithoutOrientation=eC,Qi.getBrowserName=Pl,Qi.version="2.0.2";const HT={nomeCompleto:"",cpf:"",rg:"",telefone:"",status:"Disponvel",fotoURL:"",dossieURL:"",dataNascimento:"",tipoChavePix:"",chavePix:""};function tV(){const[n,e]=ce.useState([]),[t,i]=ce.useState(!0),[s,l]=ce.useState(!1),[c,d]=ce.useState(HT),[p,m]=ce.useState(""),[_,E]=ce.useState(""),[w,C]=ce.useState(""),[x,N]=ce.useState([]),[q,H]=ce.useState(null),[J,Q]=ce.useState(!1),[$,te]=ce.useState(null),[F,G]=ce.useState({foto:null,dossie:null}),A=ce.useRef(null),S=Qo(ai,"chapas_b2b"),M=async()=>{i(!0);try{const Te=xh(S,Y2("dataImportacao","desc")),Le=(await Ih(Te)).docs.map(He=>({...He.data(),id:He.id}));e(Le)}catch(Te){console.error("Erro ao buscar trabalhadores:",Te)}finally{i(!1)}};ce.useEffect(()=>{M()},[]),ce.useEffect(()=>{const Te=w.toLowerCase().trim();if(!n)return;const Ne=n.filter(Le=>(Le.nomeCompleto||"").toLowerCase().includes(Te)||(Le.cpf||"").toString().includes(Te)||(Le.rg||"").toString().includes(Te));N(Ne)},[w,n]),ce.useEffect(()=>{c.tipoChavePix==="CPF"&&c.cpf?d(Te=>({...Te,chavePix:Te.cpf})):c.tipoChavePix==="Telefone"&&c.telefone&&d(Te=>({...Te,chavePix:Te.telefone}))},[c.tipoChavePix,c.cpf,c.telefone]);const D=Te=>{const{name:Ne,value:Le}=Te.target;d(He=>({...He,[Ne]:Le}))},z=Te=>{if(!Te||!Te.toDate)return"";const Ne=Te.toDate();return new Date(Ne.getTime()-Ne.getTimezoneOffset()*6e4).toISOString().split("T")[0]},V=()=>{H(null),d(HT),G({foto:null,dossie:null}),E(""),l(!0)},X=Te=>{H(Te),d({nomeCompleto:Te.nomeCompleto||"",cpf:Te.cpf||"",rg:Te.rg||"",telefone:Te.telefone||"",status:Te.status||"Disponvel",fotoURL:Te.fotoURL||"",dossieURL:Te.dossieURL||"",dataNascimento:z(Te.dataNascimento),tipoChavePix:Te.dadosBancarios?.tipoChave||"",chavePix:Te.dadosBancarios?.chave||""}),G({foto:null,dossie:null}),E(""),l(!0)},ue=()=>{l(!1),H(null),G({foto:null,dossie:null})},B=Te=>{if(!Te)return null;const Ne=new Date(Te),Le=Ne.getTimezoneOffset()*6e4;return hn.fromDate(new Date(Ne.getTime()+Le))},P={11:"SP (Capital)",12:"SP (Vale do Paraba)",13:"SP (Baixada Santista)",14:"SP (Bauru/Marlia)",15:"SP (Sorocaba)",16:"SP (Ribeiro Preto)",17:"SP (So Jos do Rio Preto)",18:"SP (Presidente Prudente)",19:"SP (Campinas)",21:"RJ (Capital)",22:"RJ (Norte Fluminense)",24:"RJ (Serra/Sul Fluminense)",27:"ES (Vitria e Regio)",28:"ES (Sul)",31:"MG (Belo Horizonte)",32:"MG (Juiz de Fora)",33:"MG (Governador Valadares)",34:"MG (Uberlndia)",35:"MG (Sul de Minas)",37:"MG (Centro-Oeste)",38:"MG (Norte de Minas)",41:"PR (Curitiba)",42:"PR (Ponta Grossa)",43:"PR (Londrina)",44:"PR (Maring)",45:"PR (Foz do Iguau)",46:"PR (Sudoeste)",47:"SC (Joinville/Itaja)",48:"SC (Florianpolis)",49:"SC (Oeste)",51:"RS (Porto Alegre)",53:"RS (Pelotas)",54:"RS (Caxias do Sul)",55:"RS (Central)",61:"DF (Braslia)",62:"GO (Goinia)",63:"TO (Palmas)",64:"GO (Sudoeste)",65:"MT (Cuiab)",66:"MT (Norte)",67:"MS (Campo Grande)",68:"AC (Rio Branco)",69:"RO (Porto Velho)",71:"BA (Salvador)",73:"BA (Sul)",74:"BA (Juazeiro)",75:"BA (Feira de Santana)",77:"BA (Oeste)",79:"SE (Aracaju)",81:"PE (Recife)",82:"AL (Macei)",83:"PB (Joo Pessoa)",84:"RN (Natal)",85:"CE (Fortaleza)",86:"PI (Teresina)",87:"PE (Serto)",88:"CE (Interior)",89:"PI (Sudeste)",91:"PA (Belm)",92:"AM (Manaus)",93:"PA (Oeste)",94:"PA (Sudeste)",95:"RR (Boa Vista)",96:"AP (Macap)",97:"AM (Sudoeste)",98:"MA (So Lus)",99:"MA (Sul)"},W=Te=>{if(!Te||typeof Te!="string")return"No identificado";const Ne=Te.replace(/\D/g,"");if(Ne.length<2)return"No identificado";const Le=Ne.substring(0,2);return P[Le]||"Outra Regio"},ee=Te=>{const Ne=c[Te];Ne&&(G(Le=>({...Le,[Te.replace("URL","")]:Ne})),d(Le=>({...Le,[Te]:""})))},j=async Te=>{if(Te)try{const Ne=Qg(Yg,Te);await n3(Ne)}catch(Ne){Ne.code!=="storage/object-not-found"&&console.error("Erro ao excluir arquivo antigo: ",Ne)}},ne=async Te=>{const Ne=Te.target.files[0];if(Ne){c.fotoURL&&ee("fotoURL"),E("Comprimindo...");try{const Le=await Qi(Ne,{maxSizeMB:1,maxWidthOrHeight:800});E("Enviando...");const He=Qg(Yg,`fotos_chapas/${Date.now()}_${Le.name}`),Ue=await wT(He,Le),rt=await TT(Ue.ref);d(dt=>({...dt,fotoURL:rt})),E("Foto enviada!")}catch(Le){console.error("Erro no upload: ",Le)}}},ae=async Te=>{const Ne=Te.target.files[0];if(Ne){c.dossieURL&&ee("dossieURL"),E("Enviando...");try{const Le=Qg(Yg,`dossies_chapas/${Date.now()}_${Ne.name}`),He=await wT(Le,Ne),Ue=await TT(He.ref);d(rt=>({...rt,dossieURL:Ue})),E("Dossi enviado!")}catch(Le){console.error("Erro no upload: ",Le)}}},ie=async Te=>{if(Te.preventDefault(),E("Validando dados..."),!c.cpf){alert("Erro: O campo CPF  obrigatrio."),E("");return}const Ne=xh(S,Xd("cpf","==",c.cpf)),Le=await Ih(Ne);let He=!1;if(Le.empty||(q?Le.forEach(Ue=>{Ue.id!==q.id&&(He=!0)}):He=!0),He){alert("Erro: J existe um trabalhador cadastrado com este CPF."),E("");return}q?await Ee():await le()},he=()=>{const{tipoChavePix:Te,chavePix:Ne,...Le}=c,He=B(Le.dataNascimento),Ue={...Le,dataNascimento:He,regiao:W(Le.telefone)};return Ne&&Te?Ue.dadosBancarios={tipoChave:Te,chave:Ne}:Ue.dadosBancarios=null,Ue},le=async()=>{if(c.nomeCompleto){E("Salvando...");try{await j(F.foto),await j(F.dossie);const Te={...he(),dataImportacao:hn.now()};await Xv(S,Te),ue(),M()}catch(Te){console.error("Erro ao criar: ",Te)}finally{E("")}}},Ee=async()=>{if(q?.id){E("Atualizando...");try{await j(F.foto),await j(F.dossie);const Te=he(),Ne=ls(ai,"chapas_b2b",q.id);await ph(Ne,Te),ue(),M()}catch(Te){console.error("Erro ao atualizar: ",Te)}finally{E("")}}},Ze=Te=>{te(Te),Q(!0)},De=()=>{te(null),Q(!1)},Fe=async()=>{if($){await j($.fotoURL),await j($.dossieURL);try{await X2(ls(ai,"chapas_b2b",$.id)),De(),M()}catch(Te){console.error("Erro ao excluir: ",Te)}}},je=()=>{A.current.click()},ze=Te=>Te,et=Te=>{const Ne=Te.target.files[0];Ne&&(m("Lendo arquivo..."),Z5.parse(Ne,{header:!0,skipEmptyLines:!0,complete:async Le=>{m(`Encontrados ${Le.data.length} registros. Processando...`);const He=tS(ai);Le.data.forEach(Ue=>{const rt=Ue["Data de Nascimento"]?B(Ue["Data de Nascimento"].split("/").reverse().join("-")):null,dt=Ue.Telefone?ze(Ue.Telefone):"",It={nomeCompleto:Ue.Nome||"",cpf:Ue.CPF||"",telefone:dt,status:"Disponvel",dataNascimento:rt,regiao:W(dt),dataImportacao:hn.now(),fotoURL:"",dossieURL:""},Pt=ls(Qo(ai,"chapas_b2b"));He.set(Pt,It)});try{await He.commit(),m(`Sucesso! ${Le.data.length} trabalhadores importados.`),M()}catch(Ue){m("Erro ao importar."),console.error("Erro na importao: ",Ue)}}}))},kt=()=>{switch(c.tipoChavePix){case"CPF":return"000.000.000-00";case"Telefone":return"(00) 00000-0000";default:return}};return I.jsxs("div",{children:[I.jsxs("div",{className:"gestao-header",children:[I.jsxs("div",{children:[I.jsxs("div",{className:"title-with-counter",children:[I.jsx("h1",{className:"gestao-title",children:"Gesto de Trabalhadores"}),!t&&I.jsxs("span",{className:"total-counter",children:[" ",I.jsx(RS,{size:16})," ",n.length," Perfis Cadastrados "]})]}),I.jsx("p",{className:"gestao-subtitle",children:"Adicione e gerencie os Chapas de elite disponveis para seus clientes."})]}),I.jsxs("div",{className:"action-buttons-group",children:[I.jsx("input",{type:"file",accept:".csv",ref:A,onChange:et,style:{display:"none"}}),I.jsxs("button",{className:"import-button-csv",onClick:je,children:[" ",I.jsx(O6,{size:20})," Importar via Planilha "]}),I.jsxs("button",{className:"import-button",onClick:V,children:[" ",I.jsx(ay,{size:20})," Adicionar Manualmente "]})]})]}),p&&I.jsx("p",{className:"import-status-feedback",children:p}),I.jsxs("div",{className:"filtro-container",children:[" ",I.jsx("input",{type:"text",placeholder:"Buscar por Nome, CPF ou RG...",className:"filtro-input",value:w,onChange:Te=>C(Te.target.value)})," "]}),I.jsx("div",{className:"table-container",children:I.jsxs("table",{className:"talentos-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Trabalhador"}),I.jsx("th",{children:"Status"}),I.jsx("th",{children:"Telefone / Regio"}),I.jsx("th",{children:"Aes"})]})}),I.jsx("tbody",{children:t?I.jsx("tr",{children:I.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Carregando trabalhadores..."})}):x.length>0?x.map(Te=>I.jsxs("tr",{children:[I.jsxs("td",{children:[" ",I.jsxs("div",{className:"user-cell",children:[" ",I.jsxs("div",{className:"user-avatar",children:[" ",Te.fotoURL?I.jsx("img",{src:Te.fotoURL,alt:Te.nomeCompleto,className:"avatar-image"}):I.jsx(ly,{size:18})," "]})," ",I.jsxs("div",{children:[" ",I.jsx("span",{className:"user-name",children:Te.nomeCompleto})," ",I.jsx("span",{className:"user-cpf",children:Te.cpf})," "]})," "]})," "]}),I.jsxs("td",{children:[" ",I.jsxs("span",{className:`status-badge status-${(Te.status||"disponvel").toLowerCase().replace(/ /g,"-")}`,children:[" ",Te.status," "]})," "]}),I.jsxs("td",{children:[" ",I.jsxs("div",{className:"contact-cell",children:[" ",I.jsx("span",{children:Te.telefone})," ",I.jsx("span",{className:"region-tag",children:Te.regiao})," "]})," "]}),I.jsxs("td",{children:[" ",I.jsxs("div",{className:"acoes-cell",children:[" ",I.jsxs("button",{className:"action-button-details",title:Te.dossieURL?"Ver Dossi":"Dossi no disponvel",onClick:()=>Te.dossieURL&&window.open(Te.dossieURL,"_blank","noopener,noreferrer"),disabled:!Te.dossieURL,children:[" ",I.jsx(bS,{size:18})," "]})," ",I.jsxs("button",{className:"action-button-edit",title:"Editar Perfil",onClick:()=>X(Te),children:[" ",I.jsx(SS,{size:18})," "]})," ",I.jsxs("button",{className:"action-button-delete",title:"Excluir Perfil",onClick:()=>Ze(Te),children:[" ",I.jsx(CS,{size:18})," "]})," "]})," "]})]},Te.id)):I.jsx("tr",{children:I.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Nenhum trabalhador encontrado."})})})]})}),I.jsx(kh,{isOpen:s,onClose:ue,title:q?"Editar Dados do Trabalhador":"Adicionar Novo Trabalhador",children:I.jsxs("form",{onSubmit:ie,className:"modal-form",children:[I.jsxs("div",{className:"form-section",children:[I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"nomeCompleto",children:"Nome Completo"})," ",I.jsx("input",{id:"nomeCompleto",name:"nomeCompleto",type:"text",value:c.nomeCompleto,onChange:D,required:!0})," "]}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"cpf",children:"CPF"})," ",I.jsx(ah,{mask:"000.000.000-00",id:"cpf",name:"cpf",value:c.cpf,onAccept:Te=>D({target:{name:"cpf",value:Te}}),required:!0})," "]}),I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"rg",children:"RG"})," ",I.jsx(ah,{mask:"00.000.000-0",id:"rg",name:"rg",value:c.rg,onAccept:Te=>D({target:{name:"rg",value:Te}})})," "]})]}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"telefone",children:"Telefone"})," ",I.jsx(ah,{mask:"(00) 00000-0000",id:"telefone",name:"telefone",value:c.telefone,onAccept:Te=>D({target:{name:"telefone",value:Te}}),required:!0})," "]}),I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"dataNascimento",children:"Data de Nascimento"})," ",I.jsx("input",{type:"date",id:"dataNascimento",name:"dataNascimento",value:c.dataNascimento,onChange:D})," "]})]})]}),I.jsxs("div",{className:"form-section",children:[I.jsxs("h3",{className:"form-section-title",children:[" ",I.jsx(z3,{size:20})," Dados de Pagamento (PIX) "]}),I.jsxs("div",{className:"form-row",children:[I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"tipoChavePix",children:"Tipo de Chave"}),I.jsxs("select",{id:"tipoChavePix",name:"tipoChavePix",value:c.tipoChavePix,onChange:D,children:[I.jsx("option",{value:"",children:"Nenhum"}),I.jsx("option",{value:"CPF",children:"CPF"}),I.jsx("option",{value:"Telefone",children:"Celular"}),I.jsx("option",{value:"E-mail",children:"E-mail"}),I.jsx("option",{value:"Aleatria",children:"Chave Aleatria"})]})]}),I.jsxs("div",{className:"input-group",children:[I.jsx("label",{htmlFor:"chavePix",children:"Chave PIX"}),I.jsx(ah,{mask:kt(),id:"chavePix",name:"chavePix",value:c.chavePix,onAccept:Te=>D({target:{name:"chavePix",value:Te}}),disabled:!c.tipoChavePix,placeholder:c.tipoChavePix?"":"Selecione um tipo de chave"})]})]})]}),I.jsxs("div",{className:"form-section",children:[I.jsxs("div",{className:"input-group",children:[" ",I.jsx("label",{htmlFor:"status",children:"Status"})," ",I.jsxs("select",{id:"status",name:"status",value:c.status,onChange:D,children:[" ",I.jsx("option",{value:"Disponvel",children:"Disponvel"})," ",I.jsx("option",{value:"Em Servio",children:"Em Servio"})," ",I.jsx("option",{value:"De Frias",children:"De Frias"})," ",I.jsx("option",{value:"Bloqueado",children:"Bloqueado"})," "]})," "]}),I.jsxs("div",{className:"upload-section",children:[I.jsxs("div",{className:"upload-item",children:[I.jsxs("label",{htmlFor:"fotoUpload",className:"upload-button",children:[" ",I.jsx(Y3,{size:18})," ",c.fotoURL?"Alterar Foto":"Carregar Foto"," "]}),I.jsx("input",{id:"fotoUpload",type:"file",accept:"image/*",onChange:ne,style:{display:"none"}}),c.fotoURL&&I.jsxs("div",{className:"file-feedback",children:[" ",I.jsx("img",{src:c.fotoURL,alt:"Preview",className:"upload-preview"})," ",I.jsx("button",{type:"button",onClick:()=>ee("fotoURL"),className:"remove-file-btn",children:I.jsx(H_,{size:16})})," "]})]}),I.jsxs("div",{className:"upload-item",children:[I.jsxs("label",{htmlFor:"dossieUpload",className:"upload-button",children:[" ",I.jsx(w6,{size:18})," ",c.dossieURL?"Alterar Dossi":"Carregar Dossi"," "]}),I.jsx("input",{id:"dossieUpload",type:"file",accept:".pdf",onChange:ae,style:{display:"none"}}),c.dossieURL&&I.jsxs("div",{className:"file-feedback",children:[" ",I.jsx("span",{children:"PDF Carregado"})," ",I.jsx("button",{type:"button",onClick:()=>ee("dossieURL"),className:"remove-file-btn",children:I.jsx(H_,{size:16})})," "]})]})]})]}),_&&I.jsx("p",{className:"upload-progress-feedback",children:_}),I.jsxs("div",{className:"form-actions",children:[I.jsx("button",{type:"button",className:"cancel-button",onClick:ue,children:"Cancelar"}),I.jsx("button",{type:"submit",className:"add-button",children:q?"Salvar Alteraes":"Salvar Trabalhador"})]})]})}),I.jsxs(FS,{isOpen:J,onClose:De,onConfirm:Fe,title:"Confirmar Excluso",children:[I.jsxs("p",{children:["Voc tem certeza que deseja excluir o trabalhador ",I.jsx("strong",{children:$?.nomeCompleto}),"?"]})," ",I.jsx("p",{children:"Esta ao no pode ser desfeita."})]})]})}var xu={},n_,qT;function hC(){return qT||(qT=1,n_={L:1,M:0,Q:3,H:2}),n_}var i_,GT;function fC(){return GT||(GT=1,i_={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),i_}var r_,ZT;function nV(){if(ZT)return r_;ZT=1;var n=fC();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var i=0;i<this.data.length;i++)t.put(this.data.charCodeAt(i),8)}},r_=e,r_}var s_,KT;function iV(){if(KT)return s_;KT=1;var n=hC();function e(t,i){this.totalCount=t,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,i){var s=e.getRsBlockTable(t,i);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var l=s.length/3,c=new Array,d=0;d<l;d++)for(var p=s[d*3+0],m=s[d*3+1],_=s[d*3+2],E=0;E<p;E++)c.push(new e(m,_));return c},e.getRsBlockTable=function(t,i){switch(i){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},s_=e,s_}var a_,QT;function rV(){if(QT)return a_;QT=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i++)this.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},a_=n,a_}var o_,YT;function dC(){if(YT)return o_;YT=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return o_=n,o_}var l_,$T;function pC(){if($T)return l_;$T=1;var n=dC();function e(t,i){if(t.length==null)throw new Error(t.length+"/"+i);for(var s=0;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+i);for(var l=0;l<t.length-s;l++)this.num[l]=t[l+s]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var i=new Array(this.getLength()+t.getLength()-1),s=0;s<this.getLength();s++)for(var l=0;l<t.getLength();l++)i[s+l]^=n.gexp(n.glog(this.get(s))+n.glog(t.get(l)));return new e(i,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var i=n.glog(this.get(0))-n.glog(t.get(0)),s=new Array(this.getLength()),l=0;l<this.getLength();l++)s[l]=this.get(l);for(var l=0;l<t.getLength();l++)s[l]^=n.gexp(n.glog(t.get(l))+i);return new e(s,0).mod(t)}},l_=e,l_}var u_,WT;function sV(){if(WT)return u_;WT=1;var n=fC(),e=pC(),t=dC(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var c=l<<10;s.getBCHDigit(c)-s.getBCHDigit(s.G15)>=0;)c^=s.G15<<s.getBCHDigit(c)-s.getBCHDigit(s.G15);return(l<<10|c)^s.G15_MASK},getBCHTypeNumber:function(l){for(var c=l<<12;s.getBCHDigit(c)-s.getBCHDigit(s.G18)>=0;)c^=s.G18<<s.getBCHDigit(c)-s.getBCHDigit(s.G18);return l<<12|c},getBCHDigit:function(l){for(var c=0;l!=0;)c++,l>>>=1;return c},getPatternPosition:function(l){return s.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,c,d){switch(l){case i.PATTERN000:return(c+d)%2==0;case i.PATTERN001:return c%2==0;case i.PATTERN010:return d%3==0;case i.PATTERN011:return(c+d)%3==0;case i.PATTERN100:return(Math.floor(c/2)+Math.floor(d/3))%2==0;case i.PATTERN101:return c*d%2+c*d%3==0;case i.PATTERN110:return(c*d%2+c*d%3)%2==0;case i.PATTERN111:return(c*d%3+(c+d)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var c=new e([1],0),d=0;d<l;d++)c=c.multiply(new e([1,t.gexp(d)],0));return c},getLengthInBits:function(l,c){if(1<=c&&c<10)switch(l){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(c<27)switch(l){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else if(c<41)switch(l){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}else throw new Error("type:"+c)},getLostPoint:function(l){for(var c=l.getModuleCount(),d=0,p=0;p<c;p++)for(var m=0;m<c;m++){for(var _=0,E=l.isDark(p,m),w=-1;w<=1;w++)if(!(p+w<0||c<=p+w))for(var C=-1;C<=1;C++)m+C<0||c<=m+C||w==0&&C==0||E==l.isDark(p+w,m+C)&&_++;_>5&&(d+=3+_-5)}for(var p=0;p<c-1;p++)for(var m=0;m<c-1;m++){var x=0;l.isDark(p,m)&&x++,l.isDark(p+1,m)&&x++,l.isDark(p,m+1)&&x++,l.isDark(p+1,m+1)&&x++,(x==0||x==4)&&(d+=3)}for(var p=0;p<c;p++)for(var m=0;m<c-6;m++)l.isDark(p,m)&&!l.isDark(p,m+1)&&l.isDark(p,m+2)&&l.isDark(p,m+3)&&l.isDark(p,m+4)&&!l.isDark(p,m+5)&&l.isDark(p,m+6)&&(d+=40);for(var m=0;m<c;m++)for(var p=0;p<c-6;p++)l.isDark(p,m)&&!l.isDark(p+1,m)&&l.isDark(p+2,m)&&l.isDark(p+3,m)&&l.isDark(p+4,m)&&!l.isDark(p+5,m)&&l.isDark(p+6,m)&&(d+=40);for(var N=0,m=0;m<c;m++)for(var p=0;p<c;p++)l.isDark(p,m)&&N++;var q=Math.abs(100*N/c/c-50)/5;return d+=q*10,d}};return u_=s,u_}var c_,XT;function aV(){if(XT)return c_;XT=1;var n=nV(),e=iV(),t=rV(),i=sV(),s=pC();function l(d,p){this.typeNumber=d,this.errorCorrectLevel=p,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;return c.addData=function(d){var p=new n(d);this.dataList.push(p),this.dataCache=null},c.isDark=function(d,p){if(d<0||this.moduleCount<=d||p<0||this.moduleCount<=p)throw new Error(d+","+p);return this.modules[d][p]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var p=e.getRSBlocks(d,this.errorCorrectLevel),m=new t,_=0,E=0;E<p.length;E++)_+=p[E].dataCount;for(var E=0;E<this.dataList.length;E++){var w=this.dataList[E];m.put(w.mode,4),m.put(w.getLength(),i.getLengthInBits(w.mode,d)),w.write(m)}if(m.getLengthInBits()<=_*8)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(d,p){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var _=0;_<this.moduleCount;_++)this.modules[m][_]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,p),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,p)},c.setupPositionProbePattern=function(d,p){for(var m=-1;m<=7;m++)if(!(d+m<=-1||this.moduleCount<=d+m))for(var _=-1;_<=7;_++)p+_<=-1||this.moduleCount<=p+_||(0<=m&&m<=6&&(_==0||_==6)||0<=_&&_<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=_&&_<=4?this.modules[d+m][p+_]=!0:this.modules[d+m][p+_]=!1)},c.getBestMaskPattern=function(){for(var d=0,p=0,m=0;m<8;m++){this.makeImpl(!0,m);var _=i.getLostPoint(this);(m==0||d>_)&&(d=_,p=m)}return p},c.createMovieClip=function(d,p,m){var _=d.createEmptyMovieClip(p,m),E=1;this.make();for(var w=0;w<this.modules.length;w++)for(var C=w*E,x=0;x<this.modules[w].length;x++){var N=x*E,q=this.modules[w][x];q&&(_.beginFill(0,100),_.moveTo(N,C),_.lineTo(N+E,C),_.lineTo(N+E,C+E),_.lineTo(N,C+E),_.endFill())}return _},c.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var p=8;p<this.moduleCount-8;p++)this.modules[6][p]==null&&(this.modules[6][p]=p%2==0)},c.setupPositionAdjustPattern=function(){for(var d=i.getPatternPosition(this.typeNumber),p=0;p<d.length;p++)for(var m=0;m<d.length;m++){var _=d[p],E=d[m];if(this.modules[_][E]==null)for(var w=-2;w<=2;w++)for(var C=-2;C<=2;C++)w==-2||w==2||C==-2||C==2||w==0&&C==0?this.modules[_+w][E+C]=!0:this.modules[_+w][E+C]=!1}},c.setupTypeNumber=function(d){for(var p=i.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var _=!d&&(p>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=_}for(var m=0;m<18;m++){var _=!d&&(p>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=_}},c.setupTypeInfo=function(d,p){for(var m=this.errorCorrectLevel<<3|p,_=i.getBCHTypeInfo(m),E=0;E<15;E++){var w=!d&&(_>>E&1)==1;E<6?this.modules[E][8]=w:E<8?this.modules[E+1][8]=w:this.modules[this.moduleCount-15+E][8]=w}for(var E=0;E<15;E++){var w=!d&&(_>>E&1)==1;E<8?this.modules[8][this.moduleCount-E-1]=w:E<9?this.modules[8][15-E-1+1]=w:this.modules[8][15-E-1]=w}this.modules[this.moduleCount-8][8]=!d},c.mapData=function(d,p){for(var m=-1,_=this.moduleCount-1,E=7,w=0,C=this.moduleCount-1;C>0;C-=2)for(C==6&&C--;;){for(var x=0;x<2;x++)if(this.modules[_][C-x]==null){var N=!1;w<d.length&&(N=(d[w]>>>E&1)==1);var q=i.getMask(p,_,C-x);q&&(N=!N),this.modules[_][C-x]=N,E--,E==-1&&(w++,E=7)}if(_+=m,_<0||this.moduleCount<=_){_-=m,m=-m;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(d,p,m){for(var _=e.getRSBlocks(d,p),E=new t,w=0;w<m.length;w++){var C=m[w];E.put(C.mode,4),E.put(C.getLength(),i.getLengthInBits(C.mode,d)),C.write(E)}for(var x=0,w=0;w<_.length;w++)x+=_[w].dataCount;if(E.getLengthInBits()>x*8)throw new Error("code length overflow. ("+E.getLengthInBits()+">"+x*8+")");for(E.getLengthInBits()+4<=x*8&&E.put(0,4);E.getLengthInBits()%8!=0;)E.putBit(!1);for(;!(E.getLengthInBits()>=x*8||(E.put(l.PAD0,8),E.getLengthInBits()>=x*8));)E.put(l.PAD1,8);return l.createBytes(E,_)},l.createBytes=function(d,p){for(var m=0,_=0,E=0,w=new Array(p.length),C=new Array(p.length),x=0;x<p.length;x++){var N=p[x].dataCount,q=p[x].totalCount-N;_=Math.max(_,N),E=Math.max(E,q),w[x]=new Array(N);for(var H=0;H<w[x].length;H++)w[x][H]=255&d.buffer[H+m];m+=N;var J=i.getErrorCorrectPolynomial(q),Q=new s(w[x],J.getLength()-1),$=Q.mod(J);C[x]=new Array(J.getLength()-1);for(var H=0;H<C[x].length;H++){var te=H+$.getLength()-C[x].length;C[x][H]=te>=0?$.get(te):0}}for(var F=0,H=0;H<p.length;H++)F+=p[H].totalCount;for(var G=new Array(F),A=0,H=0;H<_;H++)for(var x=0;x<p.length;x++)H<w[x].length&&(G[A++]=w[x][H]);for(var H=0;H<E;H++)for(var x=0;x<p.length;x++)H<C[x].length&&(G[A++]=C[x][H]);return G},c_=l,c_}var hd={},JT;function oV(){if(JT)return hd;JT=1,Object.defineProperty(hd,"__esModule",{value:!0});var n=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var E=arguments[_];for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(m[w]=E[w])}return m},e=cy(),t=l(e),i=Oh(),s=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,_){var E={};for(var w in m)_.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(m,w)&&(E[w]=m[w]);return E}var d={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},p=(0,i.forwardRef)(function(m,_){var E=m.bgColor,w=m.bgD,C=m.fgD,x=m.fgColor,N=m.size,q=m.title,H=m.viewBoxSize,J=m.xmlns,Q=J===void 0?"http://www.w3.org/2000/svg":J,$=c(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",n({},$,{height:N,ref:_,viewBox:"0 0 "+H+" "+H,width:N,xmlns:Q}),q?s.default.createElement("title",null,q):null,s.default.createElement("path",{d:w,fill:E}),s.default.createElement("path",{d:C,fill:x}))});return p.displayName="QRCodeSvg",p.propTypes=d,hd.default=p,hd}var eb;function lV(){if(eb)return xu;eb=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.QRCode=void 0;var n=Object.assign||function(N){for(var q=1;q<arguments.length;q++){var H=arguments[q];for(var J in H)Object.prototype.hasOwnProperty.call(H,J)&&(N[J]=H[J])}return N},e=cy(),t=E(e),i=hC(),s=E(i),l=aV(),c=E(l),d=Oh(),p=E(d),m=oV(),_=E(m);function E(N){return N&&N.__esModule?N:{default:N}}function w(N,q){var H={};for(var J in N)q.indexOf(J)>=0||Object.prototype.hasOwnProperty.call(N,J)&&(H[J]=N[J]);return H}var C={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},x=(0,d.forwardRef)(function(N,q){var H=N.bgColor,J=H===void 0?"#FFFFFF":H,Q=N.fgColor,$=Q===void 0?"#000000":Q,te=N.level,F=te===void 0?"L":te,G=N.size,A=G===void 0?256:G,S=N.value,M=w(N,["bgColor","fgColor","level","size","value"]),D=new c.default(-1,s.default[F]);D.addData(S),D.make();var z=D.modules;return p.default.createElement(_.default,n({},M,{bgColor:J,bgD:z.map(function(V,X){return V.map(function(ue,B){return ue?"":"M "+B+" "+X+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:$,fgD:z.map(function(V,X){return V.map(function(ue,B){return ue?"M "+B+" "+X+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:q,size:A,viewBoxSize:z.length}))});return xu.QRCode=x,x.displayName="QRCode",x.propTypes=C,xu.default=x,xu}lV();const uV=DI([{path:"/login",element:I.jsx(s5,{})},{path:"/",element:I.jsx(r5,{}),errorElement:I.jsx("div",{className:"error-page",children:"Ocorreu um erro inesperado."}),children:[{index:!0,element:I.jsx(VT,{})},{path:"dashboard",element:I.jsx(VT,{})},{path:"frota",element:I.jsx(I5,{})},{path:"operacoes",element:I.jsx(j5,{})},{path:"talentos",element:I.jsx(tV,{})}]}]);UR.createRoot(document.getElementById("root")).render(I.jsx(dn.StrictMode,{children:I.jsx(GI,{router:uV})}));
